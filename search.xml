<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Welcome to My Wiki</title>
    <url>/MyWiki/wiki/2021/07/03/index/</url>
    <content><![CDATA[<!-- <center>

<h2>我的云笔记</h2>
</center> -->

<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/bg/suimo.png"></p>
]]></content>
  </entry>
  <entry>
    <title>Linux—error</title>
    <url>/MyWiki/wiki/2022/03/08/linux/Linux_error/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="1-CUDA-driver-version-is-insufficient-for-CUDA-runtime-version"><a href="#1-CUDA-driver-version-is-insufficient-for-CUDA-runtime-version" class="headerlink" title="1. CUDA driver version is insufficient for CUDA runtime version"></a>1. CUDA driver version is insufficient for CUDA runtime version</h3><ul>
<li>NVIDIA GPU的驱动程序版本查看命令：<code>nvidia-smi</code></li>
<li>CUDA runtime version（运行时版本）是在python中安装的cudatoolkit和cudnn程序包的版本</li>
<li>查看命令：pip list</li>
<li>查看cuda当前版本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span>  /usr/local/cuda/version.txt </span><br><span class="line">nvcc -V</span><br></pre></td></tr></table></figure>

<h3 id="2-虚拟机不显示ip地址的解决方法"><a href="#2-虚拟机不显示ip地址的解决方法" class="headerlink" title="2. 虚拟机不显示ip地址的解决方法"></a>2. 虚拟机不显示ip地址的解决方法</h3><ul>
<li>在root下：<code>dhclient -v</code>;或者ubuntu下：<code>sudo dhclient -v</code></li>
<li>然后即可查看ip:<code>ifconfig</code></li>
<li>远程vpn虚拟机ping不通，很有可能是因为虚拟机没有联网。</li>
</ul>
<h3 id="3-“Sorry-Ubuntu-20-04-has-experienced-an-internal-error”"><a href="#3-“Sorry-Ubuntu-20-04-has-experienced-an-internal-error”" class="headerlink" title="3. “Sorry, Ubuntu 20.04 has experienced an internal error”"></a>3. “Sorry, Ubuntu 20.04 has experienced an internal error”</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Screenshot%20from%202021-03-21%2011-29-33.png"></p>
<ul>
<li>解决方法：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> -r /var/crash/*</span><br></pre></td></tr></table></figure>

<h3 id="4-failed-to-start-ssh-service-unit-not-found"><a href="#4-failed-to-start-ssh-service-unit-not-found" class="headerlink" title="4. failed to start ssh.service unit not found"></a>4. <code>failed to start ssh.service unit not found</code></h3><ul>
<li><code>sudo service ssh restart</code>打不开<code>Centos7</code>的<code>ssh</code></li>
<li>是因为<code>service ssh restart</code>是<code>Centos6</code>的命令。<code>Centos7</code>的命令应该是:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl restart sshd</span><br></pre></td></tr></table></figure>

<ul>
<li>参考 [1] <a href="https://blog.csdn.net/wo541075754/article/details/79092281">https://blog.csdn.net/wo541075754/article/details/79092281</a></li>
</ul>
<h3 id="5-GULP-mkgulp编译错误："><a href="#5-GULP-mkgulp编译错误：" class="headerlink" title="5. GULP./mkgulp编译错误："></a>5. GULP<code>./mkgulp</code>编译错误：</h3><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">gfortran: error: unrecognized command <span class="type">line</span> <span class="keyword">option</span> ‘-ffpe-<span class="keyword">summary</span>=invalid,zero</span><br></pre></td></tr></table></figure>
<ul>
<li><p>主要是gcc编译器太老了，更新一下就好；</p>
</li>
<li><p>Cenos7更新方法：</p>
<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line">gcc --version <span class="comment">#查看当前版本</span></span><br><span class="line">sudo yum <span class="keyword">install </span>centos-release-<span class="keyword">scl</span></span><br><span class="line"><span class="keyword"></span>sudo yum <span class="keyword">install </span>devtoolset<span class="number">-7</span>-gcc*</span><br><span class="line"><span class="keyword">scl </span>enable devtoolset<span class="number">-7</span> <span class="keyword">bash</span></span><br><span class="line"><span class="keyword"></span>which gcc</span><br><span class="line">gcc --version <span class="comment">#查看更新后版本</span></span><br></pre></td></tr></table></figure></li>
<li><p>再次编译<code>./mkgulp</code></p>
</li>
<li><p>参考：[1] <a href="https://www.cnblogs.com/Hi-blog/p/How-To-Update-Gcc-On-CentOS7.html">https://www.cnblogs.com/Hi-blog/p/How-To-Update-Gcc-On-CentOS7.html</a></p>
</li>
</ul>
<h3 id="6-Ubuntu-播放不了视频"><a href="#6-Ubuntu-播放不了视频" class="headerlink" title="6. Ubuntu 播放不了视频"></a>6. Ubuntu 播放不了视频</h3><ul>
<li>显示错误：<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">The playback of this movie requires a ITU H.264 decoder plugin which is not installed. ubuntu</span><br></pre></td></tr></table></figure></li>
<li>解决方法：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install libdvdnav4 libdvd-pkg gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly libdvd-pkg</span><br><span class="line">sudo apt install ubuntu-restricted-extras</span><br></pre></td></tr></table></figure></li>
<li>参考：<a href="https://websiteforstudents.com/how-to-enable-ubuntu-18-04-lts-beta-to-play-videos-files/">https://websiteforstudents.com/how-to-enable-ubuntu-18-04-lts-beta-to-play-videos-files/</a></li>
</ul>
<h3 id="7-‘python-r’-No-such-file-or-directory-96"><a href="#7-‘python-r’-No-such-file-or-directory-96" class="headerlink" title="7. ‘python\r’: No such file or directory&#96;"></a>7. ‘python\r’: No such file or directory&#96;</h3><blockquote>
<ul>
<li>在Ubuntu上运行python脚本出现错误：<code>/usr/bin/env: ‘python\r’: No such file or directory</code></li>
<li>直接运行:</li>
</ul>
</blockquote>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">vi</span> +<span class="string">&#x27;:wq ++ff=unix&#x27;</span> pythonfile</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><a href="https://stackoverflow.com/questions/19425857/env-python-r-no-such-file-or-directory">https://stackoverflow.com/questions/19425857/env-python-r-no-such-file-or-directory</a></li>
</ul>
</blockquote>
<h3 id="xxx-不在-sudoers-文件中。此事将被报告"><a href="#xxx-不在-sudoers-文件中。此事将被报告" class="headerlink" title="xxx 不在 sudoers 文件中。此事将被报告"></a>xxx 不在 sudoers 文件中。此事将被报告</h3><blockquote>
<ul>
<li>切换至root用户</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">su  <span class="comment">#or</span></span><br><span class="line">su - root</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>给root用户添加可写权限</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 640 /etc/sudoers</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>修改sudoers</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/sudoers</span><br><span class="line">root ALL=(ALL) ALL <span class="comment">#再此行后添加</span></span><br><span class="line">xxx ALL=(ALL) ALL <span class="comment">#此行</span></span><br><span class="line">esc <span class="comment">#退出</span></span><br><span class="line">:wq <span class="comment">#保存</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>查看验证是否成功</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/sudoers</span><br><span class="line"><span class="built_in">exit</span> </span><br><span class="line">sudo <span class="built_in">cat</span> /etc/sudoers</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>参考</li>
</ul>
</blockquote>
<ul>
<li><a href="https://blog.csdn.net/csdnzouqi/article/details/95499348">https://blog.csdn.net/csdnzouqi/article/details/95499348</a></li>
</ul>
<h3 id="在vmware虚拟机下ubuntu-linux系统重启后不能联网的问题"><a href="#在vmware虚拟机下ubuntu-linux系统重启后不能联网的问题" class="headerlink" title="在vmware虚拟机下ubuntu linux系统重启后不能联网的问题"></a>在vmware虚拟机下ubuntu linux系统重启后不能联网的问题</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /var/lib/NetworkManager/NetworkManager.state <span class="comment"># 查看网络状态文件</span></span><br><span class="line"><span class="comment"># NetworkingEnabled=false</span></span><br><span class="line"><span class="comment"># WirelessEnabled=true</span></span><br><span class="line"><span class="comment"># WWANEnabled=true</span></span><br><span class="line"><span class="comment"># 先停止网络管理服务，删除网络状态文件，再重新启动网络服务即可解决这个问题</span></span><br><span class="line">service NetworkManager stop</span><br><span class="line">sudo <span class="built_in">rm</span> /var/lib/NetworkManager/NetworkManager.state</span><br><span class="line">service NetworkManager start</span><br></pre></td></tr></table></figure>
<ul>
<li><a href="https://blog.csdn.net/morixinguan/article/details/118886890">在vmware虚拟机下ubuntu linux系统重启后不能联网的问题</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux学习</category>
      </categories>
      <tags>
        <tag>Linux学习</tag>
        <tag>Linux error</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows10—Linux—子系统</title>
    <url>/MyWiki/wiki/2022/03/08/linux/Linux_%E5%AD%90%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="Windows10子系统–Linux"><a href="#Windows10子系统–Linux" class="headerlink" title="Windows10子系统–Linux"></a>Windows10子系统–Linux</h1><h2 id="步骤-1-启用适用于-Linux-的-Windows-子系统"><a href="#步骤-1-启用适用于-Linux-的-Windows-子系统" class="headerlink" title="步骤 1 - 启用适用于 Linux 的 Windows 子系统"></a>步骤 1 - 启用适用于 Linux 的 Windows 子系统</h2><ul>
<li><p>需要先启用“适用于 Linux 的 Windows 子系统”可选功能，然后才能在 Windows 上安装 Linux 分发。</p>
</li>
<li><p>以管理员身份打开 PowerShell（“开始”菜单 &gt;“PowerShell”&gt; 单击右键 &gt;“以管理员身份运行”），然后输入以下命令：</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br></pre></td></tr></table></figure>

<h2 id="步骤-2-检查运行-WSL-2-的要求"><a href="#步骤-2-检查运行-WSL-2-的要求" class="headerlink" title="步骤 2 - 检查运行 WSL 2 的要求"></a>步骤 2 - 检查运行 WSL 2 的要求</h2><ul>
<li>若要检查 Windows 版本及内部版本号，选择 Windows 徽标键 + R，然后键入“winver”，选择“确定”。 更新到“设置”菜单中的最新 Windows 版本。</li>
</ul>
<h2 id="步骤-3-启用虚拟机功能"><a href="#步骤-3-启用虚拟机功能" class="headerlink" title="步骤 3 - 启用虚拟机功能"></a>步骤 3 - 启用虚拟机功能</h2><ul>
<li><p>安装 WSL 2 之前，必须启用“虚拟机平台”可选功能。 计算机需要虚拟化功能才能使用此功能。</p>
</li>
<li><p>以管理员身份打开 PowerShell 并运行：</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure>

<h2 id="步骤-4-下载-Linux-内核更新包"><a href="#步骤-4-下载-Linux-内核更新包" class="headerlink" title="步骤 4 - 下载 Linux 内核更新包"></a>步骤 4 - 下载 Linux 内核更新包</h2><ul>
<li><p>下载最新包：</p>
</li>
<li><blockquote>
<p><a href="https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi">适用于 x64 计算机的 WSL2 Linux 内核更新包</a></p>
</blockquote>
</li>
<li><p>运行上一步中下载的更新包。 （双击以运行 - 系统将提示你提供提升的权限，选择“是”以批准此安装。）</p>
</li>
</ul>
<h2 id="步骤-5-将-WSL-2-设置为默认版本"><a href="#步骤-5-将-WSL-2-设置为默认版本" class="headerlink" title="步骤 5 - 将 WSL 2 设置为默认版本"></a>步骤 5 - 将 WSL 2 设置为默认版本</h2><figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">wsl --<span class="keyword">set</span>-<span class="keyword">default</span>-version <span class="number">2</span></span><br></pre></td></tr></table></figure>

<h2 id="步骤-6-安装所选的-Linux-分发"><a href="#步骤-6-安装所选的-Linux-分发" class="headerlink" title="步骤 6 - 安装所选的 Linux 分发"></a>步骤 6 - 安装所选的 Linux 分发</h2><ul>
<li>打开 <a href="https://aka.ms/wslstore">Microsoft Store</a>，并选择你偏好的 Linux 分发版。</li>
<li><blockquote>
<p>单击以下链接会打开每个分发版的 Microsoft Store 页面：<br><a href="https://www.microsoft.com/en-us/p/ubuntu-2004-lts/9n6svws3rx71?rtc=1#activetab=pivot:overviewtab">Ubuntu 20.04 LTS</a><br><img src="https://docs.microsoft.com/zh-cn/windows/wsl/media/ubuntustore.png"></p>
</blockquote>
</li>
<li>在分发版的页面中，选择“获取”。</li>
<li>首次启动新安装的 Linux 分发版时，将打开一个控制台窗口，系统会要求你等待一分钟或两分钟，以便文件解压缩并存储到电脑上。 未来的所有启动时间应不到一秒。</li>
</ul>
<h2 id="创建用户帐户和密码。"><a href="#创建用户帐户和密码。" class="headerlink" title="创建用户帐户和密码。"></a>创建用户帐户和密码。</h2><ul>
<li><blockquote>
<p>使用 WSL 安装 Linux 发行版的过程完成后，使用“开始”菜单打开该发行版（默认情况下为 Ubuntu）。 系统将要求你为 Linux 发行版创建“用户名”和“密码”。</p>
</blockquote>
</li>
<li><blockquote>
<p>此用户名和密码特定于安装的每个单独的 Linux 分发版，与 Windows 用户名无关。</p>
</blockquote>
</li>
<li><blockquote>
<p>创建用户名和密码后，该帐户将是分发版的默认用户，并将在启动时自动登录。</p>
</blockquote>
</li>
<li><blockquote>
<p>此帐户将被视为 Linux 管理员，能够运行 sudo (Super User Do) 管理命令。</p>
</blockquote>
</li>
<li><blockquote>
<p>在 WSL 上运行的每个 Linux 发行版都有其自己的 Linux 用户帐户和密码。 每当添加分发版、重新安装或重置时，都必须配置一个 Linux 用户帐户。</p>
</blockquote>
</li>
</ul>
<h2 id="打开子系统的主目录"><a href="#打开子系统的主目录" class="headerlink" title="打开子系统的主目录"></a>打开子系统的主目录</h2><figure class="highlight erlang"><table><tr><td class="code"><pre><span class="line">explorer.exe .</span><br></pre></td></tr></table></figure>

<h2 id="把子系统-WSL-搬到非系统盘"><a href="#把子系统-WSL-搬到非系统盘" class="headerlink" title="把子系统(WSL)搬到非系统盘"></a>把子系统(WSL)搬到非系统盘</h2><ul>
<li>下载并解压<a href="https://github.com/DDoSolitary/LxRunOffline/releases/tag/v3.5.0">LxRunOffline-v3.5.0-msvc.zip</a></li>
<li>查看安装的子系统<figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">LxRunOffline.exe <span class="type">list</span></span><br></pre></td></tr></table></figure></li>
<li>子系统迁移<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">LxRunOffline</span>.exe move -n Ubuntu-<span class="number">20</span>.<span class="number">04</span> -d D:\Ubuntu</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="子系统访问电脑目录"><a href="#子系统访问电脑目录" class="headerlink" title="子系统访问电脑目录"></a>子系统访问电脑目录</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /mnt</span><br></pre></td></tr></table></figure>

<h2 id="启动、停止WSL"><a href="#启动、停止WSL" class="headerlink" title="启动、停止WSL"></a>启动、停止WSL</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 停止LxssManager服务</span></span><br><span class="line">net stop LxssManager</span><br><span class="line"><span class="comment"># 启动LxssManager服务</span></span><br><span class="line">net start LxssManager</span><br></pre></td></tr></table></figure>

<h1 id="WSL2可视化界面"><a href="#WSL2可视化界面" class="headerlink" title="WSL2可视化界面"></a>WSL2可视化界面</h1><h2 id="WLS2-Ubuntu-Windows远程桌面连接"><a href="#WLS2-Ubuntu-Windows远程桌面连接" class="headerlink" title="WLS2+Ubuntu+Windows远程桌面连接"></a>WLS2+Ubuntu+Windows远程桌面连接</h2><ul>
<li>轻松开启 WSL2 图形界面功能 <a href="https://zhuanlan.zhihu.com/p/382480486">https://zhuanlan.zhihu.com/p/382480486</a></li>
<li>WSL2 Ubuntu图形界面使用指南 <a href="https://blog.csdn.net/liyunxin_c_language/article/details/114107994">https://blog.csdn.net/liyunxin_c_language/article/details/114107994</a></li>
<li><a href="https://blog.csdn.net/u014792301/article/details/106888202">https://blog.csdn.net/u014792301/article/details/106888202</a></li>
<li><a href="https://hub.docker.com/editions/community/docker-ce-desktop-windows/">https://hub.docker.com/editions/community/docker-ce-desktop-windows/</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/150555651">https://zhuanlan.zhihu.com/p/150555651</a></li>
</ul>
<h1 id="WSL2问题与解决方案"><a href="#WSL2问题与解决方案" class="headerlink" title="WSL2问题与解决方案"></a>WSL2问题与解决方案</h1><h2 id="若远程连接不上"><a href="#若远程连接不上" class="headerlink" title="若远程连接不上"></a>若远程连接不上</h2><ul>
<li>检查<code>ip</code>是否正确；</li>
<li>若不是ip问题，在命令行输入以下命令：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install xrdp</span><br><span class="line">sudo apt-get install vnc4server</span><br><span class="line">sudo apt-get install xubuntu-desktop</span><br><span class="line">sudo service xrdp restart <span class="comment">#主要是是这一命令</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="参考的对象类型不支持尝试的操作。"><a href="#参考的对象类型不支持尝试的操作。" class="headerlink" title="参考的对象类型不支持尝试的操作。"></a>参考的对象类型不支持尝试的操作。</h2><ul>
<li><p>打开WSL Terminal后出现：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">参考的对象类型不支持尝试的操作。</span><br><span class="line">[已退出进程，代码为 4294967295]</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决方法：</p>
</li>
</ul>
<blockquote>
<ul>
<li>临时解决：管理员身份打开Windows PowerShell，输入</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">netsh winsock reset</span><br></pre></td></tr></table></figure>

<ul>
<li>永久解决：<blockquote>
<ul>
<li>下载<a href="http://www.proxifier.com/tmp/Test20200228/NoLsp.exe">NoLsp.exe</a>,需要梯子</li>
<li>管理员身份打开Windows PowerShell，输入</li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">.\NoLsp.exe C:\windows\system32\wsl.exe</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>永久解决！！！</li>
</ul>
</blockquote>
<h2 id="WLS2连接不上网络"><a href="#WLS2连接不上网络" class="headerlink" title="WLS2连接不上网络"></a>WLS2连接不上网络</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> /etc/resolv.conf</span><br><span class="line">sudo bash -c <span class="string">&#x27;echo &quot;nameserver 8.8.8.8&quot; &gt; /etc/resolv.conf&#x27;</span></span><br><span class="line">sudo bash -c <span class="string">&#x27;echo &quot;[network]&quot; &gt; /etc/wsl.conf&#x27;</span></span><br><span class="line">sudo bash -c <span class="string">&#x27;echo &quot;generateResolvConf = false&quot; &gt;&gt; /etc/wsl.conf&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>参考：<a href="https://blog.csdn.net/weixin_43577131/article/details/119279749">119279749</a></li>
</ul>
<h1 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h1><ul>
<li><a href="https://docs.microsoft.com/zh-cn/windows/wsl/install-manual">win10安装子系统</a></li>
<li><a href="https://cloud.tencent.com/developer/article/1594940">子系统位置迁移</a></li>
<li><a href="https://docs.microsoft.com/zh-cn/windows/wsl/setup/environment#set-up-your-linux-user-info">设置 WSL 开发环境的最佳做法</a></li>
<li>WSL——windows上的linux子系统 <a href="https://cloud.tencent.com/developer/article/1687414?from=article.detail.1594940">https://cloud.tencent.com/developer/article/1687414?from=article.detail.1594940</a></li>
<li><a href="https://blog.csdn.net/qq_42361881/article/details/121500438">win10启动ubuntu报错 参考的对象类型不支持尝试的操作</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/151392411">关于使用WSL2出现“参考的对象类型不支持尝试的操作”的解决方法。</a></li>
</ul>
<h1 id="其他扩展"><a href="#其他扩展" class="headerlink" title="其他扩展"></a>其他扩展</h1><ul>
<li><a href="https://zhuanlan.zhihu.com/p/357038111">如何用笔记本ssh连接局域网内其他电脑上的wsl2 ubuntu</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/425312804">如何在局域网的其他主机上中访问本机的WSL2</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux学习</category>
      </categories>
      <tags>
        <tag>Linux学习</tag>
        <tag>Windows10 Linux 子系统</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux—Command</title>
    <url>/MyWiki/wiki/2022/03/08/linux/Linux_command/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="空间"><a href="#空间" class="headerlink" title="空间"></a>空间</h3><ul>
<li>查看空间大小：<code>df -h</code>；</li>
<li>查看该目录下文件大小：<code>du -sh *</code></li>
<li>查看该目录大小：<code>du -hs 目录名</code></li>
<li>查看内存使用情况：<code>free -m</code></li>
<li>删除残余的配置文件:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get remove &lt;package-name&gt; <span class="comment">#删除软件包</span></span><br><span class="line">sudo apt-get purge &lt;package-name&gt; <span class="comment">#删除软件包以及配置文件</span></span><br></pre></td></tr></table></figure>

<ul>
<li>找出所删除软件包的残余配置文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dpkg --list | grep <span class="string">&quot;^rc&quot;</span> <span class="comment">#找出所删除软件包的残余配置文件</span></span><br><span class="line">dpkg --list | grep <span class="string">&quot;^rc&quot;</span> | <span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 3 <span class="comment">#提取这些软件包的名称</span></span><br><span class="line">sudo dpkg --purge &lt;package-name&gt; <span class="comment">#只删除某个软件包的配置文件</span></span><br><span class="line">dpkg --list | grep <span class="string">&quot;^rc&quot;</span> | <span class="built_in">cut</span> -d <span class="string">&quot; &quot;</span> -f 3 | xargs sudo dpkg --purge  <span class="comment">#删除所有软件包</span></span><br></pre></td></tr></table></figure>
<ul>
<li>删除没有用的deb软件安装包</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">du</span> -sh /var/cache/apt/archives  <span class="comment">#查看/var/chace/apt/archives目录下deb安装包的总大小</span></span><br><span class="line">sudo apt-get clean <span class="comment">#删除这些deb包</span></span><br><span class="line">sudo apt-get autoclean</span><br></pre></td></tr></table></figure>
<ul>
<li>清理日志文件</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install ncdu <span class="comment">#安装ncdu工具</span></span><br><span class="line">sudo ncdu /var/log <span class="comment">#查看日志文件</span></span><br><span class="line">sudo <span class="built_in">dd</span> <span class="keyword">if</span>=/dev/null of=/var/log/shadowsocks.log  <span class="comment">#清空这个日志文件的内容</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>删除’&#x2F;dev&#x2F;loop0…’文件:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt purge snapd</span><br></pre></td></tr></table></figure>
</li>
<li><p>ubuntu清理缓存</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get autoclean     <span class="comment">#清理旧版本软件缓存</span></span><br><span class="line">sudo apt-get clean         <span class="comment">#清理所有软件缓存</span></span><br><span class="line">sudo apt-get autoremove    <span class="comment">#删除系统不再使用孤立软件</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h3><ul>
<li><p>查看当前的内存使用情况</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">free</span><br><span class="line">free -m |grep <span class="string">&quot;Mem&quot;</span> | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>连续监视内存使用情况</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">watch -d free <span class="comment"># 使用 Ctrl + c 退出</span></span><br></pre></td></tr></table></figure></li>
<li><p>动态显示进程执行情况</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">top</span><br><span class="line">top c</span><br></pre></td></tr></table></figure></li>
<li><p>查看当前有哪些进程</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ps -AFL</span><br></pre></td></tr></table></figure></li>
<li><p>查看当前进程树</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pstree</span><br></pre></td></tr></table></figure></li>
<li><p>中止一个进程</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> 进程号(就是ps -A中的第一列的数字)</span><br><span class="line">killall 进程名</span><br><span class="line"><span class="comment"># 或者强制中止一个进程</span></span><br><span class="line"><span class="built_in">kill</span> -9 进程号</span><br><span class="line">killall -9 进程名</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="文件-x2F-文件夹权限"><a href="#文件-x2F-文件夹权限" class="headerlink" title="文件&#x2F;文件夹权限"></a>文件&#x2F;文件夹权限</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">chmod</span> 600 ××× （只有所有者有读和写的权限）</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">chmod</span> 644 ××× （所有者有读和写的权限，组用户只有读的权限）</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">chmod</span> 700 ××× （只有所有者有读和写以及执行的权限）</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">chmod</span> 666 ××× （每个人都有读和写的权限）</span><br><span class="line"></span><br><span class="line">sudo <span class="built_in">chmod</span> 777 ××× （每个人都有读和写以及执行的权限）</span><br></pre></td></tr></table></figure>


<h3 id="文件-x2F-文件夹"><a href="#文件-x2F-文件夹" class="headerlink" title="文件&#x2F;文件夹"></a>文件&#x2F;文件夹</h3><ul>
<li><p>创建单个文件：<code>touch file1.txt</code></p>
</li>
<li><p>创建多个文件：<code>touch file1.txt file2.txt file3.txt</code></p>
</li>
<li><p>创建文件夹：<code>mkdir filename</code>；</p>
</li>
<li><p>还可以同时创建两个文件夹：<code>mkdir file1 file2</code>；</p>
</li>
<li><p>创建一个包含路径的文件夹：<code>mkdir -p /home/file/file1</code></p>
</li>
<li><p>删除文件；<code>rm -f filename</code></p>
</li>
<li><p>删除空文件夹：<code>rmdir foldername</code>；</p>
</li>
<li><p>删除有文件的文件夹：<code>rm -rf foldername</code>；</p>
</li>
<li><p>同时删除两个有文件的文件夹：<code>rm -rf folder1 folder2</code>；</p>
</li>
<li><p>返回上一级目录：<code>cd ..</code>；</p>
</li>
<li><p>显示当前工作路径：<code>pwd</code>；</p>
</li>
<li><p>查看当前目录中的文件&#x2F;文件夹<code>ls</code>；</p>
</li>
<li><p>复制一个目录到另一个目录下:<code>cp -r dir1 dir2</code></p>
</li>
<li><p>显示隐藏文件夹：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ctrl h <span class="comment">#快捷键</span></span><br><span class="line"><span class="built_in">ls</span> -a <span class="comment">#命令</span></span><br></pre></td></tr></table></figure></li>
<li><p>对比两个文件之间的差异</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">diff file1 file2</span><br></pre></td></tr></table></figure></li>
<li><p>查看文件类型</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">file filename</span><br></pre></td></tr></table></figure></li>
<li><p>把所有文件的后辍由rm改为rmvb</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rename <span class="string">&#x27;s/.rm$/.rmvb/&#x27;</span> *</span><br></pre></td></tr></table></figure></li>
<li><p>把所有文件名中的大写改为小写</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rename <span class="string">&#x27;tr/A-Z/a-z/&#x27;</span> *</span><br></pre></td></tr></table></figure>
</li>
<li><p>更多参考：[1] <a href="https://www.cnblogs.com/yjd_hycf_space/p/7730690.html">https://www.cnblogs.com/yjd_hycf_space/p/7730690.html</a></p>
</li>
</ul>
<h3 id="解压-x2F-压缩"><a href="#解压-x2F-压缩" class="headerlink" title="解压&#x2F;压缩"></a>解压&#x2F;压缩</h3><ul>
<li><p>解压&#x2F;压缩<code>filename.tar.gz</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf filename.tar.gz <span class="comment"># 解压</span></span><br><span class="line">tar -zcvf xxx.tar.gz aaa bbb <span class="comment"># 压缩 aaa bbb目录为xxx.tar.gz </span></span><br><span class="line">tar -jcvf xxx.tar.bz2 aaa bbb <span class="comment"># 压缩 aaa bbb目录为xxx.tar.bz2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解压&#x2F;压缩<code>&quot;filename.zip&quot;</code>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unzip filename.zip <span class="comment"># 解压缩</span></span><br><span class="line">unzip filename.zip -d filefolder <span class="comment"># 解压到指定文件夹filefolder</span></span><br><span class="line">zip -r filename.zip /home/xxx/filename <span class="comment"># 将 /home/xxx/filename目录文件夹压缩为filename.zip</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>解压part1.rar、part2.rar、part3.rar等：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rar e filename.part1.rar <span class="comment"># 解压到当前文件夹</span></span><br><span class="line">unrar x  filename.rar  filefolder <span class="comment"># 解压到指定文件夹</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="root"><a href="#root" class="headerlink" title="root"></a>root</h3><ul>
<li>开启root：<code>su</code></li>
<li>退出root：<code>exit</code></li>
<li>或者快捷键退出：<code>ctrl+D</code></li>
<li>而另一种方法:<code>logout</code>则出现错误:<code>bash: logout: not login shell: use &quot;exit&quot;</code></li>
<li>修改root密码：<code>sudo passwd root</code></li>
</ul>
<h3 id="开启ssh"><a href="#开启ssh" class="headerlink" title="开启ssh:"></a>开启ssh:</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install openssh-server</span><br><span class="line">service ssh start</span><br></pre></td></tr></table></figure>

<h3 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h3><ul>
<li><p>查看已设环境变量:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="variable">$PATH</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设置临时环境变量:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">PATH=/usr/local/.../bin:<span class="variable">$PATH</span>;<span class="built_in">export</span> PATH</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置永久环境变量: </p>
</li>
<li><p>root后在<code>/etc/profile</code>文件或者<code>~/.brashrc</code>文件添加环境变量；</p>
</li>
<li><p>例如：</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/mpich-3.3.2/bin:<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>设置永久环境变量具体操作：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/profile</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/usr/local/mpich-3.3.2/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line">Esc <span class="comment">#（键盘）</span></span><br><span class="line">:wq <span class="comment">#或（快捷键）shift+ZZ 保存并退出；</span></span><br><span class="line">:q <span class="comment">#不保存退出</span></span><br><span class="line">:q! <span class="comment">#强制退出</span></span><br><span class="line"><span class="built_in">source</span> /etc/profile<span class="comment">#(使生效)</span></span><br></pre></td></tr></table></figure>

<h3 id="conda启动与关闭"><a href="#conda启动与关闭" class="headerlink" title="conda启动与关闭"></a>conda启动与关闭</h3><ul>
<li>启动：<code>conda activate</code></li>
<li>关闭：<code>conda deactivate</code></li>
<li>关闭自动开启base:<code>conda config --set auto_activate_base false</code></li>
</ul>
<h3 id="Linux查看cpu信息"><a href="#Linux查看cpu信息" class="headerlink" title="Linux查看cpu信息"></a>Linux查看cpu信息</h3><ul>
<li>查看内核：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">uname</span> -r</span><br></pre></td></tr></table></figure>

<ul>
<li>查看Ubuntu版本，三种：</li>
</ul>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cat <span class="regexp">/etc/i</span>ssue</span><br><span class="line">cat <span class="regexp">/etc/</span>lsb-release</span><br><span class="line">lsb_release -dsc</span><br></pre></td></tr></table></figure>



<ul>
<li><code>Linux</code>查看<code>cpu</code>总数，在<code>top</code>后的界面按1，</li>
<li>或者：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/cpuinfo</span><br><span class="line"><span class="built_in">cat</span> /proc/cpuinfo | grep processor</span><br></pre></td></tr></table></figure>
<ul>
<li>查看进程绝对路径</li>
</ul>
<figure class="highlight coq"><table><tr><td class="code"><pre><span class="line"><span class="built_in">top</span> c</span><br></pre></td></tr></table></figure>

<ul>
<li>显示硬件信息：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo lshw</span><br></pre></td></tr></table></figure>



<h3 id="在linux启动和终止matlab"><a href="#在linux启动和终止matlab" class="headerlink" title="在linux启动和终止matlab"></a>在linux启动和终止matlab</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">matlab -nodesktop -nosplash -r matlabfile(parameters)</span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>

<h3 id="Linux关闭开启防火墙"><a href="#Linux关闭开启防火墙" class="headerlink" title="Linux关闭开启防火墙"></a>Linux关闭开启防火墙</h3><ul>
<li><p>Centos7 </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">systemctl status firewalld.service <span class="comment">#查看状态</span></span><br><span class="line">systemctl stop firewalld.service   <span class="comment">#停止防火墙，但重启后会自动开启</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service <span class="comment">#关闭防火墙</span></span><br><span class="line">systemctl start firewalld.service  <span class="comment">#打开防火墙</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Ubuntu</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install ufw <span class="comment">#安装防火墙</span></span><br><span class="line">sudo ufw <span class="built_in">enable</span> <span class="comment">#打开防火墙</span></span><br><span class="line">sudo ufw <span class="built_in">disable</span> <span class="comment">#关闭防火墙</span></span><br><span class="line">sudo ufw reload <span class="comment">#重启防火墙</span></span><br><span class="line">sudo ufw status <span class="comment">#查看本机端口使用情况</span></span><br><span class="line">sudo ufw allow 9000 <span class="comment">#打开指定端口</span></span><br><span class="line">sudo ufw delete allow 9000 <span class="comment">#关闭指定端口</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="终端连接另一台主机"><a href="#终端连接另一台主机" class="headerlink" title="终端连接另一台主机"></a>终端连接另一台主机</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh root@另一台主机ip</span><br><span class="line"><span class="comment">#例如：</span></span><br><span class="line">ssh root@111.111.11.11</span><br><span class="line"><span class="comment">#然后按提示输入该主机root密码即可</span></span><br><span class="line"><span class="built_in">exit</span> <span class="comment">#退出</span></span><br></pre></td></tr></table></figure>

<h3 id="卸载cuda"><a href="#卸载cuda" class="headerlink" title="卸载cuda"></a>卸载cuda</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span>  /usr/local/cuda/bin</span><br><span class="line">sudo ./uninstall_cuda_x.x.pl </span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">sudo ./cuda-uninstaller</span><br></pre></td></tr></table></figure>
<h3 id="VIM命令"><a href="#VIM命令" class="headerlink" title="VIM命令"></a>VIM命令</h3><ul>
<li><a href="https://yelog.org/2017/03/06/Vim-command/">https://yelog.org/2017/03/06/Vim-command/</a></li>
</ul>
<h3 id="安装与卸载命令"><a href="#安装与卸载命令" class="headerlink" title="安装与卸载命令"></a>安装与卸载命令</h3><ul>
<li><p>deb类型</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo dpkg -i xxx-1.2.deb <span class="comment">#安装</span></span><br><span class="line">sudo dpkg -e xxx         <span class="comment">#卸载</span></span><br><span class="line">sudo dpkg –l <span class="string">&#x27;*xxx*&#x27;</span>     <span class="comment">#查询</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>rpm类型</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo rpm -ivh xxx-1.2.rpm <span class="comment">#安装</span></span><br><span class="line">sudo rpm -e xxx           <span class="comment">#卸载</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>tar.gz类型一般安装方式</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf xxx.tar.gz <span class="comment">#解压</span></span><br><span class="line"><span class="built_in">cd</span> xxx</span><br><span class="line">./configure</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Ubuntu更新谷歌浏览器"><a href="#Ubuntu更新谷歌浏览器" class="headerlink" title="Ubuntu更新谷歌浏览器"></a>Ubuntu更新谷歌浏览器</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb</span><br><span class="line">sudo dpkg -i google-chrome*</span><br><span class="line">sudo apt-get install -f</span><br></pre></td></tr></table></figure>

<h3 id="配置你的-csh-x2F-tcsh"><a href="#配置你的-csh-x2F-tcsh" class="headerlink" title="配置你的 csh&#x2F;tcsh"></a>配置你的 csh&#x2F;tcsh</h3><blockquote>
<ul>
<li><a href="https://blog.csdn.net/Augusdi/article/details/42679271?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.no_search_link&spm=1001.2101.3001.4242">https://blog.csdn.net/Augusdi/article/details/42679271?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_baidulandingword~default-0.no_search_link&amp;spm=1001.2101.3001.4242</a></li>
</ul>
</blockquote>
<h3 id="Ubuntu自带的资源管理器："><a href="#Ubuntu自带的资源管理器：" class="headerlink" title="Ubuntu自带的资源管理器："></a>Ubuntu自带的资源管理器：</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gnome-system-monitor</span><br></pre></td></tr></table></figure>

<h3 id="调出Ubuntu信息界面"><a href="#调出Ubuntu信息界面" class="headerlink" title="调出Ubuntu信息界面"></a>调出Ubuntu信息界面</h3><ul>
<li>调出Ubuntu信息界面<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">neofetch</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="查看文件时间"><a href="#查看文件时间" class="headerlink" title="查看文件时间"></a>查看文件时间</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ll -h</span><br></pre></td></tr></table></figure>
<h3 id="git-clone分支"><a href="#git-clone分支" class="headerlink" title="git clone分支"></a>git clone分支</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># git clone -branch branch name --single-branch repo_url /foldername</span></span><br><span class="line">git <span class="built_in">clone</span> -b gh-pages --single-branch https://github.com/eastsheng</span><br><span class="line">/MyWikiSite.git wwwroot</span><br></pre></td></tr></table></figure>

<h3 id="显示日历-x2F-时间"><a href="#显示日历-x2F-时间" class="headerlink" title="显示日历&#x2F;时间"></a>显示日历&#x2F;时间</h3><ul>
<li>显示日历</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">cal <span class="comment"># 显示当月日历</span></span><br><span class="line">cal 11 2022 <span class="comment"># 显示2007年2月的日历</span></span><br></pre></td></tr></table></figure>

<ul>
<li>显示系统运行时间</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">uptime</span></span><br></pre></td></tr></table></figure>



<h3 id="Ubuntu安装无线网卡驱动"><a href="#Ubuntu安装无线网卡驱动" class="headerlink" title="Ubuntu安装无线网卡驱动"></a>Ubuntu安装无线网卡驱动</h3><ul>
<li><p>查看Ubuntu网卡型号</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lspci</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">lspci -nnk | grep -i net</span><br></pre></td></tr></table></figure>
</li>
<li><p>内核版本查看命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">uname</span> -sr </span><br></pre></td></tr></table></figure>
</li>
<li><p>下载驱动：<a href="https://www.intel.cn/content/www/cn/zh/support/articles/000005511/wireless.html">英特尔®无线适配器的 Linux* 支持</a></p>
</li>
<li><p>解压、复制：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar  -zxvf  下载的驱动的名字.tgz</span><br><span class="line"><span class="built_in">cd</span> 下载的驱动的名字</span><br><span class="line">sudo <span class="built_in">cp</span> iwlwifi-*.ucode /lib/firmware</span><br></pre></td></tr></table></figure>
</li>
<li><p>重启</p>
</li>
<li><p>重启不行的话，删除firmware中后缀为pnvm的文件再重启</p>
</li>
<li><p>参考：<a href="https://blog.csdn.net/baidu_41816106/article/details/121648139">https://blog.csdn.net/baidu_41816106/article/details/121648139</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_41969790/article/details/103222251">Ubuntu上不了网：ifconfig查看只有lo,没有ens33问题解决参考方法</a>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">rm</span> -rf /var/lib/NetworkManager/NetworkManager.state </span><br><span class="line">sudo dhclient ens33</span><br><span class="line">sudo ifconfig ens33</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="screen后台运行工具"><a href="#screen后台运行工具" class="headerlink" title="screen后台运行工具"></a>screen后台运行工具</h3><h4 id="后台提交lammps任务命令"><a href="#后台提交lammps任务命令" class="headerlink" title="后台提交lammps任务命令"></a>后台提交lammps任务命令</h4><ul>
<li><p>直接提交，界面不能关闭，关闭后就结束了：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mpirun -np 4 lmp_mpi -i in.lammpsinputfile</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用screen工具后台运行：</p>
<ul>
<li><p>状态介绍：</p>
<ul>
<li><em><strong>Attached</strong></em>：表示当前screen正在作为主终端使用，为活跃状态。</li>
<li><em><strong>Detached</strong></em>：表示当前screen正在后台使用，为非激发状态。</li>
</ul>
</li>
<li><p>基础命令（区分大小写）：</p>
<ul>
<li>查看已提交任务列表</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">screen -<span class="built_in">ls</span></span><br></pre></td></tr></table></figure>

<p><img src="https://ask.qcloudimg.com/http-save/yehe-7704194/33a6a15c8255e2ee0aab99e86a7c1821.png?imageView2/2/w/2560/h/7000"></p>
<ul>
<li>查看帮助</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">screen -<span class="built_in">help</span></span><br></pre></td></tr></table></figure>

<p><img src="https://ask.qcloudimg.com/http-save/yehe-7704194/29209af6dacec5783cad7c08d8ca0c76.png?imageView2/2/w/2560/h/7000"></p>
<ul>
<li>提交一个后台运行的lammps任务</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">screen -S Hello <span class="comment"># 新建名为Hello的窗口</span></span><br><span class="line">mpirun -np 4 lmp_mpi -i in.lammpsinputfile <span class="comment"># 再窗口内提交LAMMPS任务</span></span><br><span class="line">ctrl -a d <span class="comment"># 输入后可关闭窗口，任务后台运行</span></span><br><span class="line">screen -r [pid/name] <span class="comment">#可重新回到运行窗口,pid/name：为虚拟终端PID或Name</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>其中：32307为PID，tool为Name</li>
</ul>
<p><img src="https://ask.qcloudimg.com/http-save/yehe-7704194/6012d3712d579cada9fa2e8ee9c49962.png?imageView2/2/w/2560/h/7000"></p>
</li>
<li><p>删除任务：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">kill</span> -9 [name] <span class="comment"># 删除任务</span></span><br><span class="line">screen -wipe [name] <span class="comment"># 清理任务</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="参考文章："><a href="#参考文章：" class="headerlink" title="参考文章："></a>参考文章：</h4><ul>
<li><a href="https://cloud.tencent.com/developer/article/1844735">[1] Linux终端命令神器–Screen命令详解。助力Linux使用和管理</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux学习</category>
      </categories>
      <tags>
        <tag>Linux学习</tag>
        <tag>Linux—Command</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu手动搭建Web服务器</title>
    <url>/MyWiki/wiki/2022/06/08/linux/WebServer/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="使用Ubuntu手动搭建Web服务器"><a href="#使用Ubuntu手动搭建Web服务器" class="headerlink" title="使用Ubuntu手动搭建Web服务器"></a>使用Ubuntu手动搭建Web服务器</h2><h3 id="安装Apache2"><a href="#安装Apache2" class="headerlink" title="安装Apache2"></a>安装Apache2</h3><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> install apache2</span><br></pre></td></tr></table></figure>
<ul>
<li>然后即可打开刘浏览器访问<code>127.0.0.1</code>或Ubuntu ip地址</li>
</ul>
<h3 id="安装MySQL"><a href="#安装MySQL" class="headerlink" title="安装MySQL"></a>安装MySQL</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install mysql-server</span><br><span class="line">sudo apt-get install mysql-client</span><br><span class="line">sudo apt-get install libmysqlclient-dev</span><br></pre></td></tr></table></figure>
<ul>
<li>检查是否安装成功：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo netstat -tap | grep mysql</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="启动Mysql失败"><a href="#启动Mysql失败" class="headerlink" title="启动Mysql失败"></a>启动Mysql失败</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can‘t connect to <span class="built_in">local</span> MySQL server through socket ‘/tmp/mysql.sock</span><br></pre></td></tr></table></figure>
<ul>
<li>找不到<code>mysql.sock</code>文件位置</li>
<li>执行下面命令:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cat</span> /etc/mysql/debian.cnf </span><br></pre></td></tr></table></figure></li>
<li>即可找到：<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Automatically generated for Debian scripts. DO NOT TOUCH!</span></span><br><span class="line"><span class="section">[client]</span></span><br><span class="line"><span class="attr">host</span>     = localhost</span><br><span class="line"><span class="attr">user</span>     = debian-sys-maint</span><br><span class="line"><span class="attr">password</span> = QtryCctbOk7ZV2nl</span><br><span class="line"><span class="attr">socket</span>   = /var/run/mysqld/mysqld.sock</span><br><span class="line"><span class="section">[mysql_upgrade]</span></span><br><span class="line"><span class="attr">host</span>     = localhost</span><br><span class="line"><span class="attr">user</span>     = debian-sys-maint</span><br><span class="line"><span class="attr">password</span> = QtryCctbOk7ZV2nl</span><br><span class="line"><span class="attr">socket</span>   = /var/run/mysqld/mysqld.sock</span><br></pre></td></tr></table></figure></li>
<li>并在<code>my.cnf</code>中修改<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim /etc/my.cnf</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="安装PHP"><a href="#安装PHP" class="headerlink" title="安装PHP"></a>安装PHP</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install software-properties-common</span><br><span class="line">sudo add-apt-repository ppa:ondrej/php &amp;&amp; sudo apt-get update</span><br><span class="line">sudo apt-get -y install php7.2</span><br></pre></td></tr></table></figure>

<ul>
<li>常用拓展</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get -y install php7.2-fpm php7.2-mysql php7.2-curl php7.2-json php7.2-mbstring php7.2-xml  php7.2-intl php7.2-odbc php7.2-cgi</span><br></pre></td></tr></table></figure>

<h3 id="展示PHP网页"><a href="#展示PHP网页" class="headerlink" title="展示PHP网页"></a>展示PHP网页</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /var/www/html</span><br><span class="line"><span class="built_in">ls</span>    <span class="comment">#列出当前目录下只有一个index.html文件</span></span><br><span class="line"><span class="built_in">rm</span> index.html    <span class="comment">#删掉index.html</span></span><br><span class="line"><span class="built_in">echo</span> Hello World! &gt; index.php</span><br></pre></td></tr></table></figure>


<ul>
<li>ref :<a href="https://www.cnblogs.com/shenjuxian/p/13739100.html">https://www.cnblogs.com/shenjuxian/p/13739100.html</a></li>
<li>配置网页1：<a href="https://www.cnblogs.com/supe/p/8010612.html">https://www.cnblogs.com/supe/p/8010612.html</a></li>
<li><a href="https://blog.csdn.net/weixin_39212776/article/details/81192847?spm=1001.2101.3001.6650.1&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-81192847-blog-119863838.pc_relevant_paycolumn_v3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-1-81192847-blog-119863838.pc_relevant_paycolumn_v3&utm_relevant_index=2">配置网页2：</a></li>
</ul>
<h2 id="使用PHPstudy搭建"><a href="#使用PHPstudy搭建" class="headerlink" title="使用PHPstudy搭建"></a>使用PHPstudy搭建</h2><h3 id="Ubuntu安装PHPstudy"><a href="#Ubuntu安装PHPstudy" class="headerlink" title="Ubuntu安装PHPstudy"></a>Ubuntu安装PHPstudy</h3><ul>
<li>安装命令<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget -O install.sh https://download.xp.cn/install.sh &amp;&amp; sudo bash install.sh</span><br></pre></td></tr></table></figure></li>
<li>安装成功</li>
<li>实验室</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">==============运行状态=========================</span><br><span class="line"></span><br><span class="line">docker daemon running</span><br><span class="line">centos_env container running</span><br><span class="line">webpanel running</span><br><span class="line">phpstudy running</span><br><span class="line"></span><br><span class="line">=================安装完成==================</span><br><span class="line"></span><br><span class="line">请用浏览器访问面板:</span><br><span class="line">外网:http://xxx.xx.xxx.xxx:9080/E112FE</span><br><span class="line">内网:http://xxx.xx.xx.xx:9080/E112FE</span><br><span class="line">系统初始账号:admin</span><br><span class="line">系统初始密码:xxxxxxxxxx</span><br><span class="line">官网:https://www.xp.cn</span><br><span class="line">如果使用的是云服务器，请至安全组开放9080端口</span><br><span class="line">如果使用ftp，请开放21以及30000-30050端口</span><br><span class="line"></span><br><span class="line">===========================================</span><br></pre></td></tr></table></figure>
<ul>
<li>笔记本</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">==============运行状态=========================</span><br><span class="line"></span><br><span class="line">docker daemon running</span><br><span class="line">centos_env container running</span><br><span class="line">webpanel running</span><br><span class="line">phpstudy running</span><br><span class="line"></span><br><span class="line">=================安装完成==================</span><br><span class="line"></span><br><span class="line">请用浏览器访问面板:</span><br><span class="line">外网:http://xxx.xx.xxx.xxx:9080/E112FE</span><br><span class="line">内网:http://xxx.xx.xx.xx:9080/E112FE</span><br><span class="line">系统初始账号:admin</span><br><span class="line">系统初始密码:xxxxxxxxxx</span><br><span class="line">官网:https://www.xp.cn</span><br><span class="line">如果使用的是云服务器，请至安全组开放9080端口</span><br><span class="line">如果使用ftp，请开放21以及30000-30050端口</span><br><span class="line"></span><br><span class="line">===========================================</span><br></pre></td></tr></table></figure>

<h3 id="使用PHPstudy"><a href="#使用PHPstudy" class="headerlink" title="使用PHPstudy"></a>使用PHPstudy</h3><ul>
<li><blockquote>
<p>安装完成后可以在<code>ssh</code>工具中使用 <code>xp</code> 命令，来查看，面板状态，重启，关闭，修改面板密码，查看面板密码等。</p>
</blockquote>
</li>
<li><blockquote>
<p>另外如果你是专业人员，可以在ssh工具中输入 <code>phpstudy</code> 也会显示<code>phpstudy</code>常用 的命令</p>
</blockquote>
</li>
<li><blockquote>
<p><img src="https://img.xp.cn/upload/image/545/693/122/1571284607234622.png"></p>
</blockquote>
</li>
<li><p><a href="https://m.xp.cn/linux.html#install-show">Ref 1</a></p>
</li>
<li><p><a href="https://www.cnblogs.com/ycx95/p/12122178.html">Ref 2</a></p>
</li>
<li><p><a href="https://www.xp.cn/phpstudy-linux/install.html">Ref 3</a></p>
</li>
</ul>
<h3 id="访问所配置的域名"><a href="#访问所配置的域名" class="headerlink" title="访问所配置的域名"></a>访问所配置的域名</h3><ul>
<li>需要在所使用电脑，例如windows<code>(C:\Windows\System32\drivers\etc\hosts)</code>中添加<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="selector-id">#ip</span>              域名</span><br><span class="line">xxx<span class="selector-class">.xx</span><span class="selector-class">.xxx</span><span class="selector-class">.xx</span>    www<span class="selector-class">.xxx</span>.com</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="内网穿透"><a href="#内网穿透" class="headerlink" title="内网穿透"></a>内网穿透</h3><h4 id="花生壳"><a href="#花生壳" class="headerlink" title="花生壳"></a>花生壳</h4><ul>
<li><p>安装花生壳</p>
</li>
<li><p>Ubuntu版安装命令：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget <span class="string">&quot;https://down.oray.com/hsk/linux/phddns_5.2.0_amd64.deb&quot;</span> -O phddns_5.2.0_amd64.deb</span><br><span class="line">sudo dpkg -i phddns_5.2.0_amd64.deb</span><br></pre></td></tr></table></figure></li>
<li><p>安装成功</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">+--------------------------------------------------+</span><br><span class="line">|             Oray PeanutHull Linux 5.2.0          |</span><br><span class="line">+--------------------------------------------------+</span><br><span class="line">|  SN: xxxxxxxxxxxx   Default password: admin  |</span><br><span class="line">+--------------------------------------------------+</span><br><span class="line">|    Remote Management Address http://b.oray.com   |</span><br><span class="line">+--------------------------------------------------+</span><br></pre></td></tr></table></figure></li>
<li><p>功能</p>
</li>
<li><p><img src="https://upload-cdn.orayimg.com/upload/help/2008/202008241841111211.png"></p>
<figure class="highlight coq"><table><tr><td class="code"><pre><span class="line">phddns start（启动）| <span class="type">status</span>（状态）| <span class="type">stop</span>（停止）|<span class="type">restart</span>（重启）| <span class="type">reset</span>（重置）|<span class="type">enable</span>（开机自启动）|<span class="type">disable</span>（关闭开机自启动）|<span class="type">version</span>（版本）**</span><br></pre></td></tr></table></figure>

</li>
<li><p>浏览器访问<a href="http://b.oray.com/">http://b.oray.com</a> ，输入花生壳Linux 5.0在安装时产生SN码与默认登录密码admin登录。</p>
</li>
<li><p>参考：<a href="https://service.oray.com/question/11630.html">11630.html</a></p>
</li>
<li><p><a href="https://blog.csdn.net/lyh458/article/details/107834282">107834282</a></p>
</li>
</ul>
<h4 id="cpolar"><a href="#cpolar" class="headerlink" title="cpolar"></a><a href="https://www.cpolar.com/">cpolar</a></h4><ul>
<li><a href="https://www.cpolar.com/docs">文档</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux学习</category>
      </categories>
      <tags>
        <tag>Linux学习</tag>
        <tag>Ubuntu手动搭建Web服务器</tag>
      </tags>
  </entry>
  <entry>
    <title>在 Ubuntu 上安装和创建 MySQL 数据库</title>
    <url>/MyWiki/wiki/2023/08/29/linux/MySQL-1/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="打开终端输入以下命令"><a href="#打开终端输入以下命令" class="headerlink" title="打开终端输入以下命令"></a>打开终端输入以下命令</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line">sudo apt install mysql-server</span><br></pre></td></tr></table></figure>

<h3 id="启动与关闭"><a href="#启动与关闭" class="headerlink" title="启动与关闭"></a>启动与关闭</h3><ul>
<li>启动 MySQL 服务：安装完成后，MySQL 服务会自动启动，但你可以使用以下命令手动启动和关闭它：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service mysql start</span><br><span class="line">sudo service mysql stop</span><br></pre></td></tr></table></figure>

<ul>
<li>验证 MySQL 是否已停止：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo service mysql status</span><br></pre></td></tr></table></figure>

<h3 id="创建root用户的密码"><a href="#创建root用户的密码" class="headerlink" title="创建root用户的密码"></a>创建root用户的密码</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysqladmin -u root password <span class="string">&quot;new_password&quot;</span>;</span><br></pre></td></tr></table></figure>

<h3 id="设置-MySQL-安全性"><a href="#设置-MySQL-安全性" class="headerlink" title="设置 MySQL 安全性"></a>设置 MySQL 安全性</h3><ul>
<li>执行下面的命令来进行 MySQL 安全性设置:</li>
</ul>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sudo mysql_secure_installation</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>将引导你完成一些基本的 MySQL 安全设置，例如设置 root 密码、删除匿名用户、禁用 root 远程登录等.</p>
</blockquote>
<h3 id="连接到-MySQL-服务器"><a href="#连接到-MySQL-服务器" class="headerlink" title="连接到 MySQL 服务器"></a>连接到 MySQL 服务器</h3><ul>
<li>输入以下命令进入一个 MySQL 控制台提示符：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo mysql</span><br></pre></td></tr></table></figure>

<ul>
<li>退出：</li>
</ul>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure>

<h3 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h3><ul>
<li>进入MySQL 控制台提示符后，输入以下命令建一个名为 <code>database_name</code> 的数据库：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CREATE DATABASE database_name; <span class="comment"># 注意有分号</span></span><br></pre></td></tr></table></figure>

<ul>
<li>查看数据库：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">SHOW DATABASES; <span class="comment"># 注意有分号</span></span><br></pre></td></tr></table></figure>



<h3 id="登录MySQL"><a href="#登录MySQL" class="headerlink" title="登录MySQL"></a>登录MySQL</h3><ul>
<li>远程登录：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -h 主机名 -u 用户名 -p</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><strong>-h</strong> : 指定客户端所要登录的 MySQL 主机名, 登录本机(localhost 或 127.0.0.1)该参数可以省略;</li>
<li><strong>-u</strong> : 登录的用户名;</li>
<li><strong>-p</strong> : 告诉服务器将会使用一个密码来登录, 如果所要登录的用户名密码为空, 可以忽略此选项。</li>
</ul>
</blockquote>
<ul>
<li>本地登录：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>



<h3 id="在MySQL中创建用户"><a href="#在MySQL中创建用户" class="headerlink" title="在MySQL中创建用户"></a>在MySQL中创建用户</h3><ol>
<li>首先，使用root用户登录到MySQL：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在MySQL命令提示符下，运行以下命令以创建一个新用户（假设要创建的用户名为’newuser’）：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">CREATE USER <span class="string">&#x27;newuser&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> IDENTIFIED BY <span class="string">&#x27;password&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>根据实际需求替换用户名和密码。</p>
</blockquote>
<ol start="3">
<li>授予新用户适当的权限。您可以使用以下命令授予新用户完全的权限：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">GRANT ALL PRIVILEGES ON *.* TO <span class="string">&#x27;newuser&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果您只想给予新用户特定数据库的权限，可以将<code>*.*</code>替换为数据库名称，比如<code>mydatabase.*</code>。</p>
</blockquote>
<ol start="4">
<li>最后，刷新MySQL的权限表以使更改生效：</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FLUSH PRIVILEGES;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Linux学习</category>
      </categories>
      <tags>
        <tag>Linux学习</tag>
        <tag>Linux error</tag>
      </tags>
  </entry>
  <entry>
    <title>虚拟机扩容</title>
    <url>/MyWiki/wiki/2021/02/28/linux/linux_%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%89%A9%E5%AE%B9/</url>
    <content><![CDATA[<h3 id="1-VMware虚拟机虚拟硬盘扩展"><a href="#1-VMware虚拟机虚拟硬盘扩展" class="headerlink" title="1. VMware虚拟机虚拟硬盘扩展"></a>1. VMware虚拟机虚拟硬盘扩展</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/xuniji.PNG"></p>
<ul>
<li>虚拟机关机情况下，打开<code>虚拟机&gt;设置&gt;硬盘</code>；</li>
<li>点击右侧<code>磁盘实用工具</code>下方<code>扩展</code>，输入磁盘大小，点击扩展;</li>
<li><code>注意，谨慎操作，貌似虚拟盘只能增大，往小了改的话好像很困难，我是实现不了</code>;</li>
<li>耐心等……</li>
</ul>
<h3 id="2-在Ubuntu虚拟机中分配内存"><a href="#2-在Ubuntu虚拟机中分配内存" class="headerlink" title="2. 在Ubuntu虚拟机中分配内存"></a>2. 在Ubuntu虚拟机中分配内存</h3><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/xuniji2.png" height="500" width="500"/>

<ul>
<li>目前只是把内存给了虚拟机，就像是给电脑增加了个硬盘，但是，是未分配状态，因此需要分配空间;</li>
<li>打开虚拟机，在终端使用：<code>sudo apt-get install gparted</code>安装磁盘分区软件<code>GParted</code>，打开<code>GParted</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/xuniji3.png"></p>
<ul>
<li>可以看到一个<code>unallocated</code>的内存空间，右键所要扩容的一级磁盘<code>/dev/sda1</code>，点击<code>Resize/Move</code>，将进度条拉到最右边，点击<code>Resize</code>，相同方法操作二级磁盘，再点击上方绿色对勾√；</li>
<li>比如，这只有两个盘，一个系统盘<code>/dev/sda1</code>和一个空间盘<code>/dev/sda2</code>，我们要扩容给空间盘<code>/dev/sda2</code>，就先右键<code>/dev/sda2</code>这一行（一级磁盘）扩容，然后发现<code>unallocated</code>并未分配，还需要再给它的子空间再分配一次。</li>
<li>因为，直接右键<code>/dev/sda5</code>分配空间，是不行的，进度条是拉不动的，只有先给一级磁盘分配，然后再由一级分给二级才可以实现。</li>
</ul>
<h3 id="3-最后可能还会有个1MiB的空间未分配"><a href="#3-最后可能还会有个1MiB的空间未分配" class="headerlink" title="3. 最后可能还会有个1MiB的空间未分配"></a>3. 最后可能还会有个1MiB的空间未分配</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/xuniji4.png"></p>
<ul>
<li>直接把那<code>1MiB</code>空间加到<code>Free space following(MiB)</code>,然后<code>Resize</code>；</li>
<li>之后就可以把这<code>1MiB</code>空间按上述操作再加到<code>/dev/sda2</code>或<code>/dev/sda5</code>里</li>
</ul>
<h3 id="4-终端查看df-h空间是否增加"><a href="#4-终端查看df-h空间是否增加" class="headerlink" title="4. 终端查看df -h空间是否增加"></a>4. 终端查看<code>df -h</code>空间是否增加</h3><ul>
<li><a href="https://blog.csdn.net/u013755520/article/details/91978293?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control&dist_request_id=51cd5575-61bc-414c-a186-4798ec20747c&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-2.control">参考链接</a></li>
</ul>
]]></content>
      <categories>
        <category>Linux学习</category>
      </categories>
      <tags>
        <tag>Linux学习</tag>
        <tag>虚拟机扩容</tag>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title>修改HOSTS文件加速Github</title>
    <url>/MyWiki/wiki/2023/04/10/git/github_speedup/</url>
    <content><![CDATA[<h2 id="Windows-上-Github加速"><a href="#Windows-上-Github加速" class="headerlink" title="Windows 上 Github加速"></a>Windows 上 Github加速</h2><ul>
<li><ol>
<li>获取 github 的 global.ssl.fastly 地址访问：<a href="https://www.ipaddress.com/site/github.global.ssl.fastly.net#ipinfo">https://www.ipaddress.com/site/github.global.ssl.fastly.net#ipinfo</a>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">199.232.69.194</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><ol start="2">
<li>获取<a href="http://github.com/">http://github.com</a> 地址: <a href="https://www.ipaddress.com/site/github.com#ipinfo">https://www.ipaddress.com/site/github.com#ipinfo</a>  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">140.82.114.4</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><ol start="3">
<li>添加以下到<code>C:\Windows\System32\drivers\etc\host</code>文件内  <figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">199.232.69.194 github.global.ssl.fastly.net</span><br><span class="line">140.82.114.4 github.com</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
</ul>
<h2 id="Ubuntu-上-Github加速"><a href="#Ubuntu-上-Github加速" class="headerlink" title="Ubuntu 上 Github加速"></a>Ubuntu 上 Github加速</h2><ul>
<li><ol>
<li>获取github.global.ssl.fastly.net的IP地址  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nslookup github.global.ssl.fastly.net</span><br></pre></td></tr></table></figure>
  <img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/linux/github_speedup.md/171533812248877.png"></li>
</ol>
</li>
<li><ol start="2">
<li>获取github.com的IP地址  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">nslookup github.com</span><br></pre></td></tr></table></figure>
  <img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/linux/github_speedup.md/17673912236744.png"></li>
</ol>
</li>
<li><ol start="3">
<li>写入hosts文件  <figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim /etc/hosts <span class="comment">#打开hosts文件，输入i粘贴以下内容至末尾</span></span><br><span class="line">192.133.77.191 github.global.ssl.fastly.net</span><br><span class="line">20.205.243.166 github.com    </span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><ol start="4">
<li>重启网络或重启系统</li>
</ol>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo /etc/init.d/networking restart <span class="comment"># or</span></span><br><span class="line">reboot   </span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Github加速</tag>
      </tags>
  </entry>
  <entry>
    <title>日常笔记2022</title>
    <url>/MyWiki/wiki/2022/04/02/notes/DailyNotes2022/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Office路径"><a href="#Office路径" class="headerlink" title="Office路径"></a>Office路径</h3><ul>
<li>Office默认安装在C盘；安装前把C盘Office的安装路径指向D盘，然后再安装Office就可以了<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink /J <span class="string">&quot;C:\Program Files\Microsoft Office&quot;</span> <span class="string">&quot;D:\Program Files\Microsoft Office&quot;</span></span><br><span class="line">mklink /J <span class="string">&quot;C:\Program Files\Microsoft Office 15&quot;</span> <span class="string">&quot;D:\Program Files\Microsoft Office 15&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>杂记</category>
      </categories>
      <tags>
        <tag>Daily Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Learning English Notes 2021</title>
    <url>/MyWiki/wiki/2021/03/04/notes/EnglishNote2021/</url>
    <content><![CDATA[<p>[toc]</p>
<p><strong>Phrase&#x2F;sentence notes</strong></p>
<h3 id="2021-12"><a href="#2021-12" class="headerlink" title="2021-12"></a>2021-12</h3><h3 id="2021-11"><a href="#2021-11" class="headerlink" title="2021-11"></a>2021-11</h3><ol>
<li>preliminary adj. 初步的，预备的 n. 初步行动，准备工作；预赛，预试<blockquote>
<ul>
<li>prelimi 预备考试</li>
<li>Although we have a <strong>preliminary</strong> understanding of some of the influencing factors, we are still far from a) understanding the adsorption behaviour of methane in nanoscale pores of a complex kerogen structure and b) making reasonable predictions of adsorption in sub-core or core samples to match experiments.</li>
<li>Chemical Engineering Journal 426 (2021) 130984</li>
</ul>
</blockquote>
</li>
<li>fidelity n. 保真度；忠诚；精确；尽责<blockquote>
<ul>
<li>a high fidelity tool</li>
</ul>
</blockquote>
</li>
<li>hollow  adj. 空的，空心的；凹的，凹陷的；虚伪的，不真诚的；无用的，无价值的；（声音）沉闷回荡的；空腹的；沉闷回荡的v. 使凹陷，使下陷；挖洞（成某物）；形成空洞<br>n. 凹陷处，坑洼处；坑，洞；山谷<blockquote>
<ul>
<li>molecules prefer to be adsorbed on the <strong>hollow</strong> sites of the carbon ring of a hydrocarbon backbone</li>
</ul>
</blockquote>
</li>
<li>as mentioned above 如上所述</li>
<li>the inertia of the piston 活塞的惯性</li>
<li>interstices  n. 间隙；缝（interstice 的复数）</li>
<li>evolution n. 进化（论）；演变，发展；（气体的）释放，（热量的）散发；队形变换，位置变换；&lt;旧&gt;开方<blockquote>
<ul>
<li>evaluation n. 评价，评估</li>
</ul>
</blockquote>
</li>
<li>Parameter a is proportional to A 参数a与A成正比</li>
<li>As mentioned earlier,如前所述</li>
<li>To further validate our method, 为了进一步验证我们的方法，</li>
<li></li>
</ol>
<h3 id="2021-09"><a href="#2021-09" class="headerlink" title="2021-09"></a>2021-09</h3><ol>
<li>a binder 固体石蜡</li>
<li>colloidal adj. 胶体的；胶质的；胶状的<blockquote>
<p>resin n. 树脂；松香</p>
</blockquote>
</li>
<li>The overall goal is to improve the understanding of … 总的目标是提高对</li>
<li>complex shear moduli 复杂剪切模</li>
<li>so as to reach a relatively stable state. 从而达到相对稳定的状态</li>
<li>Asphaltenes and resins are of important significance to the stability of petroleum.</li>
<li>Resin and asphaltene have similar chemical properties and structural shapes</li>
<li>With the great deal of research, scientists have gradually deepened their understanding of the structure and properties of asphaltenes and resins.</li>
<li>In addressing the problem and improving the recovery of petroleum 在解决这一问题和提高石油采收率方面</li>
<li>For these two ranges</li>
<li>To the best of our knowledge 据我们所知</li>
<li>understand the intricate properties of asphalt<blockquote>
<p>intricate adj. 复杂的；错综的，缠结的</p>
</blockquote>
</li>
<li>some other trace elements  其他一些微量元素</li>
</ol>
<h3 id="2021-08"><a href="#2021-08" class="headerlink" title="2021-08"></a>2021-08</h3><ol>
<li>alleviate vt. #减轻，缓和</li>
<li>penetrate through water film #穿透水膜<blockquote>
<p>penetration 渗透</p>
</blockquote>
</li>
<li>viz #.abbr. 即；也就是（videlicet,namely）</li>
<li>oil-displacing agent design 驱油剂的设计<blockquote>
<p>oil-displacing 驱油</p>
</blockquote>
</li>
<li>crude oil 原油</li>
<li>surfactant n. 表面活性剂 adj. 表面活性剂的</li>
<li>supercritical carbon dioxide 超临界二氧化碳<blockquote>
<p>supercritical adj. [物][物化] 超临界的；吹毛求疵的</p>
</blockquote>
</li>
<li>which have profound effect on the oil exploitation.<blockquote>
<p>profound adj. 深厚的；意义深远的；渊博的</p>
</blockquote>
</li>
<li>infer vt. 推断；推论 vi. 推断；作出推论</li>
<li>aqueous layer 水层</li>
<li>ternary model 三元模型</li>
<li>binary model 二元模型</li>
<li>Adsorption behavior of oil components on water-wet silica surface</li>
<li>This phenomenon was in good accordance with reported experiment [32] and simulation [33] results<blockquote>
<p>be in good accordance with<br>accordance n. 按照，依据；一致，和谐</p>
</blockquote>
</li>
<li>one of the objectives is to shed light on the relationship between component polarity and adsorption capability<blockquote>
<p>shed light 阐明</p>
</blockquote>
</li>
<li>cristobalite n. 方石英；方晶石</li>
<li>quartz n. 石英</li>
<li>stishovite  n. [矿物] 超石英；重硅石</li>
<li>adhesion n. 粘附；黏附（力）；支持；固定；</li>
<li>carbonate 碳酸盐(calcite n. [矿物] 方解石)</li>
<li>sandstone n. [岩] 砂岩；沙岩(silica n. 二氧化硅)</li>
<li>clay 粘土 (mica n. [矿物] 云母)</li>
<li>dipole  n. [物化] 偶极；双极子</li>
<li>aromatic 芳香的，芬芳的；芳香族的 carbons</li>
<li>resin n. 树脂；松香 vt. 涂树脂；用树脂处理</li>
<li>aliphatic 脂肪质的，[有化] 脂肪族的</li>
<li>whereas a reverse trend is observed in the silica system</li>
<li>the electrostatic interaction between the heavy oil and rock surface is dictated by the dipole moment of the rock surface.<blockquote>
<p>dictated adj. 口述的 v. 口述</p>
</blockquote>
</li>
<li>the depletion of oil in the conventional oil fields is of<br>great concern<blockquote>
<p>depletion n. 消耗；损耗；放血</p>
</blockquote>
</li>
<li>barrel n. 桶</li>
<li>Heavy oil, extra-heavy oil, and bitumen(n. 沥青)</li>
<li>asphaltene n. [油气] 沥青质；[油气] 沥青烯</li>
<li>aromatics n. [助剂] 芳香剂，香料；芳族化合物</li>
<li>The problem is further compounded by the surface chemistry of reservoir rocks in which these oils are trapped.<blockquote>
<p>compounded adj. [生物] 复合的，化合的 v. 混合；组成（compound的过去分词）</p>
</blockquote>
</li>
<li>brine n. 卤水；盐水；海水<blockquote>
<p>brain 脑子</p>
</blockquote>
</li>
<li>displace and detach oil from the rock surface<blockquote>
<p>detach vt. 分离；派遣；使超然</p>
</blockquote>
</li>
<li>affinity n. 密切关系；吸引力；姻亲关系；类同</li>
<li>additives n. 添加剂，食物添加剂；附加剂</li>
<li>spontaneous adj. 自发的；自然的；无意识的</li>
<li>imbibition n. 吸入；吸取</li>
<li>zeta potential 电动电势，界面动电势<blockquote>
<p>zeta n. 希腊语字母表的第六个字母 电位</p>
</blockquote>
</li>
<li>sorption n. 吸附作用；吸着作用；吸收作用</li>
<li>here, molecular simulations provide a useful alternative for studying the rock−oil interface.</li>
<li>in practice  在实践中；实际上，事实上</li>
<li>scenario n. 方案；情节；剧本；设想</li>
<li>play a dominant role in the adhesion energies with heavy oil.</li>
<li>the implications of these results 这些结果的含义</li>
<li>They also studied the physical and rheological properties of heavy oil through molecular simulations<blockquote>
<p>rheological adj. 流变学的；液流学的</p>
</blockquote>
</li>
<li>limestone n. [岩] 石灰岩</li>
<li>dolomite  n. 白云石</li>
<li>the vacuum permittivity<blockquote>
<p>permittivity n. [电] 介电常数，[电] 电容率</p>
</blockquote>
</li>
<li>reformulate vt. 再用形式表示</li>
<li>instantaneous adj. 瞬间的；即时的；猝发的</li>
<li>DPD &#x3D; dissipative particle dynamics<blockquote>
<p>dissipative（adj. 浪费的；消耗的；消散的） </p>
</blockquote>
</li>
<li>Of particular interest is 特别有趣的是</li>
<li>a slit rock nanopore 裂隙岩石的纳米孔<blockquote>
<p>slit n. 狭长的切口；裂缝 v. 使有狭缝；撕裂；使成长条；眯起眼睛</p>
</blockquote>
</li>
<li>hydrophilic and hydrophobic （亲水的和疏水的）</li>
<li>There are three major types of EOR : miscible displacement, chemical flooding, and thermal recovery.</li>
</ol>
<h3 id="2021-03"><a href="#2021-03" class="headerlink" title="2021-03"></a>2021-03</h3><ol>
<li>intriguing 有趣的；迷人的<blockquote>
<p>intrigue  n. 阴谋；诡计；复杂的事；私通 vt. 用诡计取得；激起…的兴趣 vi. 私通；密谋</p>
</blockquote>
</li>
<li>interpret vt. 说明；口译 vi. 解释；翻译</li>
<li>prominently  adv. 显著地</li>
<li>ultimately adv. 最后；根本；基本上</li>
</ol>
<h3 id="2021-01"><a href="#2021-01" class="headerlink" title="2021-01"></a>2021-01</h3><ol>
<li>many fascinating properties</li>
<li>provide a promising alternative</li>
<li>In recent decades</li>
<li>which is attributed to the competition between incoherent and coherent phonon transport regimes.</li>
<li>In comparison with …</li>
<li>made of periodically alternating layers of two materials</li>
<li>have reveiced widespread attention</li>
<li>gain insight into the underlying transport mechanisms 深入了解潜在传输机制</li>
<li>Despite the long-standing importance of A and B as thermoelectric materials,</li>
<li>with close agreement to experimental measurements.</li>
</ol>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2021</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>日常笔记2021</title>
    <url>/MyWiki/wiki/2021/01/22/notes/DailyNotes2021/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="1-只要使用键盘Materials-Studio就卡住"><a href="#1-只要使用键盘Materials-Studio就卡住" class="headerlink" title="1. 只要使用键盘Materials Studio就卡住"></a><strong>1. 只要使用键盘Materials Studio就卡住</strong></h3><ul>
<li>解决方法：在微软拼音输入法的“中”(或“英”)字上右击鼠标，然后点“设置”，在弹出界面中点“常规”，在新界面中向下滚动动底部，有个兼容性，打开兼容性，然后就OK了。</li>
<li>参考链接:<br>[1] <a href="http://muchong.com/t-14329827-1">http://muchong.com/t-14329827-1</a></li>
</ul>
<h3 id="2-最新WIN10-20H2系统找回经典系统属性界面的最彻底的方法"><a href="#2-最新WIN10-20H2系统找回经典系统属性界面的最彻底的方法" class="headerlink" title="2. 最新WIN10 20H2系统找回经典系统属性界面的最彻底的方法"></a><strong>2. 最新WIN10 20H2系统找回经典系统属性界面的最彻底的方法</strong></h3><ul>
<li>重装了Win10 20H2以后，右键此电脑后的属性面板变了，要彻底换回经典的属性面板方法。</li>
<li>（1）打开注册表，直接搜索<code>注册表</code>、或者<code>Win+R</code>，然后输入<code>regedit</code>；</li>
<li>（2）找到路径<code>HKEY_LOCAL_MACHINE\SYSTEM\ControlSet001\Control\FeatureManagement\Overrides\0\2093230218</code>;</li>
<li>（3）将EnabledState的数值数据修改为 <code>1</code> 即可。</li>
<li>（4）参考链接：<a href="https://www.bilibili.com/read/cv8197364">https://www.bilibili.com/read/cv8197364</a></li>
</ul>
<h3 id="3-OPLS-optimized-potentials-for-liquid-simulations"><a href="#3-OPLS-optimized-potentials-for-liquid-simulations" class="headerlink" title="3. OPLS(optimized potentials for liquid simulations)"></a><strong>3. OPLS(optimized potentials for liquid simulations)</strong></h3><ul>
<li>参考链接:<br>[1] <a href="https://blog.csdn.net/qq_31346429/article/details/106358251">https://blog.csdn.net/qq_31346429/article/details/106358251</a></li>
</ul>
<h3 id="4-AMBER基础教程B0：AMBER分子动力学模拟入门"><a href="#4-AMBER基础教程B0：AMBER分子动力学模拟入门" class="headerlink" title="4. [AMBER基础教程B0：AMBER分子动力学模拟入门]"></a><strong>4. [AMBER基础教程B0：AMBER分子动力学模拟入门]</strong></h3><ul>
<li>参考链接:<br>[1] <a href="https://jerkwin.github.io/2018/01/17/AMBER%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8BB0-AMBER%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F%E5%85%A5%E9%97%A8/">https://jerkwin.github.io/2018/01/17/AMBER%E5%9F%BA%E7%A1%80%E6%95%99%E7%A8%8BB0-AMBER%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F%E5%85%A5%E9%97%A8/</a></li>
</ul>
<h3 id="5-国内9大免费CDN汇总-转"><a href="#5-国内9大免费CDN汇总-转" class="headerlink" title="5. 国内9大免费CDN汇总 转"></a><strong>5. 国内9大免费CDN汇总 转</strong></h3><ul>
<li>转 [1] <a href="https://cloud.tencent.com/developer/article/1352398">https://cloud.tencent.com/developer/article/1352398</a></li>
</ul>
<h3 id="6-ctrl-c没反应"><a href="#6-ctrl-c没反应" class="headerlink" title="6. ctrl+c没反应"></a><strong>6. <code>ctrl+c</code>没反应</strong></h3><ul>
<li>可能是开着有道翻译快捷键冲突了，关了有道或者其他快捷键冲突软件即可</li>
</ul>
<h3 id="7-R7000office时不时闪黑屏"><a href="#7-R7000office时不时闪黑屏" class="headerlink" title="7. R7000office时不时闪黑屏"></a><strong>7. <code>R7000</code>office时不时闪黑屏</strong></h3><p><img src="https://filestore.community.support.microsoft.com/api/images/25b29daa-46b9-47c5-8875-3952d3cf174b?upload=true"></p>
<ul>
<li>打开office，文件&gt;选项&gt;高级&gt;显示</li>
<li>勾选“禁用硬件图形加速”，“应用”并“确定”</li>
<li>参考：[1] <a href="https://answers.microsoft.com/zh-hans/msoffice/forum/msoffice_word-mso_win10-mso_2019/office-%E9%97%AA%E5%B1%8F/33c9a15d-595b-4c62-8d30-fbce21a24fc8">https://answers.microsoft.com/zh-hans/msoffice/forum/msoffice_word-mso_win10-mso_2019/office-%E9%97%AA%E5%B1%8F/33c9a15d-595b-4c62-8d30-fbce21a24fc8</a></li>
</ul>
<h3 id="8-双系统教程参考"><a href="#8-双系统教程参考" class="headerlink" title="8. 双系统教程参考"></a><strong>8. 双系统教程参考</strong></h3><ul>
<li><a href="https://www.cnblogs.com/masbay/p/10745170.html">https://www.cnblogs.com/masbay/p/10745170.html</a></li>
</ul>
<h3 id="9-Origin-Copy-Page到Word或PPT后侧边空白多？"><a href="#9-Origin-Copy-Page到Word或PPT后侧边空白多？" class="headerlink" title="9. Origin, Copy Page到Word或PPT后侧边空白多？"></a><strong>9. Origin, Copy Page到Word或PPT后侧边空白多？</strong></h3><ul>
<li>修改Tools→Options→page选项卡，将Margin Control 设置为Tight，或者将Clip Border Width设置为0，两种都可行。</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/origin_bug.png"></p>
<ul>
<li>若以上步骤不行，那应该是电脑的屏幕缩放不是100%，改为100%就好；</li>
<li>或者换更高版本的Origin.</li>
</ul>
<h3 id="10-FFTW"><a href="#10-FFTW" class="headerlink" title="10. FFTW"></a><strong>10. FFTW</strong></h3><ul>
<li>Windows安装跟使用fftw  <a href="http://m.myexceptions.net/windows/1616414.html">http://m.myexceptions.net/windows/1616414.html</a></li>
<li>linux 和 Windows下FFTW库的安装  <a href="https://blog.csdn.net/dengm155/article/details/53819704">https://blog.csdn.net/dengm155/article/details/53819704</a></li>
</ul>
<h3 id="11-Vmware虚拟机完整创建一个linux"><a href="#11-Vmware虚拟机完整创建一个linux" class="headerlink" title="11. Vmware虚拟机完整创建一个linux"></a><strong>11. Vmware虚拟机完整创建一个linux</strong></h3><ul>
<li><a href="https://blog.csdn.net/weixin_42533541/article/details/81877207">https://blog.csdn.net/weixin_42533541/article/details/81877207</a></li>
</ul>
<h3 id="12-在VMD中显示原子序号的方法"><a href="#12-在VMD中显示原子序号的方法" class="headerlink" title="12. 在VMD中显示原子序号的方法"></a><strong>12. 在VMD中显示原子序号的方法</strong></h3><ul>
<li><a href="http://sobereva.com/197">http://sobereva.com/197</a></li>
</ul>
<h3 id="13-PhpStudy"><a href="#13-PhpStudy" class="headerlink" title="13. PhpStudy"></a><strong>13. PhpStudy</strong></h3><ul>
<li>PhpStudy <a href="https://www.xp.cn/">https://www.xp.cn/</a></li>
<li><a href="https://jingyan.baidu.com/article/148a1921b820c34d70c3b168.html">https://jingyan.baidu.com/article/148a1921b820c34d70c3b168.html</a></li>
<li>phpStudy V8 使用手册 <a href="https://www.xp.cn/phpstudy-v8/">https://www.xp.cn/phpstudy-v8/</a></li>
<li>FileZilla <a href="https://www.filezilla.cn/">https://www.filezilla.cn/</a></li>
</ul>
<h3 id="14-搭建本地服务器"><a href="#14-搭建本地服务器" class="headerlink" title="14. 搭建本地服务器"></a><strong>14. 搭建本地服务器</strong></h3><ul>
<li>Web服务器——保姆级教程！ <a href="https://my.oschina.net/u/4383725/blog/4510772">https://my.oschina.net/u/4383725/blog/4510772</a></li>
</ul>
<h3 id="15-MathType7"><a href="#15-MathType7" class="headerlink" title="15. MathType7"></a><strong>15. MathType7</strong></h3><ul>
<li><a href="https://www.mathtype.cn/">https://www.mathtype.cn/</a></li>
<li>30天到期后，删除注册表<code>计算机\HKEY_CURRENT_USER\SOFTWARE\Install Options</code>中的<code>Options7.4</code></li>
<li>便可再获得30天（还没试过）</li>
</ul>
<h3 id="16-Office自动安装至C盘修改（如果够用不建议）"><a href="#16-Office自动安装至C盘修改（如果够用不建议）" class="headerlink" title="16. Office自动安装至C盘修改（如果够用不建议）"></a><strong>16. Office自动安装至C盘修改（如果够用不建议）</strong></h3><ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Office/1.PNG"></li>
<li>安装前修改注册表<code>计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion</code>下<code>ProgramFilesDir</code>路径为其他盘路径（千万不要乱改后又重启电脑）<blockquote>
<ul>
<li>一定要注意，改完安装后，立马注册表修改回到原来，没改前千万别重启电脑。</li>
<li>被迫重装系统后的反思。</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="17-npm-install-error-code-EBADPLATFORM"><a href="#17-npm-install-error-code-EBADPLATFORM" class="headerlink" title="17. npm install error (code EBADPLATFORM)"></a><strong>17. npm install error (code EBADPLATFORM)</strong></h3><ul>
<li><a href="https://stackoverflow.com/questions/49475492/npm-install-error-code-ebadplatform/49475537">https://stackoverflow.com/questions/49475492/npm-install-error-code-ebadplatform/49475537</a></li>
<li>删除<code>package-lock.json</code>文件后，输入命令：<figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">npm <span class="keyword">install</span> </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="18-PC-VMware安装安卓虚拟机"><a href="#18-PC-VMware安装安卓虚拟机" class="headerlink" title="18. PC VMware安装安卓虚拟机"></a><strong>18. PC VMware安装安卓虚拟机</strong></h3><ul>
<li><a href="https://blog.csdn.net/muzihuaner/article/details/105284177">https://blog.csdn.net/muzihuaner/article/details/105284177</a></li>
</ul>
<h3 id="19-autoCAD-plant-3D-2022"><a href="#19-autoCAD-plant-3D-2022" class="headerlink" title="19. autoCAD plant 3D 2022"></a><strong>19. autoCAD plant 3D 2022</strong></h3><ul>
<li><a href="http://www.ddooo.com/softdown/193119.htm#dltab">http://www.ddooo.com/softdown/193119.htm#dltab</a></li>
</ul>
<h3 id="20-VS-code怎么同时开多个文件夹"><a href="#20-VS-code怎么同时开多个文件夹" class="headerlink" title="20. VS code怎么同时开多个文件夹"></a><strong>20. VS code怎么同时开多个文件夹</strong></h3><ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/others/vscode_1.png"></li>
<li>右键资源管理器空白处，将文件夹添加到工作区即可。</li>
<li><a href="https://blog.csdn.net/magic_xiang/article/details/84024493">https://blog.csdn.net/magic_xiang/article/details/84024493</a></li>
</ul>
<h3 id="21-挖矿流程"><a href="#21-挖矿流程" class="headerlink" title="21. 挖矿流程"></a><strong>21. 挖矿流程</strong></h3><ul>
<li><ol>
<li><a href="https://electrum.org/#home">electrum钱包</a><blockquote>
<ul>
<li>安装钱包</li>
<li>生成地址</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_1.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_2.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_3.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_4.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_5.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_6.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_7.PNG"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/bit/electrum_8.PNG"></li>
</ul>
</blockquote>
</li>
</ol>
</li>
<li><ol start="2">
<li>挖矿软件<a href="https://www.nicehash.com/">nicehash</a></li>
</ol>
</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>杂记</category>
      </categories>
      <tags>
        <tag>Daily Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Git—Command</title>
    <url>/MyWiki/wiki/2022/03/08/git/Git_command/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Git-Command"><a href="#Git-Command" class="headerlink" title="Git Command"></a>Git Command</h2><h3 id="提交"><a href="#提交" class="headerlink" title="提交"></a>提交</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git add filepath <span class="comment">#添加某个文件到暂存区</span></span><br><span class="line">git add . <span class="comment">#添加所有文件到暂存区</span></span><br><span class="line">git checkout -- filename <span class="comment">#撤销工作区改动</span></span><br><span class="line">git reset HEAD filename <span class="comment">#清空暂存区</span></span><br><span class="line">git commit -m <span class="string">&quot;评论内容&quot;</span> <span class="comment">#提交</span></span><br><span class="line">git push origin main <span class="comment">#push</span></span><br></pre></td></tr></table></figure>

<h3 id="分支"><a href="#分支" class="headerlink" title="分支"></a>分支</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git branch 分支名 <span class="comment">#创建分支</span></span><br><span class="line">git checkout 分支名 <span class="comment">#切换分支</span></span><br><span class="line">git checkout -b 分支名 <span class="comment">#创建@切换分支</span></span><br><span class="line">git branch -d 分支名 <span class="comment">#删除分支</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="合并"><a href="#合并" class="headerlink" title="合并"></a>合并</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git merge 分支名/节点哈希值</span><br><span class="line">git rebase 分支名/节点哈希值</span><br><span class="line">git cherry-pick 节点哈希值</span><br></pre></td></tr></table></figure>

<h3 id="远程"><a href="#远程" class="headerlink" title="远程"></a>远程</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> 仓库地址 <span class="comment">#克隆下载</span></span><br><span class="line">git pull 远程分支名 <span class="comment">#拉取下载 其实pull的本质就是fetch+merge</span></span><br><span class="line">git pull --rebase 远程分支名 <span class="comment">#另外pull命令也可以通过rebase进行合并</span></span><br><span class="line">git fetch 远程仓库地址/分支名 <span class="comment">#它会将远程新增加的节点以及引用(分支/HEAD)的状态下载到本地</span></span><br><span class="line">git push 远程分支名 <span class="comment">#将本地提交推送至远程</span></span><br><span class="line">git <span class="built_in">clone</span> -b gh-pages --single-branch https://github.com/eastsheng/MyWikiSite.git wwwroot <span class="comment">#clone单个分支到wwwroot中，-b后为分支名</span></span><br></pre></td></tr></table></figure>


<ul>
<li>参考：<a href="https://mp.weixin.qq.com/s/YBpQ3RBuPCqRSTa4-lks8g">https://mp.weixin.qq.com/s/YBpQ3RBuPCqRSTa4-lks8g</a></li>
</ul>
<h3 id="git-pull-Timed-out"><a href="#git-pull-Timed-out" class="headerlink" title="git pull, Timed out:"></a>git pull, Timed out:</h3><ul>
<li>Failed to connect to github.com port 443 after 21077 ms: Timed out<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git config --global --<span class="built_in">unset</span> http.proxy</span><br><span class="line">git config --global --<span class="built_in">unset</span> https.proxy</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="git-push提交到远程报错"><a href="#git-push提交到远程报错" class="headerlink" title="git push提交到远程报错"></a>git push提交到远程报错</h3><ul>
<li><p>error：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">remote: Support <span class="keyword">for</span> password authentication was removed on August 13, 2021.</span><br></pre></td></tr></table></figure>
</li>
<li><p>生成<code>ssh key</code>,一路默认回车即可；</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -b 4096 -C <span class="string">&quot;自己GitHub上的邮箱账号&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>复制<code>~/.ssh/id_rsa.pub</code>中密钥，粘贴至github设置中创建的<code>ssh key</code>内；</p>
</li>
<li><p>以上是正常配置，2021年8月13日之前是可以正常使用，从2021年8月13日，GitHub不再支持用密码提交代码；</p>
</li>
<li><p>重新链接仓库解决：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git remote remove origin</span><br><span class="line">git remote -v</span><br><span class="line">git remote add origin git@github.com:xxx/yyy.git</span><br><span class="line">git push origin master -u</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git—Command</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2021-04</title>
    <url>/MyWiki/wiki/2021/04/28/notes/PaperReadNote202104/</url>
    <content><![CDATA[<p>[toc]</p>
<ul>
<li><a href="https://baike.baidu.com/item/%E9%BB%8F%E5%BA%A6">黏度（viscosity）</a>：黏度也可以称为粘度，是指流体对流动所表现的阻力。<blockquote>
<ul>
<li>当流体 (气体或液体) 流动时， 一部分在另一部分上面流动时， 就受到阻力， 这是流体的内摩擦力。</li>
<li>要使流体流动就需在流体流动方向上加一切线力以对抗阻力作用。</li>
<li>黏度系数(简称黏度)η的物理意义是： 在相距单位距离的两液层中， 使单位面积液层维持单位速度差所需的切线力。</li>
<li>其单位在厘米·克·秒(c·g·s)制中为泊(g·cm-1·s-1)，在SI制中为帕斯卡·秒(Pa·s或kg·m-1·s-1)，1泊&#x3D;0.1帕·秒。</li>
<li>黏度又称黏滞系数，是量度流体黏滞性大小的物理量。流体中相距dx的两平行液层，由于内摩擦，使垂直于流动方向的液层间存在速度梯度dv&#x2F;dx，当速度梯度为1个单位，相邻流层接触面S上所产生的黏滞力F(亦称内摩擦力)即黏度，单位：Pa·s。</li>
<li>2021&#x2F;6&#x2F;6</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="热学概念"><a href="#热学概念" class="headerlink" title="热学概念"></a><strong>热学概念</strong></h3><ul>
<li><p><a href="https://baike.baidu.com/item/%E6%BD%9C%E7%83%AD">潜热（latent heat）</a>：状态量<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/latent_heat.jfif"></p>
<blockquote>
<ul>
<li>潜热，<strong>相变潜热</strong>的简称，指物质在等温等压情况下，从一个相变化到另一个相吸收或放出的热量。</li>
<li>这是物体在固、液、气三相之间以及不同的固相之间相互转变时具有的特点之一。</li>
<li>固、液之间的潜热称为<strong>熔解热</strong>（或凝固热）；</li>
<li>液、气之间的称为<strong>汽化热</strong>（或凝结热）；</li>
<li>而固、气之间的称为<strong>升华热</strong>（或凝华热）。</li>
</ul>
</blockquote>
</li>
<li><p><a href="https://baike.baidu.com/item/%E9%A5%B1%E5%92%8C%E8%92%B8%E6%B1%BD">饱和蒸汽（saturated vapor）</a>：指饱和状态下的蒸汽</p>
<blockquote>
<ul>
<li>未经过热处理的蒸汽称为饱和蒸汽；</li>
<li>饱和蒸汽是在一个大气压下，温度为100度的蒸汽，温度不能再升高，是饱和状态下的蒸汽。</li>
<li>饱和蒸汽由气体分子之间的热运动现象造成的。</li>
<li>在饱和状态下的液体称为饱和液体，其蒸汽称为干饱和蒸汽（也称饱和蒸汽）。 </li>
<li>它是无色、无味、不能燃烧又无腐蚀性的气体。</li>
<li>饱和蒸汽的温度与压力之间一一对应，二者之间只有一个独立变量。</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="工程热力学"><a href="#工程热力学" class="headerlink" title="工程热力学"></a><strong>工程热力学</strong></h3><ol>
<li><p>刚性绝热容器分隔成两部分，一部分装气体，一部分抽成真空，中间是隔板，当取气体为系统时，若突然抽去隔板，系统不做功？<sup>[1]</sup><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_1.png"></p>
</li>
<li><p>思考题<sup>[2],[4]</sup>：<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_2.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_3.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_5.png"></p>
</li>
<li><p>选择题<sup>[3]</sup><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_4.png"></p>
</li>
<li><p>概念<sup>[5]</sup><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_6.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_7.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_8.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_9.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_10.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_11.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_12.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_13.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_14.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_15.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_16.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_17.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_18.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_19.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_20.png"><br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/gcrlx_21.png"></p>
</li>
</ol>
<ul>
<li>参考：<br>[1] 慕课片段 <a href="https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&id=1240231964">https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&amp;id=1240231964</a><br>[2] 慕课片段 <a href="https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&id=1240231978&sm=1">https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&amp;id=1240231978&amp;sm=1</a><br>[3] 慕课片段 <a href="https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&id=1240231979&cid=1261672279&replay=true">https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&amp;id=1240231979&amp;cid=1261672279&amp;replay=true</a><br>[4] 慕课片段 <a href="https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&id=1240231981&sm=1">https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&amp;id=1240231981&amp;sm=1</a><br>[5] 慕课片段 <a href="https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&id=1240231982&sm=1">https://www.icourse163.org/learn/SJTU-1002535024?tid=1463098466#/learn/content?type=detail&amp;id=1240231982&amp;sm=1</a></li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2021</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
        <tag>2021-04</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2020</title>
    <url>/MyWiki/wiki/2020/07/23/notes/PaperReadNote2020/</url>
    <content><![CDATA[<p>[toc]</p>
<p><strong>2020-07</strong></p>
<p><strong>07-23</strong></p>
<h3 id="1-声子线宽Γ-phonon-linewidth"><a href="#1-声子线宽Γ-phonon-linewidth" class="headerlink" title="1. 声子线宽Γ(phonon linewidth)"></a>1. 声子线宽<code>Γ</code>(phonon linewidth)</h3><blockquote>
<ul>
<li>声子线宽与声子的寿命<code>τ</code>(lifetime or relaxtion time)有关,<code>声子寿命(τ)=1/2*半高宽(FWHM)</code>。</li>
<li>Full width at half maximum (FWHM) equals 2Γ</li>
<li>τ &#x3D; 1&#x2F;2Γ.</li>
</ul>
</blockquote>
<h3 id="2-拉曼光谱-raman-spectra"><a href="#2-拉曼光谱-raman-spectra" class="headerlink" title="2. 拉曼光谱(raman spectra)"></a>2. 拉曼光谱(raman spectra)</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/lmss.PNG"></p>
<ul>
<li>利用光子与原子产生的散射光来研究振动能量方式的。</li>
<li>在拉曼散射中，入射光子与原子发生非弹性散射，进行能量交换而产生拉曼信号。</li>
<li>产生的散射光中小于原入射光子频率的称为斯托克斯（Stokes）偏移，</li>
<li>大于入射光子频率的称为反斯托克斯（Anti-Stokes）偏移。</li>
<li>等于入射光子频率的称为瑞利（Rayleigh）偏移。</li>
</ul>
<h3 id="3-杂化-hybridization"><a href="#3-杂化-hybridization" class="headerlink" title="3. 杂化(hybridization)"></a>3. <a href="https://baike.baidu.com/item/%E6%9D%82%E5%8C%96">杂化(hybridization)</a></h3><blockquote>
<p>在成键过程中，由于原子间的相互影响，同一原子中几个能量相近的不同类型的原子轨道（即波函数），可以进行线性组合，重新分配能量和确定空间方向，组成数目相等的新的原子轨道，这种轨道重新组合的过程称为杂化（hybridization），杂化后形成的新轨道称为 杂化轨道（hybrid orbital）。</p>
</blockquote>
<p><strong>07-24</strong></p>
<h3 id="4-散射相空间SPS-scattering-phase-space"><a href="#4-散射相空间SPS-scattering-phase-space" class="headerlink" title="4. 散射相空间SPS(scattering phase space"></a>4. 散射相空间<code>SPS</code>(scattering phase space</h3><blockquote>
<ul>
<li><a href="http://bolvan.ph.utexas.edu/~vadim/Classes/2016f/phase-space.pdf">相空间(phase space)</a> ，<a href="https://doi.org/10.1117/12.2309519">相空间的散射理论</a></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>相空间在数学与物理学中，是一个用以表示出一系统所有可能状态的空间；系统每个可能的状态都有一相对应的相空间的点。</li>
<li>搞不懂啊……</li>
</ul>
</blockquote>
<p><strong>07-27</strong></p>
<h3 id="5-泡利不相容原理-Pauli-exclusion-principe"><a href="#5-泡利不相容原理-Pauli-exclusion-principe" class="headerlink" title="5. 泡利不相容原理(Pauli exclusion principe)"></a>5. 泡利不相容原理(Pauli exclusion principe)</h3><blockquote>
<ul>
<li>在<a href="https://baike.baidu.com/item/%E8%B4%B9%E7%B1%B3%E5%AD%90">费米子</a>组成的系统中，不能有两个或两个以上的粒子处于完全相同的状态。</li>
<li>通俗的说就是，两个相同的粒子不能处于同一个状态。</li>
<li>费米子(玻色子)满足(不满足)泡利不相容原理。</li>
<li>自旋为整数(0,1,2……)的是玻色子，为半奇数(1&#x2F;2,3&#x2F;2,5&#x2F;2……)的为费米子。</li>
<li>玻色子一般有：光子、</li>
<li>费米子一般有：电子、中子、质子……</li>
</ul>
</blockquote>
<p><strong>2020-(08~11)</strong></p>
<p><strong>08-19</strong></p>
<h3 id="6-热力学定律"><a href="#6-热力学定律" class="headerlink" title="6. 热力学定律"></a>6. 热力学定律</h3><p>老是记不住，参考自：《热力学.统计物理》第五版—汪志诚</p>
<ol>
<li>热力学第一定律：能量守恒定律，公式：U1-U2&#x3D;W+Q，系统在终态2和初态1的内能之差（U1-U2）等于在过程中外界对系统所作的功W与系统从外界吸收的热量Q之和。（也即是，在过程中通过作功和传热两种方式所传递的能量，都转化为系统的内能）<blockquote>
<ul>
<li>表述1：自然界一切物质都具有能量，能量有各种不同的形式，可以从一种形式转化为另一种形式，从一个物体传递到另一个物体，在传递和转化中能量的数量不变。</li>
<li>表述2：第一类永动机是不可能的造成的。</li>
</ul>
</blockquote>
</li>
<li>热力学第二定律：<blockquote>
<ul>
<li>克氏表述：不可能把热量从低温物体传到高温物体而不引起其他变化。</li>
<li>开氏表述：不可能从单一热源吸热使之完全变成有用的功而不引起其他变化。（或者，第二类永动机是不可能造成的。）</li>
</ul>
</blockquote>
</li>
<li>卡诺定理：所有工作于两个一定温度之间的热机，以可逆机的效率最高。<blockquote>
<ul>
<li>推论：所有工作于两个一定温度之间的可逆热机，其效率相等。</li>
</ul>
</blockquote>
</li>
<li>热力学第三定律：不可能通过有限的步骤使一个物体冷却到热力学温度的零度（绝对零度）。</li>
</ol>
<p><strong>09-1</strong></p>
<h3 id="7-RDF"><a href="#7-RDF" class="headerlink" title="7. RDF"></a>7. RDF</h3><p><a href="http://isaacs.sourceforge.net/phys/rdfs.html">The radial distribution function(RDF): definitions</a><br>通俗的讲就是，局部的密度与全局的密度的比值。</p>
<p><strong>09-08</strong></p>
<h3 id="8-极化（polarization）"><a href="#8-极化（polarization）" class="headerlink" title="8. 极化（polarization）"></a>8. 极化（polarization）</h3><ol>
<li>在原始晶体材料中，正常的模，都是具有明确极化的声子模；</li>
<li>当材料变得越无序的时候，给定模式的原子振动方向就会变得越不像波、well-defined、越随机。也即是，极化越弱，波矢量的定义缺失。</li>
</ol>
<h3 id="9-phonon-wave-packets"><a href="#9-phonon-wave-packets" class="headerlink" title="9. phonon wave-packets"></a>9. phonon wave-packets</h3><p><strong>11-02</strong></p>
<ol>
<li>The dominant width of phonon wave-packets is also called coherent length.</li>
</ol>
<h3 id="10-H-phase和T-phase"><a href="#10-H-phase和T-phase" class="headerlink" title="10. H-phase和T-phase"></a>10. H-phase和T-phase</h3><p><strong>12-07</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/Atomic-configurations-of-the-a-H-phase-b-T-phase-and-c-distorted-T-phase-T_W640.jpg"></p>
<p>图片引用自：DOI: 10.1021&#x2F;acsnano.6b00148</p>
<ol>
<li>TMDs的H-phase和T-phase,表示不同结构</li>
</ol>
<ul>
<li>不同材料的不同phase的稳定性不同；</li>
<li>例如MoTe2在H-phase更稳定；而WTe2在T-phase更稳定</li>
<li>两个phase的能量差不是很大，所以两项可以共存（coexistence），</li>
<li>却有不同的电子性质，比如在H-phase是半导体，在T-phase可能是半金属或者拓扑绝缘体,跟层数有关。</li>
</ul>
<h3 id="11-简并（Degeneration-amp-Entartung）"><a href="#11-简并（Degeneration-amp-Entartung）" class="headerlink" title="11. 简并（Degeneration&amp;Entartung）"></a>11. 简并（Degeneration&amp;Entartung）</h3><ul>
<li><a href="http://www.wuli.ac.cn/fileup/PDF/2013-42-09-011.pdf">简并（Degeneration&amp;Entartung）</a></li>
<li><a href="https://www.zhihu.com/question/27824623">简并</a></li>
</ul>
<h3 id="12-绝热近似（Born-Oppenheimer）："><a href="#12-绝热近似（Born-Oppenheimer）：" class="headerlink" title="12. 绝热近似（Born-Oppenheimer）："></a>12. 绝热近似（Born-Oppenheimer）：</h3><ul>
<li>将原子核与电子的运动分开考虑，认为电子能绝热于原子核的运动。</li>
<li>也即是，在考虑电子运动时，原子核处于静止状态（电子的运动速度比原子核高出几个量级）；</li>
<li>考虑原子核的运动则不考虑周围电子的分布。</li>
</ul>
<p><strong>2021-03-16</strong></p>
<h3 id="13-AA-stacking和-AB-BA-stacking的区别"><a href="#13-AA-stacking和-AB-BA-stacking的区别" class="headerlink" title="13. AA stacking和 AB(BA) stacking的区别"></a>13. AA stacking和 AB(BA) stacking的区别</h3><p><img src="https://www.researchgate.net/profile/Ke-Xu-34/publication/328891557/figure/fig1/AS:709563540054017@1546184539404/Atomic-structure-of-AA-stacking-and-AB-stacking-hetero-bilayer-MX-2-in-a-3-A-3-A-1.png"></p>
<ul>
<li>参考文献：<br><a href="https://pubs.rsc.org/lv/content/articlelanding/2018/cp/c8cp05522j/unauth#!divAbstract">[1]. Xu K, Xu Y, Zhang H, et al. The role of Anderson’s rule in determining electronic, optical and transport properties of transition metal dichalcogenide heterostructures[J]. Physical Chemistry Chemical Physics, 2018, 20(48): 30351-30364.</a></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/ab_stacking.png"></p>
<ul>
<li>参考文献：<br><a href="https://doi.org/10.1038/s41563-021-00960-1">[2]. Quan, J., Linhart, L., Lin, ML. et al. Phonon renormalization in reconstructed MoS2 moiré superlattices. Nat. Mater. (2021).</a></li>
</ul>
<p><strong>2021-03-26</strong></p>
<h3 id="14-Wiedemann-Franz-law（威德曼-弗朗兹定律）"><a href="#14-Wiedemann-Franz-law（威德曼-弗朗兹定律）" class="headerlink" title="14. Wiedemann-Franz law（威德曼-弗朗兹定律）"></a>14. <a href="https://baike.baidu.com/item/%E5%A8%81%E5%BE%B7%E6%9B%BC-%E5%BC%97%E6%9C%97%E5%85%B9%E5%AE%9A%E5%BE%8B/8821039?fr=aladdin">Wiedemann-Franz law（威德曼-弗朗兹定律）</a></h3><ul>
<li>Wiedemann-Franz定律是关于金属材料热导率与电导率之间的关系的定律。</li>
<li>自由电子引起的热导率可以通过电导率，利用Wiedemann-Franz定律得到。</li>
<li><strong>在物理学中，wiedemann–franz定律的简述是，金属的热导率（k）与导电率（σ）之比与温度（t）成正比。</strong></li>
<li><strong>κ&#x2F;σ&#x3D;LT</strong>（常数L即洛伦兹数(Lorenz number)）</li>
<li>即在给定温度下，许多金属材料的热导率(κ)与它的电导率(σ)之比约为常数。</li>
<li>德国物理学家Gustav Wiedemann和Rudolph Franz于1853年由大量实验事实发现，许多金属的热导率和电导率的比值都是一个常数，这一规律称为威德曼-弗朗兹定律。</li>
<li>1872年，Ludvig Lorenz进一步发现，比值λ&#x2F;σT是与金属种类无关的常数，T是绝对温度，这常数用L表示，称洛伦兹数。Ludwig Lorenz发现了κ&#x2F;σ与温度的比例关系。</li>
</ul>
<p><strong>2021-04-29</strong></p>
<h3 id="15-格波（lattice-wave）"><a href="#15-格波（lattice-wave）" class="headerlink" title="15. 格波（lattice wave）"></a>15. <a href="https://zh.wikipedia.org/wiki/%E6%A0%BC%E6%B3%A2">格波（lattice wave）</a></h3><ul>
<li>格波（lattice wave）是原子热振动的一种描述。</li>
<li>从整体上看，处于格点上的原子的热振动可描述成类似于机械波传播的结果，这种波称为格波，即晶格的振动模。</li>
<li>晶格具有周期性，因此晶格的振动模具有波的形式。</li>
<li>格波和一般连续介质波有共同的波的特性，但也有它不同的特点。</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2020</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
        <tag>2020</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2021-07</title>
    <url>/MyWiki/wiki/2021/07/24/notes/PaperReadNote202107/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="2021-07-24"><a href="#2021-07-24" class="headerlink" title="2021-07-24"></a>2021-07-24</h2><ul>
<li>地质中自然发生的流固、热固耦合作用强度相对较弱，只有当空间、时间尺度足够大时效果才会显现。</li>
</ul>
<h3 id="水力压裂（Hydraulic-fracturing、Fractuing、Hydraulic-stimulation）"><a href="#水力压裂（Hydraulic-fracturing、Fractuing、Hydraulic-stimulation）" class="headerlink" title="水力压裂（Hydraulic fracturing、Fractuing、Hydraulic stimulation）"></a>水力压裂（Hydraulic fracturing、Fractuing、Hydraulic stimulation）</h3><blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/Hydraulic.PNG" alt="水力压裂"></li>
<li>将大量高压流体（压裂液）注入地下，以沟通、扩展原生裂缝并创造新的裂缝为目的。进而诱导产生复杂的裂缝网络，以提高储层渗透性以及油气产量。</li>
<li>是提高非常规储层渗透性与油气产量的重要手段。</li>
<li>通常在水力压裂作业后期，需要将砂砾等“支撑剂”与压裂液混合，保证裂缝在压力释放后仍能保持开启。</li>
<li>水力压裂是非常规油气实现商业开采的关键技术。</li>
<li>水力压裂是非常规储层改造的重要手段。</li>
</ul>
</blockquote>
<h3 id="双翼型主裂缝"><a href="#双翼型主裂缝" class="headerlink" title="双翼型主裂缝"></a>双翼型主裂缝</h3><blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/shuangyi.PNG" alt="双翼型主裂缝"></li>
<li>在常规储层渗透性改造方面起主导作用。</li>
<li>经典的压裂形态，传统理论在进行压裂预测时也通常进行双翼型裂缝形态假设，并对裂缝长度、宽度进行优化。</li>
<li>图中 <code>d</code> 表示在垂直方向通过基质渗流可以动用的最远距离（也即：有效渗透距离）。</li>
<li>基质渗透率越高，有效距离 <code>d</code> 值越大。</li>
<li>而对于非常规储层，基质渗透率极低，有效距离 <code>d</code> 极小。</li>
<li>因此，双翼型裂缝在非常规储层中可以动用的体积极小，需要非常高的驱替压力，才能增加有效距离 <code>d</code>。</li>
</ul>
</blockquote>
<h3 id="体积压裂"><a href="#体积压裂" class="headerlink" title="体积压裂"></a>体积压裂</h3><blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/tijiyalie.PNG" alt="体积压裂"></li>
<li>通过水力压裂形成的主裂缝、分支裂缝尽可能多的沟通储层内的天然裂缝、节理、缺陷，最终形成复杂的裂缝网络。</li>
<li>最早是在2002年<sup><a href="https://onepetro.org/SPEATCE/proceedings-abstract/02ATCE/All-02ATCE/SPE-77440-MS/135910">[1]</a></sup>，由Maxwell、Fisher等通过微震信号监测发现的。</li>
<li>为了最大程度对非常规储层进行改造。</li>
<li>虽然非常规储层中每条裂缝可以动用的有效距离<code>d</code>很短，但由于相互交错的裂缝数目很多，仍然可以动用大量储层。</li>
<li>天然裂缝是形成复杂裂缝网络的关键因素。</li>
<li>水力压裂形成复杂裂缝网络成为页岩等非常规储层改造的共识。</li>
</ul>
</blockquote>
<h3 id="页岩"><a href="#页岩" class="headerlink" title="页岩"></a>页岩</h3><blockquote>
<ul>
<li>顾名思义，书页状的岩石，层层分布，是常见一种沉积岩类型。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/page.png" alt="炭质页岩"></li>
<li>它的组成颗粒很细，具有光滑的膜感；</li>
<li>层与层之间很薄。</li>
<li>页岩有不同的颜色：白的（硅质页岩）、灰白的（钙质页岩）、灰绿的、灰褐的（铁质页岩）、灰黑的（炭质页岩）、深黑的（油母页岩），这是由构成它的不同物质所决定的。</li>
</ul>
</blockquote>
<h3 id="页岩气-2"><a href="#页岩气-2" class="headerlink" title="页岩气[2]"></a>页岩气<sup><a href="http://www.xinhuanet.com/science/2019-01/23/c_137764895.htm">[2]</a></sup></h3><blockquote>
<ul>
<li>主要成分为甲烷，由碳和氢组成，属有机质，是从页岩中的有机质演化而来。</li>
</ul>
</blockquote>
<h3 id="非常规储层"><a href="#非常规储层" class="headerlink" title="非常规储层"></a>非常规储层</h3><blockquote>
<ul>
<li>主要包括：页岩气、页岩油、致密砂岩储层、煤层气等</li>
<li>共同特点是：渗透率极低</li>
</ul>
</blockquote>
<h3 id="岩石热开裂"><a href="#岩石热开裂" class="headerlink" title="岩石热开裂"></a>岩石热开裂</h3><blockquote>
<ul>
<li>顾名思义，也即是热应力导致的岩石损伤现象。</li>
<li>从地表算起，深度每增加1000 m，温度大约升高30 ℃，例如4000m（120℃）。</li>
</ul>
</blockquote>
<h3 id="干热岩（HDR）-3"><a href="#干热岩（HDR）-3" class="headerlink" title="干热岩（HDR）[3]"></a>干热岩（HDR）<sup><a href="https://www.163.com/dy/article/G75MSG2V0532AAWY.html">[3]</a></sup></h3><blockquote>
<ul>
<li>干热岩（又名增强型地热系统），一般是出现在地下3-10公里深的位置，温度可以达到200℃，这种高温岩体最大的特征就是它的内部是不含流体，或仅有少量地下流体，由于温度很高，我们可以利用技术来开发干热岩中的热能。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/ganreyan.jfif" alt="干热岩"></li>
<li>清洁、可再生、储量丰富、温度高……</li>
<li>21世纪最有前途的新能源之一。</li>
<li>理论上来说，干热岩的储量是非常巨大的，而且开发使用过程中是无污染的，还不受季节的影响，是相当稳定的一种能源供应.</li>
</ul>
</blockquote>
<h3 id="放射性核废物怎么处理？"><a href="#放射性核废物怎么处理？" class="headerlink" title="放射性核废物怎么处理？"></a>放射性核废物怎么处理？</h3><blockquote>
<ul>
<li>将其深埋于地下500-1000m岩层进行地质隔离；</li>
<li>高放射性核废物在埋存期间会发生衰变进而不断放热，核废料周围岩石温度升高（ &gt; 200-300℃），而远场岩石温度较低，因此会产生一个较高的温度梯度。进而会导致岩石发生热开裂，最终导致核废料处置的安全性与稳定性产生巨大影响。</li>
</ul>
</blockquote>
<h2 id="2021-07-25"><a href="#2021-07-25" class="headerlink" title="2021-07-25"></a>2021-07-25</h2><h3 id="岩石流-x2F-热致裂的数值模拟"><a href="#岩石流-x2F-热致裂的数值模拟" class="headerlink" title="岩石流&#x2F;热致裂的数值模拟"></a>岩石流&#x2F;热致裂的数值模拟</h3><blockquote>
<ul>
<li>可以分为两类：</li>
<li><strong>连续介质假定（连续尺度模型）</strong>：</li>
<li>连续尺度模型通常将岩石简化为均质、各向同性的连续介质，不对孔隙和骨架进行区分，每一点既包括流体信息又包括固体信息。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/eq_1.PNG" alt="平衡方程"></li>
<li>Biot提出经典三维固结理论描述流固耦合作用：</li>
<li>（1） 多孔介质均质、各向同性；</li>
<li>（2）平衡状态下，<a href="#1">应力-应变关系</a>可逆；</li>
<li><strong>优点与局限性</strong>，连续尺度模型在岩石流固、热固耦合模拟方面应用广泛，对于指导工程实际具有不可替代的作用，但是在岩石断裂机理探究方面存在局限性。</li>
<li>局限性：</li>
<li>（1）与金属等连续型材料不同，岩石是一种典型的多孔介质，呈现较强的不连续性与非均质性。</li>
<li>（2）连续理论模型假设较多，难以揭示岩石微观断裂机理。</li>
<li>（3）岩石由于热应力形成的损伤大多属于矿物颗粒之间、颗粒内部的微裂纹，而连续理论模型往往需略了材料的内部细节。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><strong>基于岩石离散介质的本质，不受连续性假设的限制（孔隙尺度模型 或 离散模型）</strong>：</li>
<li>与连续尺度模型不同，孔隙尺度模型在模拟岩石力学行为时，不需要预先设置宏观本构模型，而是基于岩石离散介质的本质，通过追踪所有离散颗粒的运动反应岩石整体的力学行为，其中，典型代表为<strong>离散单元法（DEM）</strong><sup><a href="https://www.icevirtuallibrary.com/doi/abs/10.1680/geot.1979.29.1.47">[4]</a><a href="https://www.sciencedirect.com/science/article/pii/S1365160904002874">[5]</a></sup></li>
<li>DEM是一种典型的粒子法。材料被里三位颗粒集合，可以在孔隙尺度上描述材料内部的微观细节。</li>
<li>由于没有宏观连续性假设的限制，DEM在模拟岩石、土壤等颗粒材料大变形、断裂等复杂行为方面取得巨大成功。</li>
<li><strong>DEM</strong>基于孔隙尺度，是研究材料内部微观作用机制的有效手段。</li>
<li><strong>优点：</strong> 与其他传统数值方法相比，例如有限元法，DEM可以方便、有效地描述岩石内部的集合结构，包括孔隙尺寸的不连续性；不需要借助复杂的控制方程、本构模型就可以模拟复杂的力学行为；同时可以提供孔隙尺度上具有统计意义的模拟信息，进而为揭示岩石微观断裂机理提供依据。</li>
<li><strong>缺点：</strong>DEM方法需要求解大量粒子的力学行为，因此计算量较大，如何提高计算效率也是必须要面临的问题。</li>
</ul>
</blockquote>
<h2 id="2021-07-29"><a href="#2021-07-29" class="headerlink" title="2021-07-29"></a>2021-07-29</h2><h3 id="1">应力-应变关系</h3>

<blockquote>
<ul>
<li>材料力学是研究构件承受载荷能力的学科</li>
<li>物体的受力可分为：拉压、扭转、弯曲、剪切几种基本形式。复杂的受力方式可以由这几种基本形式叠加。</li>
<li><strong>应力（Stress）</strong>：内力分布的集度</li>
<li><strong>内力（Internal Force）</strong>：在外力作用下，构件内各质点的相应位置发生了变化，从而引起的各质点间相互作用力的改变量，又称“附加内力”。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/Stress.PNG" alt="应力（Stress）"></li>
<li><strong>应变（Strain）</strong></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/Strain.PNG" alt="应变（Strain）"></li>
<li>某一种特定材料的应力与应变关系称为该材料的应力-应变曲线（stress-strain curve）。 每一种材料都有唯一的应力-应变曲线，该曲线可以通过记录材料在不同的拉伸和压缩加载（应力）下的形变（应变）来获得。</li>
</ul>
</blockquote>
<h3 id="热应力"><a href="#热应力" class="headerlink" title="热应力"></a>热应力</h3><blockquote>
<ul>
<li>在热固耦合问题中，一个重要的概念为<strong>热应力</strong>；</li>
<li>材料发生温度变化时，会有膨胀、收缩的趋势，当这种趋势被约束时则会产生热应力。</li>
<li>这种约束可能来源于外部，也可能是材料自身变形不协调所致。</li>
<li>自由膨胀、收缩不存在约束，因此不会产生热应力。</li>
<li>热应变与温度变化成正比。</li>
<li>$\epsilon_{xx}$ &#x3D; $\epsilon_{yy}$ &#x3D;  $\epsilon_{zz}$ &#x3D; $\beta\Delta T$</li>
<li>其中$\epsilon_{xx}$、$\epsilon_{yy}$、$\epsilon_{zz}$为正应变，$\beta$为膨胀系数，为材料固有属性。</li>
</ul>
</blockquote>
<h3 id="纳维–斯托克斯方程（NS方程）"><a href="#纳维–斯托克斯方程（NS方程）" class="headerlink" title="纳维–斯托克斯方程（NS方程）"></a>纳维–斯托克斯方程（NS方程）</h3><blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/NS.jpeg" alt="NS方程"></li>
</ul>
</blockquote>
<h3 id="达西定律（Darcy’s-law）"><a href="#达西定律（Darcy’s-law）" class="headerlink" title="达西定律（Darcy’s law）"></a><a href="https://zh.wikipedia.org/wiki/%E8%BE%BE%E8%A5%BF%E5%AE%9A%E5%BE%8B">达西定律（Darcy’s law）</a></h3><blockquote>
<ul>
<li>是描述液体流过孔隙介质的本构方程。这个定律是法国工程师亨利·达西在1856年基于水流过沙的实验结果得到的.此定律成为了地球科学的一个分支，水文地质学的基础；并且在生理学中也应用在对于血液与微血管的描述中。</li>
<li>达西定律为NS方程的简化，忽略了 对流项与惯性项，能够有效描述缓慢渗流过程。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/Darcy's_Law.svg.png" alt="达西定律"></li>
<li>$Q$ &#x3D; $\frac {\kappa A (p_b-p_a)} {\mu L}$ </li>
<li>其中，$Q$为总流量，$\kappa$为介质固有的渗透率，$A$为介质的截面，$(p_b-p_a)$为总压降，$L$为压降的距离，$\mu$为流体的黏度。</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2021</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
        <tag>2021-07</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2021-11</title>
    <url>/MyWiki/wiki/2021/11/01/notes/PaperReadNote202111/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="2021-11-01"><a href="#2021-11-01" class="headerlink" title="2021-11-01"></a>2021-11-01</h2><h3 id="极性分子"><a href="#极性分子" class="headerlink" title="极性分子"></a>极性分子</h3><blockquote>
<ul>
<li>在化学中，极性（polarity），是指一个共价键或一个共价分子中电荷分布的不均匀性。 如果电荷分布得不均匀，则称该键或分子为极性；如果均匀，则称为非极性。</li>
</ul>
</blockquote>
<h4 id="共价键的极性"><a href="#共价键的极性" class="headerlink" title="共价键的极性"></a>共价键的极性</h4><blockquote>
<ul>
<li>共价键的极性是因为成键的两个原子电负度不相同而产生的。</li>
<li>键的极性程度可以用两个原子电负度之差来衡量。差值在0.4到1.7之间的是典型的极性共价键，差值在0.0到0.4之间的是非极性共价键，两个原子完全相同（当然电负度也完全相同）时，差值为0，这时原子间成非极性键。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>键可以堕入两个极端——极性和非极性。当构成共价键的不同离子的电负度完全相同，便会产生完全非极性的键。相反，当两者的电负度相差值大得足以令其中一种离子完全取走了另一方的一粒电子，就会产生极性键——或更贴切而言，是离子键。“极性”和“非极性”二词多用于形容共价键上。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><img src="https://upload.wikimedia.org/wikipedia/commons/e/ee/Water-charge-surface.png" alt="水"> </li>
<li>水是极性化合物。由于氧原子强烈的电负度，电子对明显偏向氧一侧，因此氧周围聚集负电荷（红色部分），氢原子周围聚集正电荷（蓝色部分）。</li>
</ul>
</blockquote>
<h4 id="分子的极性"><a href="#分子的极性" class="headerlink" title="分子的极性"></a>分子的极性</h4><blockquote>
<ul>
<li><img src="https://upload.wikimedia.org/wikipedia/commons/1/1b/Polarity_boron_trifluoride_zh.png"></li>
<li>三角形的三氟化硼分子。尽管3根键都是极性键，但分子是非极性分子。因为分子对称，正负电荷中心重合了。</li>
</ul>
</blockquote>
<h3 id="Voronoi-泰森多边形法"><a href="#Voronoi-泰森多边形法" class="headerlink" title="Voronoi 泰森多边形法"></a><a href="https://baike.baidu.com/item/%E6%B3%B0%E6%A3%AE%E5%A4%9A%E8%BE%B9%E5%BD%A2/3428661">Voronoi 泰森多边形法</a></h3><blockquote>
<ul>
<li>泰森多边形又叫冯洛诺伊图（Voronoi diagram），得名于Georgy Voronoi，是一组由连接两邻点线段的垂直平分线组成的连续多边形组成。一个泰森多边形内的任一点到构成该多边形的控制点的距离小于到其他多边形控制点的距离。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/vd.jpg"></li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2021</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
        <tag>2021-11</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2023-秋</title>
    <url>/MyWiki/wiki/2023/07/01/notes/PaperReadNote2023_C/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/08/18/18/42/emotions-3615255_1280.jpg"></p>
<h2 id="Paper-Notes-2023"><a href="#Paper-Notes-2023" class="headerlink" title="Paper Notes 2023"></a>Paper Notes 2023</h2><h3 id="2023-7月-8月-9月"><a href="#2023-7月-8月-9月" class="headerlink" title="2023-7月@8月@9月"></a>2023-7月@8月@9月</h3><h4 id="Some-phrases"><a href="#Some-phrases" class="headerlink" title="Some phrases"></a>Some phrases</h4><ul>
<li><p>As the ore product</p>
<ul>
<li><blockquote>
<p>ore  n.矿；矿石，矿砂；</p>
</blockquote>
</li>
</ul>
</li>
<li><p>Plateau : n.高原；平稳时期，稳定水平；停滞期； v.进入停滞期；达到平稳状态；</p>
</li>
<li><p>permafrost strata 永久冻土地层</p>
</li>
<li><p>within the system due to the variety of substances, the inhibitory effect of inhibitors will vary due to multiple factors</p>
</li>
<li><p>thus far 迄今为止</p>
</li>
<li><p>adsorption and stereo-hindrance effects. 吸附和立体位阻效应。</p>
</li>
<li><p>In sharp contrast 形成鲜明对比</p>
</li>
<li><p>The heat consumption for this dynamics process can be <strong>replenished</strong> by the bulk water and silica phase in our simulations. </p>
</li>
<li><p>In this regard， 在这方面：表示在某个特定的方面或情况下。</p>
</li>
<li><p>the soaring cost of hydrate inhibitors </p>
<ul>
<li>soaring ： *adj.*翱翔的；高耸的；猛增的</li>
</ul>
</li>
<li><p>it would be of great concern. 这将引起极大的关注。</p>
</li>
<li><p>and so forth </p>
</li>
<li><p>a variety of </p>
</li>
<li><p>sustainable technologies 可持续性技术</p>
</li>
<li><p>shed light on  阐明；使…清楚地显出</p>
<ul>
<li>illustrate、clarify</li>
</ul>
</li>
<li><p>This may be due to the fact that there are fewer polar atoms in aromatic hydrocarbons and glial molecules</p>
</li>
<li><p>as corroborated by the research of Kang et al. Kang等人的研究也证实了这一点。</p>
</li>
</ul>
<h3 id="水合物钻井"><a href="#水合物钻井" class="headerlink" title="水合物钻井"></a>水合物钻井</h3><ul>
<li>由于水合物地层强度较低，目前应用最广泛的水合物地层钻井方法——<strong>压力控制</strong> 和 <strong>温度&#x2F;压力控制方法</strong>，不能保证钻井安全，易导致地面套管下封前钻井液泄漏或水合物不可控解离</li>
</ul>
<h4 id="Bernal–Fowler-冰规则（Bernal–Fowler-ice-rule）"><a href="#Bernal–Fowler-冰规则（Bernal–Fowler-ice-rule）" class="headerlink" title="Bernal–Fowler 冰规则（Bernal–Fowler ice rule）"></a>Bernal–Fowler 冰规则（Bernal–Fowler ice rule）</h4><ul>
<li><p>用于描述某些晶体中的离子或分子的排列规则。该规则适用于一些晶体结构中存在的离子或分子有两种不同的位置，并在这些位置上交替排列的情况。</p>
</li>
<li><p>根据 Bernal–Fowler 冰规则，当存在交替排列的离子或分子时，每个离子或分子都应该被其最近的邻居包围或接触，形成一种稳定的排列模式或者称为凝聚态。</p>
</li>
<li><p>这个规则得名于科学家J.D. Bernal和R.H. Fowler，他们提出了这个规则来解释冰的晶体结构中水分子的排列方式。尽管该规则最初是对冰的解释，但后来发现它还适用于其他晶体结构，尤其是具有离子交替排列的晶体。</p>
</li>
<li><blockquote>
<p>ChatGPT学术版</p>
</blockquote>
</li>
</ul>
<h4 id="tortuosity"><a href="#tortuosity" class="headerlink" title="tortuosity"></a>tortuosity</h4><ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/paperreadnote2023_c.md/219525410230960.png"></li>
</ul>
<h4 id="Quartet-Structure-Generation-Set-method-QSGSM"><a href="#Quartet-Structure-Generation-Set-method-QSGSM" class="headerlink" title="Quartet Structure Generation Set method (QSGSM)"></a><a href="https://github.com/Jeff-Hugh/GenPorMed">Quartet Structure Generation Set method (QSGSM)</a></h4><ul>
<li>Generate random porous media with Quartet Structure Generation Set (QSGS) method.</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Jeff-Hugh/GenPorMed.git</span><br><span class="line"><span class="built_in">cd</span> GenPorMed</span><br><span class="line"><span class="comment"># install gnuplot</span></span><br><span class="line">sudo apt-get install gnuplot</span><br><span class="line"><span class="comment"># install boost</span></span><br><span class="line">wget https://boostorg.jfrog.io/artifactory/main/release/1.83.0/source/boost_1_83_0.tar.gz</span><br><span class="line">tar -zxvf boost_1_83_0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> boost_1_83_0</span><br><span class="line">./bootstrap.sh</span><br><span class="line">./b2</span><br><span class="line">sudo ./b2 install</span><br><span class="line"><span class="comment"># install GenPorMed</span></span><br><span class="line">vim CMakeCache.txt <span class="comment">#修改Boost_DIR路径</span></span><br><span class="line">cmake ./</span><br><span class="line">make</span><br><span class="line">./run</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="https://github.com/Jeff-Hugh/GenPorMed/raw/master/fig/porous_3D_0.5.png"></li>
</ul>
<h4 id="沉积物内水合物三种典型的赋存状态"><a href="#沉积物内水合物三种典型的赋存状态" class="headerlink" title="沉积物内水合物三种典型的赋存状态"></a>沉积物内水合物三种典型的赋存状态</h4><ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/paperreadnote2023_c.md/293490822249385.png"></li>
<li><blockquote>
<p><em>Fuel 353 (2023) 129032</em></p>
</blockquote>
</li>
</ul>
<h4 id="pnextract"><a href="#pnextract" class="headerlink" title="pnextract"></a><a href="https://github.com/ImperialCollegeLondon/pnextract">pnextract</a></h4><ul>
<li><p>多孔介质微ct图像的孔隙网络提取</p>
</li>
<li><p>文献：</p>
</li>
<li><blockquote>
<p><a href="https://journals.aps.org/pre/abstract/10.1103/PhysRevE.80.036307">Phys. Rev. E 80, 036307 (2009) - Pore-network extraction from micro-computerized-tomography images (aps.org)</a></p>
<p><a href="https://journals.aps.org/pre/abstract/10.1103/PhysRevE.96.013312">Phys. Rev. E 96, 013312 (2017) - Generalized network modeling: Network extraction as a coarse-scale discretization of the void space of porous media (aps.org)</a></p>
</blockquote>
</li>
</ul>
<h4 id="Volumetric-Lattice-Boltzmann-Method-VLBM"><a href="#Volumetric-Lattice-Boltzmann-Method-VLBM" class="headerlink" title="Volumetric Lattice Boltzmann Method (VLBM)"></a>Volumetric Lattice Boltzmann Method (VLBM)</h4><ul>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0920410517305260#sec3">GPU-accelerated volumetric lattice Boltzmann method for porous media flow - ScienceDirect</a></li>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0017931017316496">Unified mesoscopic modeling and GPU-accelerated computational method for image-based pore-scale porous media flows - ScienceDirect</a></li>
<li><a href="https://www.sciencedirect.com/science/article/pii/S0309170820304358">A greyscale volumetric lattice Boltzmann method for upscaling pore-scale two-phase flow - ScienceDirect</a></li>
</ul>
<h4 id="Thermal-fluidization-index-TFI"><a href="#Thermal-fluidization-index-TFI" class="headerlink" title="Thermal fluidization index (TFI)"></a>Thermal fluidization index (TFI)</h4><ul>
<li><p>热流化指数(TFI)可以衡量动态过程中弱相互作用的稳定性。</p>
</li>
<li><p>$TFI&#x3D;\frac {std(rho)} {avg((rho))}$</p>
<ul>
<li><p>$avg(rho)$是整个轨迹的平均密度，$std(rho)$是整个轨迹密度的方差。</p>
</li>
<li><blockquote>
<p><em>J. Am. Chem. Soc., 132 (18) (2010), pp. 6498-6506,</em></p>
<p><em>Journal of Molecular Liquids, 2023, 370: 121008.</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="Mass-Transport-Deposits-MTDs"><a href="#Mass-Transport-Deposits-MTDs" class="headerlink" title="Mass Transport Deposits (MTDs)"></a>Mass Transport Deposits (MTDs)</h4><ul>
<li>是一种地质术语，用于描述海底沉积物的运移沉积现象。MTDs 是指大规模沉积物在海底坡度较陡的区域发生崩塌或滑动后，向下坡移动并在海底堆积形成的沉积物体。这些沉积物体通常包括岩屑、泥浆、碎屑和水合物等。</li>
<li>MTDs 可能发生在大陆坡、河口三角洲、海底峡谷和海底扇等地形复杂的区域。这些沉积物体的形成可能是由于地震活动、重力滑坡、海底流体渗透导致沉积物流动等因素引起的。</li>
<li>MTDs 不仅对地球科学研究有着重要意义，还对海底资源勘探和开发具有重要影响。了解和研究 MTDs 可以帮助我们理解海底地质过程、预测地质灾害风险并评估潜在的油气和矿产资源。</li>
</ul>
<h4 id="Bottom-Simulating-Reflector-BSR"><a href="#Bottom-Simulating-Reflector-BSR" class="headerlink" title="Bottom Simulating Reflector (BSR)"></a>Bottom Simulating Reflector (BSR)</h4><ul>
<li>是指一种地球科学术语，用于描述海底地震勘探中的一种地质特征。</li>
<li>简单来说，BSR 是一种在海底地形中反射声波的地层。</li>
<li>它通常指示着在深水海底和沉积物之间存在着天然气水合物的存在。</li>
<li>当声波遇到天然气水合物的边界时，会发生反射，形成BSR。</li>
<li>因此，BSR 的存在可以作为检测天然气水合物存在的指标之一。这对于天然气水合物的勘探和开发具有重要意义。</li>
</ul>
<h4 id="热力学抑制剂浓度对水合物分解抑制的影响"><a href="#热力学抑制剂浓度对水合物分解抑制的影响" class="headerlink" title="热力学抑制剂浓度对水合物分解抑制的影响"></a>热力学抑制剂浓度对水合物分解抑制的影响</h4><p><img src="/MyWiki/!%5Bimg%5D(https:/ars.els-cdn.com/content/image/1-s2.0-S0009250919300892-gr7_lrg.jpg"></p>
<ul>
<li>实验证明低浓度热力学抑制剂，例如乙二醇（EG），会抑制水分合分解，高浓度下促进分解</li>
</ul>
<h4 id="水合物井筒模型"><a href="#水合物井筒模型" class="headerlink" title="水合物井筒模型:"></a>水合物井筒模型:</h4><p><img src="https://www.frontiersin.org/files/Articles/997337/feart-10-997337-HTML/image_m/feart-10-997337-g006.jpg"></p>
<ul>
<li>(A)单口直井、(B)双口直井、(C)径向水平井、(D)鱼骨井、(E)单口水平井、(F)双口水平井、(G)双鱼骨井、(H)双分支分支分支水平井。</li>
</ul>
<h4 id="LSTM-long-short-term-memory"><a href="#LSTM-long-short-term-memory" class="headerlink" title="LSTM (long short-term memory )"></a>LSTM (long short-term memory )</h4><blockquote>
<p><em>Energy 282 (2023) 128337</em></p>
</blockquote>
<ul>
<li><p>LSTM is a deep learning algorithm that is able to predict future events by learning features from historical data.</p>
</li>
<li><p>LSTM has been successful in language modeling, speech-totext transcription and machine translation</p>
</li>
<li><p>The LSTM neural network model ML model is a sequential model including head-to-tail, linear stacking model without bifurcation.</p>
</li>
</ul>
<h4 id="为什么甲烷水合物分解后，很多甲烷分子吸附在了亲水的石英表面"><a href="#为什么甲烷水合物分解后，很多甲烷分子吸附在了亲水的石英表面" class="headerlink" title="为什么甲烷水合物分解后，很多甲烷分子吸附在了亲水的石英表面"></a>为什么甲烷水合物分解后，很多甲烷分子吸附在了亲水的石英表面</h4><blockquote>
<p><em>Fuel 258 (2019) 116106</em></p>
</blockquote>
<ul>
<li>Several factors may contribute to the formation of methane nanobubbles on hydrophilic silica surfaces. <ol>
<li>The first is that the adsorption behavior of $CH_4$ on the solid surface with silanol groups in $CH_4-H_2O-SiO_2$ three phase system is more complicated than $CH_4-SiO_2$ or $H_2O-SiO_2$ two phase systems; this process is affected by temperature, pressure and water content. Recently experimental work shows that at a certain water content, confined water molecules (water within the pores) can promoted the adsorption of $CH_4$ by forming deeper adsorption potential energy wells on hydrophilic silica surfaces, making the system more stable.</li>
<li>The second effect is that the kinetics factor may be important. During the decomposition of hydrates, methane molecules did not immediately release from the silica nanopore to the bulk phase, instead, they aggregate in the silica nanopore and form bubbles on the surface.</li>
</ol>
</li>
</ul>
<h4 id="水合物与岩石表面之间的缓冲水"><a href="#水合物与岩石表面之间的缓冲水" class="headerlink" title="水合物与岩石表面之间的缓冲水"></a>水合物与岩石表面之间的缓冲水</h4><blockquote>
<p><em>Fuel 258 (2019) 116106</em></p>
</blockquote>
<ul>
<li>due to the fact that the bound water on the surfaces of semimetal grains cannot be 100% converted into hydrate both in simulations and experiments, and this thin water layer could relieve the mismatch between hydrate and silica two solid lattices.</li>
</ul>
<h4 id="水合物分解的两个步骤"><a href="#水合物分解的两个步骤" class="headerlink" title="水合物分解的两个步骤"></a>水合物分解的两个步骤</h4><blockquote>
<p><em>Fuel 258 (2019) 116106</em></p>
</blockquote>
<ul>
<li>first, the enhanced diffusive behaviors of the host water molecules in the hydrate crystals lead to unit cell size increases and distortions that ultimately break down the lattices；</li>
<li>second, methane molecules escape from these incomplete cages and aggregate</li>
</ul>
<h4 id="钻井液的功能"><a href="#钻井液的功能" class="headerlink" title="钻井液的功能"></a>钻井液的功能</h4><ul>
<li><p>清洗：Cleaning the Hole;</p>
</li>
<li><p>冷却和润滑：Cooling and Lubricating Drill String;</p>
</li>
<li><p>排出岩屑：Lifting Cuttings to the Surface;</p>
</li>
<li><p>获得地层信息：Carrying Information about Formations;</p>
</li>
<li><p>稳定井筒：Stabilizing Wellbore;</p>
</li>
<li><p>控制地层压力：Controlling Formation Pressure;</p>
</li>
<li><p>?：Suspending Cuttings;</p>
</li>
</ul>
<h4 id="水合物钻井面临的挑战"><a href="#水合物钻井面临的挑战" class="headerlink" title="水合物钻井面临的挑战"></a>水合物钻井面临的挑战</h4><blockquote>
<p><em>Arabian Journal of Chemistry (2023) 16, 105068</em></p>
</blockquote>
<ul>
<li><p>低温高压下，钻井液黏度增加，钻井困难；</p>
<ul>
<li><blockquote>
<p>The high pressure and low temperature environment of offshore drilling increases the viscosity of drilling fluid, resulting in increased difficulty in regulating the low temperature rheology of drilling fluid and making the drilling process difficult.</p>
</blockquote>
</li>
</ul>
</li>
<li><p><mark>钻井液入侵水合物层，导致水合物分解，井壁失稳；</mark></p>
<ul>
<li><blockquote>
<p>The drilling fluid invades the natural gas hydrate formation, breaking the original state of the stable existence of natural gas hydrate, and the decomposition of natural gas hydrate leads to wellbore instability.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>近井水合物分解，生产管道、阀门内二次水合物形成引起的堵塞问题；</p>
<ul>
<li><blockquote>
<p>Decomposition of natural gas hydrates in the vicinity of near wells, and blockage problems such as secondary hydrate formation in production pipelines and valves after decomposition of free natural gas</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="First-order-or-second-order-phase-transformation"><a href="#First-order-or-second-order-phase-transformation" class="headerlink" title="First-order or second-order phase transformation"></a>First-order or second-order phase transformation</h4><ul>
<li><p>第一阶相变（First-order phase transformation）和第二阶相变（Second-order phase transformation）是描述物质在不同条件下发生的相变类型的术语。</p>
<p>第一阶相变： <strong>第一阶相变是指在相变过程中，物质的热力学状态会经历一个明显的跃迁</strong>。在这种相变中，物质的熵和焓会发生突变，导致相变点处出现明显的跃迁。典型的第一阶相变包括固体和液体之间的相变（如熔化和凝固）、液体和气体之间的相变（如沸腾和液化）。在第一阶相变中，物质在相变点处会同时存在两种相态，而且相变过程中的温度和压力保持不变。</p>
</li>
<li><p>第二阶相变： <strong>第二阶相变是指物质在相变过程中没有明显的热力学跃迁，其熵和焓的变化是连续的</strong>。在这种相变中，物质的某些物理性质会发生突变，如磁性、电导率或比热容等。典型的第二阶相变包括铁磁性相与顺磁性相之间的相变、液晶相变、超导相变等。与第一阶相变不同，第二阶相变在相变点处不会同时存在两种相态，而是通过连续的变化逐渐转变。</p>
</li>
<li><p>总结来说，第一阶相变是具有明显热力学跃迁的相变，其过程中熵和焓发生突变，物质在相变点处同时存在两种相态。而第二阶相变是连续的相变，其过程中熵和焓变化连续，物质在相变点处只存在一种相态，但某些物理性质可能发生突变。</p>
<ul>
<li><blockquote>
<p><a href="https://help.openai.com/en/articles/6825453-chatgpt-release-notes">ChatGPT May 24 Version</a></p>
</blockquote>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2023-春</title>
    <url>/MyWiki/wiki/2023/01/01/notes/PaperReadNote2023_A/</url>
    <content><![CDATA[<h2 id="Paper-Notes-2023"><a href="#Paper-Notes-2023" class="headerlink" title="Paper Notes 2023"></a>Paper Notes 2023</h2><h3 id="2023-1月-2月-3月"><a href="#2023-1月-2月-3月" class="headerlink" title="2023-1月@2月@3月"></a>2023-1月@2月@3月</h3><h4 id="English-phrases"><a href="#English-phrases" class="headerlink" title="English phrases"></a>English phrases</h4><ul>
<li><p>(<em>Journal of Molecular Liquids 363 (2022) 119873</em>)</p>
</li>
<li><p>These trends are exactly <mark>synchronous</mark></p>
<blockquote>
<p>adj. 同步的；同时的
  </p>
</blockquote>
</li>
<li><p>To investigate this point 为了研究这一点</p>
</li>
<li><p>In this scenario,  在这种情况下</p>
</li>
<li><p>we conjecture that 我们推测</p>
</li>
<li><p>It can explain why continuous hydrate growth is not easily observed in short-term molecular simulations</p>
</li>
<li><p>This is similar to findings <mark>pertaining</mark> to the growth of tetrahydrofuran hydrate</p>
<blockquote>
<p>adj. 附属的；与……有关的
  </p>
</blockquote>
</li>
<li><p>To some extent,在一定程度上；在某种程度上</p>
</li>
<li><p>To the best of our knowledge 据我们所知</p>
</li>
<li><p>Methane hydrates are prevalent beneath ocean sediments 甲烷水合物普遍存在于海洋沉积物之下</p>
</li>
<li><p>with a broad prospect in the studies of xxx,xxx,xxx.在xxx、xxx、xxx的研究中具有广阔的前景。</p>
</li>
<li><p>This study deepens how solid surfaces affect the numerous hydrate-formation pathways. 这项研究深化了固体表面如何影响众多水合物形成途径。</p>
</li>
<li><p>after which it fell，在那之后，</p>
</li>
<li><p>at length 详细地</p>
</li>
<li><p>vitreous body [解剖] 玻璃体</p>
</li>
<li><p>To begin with 首先；本来</p>
</li>
<li><p>Gas hydrates have attracted considerable interest since the discovery that much of the natural gas (methane) on Earth is tied up as crystalline hydrates in deep-sea sediments and in the permafrost</p>
</li>
<li><p>clogging equipment 阻塞设备</p>
</li>
<li><p>a potent greenhouse gas 强有力的温室气体</p>
</li>
<li><p>In this respect在这方面</p>
</li>
<li><p>sb postulated that 某人假设that</p>
</li>
<li><p><strong>account in</strong>（解释） an effective manner for polarization,</p>
</li>
<li><p><strong>account for</strong>（考虑） repulsion and dispersion interactions.</p>
</li>
<li><p><strong>extrapolating</strong>（外推） the system to infinite size in the direction of the temperature gradient. </p>
</li>
<li><p>was <strong>imposed</strong> （施加）along the Z axis</p>
</li>
<li><p>A procedure similar to that outlined above was followed to calculate the thermal conductivity  采用与上述相似的程序计算热导率</p>
</li>
<li><p>As an additional &#x3D;&#x3D;corroboration&#x3D;&#x3D; （n. 确证，证实；确证的事实） of the theoretical methodology employed in this work, the thermal conductivity of liquid water and of ice Ih were also calculated by the NEMD method and compared with experimental values.</p>
</li>
<li><p>at a temperature of 300 K</p>
</li>
<li><p>a rectangular <strong>parallelepiped</strong>（n. 平行六面体）simulation box</p>
</li>
<li><p>it was not necessary to </p>
</li>
<li><p>Test calculations carried out with a time step of 1 fs gave thermal conductivities <strong>nearly identical to</strong>（几乎完全相同） those obtained with the 2 fs time step, and the energy was well conserved in all simulations. </p>
</li>
<li><p>It should be noted that it is difficult to obtain accurate measurements of the thermal conductivities of defect-free hydrates</p>
</li>
<li><p>For all of these hydrates</p>
</li>
<li><p>it is seen that the thermal conductivity can be expressed <mark>in terms of </mark> (依据) <strong>the product of</strong>（积） the density, specific heat, effective phonon velocity, and effective phonon mean free path.</p>
<ul>
<li>product of the first three of these terms 前三项的积</li>
</ul>
</li>
<li><p>As mentioned above</p>
</li>
<li><p>Most strikingly,</p>
</li>
<li><p>identify the source of this discrepancy 确定这种差异的来源</p>
</li>
<li><p>To further exploit the physical insights</p>
</li>
<li><p><strong>the state-of-the-art</strong> <strong>最先进的</strong>研究进展 on the thermodynamics and formation kinetics of methane hydrate is presented.</p>
</li>
<li><p>The remainder of this chapter is organized as follows. 本章其余部分的组织如下。</p>
</li>
<li><p>&#x3D;&#x3D;<strong>Of particular concern is the fact that</strong>&#x3D;&#x3D; gas hydrates are very sensitive to changes of external conditions such as temperature and pressure resulting from natural environmental changes and human activities.</p>
</li>
<li><p>This agrees with the fact that, </p>
</li>
<li><p>Such a definition of creep strain &#x3D;&#x3D;is analogous to&#x3D;&#x3D; that of the engineering strain. </p>
</li>
<li><p>&#x3D;&#x3D;To extract further&#x3D;&#x3D; structural information about GB regions</p>
</li>
<li><p>However, for the polycrystals in the relaxed state, the coordination numbers of water particles at GB regions &#x3D;&#x3D;are comparable to&#x3D;&#x3D; those of grain interiors.</p>
</li>
<li><p>water cages of methane hydrates &#x3D;&#x3D;are composed of&#x3D;&#x3D; several membered rings. </p>
</li>
<li><p>are all roughly equal to zero</p>
</li>
<li><p><mark>To elucidate in-depth</mark> the mechanical creep mechanisms <mark>behind</mark> the creep phenomena of polycrystalline methane hydrates,</p>
</li>
<li><p><mark>With regard to</mark> polycrystalline methane hydrates with large mean grain sizes,</p>
</li>
<li><p><mark>When subjected to</mark> low static stress</p>
</li>
<li><p>Interestingly, the $4^15^{10}6^2$ cages can <mark>serve as</mark> an intermediate bridge in the structural transformation between structure I and H gas hydrates (<em>J. Chem. Phys., 2015, 143, 011102</em>)</p>
</li>
<li><p>stability and lability</p>
</li>
<li><p>It has been demonstrated that</p>
</li>
<li><p>Memory preservation may differ from sample to sample 记忆保存可能因样本而异</p>
</li>
<li><p>Given the experimental difficulties in attaining subtle details of molecular structures and motions during the decomposition and nucleation of gas hydrates;</p>
</li>
<li><p>As demonstrated in Fig. 2b-2e; As illustrated in Fig. 6a,</p>
</li>
<li><p>readily enter 很容易进入</p>
</li>
<li><p>outermost layer 最外层</p>
</li>
<li><p>fades away 逐渐消失</p>
</li>
<li><p>methane molecules <mark>stemming from</mark> the destroyed cages <mark>flee from</mark> the decomposition solution completely.</p>
</li>
<li><p>other parts are still intact 其他部分仍然完好无损</p>
</li>
<li><p>Shortly afterward, 不久之后</p>
</li>
<li><p>based on the timing when hydrate cages had just decomposed </p>
</li>
<li></li>
</ul>
<h4 id="水合物的记忆效应"><a href="#水合物的记忆效应" class="headerlink" title="水合物的记忆效应"></a>水合物的记忆效应</h4><ul>
<li>Generally, the memory effect is a phenomenon that gas hydrate reformation is faster in memory water, which refers to the water produced from the dissociation ofmethane hydrate, than in fresh water without a history of hydrate crystallization (<em>Journal of Molecular Liquids 363 (2022) 119831</em>)</li>
<li><strong>也即，相比于本来就是水和甲烷的体系，甲烷水合物分解后生成的水和气体体系更易于重新生成甲烷水合物</strong>，即使只有很少的记忆水也能引发记忆效应；</li>
<li><strong>一般认为，当温度远高于热力学相平衡边界时或者分解后保存的时间过长时，记忆效应才会消失</strong>；</li>
<li></li>
</ul>
<h4 id="水合物的玻璃体性质"><a href="#水合物的玻璃体性质" class="headerlink" title="水合物的玻璃体性质"></a>水合物的玻璃体性质</h4><ul>
<li>一般晶体材料的热导率和温度是$T^{-1}$关系，而水合物一般随着温度升高，热导率小幅度升高，这与非晶态的类玻璃体相似。（J. Phys. Chem. B, Vol. 112, No. 33, 2008）</li>
</ul>
<h4 id="四体角序参数（four-body-angular-OP-）"><a href="#四体角序参数（four-body-angular-OP-）" class="headerlink" title="四体角序参数（four-body angular OP ）"></a>四体角序参数（four-body angular OP ）</h4><ul>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/papernote2023-a.md/121670017230255.png" alt="Energy 262 (2023) 125511"></p>
</li>
<li><blockquote>
<p>Hydrate : F4 &#x3D; 0.7</p>
</blockquote>
</li>
<li><blockquote>
<p>Solid ice : F4 &#x3D; -0.4</p>
</blockquote>
</li>
<li><blockquote>
<p>Liquid water: F4 &#x3D; -0.04</p>
</blockquote>
</li>
</ul>
<h4 id="水合物数字岩心建模"><a href="#水合物数字岩心建模" class="headerlink" title="水合物数字岩心建模"></a>水合物数字岩心建模</h4><ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/papernote2023-a.md/521135716248668.png" alt="水合物沉积物变形微观响应机理研究"></li>
</ul>
<h4 id="水合物二次生成"><a href="#水合物二次生成" class="headerlink" title="水合物二次生成"></a>水合物二次生成</h4><ul>
<li>水合物分解吸热和<a href="https://zhuanlan.zhihu.com/p/358380612">Joule-Thomson 效应</a>（在气体通过节流阀的过程中，会产生压力突变，继而引起温度发生改变。这种现象被称为焦耳-汤姆逊效应）</li>
<li>由于水合物表面存在着大量的完全或半完全形成的笼型结构，因此有着较小的成核驱动力，导致水合物二次生成会自发避开先前不存在水合物的区域</li>
</ul>
<h4 id="屈服强度"><a href="#屈服强度" class="headerlink" title="屈服强度"></a>屈服强度</h4><ul>
<li>屈服强度是金属材料发生屈服现象时的屈服极限，也就是抵抗微量塑性变形的应力。</li>
<li>于屈服强度的外力作用，将会使零件永久失效，无法恢复。</li>
<li><blockquote>
<p><a href="https://www.bilibili.com/video/BV1uf4y1Z7r7/?share_source=copy_web&vd_source=e8fdb572f732bc4c31b3374398b12e19">什么是屈服和屈服强度?</a></p>
</blockquote>
</li>
</ul>
<h4 id="相关软件"><a href="#相关软件" class="headerlink" title="相关软件"></a>相关软件</h4><ul>
<li>inspeXio：图形处理软件</li>
<li>Avizo 2019.1<blockquote>
<p>文基于Avizo 软件，通过generate surface 命令将上文所构建的水合物饱和度38.5%的胶结型水合物沉积物数字岩心中水合物胶结物二值化图像堆栈、砂颗粒和孔吼空间合并后的二值化图像堆栈构建为STL（Stereo Lithography）网格模型后，然后通过smoothsurfacre 命令对其表面进行平滑，得到了质量较好的STL 网格模型<br><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/papernote2023-a.md/395761319236535.png"></p>
</blockquote>
</li>
<li>OpenPIV</li>
<li>离散元数值模拟软件PFC3D 5.0</li>
</ul>
<h4 id="水合物稳定性"><a href="#水合物稳定性" class="headerlink" title="水合物稳定性"></a>水合物稳定性</h4><ul>
<li>天然矿藏中，水合物的结构稳定压力通常是由<mark>周围的自由气层</mark>或<mark>孔隙水</mark>来维持。</li>
<li>具体工程应用上，热激法的实施方式主要有两种：（1）在预热井中直接注入热水或蒸汽，（2）井下电磁加热。</li>
<li>化学试剂（水合物抑制剂），如甲醇、盐水、乙醇、乙二醇、丙三醇等，可以改变水合物的相平衡条件，使水合物的稳定温度降低</li>
<li>相比于降压和热激法，抑制剂注入法起效较慢，但有着更低的前期能量投入。</li>
<li>二氧化碳水合物生成放热量高于甲烷水合物分解吸热量，保证了用二氧化碳分子置换甲烷水合物笼子中的甲烷分子的可行性，二氧化碳置换法可以同时实现开采甲烷气体、封存温室气体二氧化碳的目的，同时生成的二氧化碳水合物对于维持水合物沉积层的力学稳定性有着积极作用，防止由于水合物的相变导致地层失稳。</li>
<li>四氢呋喃tetrahydrofuran,ＴＨＦ,是一个杂环有机化合物，化学式为$C_4H_8O$，属于醚类，是呋喃的完全氢化产物，为无色透明液体，溶于水、乙醇、乙醚、丙酮、苯等，主要用作溶剂、化学合成中间体、分析试剂。</li>
<li><img src="https://bkimg.cdn.bcebos.com/pic/b219ebc4b74543a9060cbd6a16178a82b9011404?x-bce-process=image/watermark,image_d2F0ZXIvYmFpa2U5Mg==,g_7,xp_5,yp_5"></li>
<li>四氢呋喃在2B类致癌物清单中</li>
<li>绝大部分天然水合物赋存在细沙或泥沙中，孔隙尺寸在十几纳米到几百纳米</li>
<li>小颗粒基质中的水合物生长则呈现了水合物团簇包裹并胶结固体基质的现象，并存在锋利的水合物－液界面</li>
<li>水合物的降压分解率先启动于水合物-气接触面，而在水合物-砂颗粒接触面处分解较慢。这主要是由于水合物与砂颗粒之间间隙较小，且砂颗粒自身较为密实，通过该方式实现传质难度较大，因此水合物降压分解选择了一个传质阻力较低的路径，即水合物-气接触面</li>
<li>由于水中的气体分子溶解度较低，因此这会增加水合物分解的传质阻力，降低水合物分解速率</li>
<li></li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>学习笔记2024-B</title>
    <url>/MyWiki/wiki/2024/07/01/notes/PaperReadNote2024_B/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/08/18/18/42/emotions-3615255_1280.jpg"></p>
<h1 id="Paper-Notes-2024"><a href="#Paper-Notes-2024" class="headerlink" title="Paper Notes 2024"></a>Paper Notes 2024</h1><h2 id="2024-12月"><a href="#2024-12月" class="headerlink" title="2024-12月"></a>2024-12月</h2><h3 id="Light-Gradient-Boosting-Machine-LightGBM-是什么模型"><a href="#Light-Gradient-Boosting-Machine-LightGBM-是什么模型" class="headerlink" title="Light Gradient Boosting Machine (LightGBM) 是什么模型"></a>Light Gradient Boosting Machine (LightGBM) 是什么模型</h3><p><strong>Light Gradient Boosting Machine (LightGBM)</strong> 是一种高效的梯度提升树（Gradient Boosting Decision Tree, GBDT）模型。它是由微软 DMTK（Distributed Machine Learning Toolkit）团队开发的，旨在提高传统梯度提升模型的速度和效率。LightGBM 通常用于处理大规模数据集，并且能够在机器学习竞赛中取得优秀的成绩，尤其是在 Kaggle 等平台上。</p>
<h4 id="LightGBM-的基本概念"><a href="#LightGBM-的基本概念" class="headerlink" title="LightGBM 的基本概念"></a>LightGBM 的基本概念</h4><p>LightGBM 是一个基于树的算法，属于 <strong>提升树（Boosting Trees）</strong> 类的一种，它通过将多个弱学习器（通常是决策树）组合成一个强学习器来进行预测。在每一轮迭代中，LightGBM 都会根据当前的模型对数据的误差进行加权，训练一个新的树来修正前一个模型的误差。</p>
<p>与传统的梯度提升模型相比，LightGBM 采用了一些创新的技术，使得训练过程更高效，并能够处理更大规模的数据集。</p>
<h4 id="LightGBM-的特点"><a href="#LightGBM-的特点" class="headerlink" title="LightGBM 的特点"></a>LightGBM 的特点</h4><ol>
<li><strong>高效的训练速度</strong>：<ul>
<li>LightGBM 使用了基于 <strong>Histogram-based</strong> 的决策树算法，与传统的决策树不同，它通过将特征值离散化为直方图来加速训练。这样可以减少内存使用并加快计算速度，尤其在大规模数据上表现显著。</li>
</ul>
</li>
<li><strong>支持类别特征</strong>：<ul>
<li>LightGBM 原生支持 <strong>类别特征</strong>，这意味着你可以直接传入类别数据而无需进行独热编码（One-Hot Encoding），从而节省了内存和计算时间。</li>
</ul>
</li>
<li><strong>优化的叶子生长策略</strong>：<ul>
<li>LightGBM 使用了 <strong>叶子优先（Leaf-wise）</strong> 的树生长策略，而传统的 GBDT 通常使用 <strong>层级优先（Level-wise）</strong> 策略。叶子优先的策略通常能够更好地拟合训练数据，但有时也可能会导致过拟合，因此需要对深度和其他参数进行调节。</li>
</ul>
</li>
<li><strong>支持并行和分布式计算</strong>：<ul>
<li>LightGBM 提供了多种并行化策略，包括特征并行和数据并行，使得它能够在大规模数据集上训练模型。此外，它还支持分布式训练，适合于处理大规模数据。</li>
</ul>
</li>
<li><strong>内存使用更高效</strong>：<ul>
<li>LightGBM 在内存使用方面也进行了优化，通过采用高效的数据存储结构，减少了内存占用。</li>
</ul>
</li>
<li><strong>高准确性</strong>：<ul>
<li>由于采用了 <strong>叶子生长</strong> 和其他优化策略，LightGBM 在许多任务中都能提供非常高的预测准确性。</li>
</ul>
</li>
</ol>
<h4 id="LightGBM-工作原理"><a href="#LightGBM-工作原理" class="headerlink" title="LightGBM 工作原理"></a>LightGBM 工作原理</h4><p>LightGBM 通过构建多颗决策树，每一颗树都在前一颗树的基础上进行优化。具体步骤如下：</p>
<ol>
<li><strong>初始化模型</strong>：<ul>
<li>首先，初始化一个基础模型（通常是训练集的均值）。</li>
</ul>
</li>
<li><strong>计算残差</strong>：<ul>
<li>计算当前模型对训练数据的预测结果与实际结果之间的误差（残差）。</li>
</ul>
</li>
<li><strong>训练新树</strong>：<ul>
<li>训练一颗新的决策树来拟合当前的残差。</li>
</ul>
</li>
<li><strong>更新模型</strong>：<ul>
<li>将新训练的树加到当前模型中，并更新模型参数。</li>
</ul>
</li>
<li><strong>重复</strong>：<ul>
<li>重复上述过程，直到达到预定的树数或其他停止准则。</li>
</ul>
</li>
</ol>
<h4 id="核心参数"><a href="#核心参数" class="headerlink" title="核心参数"></a>核心参数</h4><ul>
<li><strong>num_leaves</strong>：控制每棵树的最大叶子节点数，较大的值会增加模型的复杂度，可能导致过拟合。</li>
<li><strong>max_depth</strong>：树的最大深度，限制树的深度可以防止过拟合。</li>
<li><strong>learning_rate</strong>：每次迭代时更新的步长，控制模型的学习速度。</li>
<li><strong>n_estimators</strong>：树的数量，即迭代次数。</li>
<li><strong>subsample</strong>：用于训练每棵树的样本比例，通常用来避免过拟合。</li>
<li><strong>colsample_bytree</strong>：每棵树使用的特征比例，用于随机特征选择，避免过拟合。</li>
<li><strong>min_child_samples</strong>：一个叶子节点所需的最小样本数，减少过拟合。</li>
<li><strong>feature_fraction</strong>：在训练每棵树时，特征的随机子集比例，用来增强模型的泛化能力。</li>
<li><strong>boosting_type</strong>：指定梯度提升的类型，通常选择 <code>gbdt</code>（传统的梯度提升），<code>dart</code>（Dropouts meet Multiple Additive Regression Trees），<code>goss</code>（Gradient-based One-Side Sampling）等。</li>
</ul>
<h4 id="LightGBM-适用场景"><a href="#LightGBM-适用场景" class="headerlink" title="LightGBM 适用场景"></a>LightGBM 适用场景</h4><ol>
<li><strong>大规模数据集</strong>：由于 LightGBM 的高效性，它能够处理比传统方法更大的数据集，适用于大规模机器学习任务。</li>
<li><strong>分类和回归问题</strong>：LightGBM 支持分类（包括二分类和多分类）和回归任务。</li>
<li><strong>排名任务</strong>：LightGBM 还提供了排名（Ranking）功能，适用于推荐系统等问题。</li>
<li><strong>处理类别特征</strong>：如果数据中包含类别特征，LightGBM 是一个特别合适的选择。</li>
<li><strong>性能优化</strong>：当你需要快速训练并且对准确性有较高要求时，LightGBM 是一个非常好的选择。</li>
</ol>
<h4 id="Python-示例代码"><a href="#Python-示例代码" class="headerlink" title="Python 示例代码"></a>Python 示例代码</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> lightgbm <span class="keyword">as</span> lgb</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_boston</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载示例数据</span></span><br><span class="line">boston = load_boston()</span><br><span class="line">X = pd.DataFrame(boston.data, columns=boston.feature_names)</span><br><span class="line">y = pd.Series(boston.target)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 拆分数据集</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建 LightGBM 数据集</span></span><br><span class="line">train_data = lgb.Dataset(X_train, label=y_train)</span><br><span class="line">test_data = lgb.Dataset(X_test, label=y_test, reference=train_data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置参数</span></span><br><span class="line">params = &#123;</span><br><span class="line">    <span class="string">&#x27;objective&#x27;</span>: <span class="string">&#x27;regression&#x27;</span>,  <span class="comment"># 目标是回归</span></span><br><span class="line">    <span class="string">&#x27;metric&#x27;</span>: <span class="string">&#x27;l2&#x27;</span>,             <span class="comment"># 评估指标是均方误差</span></span><br><span class="line">    <span class="string">&#x27;num_leaves&#x27;</span>: <span class="number">31</span>,           <span class="comment"># 树的叶子节点数</span></span><br><span class="line">    <span class="string">&#x27;learning_rate&#x27;</span>: <span class="number">0.05</span>,      <span class="comment"># 学习率</span></span><br><span class="line">    <span class="string">&#x27;feature_fraction&#x27;</span>: <span class="number">0.9</span>     <span class="comment"># 特征采样比例</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">gbm = lgb.train(params, train_data, num_boost_round=<span class="number">100</span>, valid_sets=[test_data], early_stopping_rounds=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">y_pred = gbm.predict(X_test, num_iteration=gbm.best_iteration)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 打印预测结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&#x27;Predicted values: <span class="subst">&#123;y_pred[:<span class="number">10</span>]&#125;</span>&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><p>LightGBM 是一个高效且强大的梯度提升树模型，在大规模数据集上具有出色的性能。通过优化训练算法、引入创新的特征处理方式，它能在许多机器学习任务中取得优秀的效果，特别是在需要处理大数据、高维特征和类别特征时，LightGBM 是一个非常合适的选择。</p>
<h3 id="从RDKit中提取物理化学性质"><a href="#从RDKit中提取物理化学性质" class="headerlink" title="从RDKit中提取物理化学性质"></a>从RDKit中提取物理化学性质</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> rdkit <span class="keyword">import</span> Chem</span><br><span class="line"><span class="keyword">from</span> rdkit.Chem <span class="keyword">import</span> Descriptors</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建分子对象</span></span><br><span class="line">mol = Chem.MolFromSmiles(<span class="string">&#x27;CCO&#x27;</span>)  <span class="comment"># 乙醇</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取物理化学性质</span></span><br><span class="line">mol_weight = Descriptors.MolWt(mol)  <span class="comment"># 分子量</span></span><br><span class="line">logp = Descriptors.MolLogP(mol)  <span class="comment"># LogP值</span></span><br><span class="line">h_acceptors = Descriptors.NumHAcceptors(mol)  <span class="comment"># 氢键受体数</span></span><br><span class="line">h_donors = Descriptors.NumHDonors(mol)  <span class="comment"># 氢键供体数</span></span><br><span class="line">psa = Descriptors.TPSA(mol)  <span class="comment"># 极性表面积</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;分子量: <span class="subst">&#123;mol_weight&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;LogP值: <span class="subst">&#123;logp&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;氢键受体数: <span class="subst">&#123;h_acceptors&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;氢键供体数: <span class="subst">&#123;h_donors&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;极性表面积: <span class="subst">&#123;psa&#125;</span>&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="LogP值能够表征什么性质"><a href="#LogP值能够表征什么性质" class="headerlink" title="LogP值能够表征什么性质"></a>LogP值能够表征什么性质</h3><p><strong>LogP 值</strong>（也称为<strong>分配系数</strong>）是一个重要的物理化学性质，用于表征化合物在两种溶剂中的分配特性，尤其是其亲水性和疏水性的平衡。LogP 是 <strong>油&#x2F;水分配系数</strong> 的对数值，表示分子在<strong>油相</strong>和<strong>水相</strong>之间的分配程度。具体来说，LogP值越大，分子越倾向于在油相（或有机溶剂）中溶解；而LogP值越小（甚至为负值），分子则更倾向于在水相中溶解。</p>
<h4 id="LogP-值的定义"><a href="#LogP-值的定义" class="headerlink" title="LogP 值的定义"></a>LogP 值的定义</h4><p>LogP 是分子在<strong>正辛醇</strong>和<strong>水</strong>之间的分配系数的对数值，即：</p>
<p>LogP&#x3D;log⁡([化合物在正辛醇中的浓度][化合物在水中的浓度])\text{LogP} &#x3D; \log \left( \frac{[\text{化合物在正辛醇中的浓度}]}{[\text{化合物在水中的浓度}]} \right)</p>
<p>其中：</p>
<ul>
<li><strong>P</strong> 表示分配系数，是化合物在油相（通常是正辛醇）和水相中的浓度比值。</li>
<li><strong>LogP</strong> 取其对数，通常表示为<strong>十进制对数</strong>。</li>
</ul>
<h4 id="LogP-值的意义"><a href="#LogP-值的意义" class="headerlink" title="LogP 值的意义"></a>LogP 值的意义</h4><ol>
<li><strong>亲水性与疏水性</strong>：<ul>
<li><strong>LogP &gt; 0</strong>：表示化合物有较强的<strong>疏水性</strong>，更容易溶解在油相或有机溶剂中。</li>
<li><strong>LogP &lt; 0</strong>：表示化合物有较强的<strong>亲水性</strong>，更容易溶解在水相中。</li>
<li><strong>LogP ≈ 0</strong>：化合物的亲水性和疏水性大致平衡，能够在水和油中都较好地溶解。</li>
</ul>
</li>
<li><strong>溶解度</strong>：<ul>
<li>化合物的溶解度与其LogP值密切相关。通常，LogP值越大，化合物的疏水性越强，它的水溶性越差；反之，LogP值越小，化合物的亲水性越强，溶解度也可能较高。</li>
</ul>
</li>
<li><strong>渗透性和吸收性</strong>：<ul>
<li>LogP值对<strong>生物体内药物的吸收和渗透性</strong>有重要影响。通常，药物分子需要在亲水和疏水性之间找到一个平衡点，以便能够穿越细胞膜（细胞膜的磷脂双层是疏水性的）而不至于在体内溶解度过低。</li>
<li><strong>较高的LogP值</strong>（疏水性）通常表示分子更易于通过细胞膜，适合用于<strong>药物设计</strong>，但过高的LogP值可能导致<strong>毒性</strong>和<strong>代谢问题</strong>。</li>
<li><strong>较低的LogP值</strong>（亲水性）通常意味着药物更易溶于水，但可能难以穿透细胞膜。</li>
</ul>
</li>
<li><strong>环境中的持久性和迁移性</strong>：<ul>
<li>LogP值还可以用来预测化学物质在<strong>环境中的迁移性</strong>和<strong>持久性</strong>。疏水性化合物（高LogP值）可能在水生生态系统中积累，而亲水性化合物则可能较容易被水体带走。</li>
</ul>
</li>
</ol>
<h4 id="LogP在药物化学中的应用"><a href="#LogP在药物化学中的应用" class="headerlink" title="LogP在药物化学中的应用"></a>LogP在药物化学中的应用</h4><p>在药物化学和药理学中，LogP是<strong>ADMET（吸收、分布、代谢、排泄和毒性）性质</strong>的一个重要参数，尤其在<strong>药物设计</strong>过程中被广泛应用。</p>
<ul>
<li><strong>药物的生物利用度</strong>：药物的LogP值能够影响它的生物利用度（bioavailability）。如果LogP值太高，药物可能难以在体内的水相中分布；如果LogP值太低，药物可能无法有效通过细胞膜。</li>
<li><strong>血脑屏障渗透性</strong>：LogP值对药物能否穿透血脑屏障也有影响，LogP值适中的药物更容易进入大脑组织。</li>
</ul>
<h4 id="LogP的应用场景总结"><a href="#LogP的应用场景总结" class="headerlink" title="LogP的应用场景总结"></a>LogP的应用场景总结</h4><ul>
<li><strong>药物研发</strong>：药物的亲水性和疏水性是药效、吸收、分布和代谢的关键因素。LogP值在药物设计中帮助预测药物的生物学行为。</li>
<li><strong>环境化学</strong>：LogP用来预测化学物质在环境中的持久性、毒性和生态风险。</li>
<li><strong>分子筛选</strong>：通过计算化合物的LogP值，可以筛选出符合特定要求（如渗透性、溶解度等）的分子。</li>
</ul>
<h4 id="计算LogP"><a href="#计算LogP" class="headerlink" title="计算LogP"></a>计算LogP</h4><p>在实际应用中，可以通过实验测量或者<strong>QSAR模型</strong>（定量结构-活性关系模型）来预测LogP值。常见的计算工具包括：</p>
<ul>
<li><strong>计算化学方法</strong>（如模拟溶剂分配系数）。</li>
<li><strong>分子指纹和机器学习方法</strong>，利用已有的化学结构数据来预测LogP值。</li>
</ul>
<h4 id="结论"><a href="#结论" class="headerlink" title="结论"></a>结论</h4><p><strong>LogP值</strong>是一个多用途的参数，能够帮助表征化合物的亲水性和疏水性平衡，对于药物化学、环境科学等领域的研究和应用具有重要意义。对于药物分子，适中的LogP值是穿越生物膜的关键，同时也关系到药物的溶解度和生物利用度。</p>
<h3 id="画图：每条线只显示一个点和误差棒"><a href="#画图：每条线只显示一个点和误差棒" class="headerlink" title="画图：每条线只显示一个点和误差棒"></a>画图：每条线只显示一个点和误差棒</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 数据</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">generate_data</span>():</span><br><span class="line">    x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">20</span>)  <span class="comment"># x 轴数据</span></span><br><span class="line">    y1 = np.sin(x)             <span class="comment"># 第一条曲线</span></span><br><span class="line">    y2 = np.cos(x)             <span class="comment"># 第二条曲线</span></span><br><span class="line">    y3 = np.tan(x) * <span class="number">0.1</span>       <span class="comment"># 第三条曲线</span></span><br><span class="line">    yerr1 = <span class="number">0.1</span></span><br><span class="line">    yerr2 = <span class="number">0.2</span></span><br><span class="line">    yerr3 = <span class="number">0.15</span></span><br><span class="line">    <span class="keyword">return</span> x, [y1, y2, y3], [yerr1, yerr2, yerr3]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取数据</span></span><br><span class="line">x, y_list, yerr_list = generate_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定每条曲线显示 marker 和误差棒的位置（索引）</span></span><br><span class="line">marker_positions = [<span class="number">5</span>, <span class="number">10</span>, <span class="number">15</span>]  <span class="comment"># 对应曲线在 x[5], x[10], x[15]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 格式列表（每条曲线样式）</span></span><br><span class="line">fmt_list = [<span class="string">&#x27;o-&#x27;</span>, <span class="string">&#x27;s-&#x27;</span>, <span class="string">&#x27;^-&#x27;</span>]  <span class="comment"># 圆圈、方块、三角形</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建图形</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制三条曲线</span></span><br><span class="line"><span class="keyword">for</span> i, (y, yerr, pos, fmt) <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">zip</span>(y_list, yerr_list, marker_positions, fmt_list)):</span><br><span class="line">    <span class="comment"># 绘制完整曲线</span></span><br><span class="line">    ax.plot(x, y, fmt[<span class="number">1</span>] + <span class="string">&#x27;-&#x27;</span>, label=<span class="string">f&quot;Curve <span class="subst">&#123;i+<span class="number">1</span>&#125;</span>&quot;</span>)  <span class="comment"># fmt[1] 取曲线样式</span></span><br><span class="line">    <span class="comment"># 在指定位置添加 marker 和误差棒</span></span><br><span class="line">    ax.errorbar(x[pos], y[pos], yerr=yerr, fmt=fmt, capsize=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加图例和显示</span></span><br><span class="line">ax.legend()</span><br><span class="line">plt.xlabel(<span class="string">&quot;X-axis&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Y-axis&quot;</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Three Curves with Single Marker and Errorbar&quot;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="机器学习寻找最优配比一般流程"><a href="#机器学习寻找最优配比一般流程" class="headerlink" title="机器学习寻找最优配比一般流程"></a>机器学习寻找最优配比一般流程</h3><p>使用 <strong>机器学习</strong> 来实现分子配比优化是一个非常常见的策略，尤其当我们没有精确的公式来描述分子之间的关系时，机器学习可以帮助我们学习出一个模型，用来预测在给定配比下的目标值。然后，基于这个模型，我们可以使用优化算法来找到最优的配比。</p>
<h4 id="步骤概述"><a href="#步骤概述" class="headerlink" title="步骤概述"></a>步骤概述</h4><ol>
<li><strong>数据准备</strong>：首先，我们需要有足够的历史数据，这些数据应该包含不同的分子配比和对应的目标值。</li>
<li><strong>机器学习建模</strong>：我们可以使用回归模型来拟合分子配比和目标值之间的关系。常用的回归模型包括线性回归、决策树回归、随机森林回归、XGBoost 等。</li>
<li><strong>优化</strong>：使用训练好的机器学习模型来预测目标值，然后使用优化算法（如贝叶斯优化、粒子群优化等）来找到能够最大化或最小化目标值的最佳配比。</li>
</ol>
<h4 id="具体实现步骤"><a href="#具体实现步骤" class="headerlink" title="具体实现步骤"></a>具体实现步骤</h4><h5 id="1-数据准备"><a href="#1-数据准备" class="headerlink" title="1. 数据准备"></a>1. 数据准备</h5><p>假设我们有一个数据集，包含了分子配比和对应的目标值。下面是一个示例数据集：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设数据集包含4种分子的配比和一个目标值</span></span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">&#x27;Molecule1&#x27;</span>: [<span class="number">0.1</span>, <span class="number">0.3</span>, <span class="number">0.2</span>, <span class="number">0.4</span>, <span class="number">0.3</span>],</span><br><span class="line">    <span class="string">&#x27;Molecule2&#x27;</span>: [<span class="number">0.2</span>, <span class="number">0.1</span>, <span class="number">0.3</span>, <span class="number">0.2</span>, <span class="number">0.4</span>],</span><br><span class="line">    <span class="string">&#x27;Molecule3&#x27;</span>: [<span class="number">0.3</span>, <span class="number">0.4</span>, <span class="number">0.2</span>, <span class="number">0.1</span>, <span class="number">0.2</span>],</span><br><span class="line">    <span class="string">&#x27;Molecule4&#x27;</span>: [<span class="number">0.4</span>, <span class="number">0.2</span>, <span class="number">0.3</span>, <span class="number">0.3</span>, <span class="number">0.1</span>],</span><br><span class="line">    <span class="string">&#x27;Target&#x27;</span>: [<span class="number">0.5</span>, <span class="number">0.8</span>, <span class="number">0.9</span>, <span class="number">0.6</span>, <span class="number">0.7</span>]  <span class="comment"># 目标值，假设是反应效率或性能等</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="2-机器学习建模"><a href="#2-机器学习建模" class="headerlink" title="2. 机器学习建模"></a>2. 机器学习建模</h5><p>选择一种回归算法来拟合模型。比如，我们可以使用 <strong>随机森林回归</strong> 来建立一个预测模型，预测给定配比下的目标值。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestRegressor</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_squared_error</span><br><span class="line"></span><br><span class="line"><span class="comment"># 特征和目标值</span></span><br><span class="line">X = df[[<span class="string">&#x27;Molecule1&#x27;</span>, <span class="string">&#x27;Molecule2&#x27;</span>, <span class="string">&#x27;Molecule3&#x27;</span>, <span class="string">&#x27;Molecule4&#x27;</span>]]  <span class="comment"># 配比</span></span><br><span class="line">y = df[<span class="string">&#x27;Target&#x27;</span>]  <span class="comment"># 目标值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拆分数据集，80%训练，20%测试</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建立随机森林回归模型</span></span><br><span class="line">model = RandomForestRegressor(n_estimators=<span class="number">100</span>, random_state=<span class="number">42</span>)</span><br><span class="line">model.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">y_pred = model.predict(X_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 评估模型性能</span></span><br><span class="line">mse = mean_squared_error(y_test, y_pred)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Mean Squared Error: <span class="subst">&#123;mse&#125;</span>&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在这个例子中，我们使用 <strong>随机森林回归模型</strong> 来拟合分子配比与目标值之间的关系，训练数据集包含了 80% 的数据，测试数据集包含了 20% 的数据。模型拟合后，我们可以通过 <code>model.predict</code> 来预测目标值。</p>
<h5 id="3-优化模型"><a href="#3-优化模型" class="headerlink" title="3. 优化模型"></a>3. 优化模型</h5><p>一旦我们有了训练好的模型，我们就可以使用 <strong>优化算法</strong> 来找到最优的分子配比。这一过程可以通过 <strong>贝叶斯优化</strong>、<strong>粒子群优化（PSO）</strong> 或其他优化方法来实现。</p>
<p>我们使用 <code>skopt</code> 库的 <strong>贝叶斯优化</strong> 来寻找最佳配比。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> skopt <span class="keyword">import</span> gp_minimize</span><br><span class="line"><span class="keyword">from</span> skopt.space <span class="keyword">import</span> Real</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义优化目标函数：根据配比预测目标值</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">objective_function</span>(<span class="params">x</span>):</span><br><span class="line">    <span class="comment"># x 是一个包含四种分子配比的列表</span></span><br><span class="line">    mole1, mole2, mole3, mole4 = x</span><br><span class="line">    <span class="comment"># 使用训练好的模型来预测目标值</span></span><br><span class="line">    <span class="keyword">return</span> -model.predict([[mole1, mole2, mole3, mole4]])[<span class="number">0</span>]  <span class="comment"># 负号表示最大化目标值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义搜索空间：假设每种分子配比的范围是 [0, 1]，并且它们的和为 1</span></span><br><span class="line">space = [</span><br><span class="line">    Real(<span class="number">0.0</span>, <span class="number">1.0</span>, name=<span class="string">&#x27;Molecule1&#x27;</span>),</span><br><span class="line">    Real(<span class="number">0.0</span>, <span class="number">1.0</span>, name=<span class="string">&#x27;Molecule2&#x27;</span>),</span><br><span class="line">    Real(<span class="number">0.0</span>, <span class="number">1.0</span>, name=<span class="string">&#x27;Molecule3&#x27;</span>),</span><br><span class="line">    Real(<span class="number">0.0</span>, <span class="number">1.0</span>, name=<span class="string">&#x27;Molecule4&#x27;</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 进行贝叶斯优化，寻找最优配比</span></span><br><span class="line">result = gp_minimize(objective_function, space, n_calls=<span class="number">50</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出优化结果</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Optimal Molecule Ratios:&quot;</span>, result.x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Maximum Target Value:&quot;</span>, -result.fun)  <span class="comment"># 由于我们最大化目标，所以需要取负值</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="4-可视化优化结果"><a href="#4-可视化优化结果" class="headerlink" title="4. 可视化优化结果"></a>4. 可视化优化结果</h5><p>可以通过 <code>matplotlib</code> 可视化优化过程以及最优配比的分布。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可视化贝叶斯优化的过程</span></span><br><span class="line">plt.figure(figsize=(<span class="number">10</span>, <span class="number">6</span>))</span><br><span class="line">plt.plot(result.func_vals, label=<span class="string">&quot;Objective Function Value&quot;</span>, color=<span class="string">&#x27;blue&#x27;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Number of Evaluations&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Objective Value&quot;</span>, fontsize=<span class="number">14</span>)</span><br><span class="line">plt.title(<span class="string">&quot;Bayesian Optimization Progress&quot;</span>, fontsize=<span class="number">16</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><ol>
<li><strong>数据建模</strong>：我们首先使用机器学习回归模型（如随机森林回归）来拟合分子配比与目标值之间的关系。我们使用了分子配比作为输入特征，目标值作为标签。</li>
<li><strong>优化</strong>：在训练好回归模型后，使用贝叶斯优化等优化算法来寻找最佳的分子配比。优化目标可以是最大化或最小化目标值，这取决于你的需求。</li>
<li><strong>结果</strong>：通过优化过程，我们找到了最优的分子配比。通过模型的预测，我们可以进一步探索不同配比下的目标值</li>
</ol>
<h4 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h4><ul>
<li><strong>更复杂的模型</strong>：如果你认为目标函数与配比之间的关系较复杂，可以尝试更复杂的回归模型，如 <strong>梯度提升树（XGBoost、LightGBM）</strong>，或者使用神经网络来进行建模。</li>
<li><strong>多目标优化</strong>：如果你有多个目标需要同时优化（比如最大化某个性能指标并最小化成本），可以使用 <strong>多目标贝叶斯优化</strong> 或者 <strong>Pareto 前沿优化</strong>。</li>
<li><strong>优化约束</strong>：如果有配比的约束条件（如配比的和必须为 1），可以在优化算法中添加这些约束条件。</li>
</ul>
<h3 id="什么是collinearity？"><a href="#什么是collinearity？" class="headerlink" title="什么是collinearity？"></a>什么是collinearity？</h3><p><strong>Collinearity</strong>（共线性）是统计学和回归分析中常见的概念，指的是在多个自变量（解释变量）之间存在高度的线性关系。当两个或多个自变量彼此之间呈现高度相关性时，就会发生共线性现象。</p>
<h4 id="共线性的含义"><a href="#共线性的含义" class="headerlink" title="共线性的含义"></a>共线性的含义</h4><ul>
<li><strong>完全共线性</strong>：如果自变量之间存在完全的线性关系（例如，<code>X2 = 2 * X1</code>），那么就存在完全共线性。此时，某些自变量是可以用其他自变量的线性组合来精确预测的。</li>
<li><strong>近似共线性</strong>：在实际数据中，自变量之间往往不会有完全的线性关系，但如果它们的相关性非常高（例如，相关系数接近 1 或 -1），这也会导致共线性问题。</li>
</ul>
<h4 id="共线性的影响"><a href="#共线性的影响" class="headerlink" title="共线性的影响"></a>共线性的影响</h4><p>在回归分析中，尤其是多元线性回归中，共线性问题会对模型产生不利影响，主要体现在以下几个方面：</p>
<ol>
<li><strong>系数估计的不稳定性</strong>：<ul>
<li>当自变量高度相关时，回归模型中的系数估计变得不稳定，意味着模型参数对数据的微小变化非常敏感。即使数据有小的扰动，也可能导致回归系数发生大的变化。</li>
</ul>
</li>
<li><strong>标准误差增大</strong>：<ul>
<li>高度相关的自变量会使回归系数的标准误差增大，这意味着模型的预测能力下降，并且可能导致对某些自变量影响的估计不准确。</li>
</ul>
</li>
<li><strong>多重共线性与显著性测试</strong>：<ul>
<li>共线性会导致部分自变量的p值增大，可能会错误地认为某些重要的自变量不显著，而实际上它们可能是有影响的。</li>
</ul>
</li>
</ol>
<h4 id="如何检测共线性"><a href="#如何检测共线性" class="headerlink" title="如何检测共线性"></a>如何检测共线性</h4><ol>
<li><strong>相关矩阵</strong>：<ul>
<li>计算自变量之间的相关系数矩阵。如果自变量之间的相关系数非常高（接近 1 或 -1），可能存在共线性问题。</li>
</ul>
</li>
<li><strong>方差膨胀因子（VIF, Variance Inflation Factor）</strong>：<ul>
<li>VIF 是用来量化共线性的常用工具。VIF 值表示一个自变量的方差是由于其他自变量的影响而膨胀了多少。如果某个自变量的 VIF 值大于 10，通常认为该自变量存在较强的共线性。</li>
<li>计算 VIF 的公式是： $VIF&#x3D;\frac{1}{1 - R^2}$ 其中，$R^2$ 是将某一自变量对其他自变量进行回归时的决定系数。</li>
</ul>
</li>
<li><strong>条件数（Condition Number）</strong>：<ul>
<li>通过计算设计矩阵的条件数来检查共线性问题。较大的条件数（通常大于 30）表明共线性问题可能较严重。</li>
</ul>
</li>
</ol>
<h4 id="如何处理共线性"><a href="#如何处理共线性" class="headerlink" title="如何处理共线性"></a>如何处理共线性</h4><ol>
<li><strong>删除相关性高的自变量</strong>：<ul>
<li>如果某些自变量之间高度相关，可以选择删除其中一个或几个相关性高的自变量，保留最具代表性的变量。</li>
</ul>
</li>
<li><strong>合并相关自变量</strong>：<ul>
<li>可以通过主成分分析（PCA）等降维技术，将高度相关的自变量合并成一个新的变量。</li>
</ul>
</li>
<li><strong>增加样本量</strong>：<ul>
<li>有时增加样本量有助于减少共线性带来的影响，特别是在数据本身存在噪声时。</li>
</ul>
</li>
<li><strong>正则化方法</strong>：<ul>
<li>使用正则化方法（如岭回归、Lasso回归）来减少模型对共线性敏感的程度。正则化方法通过对回归系数施加惩罚，使得模型更加稳定。</li>
</ul>
</li>
</ol>
<h4 id="示例：如何检查共线性"><a href="#示例：如何检查共线性" class="headerlink" title="示例：如何检查共线性"></a>示例：如何检查共线性</h4><p>假设你有一个数据集，其中包含三个自变量 <code>X1</code>, <code>X2</code>, <code>X3</code>。你可以使用 Python 的 <code>statsmodels</code> 或 <code>scikit-learn</code> 来计算 VIF 或相关系数矩阵，来检测共线性。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> statsmodels.stats.outliers_influence <span class="keyword">import</span> variance_inflation_factor</span><br><span class="line"><span class="keyword">from</span> statsmodels.tools.tools <span class="keyword">import</span> add_constant</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设 df 是包含自变量的数据框</span></span><br><span class="line">X = df[[<span class="string">&#x27;X1&#x27;</span>, <span class="string">&#x27;X2&#x27;</span>, <span class="string">&#x27;X3&#x27;</span>]]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加常数列（截距项）</span></span><br><span class="line">X_const = add_constant(X)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算 VIF</span></span><br><span class="line">vif_data = pd.DataFrame()</span><br><span class="line">vif_data[<span class="string">&#x27;Variable&#x27;</span>] = X_const.columns</span><br><span class="line">vif_data[<span class="string">&#x27;VIF&#x27;</span>] = [variance_inflation_factor(X_const.values, i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(X_const.shape[<span class="number">1</span>])]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(vif_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h4><p><strong>共线性</strong> 是指多个自变量之间存在高度的线性关系，这可能导致回归分析中的模型不稳定、预测不准确。通过计算相关矩阵、VIF 或条件数，可以检测共线性。如果共线性问题较严重，通常需要通过删除变量、合并变量、增加样本量或使用正则化方法来解决。</p>
<h3 id="超参数优化"><a href="#超参数优化" class="headerlink" title="超参数优化"></a>超参数优化</h3><ul>
<li><strong><a href="https://github.com/optuna/optuna">optuna</a></strong></li>
<li>A hyperparameter optimization framework</li>
</ul>
<h4 id="目标："><a href="#目标：" class="headerlink" title="目标："></a>目标：</h4><ol>
<li><strong>5-fold 交叉验证</strong>：在每个超参数组合下进行 5 次交叉验证，计算每次验证的误差（如 MAE）。</li>
<li><strong>500 次试验</strong>：使用 Optuna 进行 500 次超参数优化。</li>
<li><strong>存储最佳超参数和预测值</strong>：优化结束后，存储每次试验的最佳超参数以及对应的预测值。</li>
</ol>
<ul>
<li><p>代码实现：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> optuna</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split, KFold</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestRegressor  <span class="comment"># 例子中使用随机森林回归模型</span></span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> mean_absolute_error</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载数据集</span></span><br><span class="line"><span class="comment"># 假设你的数据集已经加载，X 是特征，y 是目标变量（温度）</span></span><br><span class="line"><span class="comment"># X, y = load_your_dataset()  # 替换为你的数据集</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 示例：使用合成数据集</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_regression</span><br><span class="line">X, y = make_regression(n_samples=<span class="number">100</span>, n_features=<span class="number">10</span>, noise=<span class="number">0.1</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义 Optuna 的目标函数（包括 5-fold 交叉验证）</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">objective</span>(<span class="params">trial</span>):</span><br><span class="line">    <span class="comment"># 定义需要优化的超参数</span></span><br><span class="line">    n_estimators = trial.suggest_int(<span class="string">&#x27;n_estimators&#x27;</span>, <span class="number">50</span>, <span class="number">200</span>)  <span class="comment"># 树的数量</span></span><br><span class="line">    max_depth = trial.suggest_int(<span class="string">&#x27;max_depth&#x27;</span>, <span class="number">3</span>, <span class="number">10</span>)  <span class="comment"># 树的最大深度</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 创建模型并使用超参数</span></span><br><span class="line">    model = RandomForestRegressor(n_estimators=n_estimators, max_depth=max_depth, random_state=<span class="number">42</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 使用 5-fold 交叉验证</span></span><br><span class="line">    kf = KFold(n_splits=<span class="number">5</span>, shuffle=<span class="literal">True</span>, random_state=<span class="number">42</span>)</span><br><span class="line">    mae_scores = []</span><br><span class="line">    predictions = []</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 进行 5-fold 交叉验证</span></span><br><span class="line">    <span class="keyword">for</span> train_index, test_index <span class="keyword">in</span> kf.split(X):</span><br><span class="line">        X_train, X_test = X[train_index], X[test_index]</span><br><span class="line">        y_train, y_test = y[train_index], y[test_index]</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 在训练集上训练模型</span></span><br><span class="line">        model.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 在测试集上进行预测</span></span><br><span class="line">        y_pred = model.predict(X_test)</span><br><span class="line">        predictions.append(y_pred)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 计算当前 fold 的 MAE</span></span><br><span class="line">        mae = mean_absolute_error(y_test, y_pred)</span><br><span class="line">        mae_scores.append(mae)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 计算 5 个折叠的平均 MAE</span></span><br><span class="line">    mean_mae = np.mean(mae_scores)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 返回 MAE，作为目标函数值（优化时会最小化它）</span></span><br><span class="line">    <span class="keyword">return</span> mean_mae</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个研究对象（study）并指定目标是最小化 MAE</span></span><br><span class="line">study = optuna.create_study(direction=<span class="string">&#x27;minimize&#x27;</span>)  <span class="comment"># 目标是最小化 MAE</span></span><br><span class="line">study.optimize(objective, n_trials=<span class="number">500</span>)  <span class="comment"># 执行 500 次试验</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出最佳试验的超参数和对应的 MAE</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;最佳试验: <span class="subst">&#123;study.best_trial&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;最佳超参数: <span class="subst">&#123;study.best_trial.params&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;最佳 MAE: <span class="subst">&#123;study.best_value&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 存储最佳的超参数</span></span><br><span class="line">best_n_estimators = study.best_trial.params[<span class="string">&#x27;n_estimators&#x27;</span>]</span><br><span class="line">best_max_depth = study.best_trial.params[<span class="string">&#x27;max_depth&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用最佳超参数创建模型</span></span><br><span class="line">best_model = RandomForestRegressor(n_estimators=best_n_estimators, max_depth=best_max_depth, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用整个数据集重新训练最佳模型</span></span><br><span class="line">best_model.fit(X, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 存储每次试验的预测值</span></span><br><span class="line">all_predictions = np.array(predictions).flatten()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将结果存入 DataFrame 以便后续分析</span></span><br><span class="line">results_df = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;trial&#x27;</span>: <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">501</span>),</span><br><span class="line">    <span class="string">&#x27;predicted_temperatures&#x27;</span>: all_predictions</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存结果到 CSV 文件（可以根据需要选择不同的存储方式）</span></span><br><span class="line">results_df.to_csv(<span class="string">&#x27;optuna_trial_predictions.csv&#x27;</span>, index=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 可选：保存最佳模型</span></span><br><span class="line"><span class="keyword">import</span> joblib</span><br><span class="line">joblib.dump(best_model, <span class="string">&#x27;best_model.pkl&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="代码说明："><a href="#代码说明：" class="headerlink" title="代码说明："></a>代码说明：</h4><ol>
<li><strong>加载数据集</strong>：<ul>
<li>我们使用了 <code>make_regression</code> 来生成一个简单的回归数据集（假设 <code>X</code> 是特征，<code>y</code> 是目标变量——温度）。</li>
<li>你可以替换成你自己的数据集（通过 <code>load_your_dataset()</code> 来加载实际数据）。</li>
</ul>
</li>
<li>**目标函数 (<code>objective</code>)**：<ul>
<li>我们使用了 <code>RandomForestRegressor</code> 作为示例模型，优化的超参数包括 <code>n_estimators</code>（树的数量）和 <code>max_depth</code>（树的最大深度）。</li>
<li>在每个超参数组合下，通过 <strong>5-fold 交叉验证</strong> 进行训练和评估。</li>
<li>每次折叠计算 <strong>MAE</strong>（Mean Absolute Error，平均绝对误差），然后返回所有折叠的平均 MAE 作为目标函数值，Optuna 会最小化这个值。</li>
</ul>
</li>
<li><strong>创建和优化 Study</strong>：<ul>
<li>使用 <code>optuna.create_study(direction=&#39;minimize&#39;)</code> 创建优化研究对象，设置目标是最小化 MAE。</li>
<li><code>study.optimize(objective, n_trials=500)</code> 进行 500 次超参数优化试验。</li>
</ul>
</li>
<li><strong>存储最佳超参数和预测值</strong>：<ul>
<li>优化结束后，输出最优超参数和对应的 MAE。</li>
<li>将每次试验的预测结果存入 <code>DataFrame</code>，并保存为 CSV 文件。</li>
</ul>
</li>
<li><strong>保存最佳模型</strong>：<ul>
<li>使用 <code>joblib.dump()</code> 保存训练好的最佳模型，以便后续加载和使用。</li>
</ul>
</li>
</ol>
<h4 id="结果输出："><a href="#结果输出：" class="headerlink" title="结果输出："></a>结果输出：</h4><ul>
<li><strong>最佳超参数</strong>：<code>study.best_trial.params</code> 存储了找到的最佳超参数配置（例如 <code>n_estimators=150</code>, <code>max_depth=6</code>）。</li>
<li><strong>最佳 MAE</strong>：<code>study.best_value</code> 显示了最小的 MAE，即优化过程中的最佳性能。</li>
<li><strong>预测结果</strong>：每个试验的预测温度值都存储在 <code>optuna_trial_predictions.csv</code> 中，方便后续分析。</li>
</ul>
<h4 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h4><p>通过 <strong>Optuna</strong> 和 <strong>5-fold 交叉验证</strong>，你可以高效地优化模型的超参数，减少过拟合，提升模型的泛化能力。优化后的模型可以用于实际预测，并且你可以保存和分析每次试验的预测结果。</p>
<h3 id="常见ML方法特点"><a href="#常见ML方法特点" class="headerlink" title="常见ML方法特点"></a>常见ML方法特点</h3><ul>
<li><p>SVR是一种广泛使用的算法，它采用核方法在特征空间中识别最优超平面，使每个数据点到该超平面的12范数最小化。</p>
</li>
<li><p>KNN是一个简单的“懒惰模型”，它根据新数据与训练数据点的接近程度生成预测。它不需要预训练，因此可以进行快速、实时的预测。</p>
</li>
<li><p>MLP是一种人工神经网络，它由多个相互连接的层组成，可以处理非线性估计；它的学习过程包括前向传播、成本计算和反向传播以调整权重，并利用适当的损失函数和优化算法。</p>
</li>
<li><p>DT提供了一个树形模型，通过应用一系列决策规则来进行预测。虽然简单易懂，但它缺乏神经网络等模型的复杂性。</p>
</li>
<li><p>RF是决策树的集合，利用套袋技术来平均单个树的预测，从而在保持偏差的同时减少模型方差。该模型采用随机特征选择来降低单个树之间的相关性。</p>
</li>
<li><p>ET在决策树形成过程中增加了一层随机性。虽然它可能产生次优的单个树，但通过减少预测偏差和更广泛地探索数据集，集成往往表现良好。</p>
</li>
<li><p>AdaBoost结合了多个弱分类器来生成一个强的、自适应的模型；它为训练实例分配权重，允许后续模型将专注于具有挑战性的案例并提高整体性能。</p>
</li>
<li><p>由Yandex开发的CatBoost特别适合分类特征，与其他梯度增强算法相比具有明显的优势</p>
</li>
<li><p>GBM采用决策树集合并迭代提高性能，使其成为各种ML应用程序的热门选择</p>
</li>
<li><p>LGBM通过集成降低计算负担而不显著影响性能的技术来改进传统的梯度增强，从而实现更快的模型训练和更有效的预测</p>
</li>
<li><p>HistGB是一般梯度增强框架的速度优化扩展。通过只考虑箱子的端点，它加速了训练过程。</p>
</li>
<li><p>XGBoost提供了并行处理和过拟合调节等优点。它采用复杂的技术来处理学习错误，使其成为预测建模的合适选择。</p>
</li>
</ul>
<h3 id="什么是kernel-method？"><a href="#什么是kernel-method？" class="headerlink" title="什么是kernel method？"></a>什么是kernel method？</h3><p><strong>核方法（Kernel Method）</strong> 是一种在机器学习和统计学中广泛使用的技术，它通过将输入数据映射到一个高维空间，从而能够在高维空间中进行线性分离和建模，即使在原始输入空间中数据可能是非线性可分的。</p>
<p>核方法的核心思想是使用一个称为“<strong>核函数</strong>”的数学函数来计算输入数据在高维空间中的内积，而无需显式地将数据映射到高维空间。这使得计算变得高效且不需要处理高维空间中的复杂计算。</p>
<h4 id="核方法的基本概念"><a href="#核方法的基本概念" class="headerlink" title="核方法的基本概念"></a>核方法的基本概念</h4><ol>
<li><strong>映射到高维空间</strong>：<ul>
<li>在很多机器学习任务中，数据可能在低维空间中是非线性可分的（比如在二维平面中两个类别的数据点可能不能被一条直线分开）。核方法通过将数据映射到一个更高维的空间，使得数据在高维空间中变得线性可分。</li>
<li>这种映射不一定需要显式地进行。通过核函数的技巧，计算数据在高维空间中的内积（而不是显式地计算映射后的数据）可以非常高效。</li>
</ul>
</li>
<li><strong>核函数</strong>：<ul>
<li>核函数是用来计算数据在高维空间中内积的函数。常见的核函数包括：<ul>
<li><strong>线性核</strong>：<code>K(x, y) = x^T y</code>，对应于没有进行任何映射，直接计算输入数据的内积。</li>
<li><strong>多项式核</strong>：<code>K(x, y) = (x^T y + c)^d</code>，可以用于捕捉数据的多项式关系。</li>
<li><strong>高斯径向基核（RBF 核）</strong>：<code>K(x, y) = exp(- ||x - y||^2 / (2 * sigma^2))</code>，适用于很多非线性问题，尤其是在高维数据中非常有效。</li>
<li><strong>Sigmoid 核</strong>：<code>K(x, y) = tanh( x^T y + c )</code>，与神经网络中的激活函数类似。</li>
</ul>
</li>
</ul>
</li>
<li><strong>优势</strong>：<ul>
<li><strong>无显式映射</strong>：通过核函数，核方法能够有效地避免显式地进行高维空间的映射，从而减少计算复杂度。</li>
<li><strong>非线性模型</strong>：核方法能够处理非线性问题，而不需要手动选择非线性特征转换。</li>
<li><strong>灵活性</strong>：不同的核函数可以适应不同类型的数据和问题。</li>
</ul>
</li>
</ol>
<h4 id="核方法的常见应用"><a href="#核方法的常见应用" class="headerlink" title="核方法的常见应用"></a>核方法的常见应用</h4><ol>
<li><strong>支持向量机（SVM）</strong>：<ul>
<li>核方法最著名的应用之一是在支持向量机（SVM）中。SVM 是一种强大的分类方法，特别是在高维空间中非常有效。通过使用核函数，SVM 可以处理非线性分类问题。</li>
<li>例如，使用高斯径向基核（RBF）函数，SVM 可以将原本非线性可分的数据映射到高维空间，在高维空间中使用超平面进行线性分类。</li>
</ul>
</li>
<li><strong>主成分分析（PCA）</strong>：<ul>
<li>核PCA（Kernel PCA）是一种通过使用核函数来进行非线性主成分分析的方法。传统的PCA是线性的，通过核方法，PCA也可以用于处理非线性数据。</li>
</ul>
</li>
<li><strong>回归问题</strong>：<ul>
<li>在回归问题中，核方法可以帮助建立非线性回归模型。通过核函数，支持向量回归（SVR）等方法可以对非线性数据进行建模。</li>
</ul>
</li>
<li><strong>聚类</strong>：<ul>
<li>核方法也可用于聚类，尤其是在支持向量聚类（SVC）中。通过映射到高维空间，核聚类方法能够在非线性空间中寻找聚类结构。</li>
</ul>
</li>
</ol>
<h4 id="核方法的数学背景"><a href="#核方法的数学背景" class="headerlink" title="核方法的数学背景"></a>核方法的数学背景</h4><ol>
<li><strong>再定义内积</strong>：<ul>
<li>核方法的关键是“核函数”本质上是计算数据在某一高维空间中的内积（也称为特征空间中的内积）。假设有一个映射函数 <code>Φ(x)</code>，将数据 <code>x</code> 映射到高维空间。核方法通过核函数 <code>K(x, y) = ⟨Φ(x), Φ(y)⟩</code> 来计算数据在高维空间中的内积。</li>
</ul>
</li>
<li><strong>核技巧（Kernel Trick）</strong>：<ul>
<li>核技巧允许我们直接计算数据在高维空间中的内积，而无需显式地计算映射后的数据。这极大地提高了计算效率，尤其是在高维数据处理中。</li>
<li>例如，通过 RBF 核函数，我们不需要计算映射后的数据点，而是通过直接计算它们的核函数值来实现相同的效果。</li>
</ul>
</li>
</ol>
<h4 id="核方法的局限性"><a href="#核方法的局限性" class="headerlink" title="核方法的局限性"></a>核方法的局限性</h4><ol>
<li><p>计算复杂度</p>
<p>：</p>
<ul>
<li>核方法的计算量可能会随着数据集的增大而显著增加，特别是当数据集包含大量样本时。尽管核技巧能够避免显式的高维映射，但在大规模数据集上计算核矩阵仍然是一个挑战。</li>
</ul>
</li>
<li><p>选择合适的核函数</p>
<p>：</p>
<ul>
<li>选择合适的核函数对模型的性能非常重要。不合适的核函数可能导致模型效果不佳。</li>
</ul>
</li>
</ol>
<h4 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h4><p>核方法是一种非常强大的技术，它通过核函数将数据映射到高维空间，使得在高维空间中进行的计算和学习变得更加简单，尤其是在处理非线性问题时。在支持向量机、主成分分析和回归等多种机器学习方法中，核方法都得到了广泛的应用。它的核心优势是通过核技巧避免了显式映射数据，提高了计算效率。</p>
<h3 id="贝叶斯优化优化的是什么？"><a href="#贝叶斯优化优化的是什么？" class="headerlink" title="贝叶斯优化优化的是什么？"></a>贝叶斯优化优化的是什么？</h3><blockquote>
<p>GPT-4o</p>
</blockquote>
<p>贝叶斯优化（Bayesian Optimization）是一种用于优化 <strong>黑箱函数</strong>（即那些我们不知道其显式形式、计算代价高、或者在某些情况下不可微的函数）的优化方法。与传统的优化方法（如梯度下降）不同，贝叶斯优化不需要目标函数的显式表达式或计算梯度，它通过构建目标函数的概率模型，并利用该模型来决定如何选择下一步进行评估。</p>
<p>贝叶斯优化主要用于 <strong>超参数优化</strong>，即优化机器学习模型的超参数。通常，超参数的选择会极大地影响模型的性能，而贝叶斯优化能够有效地在较少的实验次数下找到合适的超参数。</p>
<h4 id="具体优化的内容："><a href="#具体优化的内容：" class="headerlink" title="具体优化的内容："></a>具体优化的内容：</h4><ol>
<li><strong>超参数优化</strong>：<ul>
<li>在机器学习中，超参数是影响模型训练过程和性能的重要参数，例如：<ul>
<li>神经网络的学习率、隐藏层的神经元数量</li>
<li>支持向量机（SVM）的核函数参数、C参数</li>
<li>随机森林中的树的数量、最大深度</li>
</ul>
</li>
<li>贝叶斯优化通过选择超参数空间内的合适点来逐步提高模型的性能，而不需要暴力遍历所有的超参数组合。</li>
</ul>
</li>
<li><strong>目标函数的最小化或最大化</strong>：<ul>
<li>贝叶斯优化的核心是通过概率模型（通常是高斯过程模型）来逼近目标函数（即通过评估超参数配置得到的模型性能，如准确率、均方误差等）。然后，基于当前模型，选择最有可能提供最优解的超参数配置进行评估。</li>
</ul>
</li>
<li><strong>减少评估次数</strong>：<ul>
<li>与网格搜索或随机搜索不同，贝叶斯优化通常能够在更少的实验次数下找到合适的超参数组合。它通过逐步更新目标函数的概率模型来提高优化效率。</li>
</ul>
</li>
</ol>
<h4 id="贝叶斯优化的工作原理："><a href="#贝叶斯优化的工作原理：" class="headerlink" title="贝叶斯优化的工作原理："></a>贝叶斯优化的工作原理：</h4><ol>
<li><strong>构建代理模型</strong>：<ul>
<li>在贝叶斯优化中，代理模型通常是一个统计模型（例如高斯过程），它用于近似目标函数的真实形式。这个模型基于已有的超参数评估结果进行训练。</li>
</ul>
</li>
<li><strong>选择下一个试验点</strong>：<ul>
<li>通过一个 <strong>采集函数</strong>（Acquisition Function）来决定下一个评估点的位置。采集函数的目标是平衡 <strong>探索</strong>（选择尚未尝试的超参数区间）和 <strong>开发</strong>（选择当前模型预测最优的超参数）。</li>
</ul>
</li>
<li><strong>评估目标函数</strong>：<ul>
<li>在选定的点上评估目标函数（即训练模型并计算其性能）。</li>
</ul>
</li>
<li><strong>更新代理模型</strong>：<ul>
<li>根据新评估的结果更新代理模型，并重复上述过程，直到满足停止准则（如达到最大评估次数，或者性能已达到预期）。</li>
</ul>
</li>
</ol>
<h4 id="贝叶斯优化的优点："><a href="#贝叶斯优化的优点：" class="headerlink" title="贝叶斯优化的优点："></a>贝叶斯优化的优点：</h4><ul>
<li><strong>高效性</strong>：相比于网格搜索和随机搜索，贝叶斯优化通过代理模型和采集函数，通常能够在较少的尝试次数下找到优质的超参数配置。</li>
<li><strong>适用于昂贵的黑箱函数</strong>：对于训练时间长、计算代价高的模型（如深度学习模型），贝叶斯优化特别有效，因为它能够减少模型评估次数。</li>
<li><strong>平衡探索与利用</strong>：贝叶斯优化在搜索过程中能够自然地平衡探索（选择未探索的区域）和利用（选择当前认为最优的区域）。</li>
</ul>
<h4 id="贝叶斯优化的应用场景："><a href="#贝叶斯优化的应用场景：" class="headerlink" title="贝叶斯优化的应用场景："></a>贝叶斯优化的应用场景：</h4><ul>
<li><strong>超参数优化</strong>：如机器学习模型的训练过程中的超参数调整（例如学习率、正则化参数等）。</li>
<li><strong>实验设计</strong>：在科学实验中，选择最合适的实验条件来最大化某个输出。</li>
<li><strong>结构优化</strong>：如工程领域中优化设计参数。</li>
<li><strong>自动化调优</strong>：在生产环境中自动调整系统的运行参数。</li>
</ul>
<h4 id="Python中的贝叶斯优化"><a href="#Python中的贝叶斯优化" class="headerlink" title="Python中的贝叶斯优化"></a>Python中的贝叶斯优化</h4><p>贝叶斯优化在 Python 中可以通过多个库实现，最常用的库是 <code>scikit-optimize</code> 和 <code>Spearmint</code>。其中，<code>scikit-optimize</code> 提供了一个易于使用的接口，帮助我们进行超参数优化。</p>
<h4 id="示例代码（使用scikit-optimize库进行贝叶斯优化）"><a href="#示例代码（使用scikit-optimize库进行贝叶斯优化）" class="headerlink" title="示例代码（使用scikit-optimize库进行贝叶斯优化）"></a>示例代码（使用<code>scikit-optimize</code>库进行贝叶斯优化）</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> skopt <span class="keyword">import</span> BayesSearchCV</span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加载数据集</span></span><br><span class="line">data = load_iris()</span><br><span class="line">X = data.data</span><br><span class="line">y = data.target</span><br><span class="line"></span><br><span class="line"><span class="comment"># 划分数据集</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=<span class="number">0.2</span>, random_state=<span class="number">42</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义模型</span></span><br><span class="line">model = RandomForestClassifier()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义贝叶斯优化的超参数空间</span></span><br><span class="line">param_space = &#123;</span><br><span class="line">    <span class="string">&#x27;n_estimators&#x27;</span>: (<span class="number">10</span>, <span class="number">1000</span>),  <span class="comment"># 随机森林的树数</span></span><br><span class="line">    <span class="string">&#x27;max_depth&#x27;</span>: (<span class="number">1</span>, <span class="number">30</span>),         <span class="comment"># 树的最大深度</span></span><br><span class="line">    <span class="string">&#x27;min_samples_split&#x27;</span>: (<span class="number">2</span>, <span class="number">20</span>), <span class="comment"># 每个内部节点分裂所需的最小样本数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 贝叶斯优化</span></span><br><span class="line">opt = BayesSearchCV(model, param_space, n_iter=<span class="number">50</span>, cv=<span class="number">5</span>, n_jobs=-<span class="number">1</span>)</span><br><span class="line">opt.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出最佳超参数和模型评估</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Best Parameters: <span class="subst">&#123;opt.best_params_&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Best Score: <span class="subst">&#123;opt.best_score_&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;Test Score: <span class="subst">&#123;opt.score(X_test, y_test)&#125;</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="解释："><a href="#解释：" class="headerlink" title="解释："></a>解释：</h4><ol>
<li><strong>模型选择</strong>：我们使用 <code>RandomForestClassifier</code> 作为要优化的机器学习模型。</li>
<li><strong>超参数空间定义</strong>：在 <code>param_space</code> 中，我们为 <code>n_estimators</code>、<code>max_depth</code> 和 <code>min_samples_split</code> 设置了超参数范围，这些超参数将通过贝叶斯优化进行调整。</li>
<li><strong>贝叶斯优化</strong>：<code>BayesSearchCV</code> 是 <code>scikit-optimize</code> 提供的贝叶斯优化的封装，它将自动执行超参数优化，并通过交叉验证评估每个超参数组合的表现。</li>
<li><strong>结果输出</strong>：输出最佳的超参数组合及其对应的性能。</li>
</ol>
<h4 id="总结：-1"><a href="#总结：-1" class="headerlink" title="总结："></a>总结：</h4><p>贝叶斯优化是一种有效的优化技术，尤其适用于超参数调优和需要大量计算资源的任务。它通过代理模型和采集函数来智能选择优化方向，从而减少评估次数，提高优化效率。</p>
<h3 id="盐水作为水合物抑制剂"><a href="#盐水作为水合物抑制剂" class="headerlink" title="盐水作为水合物抑制剂"></a>盐水作为水合物抑制剂</h3><ul>
<li><p>Subsea wells extracting oil and gas often contain saline water, acting as a natural inhibitor due to the presence of electrolytes such as NaCl, KCl, and CaCl2 within the brine. The strong bonds between water and salt ions play a crucial role in inhibiting hydrate formation, as water is more attracted to ions than the hydrate structure</p>
</li>
<li><p>水和盐离子之间的强键在抑制水合物形成中起着至关重要的作用，因为水更容易被离子吸引，而不是水合物结构</p>
<blockquote>
<p>E.D. Sloan Jr., C.A. Koh, Clathrate hydrates of natural gases, CRC Press, 2007.</p>
<p>Chemical Engineering Journal 498 (2024) 155664</p>
</blockquote>
</li>
</ul>
<h2 id="2024-11月"><a href="#2024-11月" class="headerlink" title="2024-11月"></a>2024-11月</h2><h3 id="什么是Customized-Federated-kernel-Regression"><a href="#什么是Customized-Federated-kernel-Regression" class="headerlink" title="什么是Customized Federated kernel Regression"></a>什么是Customized Federated kernel Regression</h3><blockquote>
<p><em>Chemical Engineering Journal 498 (2024) 155664</em></p>
<p>ChatGPT-4o</p>
</blockquote>
<ul>
<li><p><strong>Customized Federated Kernel Regression (定制化联邦核回归)</strong> 是一种结合了 <strong>联邦学习</strong>（Federated Learning）和 <strong>核回归</strong>（Kernel Regression）的方法，用于在多个分散的数据源上进行机器学习建模，同时保护数据隐私和安全性。</p>
</li>
<li><p>联邦学习（Federated Learning）概述</p>
<ul>
<li>联邦学习是一种分布式机器学习方法，它允许多个设备或数据源在保持数据本地化的同时，共同训练一个机器学习模型。在联邦学习中，数据不会被集中存储和处理，而是通过一种协作的方式，将本地计算的更新（例如梯度或模型参数）发送到中央服务器，后者合并这些更新来改善全局模型。<ul>
<li><strong>优点：</strong> 保证数据隐私，因为数据不会离开本地设备或服务器。</li>
<li><strong>缺点：</strong> 在跨多个设备上进行计算时，面临通信开销和数据异质性等挑战。</li>
</ul>
</li>
</ul>
</li>
<li><p>核回归（Kernel Regression）</p>
<ul>
<li>核回归是一种非参数的回归方法，通常用于处理复杂的非线性数据。它利用 <strong>核技巧</strong>（Kernel Trick）将输入数据映射到高维特征空间，从而能够通过线性方法处理非线性问题。核回归常用于场景中，数据集可能是高维的，或者存在明显的非线性关系。<ul>
<li><strong>优点：</strong> 不需要明确假设数据的分布形式，能够灵活处理复杂数据。</li>
<li><strong>缺点：</strong> 计算开销较大，尤其是当数据量较大时。</li>
</ul>
</li>
</ul>
</li>
<li><p>定制化（Customized）</p>
<ul>
<li>在“定制化联邦核回归”中，“定制化”通常意味着根据特定的应用场景或需求对方法进行调整或优化。这可以包括：<ul>
<li><strong>自定义的核函数</strong>：根据数据的性质选择合适的核函数（例如高斯核、多项式核等）。</li>
<li><strong>优化的联邦学习框架</strong>：根据设备的通信能力、计算能力和数据分布，定制不同的学习策略（例如调整联邦学习中的聚合算法）。</li>
<li><strong>特定的回归模型</strong>：设计特定的回归策略，以便处理不同的数据或业务需求。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>联邦核回归的组合</strong></p>
</li>
<li><p>“定制化联邦核回归”的核心思想是将<strong>核回归的优势</strong>与<strong>联邦学习的隐私保护</strong>相结合。这种方法能够处理分散在多个设备或客户端上的非线性回归问题，并且在保证隐私的前提下，进行高效的建模。</p>
<p>在联邦核回归中，每个数据源（例如设备或客户端）执行以下操作：</p>
<ol>
<li><strong>局部训练</strong>：在本地数据上执行核回归训练。由于数据是分散的，训练通常是非全局的。</li>
<li><strong>本地模型更新</strong>：每个设备计算本地模型的更新（如模型参数或核函数相关的统计量）。</li>
<li><strong>聚合更新</strong>：设备将本地更新通过联邦学习的方式传输到中央服务器，服务器对这些更新进行合并，从而更新全局模型。</li>
</ol>
<p>通过使用<strong>核回归</strong>，即使数据之间存在非线性关系，模型仍然能够捕捉到这些复杂的模式。同时，通过<strong>联邦学习</strong>，多个设备能够共同训练模型，而无需暴露各自的私有数据。</p>
</li>
<li><p>应用场景</p>
<ul>
<li><strong>智能医疗</strong>：不同医院或医疗机构拥有患者数据，但由于隐私原因，不能共享数据。通过定制化联邦核回归，每个医院可以训练一个本地模型，并将更新汇总到中央服务器，保护患者隐私的同时获得更好的预测性能。</li>
<li><strong>金融领域</strong>：多个金融机构可以联合训练一个信用评分模型，尽管每个机构的数据是私密的，但仍然可以利用联邦学习和核回归来提高评分模型的准确性。</li>
<li><strong>物联网</strong>：多个物联网设备（如传感器）可以在本地进行回归分析，利用定制化核回归对非线性数据建模，同时通过联邦学习汇聚信息来改善整体预测。</li>
</ul>
</li>
<li><p>挑战和前景</p>
<ul>
<li><strong>通信开销</strong>：由于每个设备都需要与中央服务器交换模型更新，可能导致通信负担过重，特别是当数据量较大时。</li>
<li><strong>数据异质性</strong>：不同客户端的本地数据可能具有不同的分布，如何在此条件下高效地聚合模型更新仍然是一个研究问题。</li>
<li><strong>核函数选择</strong>：如何选择适当的核函数来适应不同的数据类型和任务是核回归中需要解决的问题。</li>
</ul>
</li>
<li><p>总结</p>
<ul>
<li>定制化联邦核回归结合了联邦学习和核回归的优势，既能够处理非线性回归问题，又能保证数据隐私，是一个非常有前景的方法。随着隐私保护需求的增加和分布式计算能力的提高，这种方法将在智能医疗、金融服务、物联网等领域发挥重要作用。</li>
</ul>
</li>
</ul>
<h3 id="现有微观测试手段尚不能真正连续观测水合物的生长和分解过程"><a href="#现有微观测试手段尚不能真正连续观测水合物的生长和分解过程" class="headerlink" title="现有微观测试手段尚不能真正连续观测水合物的生长和分解过程"></a>现有微观测试手段尚不能真正连续观测水合物的生长和分解过程</h3><blockquote>
<p>[1]刘昌岭,张永超,纪云开,等.天然气水合物微观测试技术与应用进展[J].海洋地质与第四纪地质,2024,44(03):136-148.DOI:10.16562&#x2F;j.cnki.0256-1492.2023102301.</p>
</blockquote>
<h3 id="ChatGPT问答"><a href="#ChatGPT问答" class="headerlink" title="ChatGPT问答"></a>ChatGPT问答</h3><blockquote>
<p>如果我有三个特征，三列中，第一列为1 1 1 1 1 1 0 0 0 0 0 0 0，第二列为 0 0 0 0 0 0 1 1 1 1 0 0 0, 第三列为 0 0 0 0 0 0 0 0 0 0 1 1 1，怎么来处理这三个特征呢，使其正态分布</p>
</blockquote>
<ul>
<li><p>你提到的三个特征列中，第一列、第二列和第三列看起来像是二分类特征。由于这些特征本身已经是离散的（0 和 1），通常这些特征不符合正态分布的假设，因此我们不建议直接通过标准化或正态化处理它们。</p>
<p>但是，如果你的目标是使这些特征更加符合机器学习模型对数据的假设（例如，要求特征符合正态分布），你可以尝试以下几种方法来处理这些特征：</p>
<ol>
<li><p><strong>标准化（Standardization）</strong>：虽然这些特征本身是二值的（0 或 1），你仍然可以应用标准化方法。标准化将每个特征的均值调整为 0，标准差调整为 1。对于这些二值特征，这个操作会将数据的中心化和方差调整为 0 和 1，从而在一定程度上使其适应某些算法（如支持向量机、线性回归等）的需求。</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy as np</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line"></span><br><span class="line"># 假设你的数据在一个numpy数组中，名为 data</span><br><span class="line">data = np.<span class="built_in">array</span>([[<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>],</span><br><span class="line"><span class="string">                 [1, 0, 0]</span>,</span><br><span class="line"><span class="string">                 [1, 0, 0]</span>,</span><br><span class="line"><span class="string">                 [1, 0, 0]</span>,</span><br><span class="line"><span class="string">                 [1, 0, 0]</span>,</span><br><span class="line"><span class="string">                 [1, 0, 0]</span>,</span><br><span class="line"><span class="string">                 [0, 1, 0]</span>,</span><br><span class="line"><span class="string">                 [0, 1, 0]</span>,</span><br><span class="line"><span class="string">                 [0, 1, 0]</span>,</span><br><span class="line"><span class="string">                 [0, 1, 0]</span>,</span><br><span class="line"><span class="string">                 [0, 0, 1]</span>,</span><br><span class="line"><span class="string">                 [0, 0, 1]</span>,</span><br><span class="line"><span class="string">                 [0, 0, 1]</span>])</span><br><span class="line"></span><br><span class="line"># 使用 StandardScaler 进行标准化</span><br><span class="line">scaler = StandardScaler()</span><br><span class="line">data_standardized = scaler.fit_transform(data)</span><br><span class="line"></span><br><span class="line">print(data_standardized)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


</li>
<li><p><strong>归一化（Min-Max Scaling）</strong>：归一化方法将数据缩放到一个固定的范围（通常是 [0, 1]）。对于二值特征，这种方法的效果较好，因为它将所有特征值映射到统一的范围内。</p>
</li>
<li><p>对于已经是二进制的特征（0 或 1），<code>log</code> 转换或 <code>Box-Cox</code> 转换不是有效的方法。这些方法通常适用于具有连续数值且大于零的特征。如果你想将特征转换为接近正态分布的形式，通常会要求特征是连续的或者至少是有较大变化范围的。</p>
<p>对于这种二分类特征，可以考虑其他的编码方式，或者直接使用这些特征进行建模，而不强行让其符合正态分布。</p>
</li>
<li><p><strong>One-Hot 编码：</strong>对于具有二值特征的类别数据，如果这些特征代表不同的类别，最好使用 <strong>One-Hot 编码</strong>。这会创建多个新的特征列，并为每个类别值分配一个二进制指示符（0 或 1）。</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设你的数据是 DataFrame 格式</span></span><br><span class="line">df = pd.DataFrame(&#123;</span><br><span class="line">    <span class="string">&#x27;Feature1&#x27;</span>: [1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0],</span><br><span class="line">    <span class="string">&#x27;Feature2&#x27;</span>: [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 0, 0, 0],</span><br><span class="line">    <span class="string">&#x27;Feature3&#x27;</span>: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 pd.get_dummies() 进行 One-Hot 编码</span></span><br><span class="line">df_encoded = pd.get_dummies(df, columns=[<span class="string">&#x27;Feature1&#x27;</span>, <span class="string">&#x27;Feature2&#x27;</span>, <span class="string">&#x27;Feature3&#x27;</span>], <span class="attribute">drop_first</span>=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(df_encoded)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>如果你正在使用基于树的模型（例如，随机森林、梯度提升树等），你可以直接使用这些二值特征，因为这些模型对于数据的分布不那么敏感。树模型通常不要求特征符合正态分布，因此即使数据是二值的，也能取得较好的效果。</p>
</li>
</ol>
</li>
</ul>
<h2 id="2024-10月"><a href="#2024-10月" class="headerlink" title="2024-10月"></a>2024-10月</h2><h3 id="如果箱线图的异常值很多可以作为训练集吗？"><a href="#如果箱线图的异常值很多可以作为训练集吗？" class="headerlink" title="如果箱线图的异常值很多可以作为训练集吗？"></a>如果箱线图的异常值很多可以作为训练集吗？</h3><blockquote>
<p>gpt-4o</p>
</blockquote>
<p>箱线图中识别出的异常值可以作为训练集的一部分，但要考虑以下几个方面：</p>
<ol>
<li>异常值的来源<br>自然现象：如果异常值是数据的真实反映，且在实际应用中可能出现，那么保留这些值对模型训练是有意义的。<br>测量误差：如果异常值是由于测量错误或数据录入错误导致的，可能需要考虑删除或纠正这些值，以防它们对模型产生负面影响。</li>
<li>模型的鲁棒性<br>一些机器学习模型对异常值不敏感（如决策树、随机森林），在这些模型中，保留异常值可能不会显著影响性能。<br>其他模型（如线性回归）可能会受到异常值的影响，导致性能下降。在这种情况下，可能需要进行处理或删除。</li>
<li>数据集的整体性<br>如果数据集的大小足够大，异常值的存在可能不会显著影响模型的学习。相反，如果数据集较小，异常值可能会对结果产生较大影响。</li>
<li>特征工程<br>可以考虑对异常值进行处理，例如分箱、变换或创建额外的特征来标识异常值，从而让模型了解这些值的特性。<br>总结<br>异常值可以作为训练集的一部分，但在使用之前，需要仔细分析这些值的性质和对模型的潜在影响。适当的处理方法能够帮助提升模型的性能和可靠性。</li>
</ol>
<h3 id="mW水力场甲烷水合物相图预测"><a href="#mW水力场甲烷水合物相图预测" class="headerlink" title="mW水力场甲烷水合物相图预测"></a>mW水力场甲烷水合物相图预测</h3><blockquote>
<p>Reparameterization of the mW model to accurately predict the experimental phase diagram of methane hydrate </p>
<p><a href="https://doi.org/10.1063/5.0228522">https://doi.org/10.1063/5.0228522</a></p>
</blockquote>
<h3 id="水在多少度的时候密度最大"><a href="#水在多少度的时候密度最大" class="headerlink" title="水在多少度的时候密度最大?"></a>水在多少度的时候密度最大?</h3><blockquote>
<p>水的密度在 <strong>4°C</strong>（摄氏度）时达到最大值。这是由于水的独特分子结构和氢键作用，导致其在这个温度下的排列方式使得分子之间的距离最小，从而密度最大。</p>
<p>当温度高于或低于 4°C 时，水的密度会逐渐减小。这也是为什么冰会浮在水面上的原因，因为冰的密度比液态水小。</p>
<p><img src="https://pqnoss.kepuchina.cn/kepuyun/2023/03/29/10/1679968462589.png" alt="图源：CRC Handbook of Chemistry and Physics"></p>
<p>ChatGPT-4o 也可能会犯错。请核查重要信息。</p>
</blockquote>
<h3 id="大孔水合物相平衡和体块基本一致"><a href="#大孔水合物相平衡和体块基本一致" class="headerlink" title="大孔水合物相平衡和体块基本一致"></a>大孔水合物相平衡和体块基本一致</h3><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202410182047635.png" alt="image-20241018204711551"></p>
<blockquote>
<p><a href="https://doi.org/10.1016/j.cej.2018.05.150">https://doi.org/10.1016/j.cej.2018.05.150</a></p>
</blockquote>
<h3 id="Experimental-observation-of-formation-and-dissociation-of-methane-hydrate-in-a-micromodel"><a href="#Experimental-observation-of-formation-and-dissociation-of-methane-hydrate-in-a-micromodel" class="headerlink" title="Experimental observation of formation and dissociation of methane hydrate in a micromodel"></a>Experimental observation of formation and dissociation of methane hydrate in a micromodel</h3><blockquote>
<p>Chemical Engineering Science 248 (2022) 117227</p>
</blockquote>
<ul>
<li><p>Different hydrate formation behaviors cause various hydrate dissociation phenomena.</p>
</li>
<li><p>一个微流体图片采集系统需要什么：</p>
<ul>
<li>显微镜（Changrong S-T）</li>
<li>CCD （Aptina-6.0）</li>
<li>电脑+图片处理软件（Image-Pro Plus6.0）</li>
</ul>
</li>
<li><p>微观孔道甲烷水合物形成分解实验流程：</p>
<ul>
<li>首先将甲烷和水&#x2F;盐水共注入微模型。（由于微模型的多孔结构，注入的气相可以分散并以甲烷气泡的形式被困在微模型的微通道中）</li>
<li>操作压力维持在4mpa左右。</li>
<li>采用冰-水合物生成方法，缩短水合物生成的诱导时间</li>
<li>冷却水浴提供了冰形成所需的零度以下的温度。</li>
<li>当微观模型中形成冰相时，升高温度使冰融化并诱导水合物形成。水合物在超过解离温度后开始解离。</li>
</ul>
</li>
</ul>
<h3 id="怎么进行特征工程？"><a href="#怎么进行特征工程？" class="headerlink" title="怎么进行特征工程？"></a>怎么进行特征工程？</h3><blockquote>
<p>特征工程是提升机器学习模型性能的关键步骤之一，它包括从原始数据中提取有用的特征、转换特征、选择合适的特征等。以下是一些常用的特征工程方法，以及如何在实际项目中应用这些方法。</p>
</blockquote>
<ul>
<li><p><strong>特征提取：</strong>从原始数据中提取新的、有意义的特征，能够更好地帮助模型进行学习。例如：</p>
<ul>
<li><strong>时间序列数据</strong>：从日期中提取年、月、日、周数、季度等。</li>
<li><strong>文本数据</strong>：使用 <code>TF-IDF</code>、<code>Word2Vec</code> 等方法将文本数据转化为数值特征。</li>
<li><strong>图像数据</strong>：提取图像的边缘特征、颜色直方图等。</li>
</ul>
</li>
<li><p><strong>特征转换：</strong>将特征进行数学转换或重新构造，以增强数据对模型的表达能力。</p>
<ul>
<li><p><strong>对数变换</strong>：对偏态分布的数据取对数，可以让数据更接近正态分布。</p>
</li>
<li><p><strong>标准化与归一化</strong>：</p>
<ul>
<li><strong>标准化（Standardization）</strong>：将特征的均值调整为0，标准差调整为1。</li>
<li><strong>归一化（Normalization）</strong>：将数据缩放到 [0, 1] 或 [-1, 1] 的区间内。</li>
</ul>
</li>
<li><p><strong>Box-Cox 变换</strong>：适用于偏态分布数据的变换，使数据更接近正态分布。</p>
</li>
</ul>
</li>
<li><p><strong>特征组合：</strong>创建新的特征或组合多个特征，以便更好地捕捉特征之间的关系。</p>
<ul>
<li><p><strong>交互特征</strong>：创建两个特征的乘积或比值，例如 <code>feature1 * feature2</code>。</p>
</li>
<li><p><strong>多项式特征</strong>：使用多项式扩展特征，例如 <code>feature1^2</code>，可以捕捉到非线性关系。</p>
</li>
<li><p>示例代码（交互特征和多项式特征）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> PolynomialFeatures</span><br><span class="line">poly = PolynomialFeatures(degree=<span class="number">2</span>, interaction_only=<span class="literal">True</span>)</span><br><span class="line">X_poly = poly.fit_transform(X)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>特征选择：</strong>选择对模型有较大影响的特征，可以提高模型的性能并减少过拟合。</p>
<ul>
<li><strong>方差阈值</strong>：移除低方差特征，假设这些特征对目标变量的区分度较低。</li>
<li><strong>相关性分析</strong>：通过皮尔森相关系数移除高度相关的特征。</li>
<li><strong>基于模型的特征选择</strong>：使用 <code>Lasso</code> 回归、树模型（例如 <code>RandomForest</code>）等选择特征。</li>
</ul>
</li>
<li><p><strong>特征编码：</strong>将分类变量（类别特征）转化为模型可以理解的数值形式。</p>
<ul>
<li><p><strong>Label Encoding</strong>：将每个类别映射为一个整数，用于有顺序关系的类别。</p>
</li>
<li><p><strong>One-Hot Encoding</strong>：为每个类别创建一个独立的二进制特征，用于无顺序关系的类别。</p>
</li>
<li><p>示例代码（Label Encoding 和 One-Hot Encoding）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder, OneHotEncoder</span><br><span class="line"></span><br><span class="line"><span class="comment"># Label Encoding</span></span><br><span class="line">label_encoder = LabelEncoder()</span><br><span class="line">y_encoded = label_encoder.fit_transform(y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># One-Hot Encoding</span></span><br><span class="line">one_hot_encoder = OneHotEncoder(sparse=<span class="literal">False</span>)</span><br><span class="line">X_one_hot_encoded = one_hot_encoder.fit_transform(X_categorical)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>缺失值处理：</strong>处理数据中的缺失值，以避免对模型造成影响。</p>
<ul>
<li><p><strong>均值填充</strong>：用特征的均值填充缺失值。</p>
</li>
<li><p><strong>中位数填充</strong>：用特征的中位数填充缺失值，适用于有异常值的数据。</p>
</li>
<li><p><strong>插值法</strong>：对于时间序列数据，可以使用插值来填补缺失值。</p>
</li>
<li><p>示例代码（均值填充）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.impute <span class="keyword">import</span> SimpleImputer</span><br><span class="line">imputer = SimpleImputer(strategy=<span class="string">&#x27;mean&#x27;</span>)</span><br><span class="line">X_imputed = imputer.fit_transform(X)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>特征降维：</strong>将高维数据降维，保留重要信息，减少噪声，提升模型性能。</p>
<ul>
<li><p><strong>PCA（主成分分析）</strong>：将高维数据投影到较低维空间。</p>
</li>
<li><p><strong>t-SNE&#x2F;UMAP</strong>：非线性降维方法，适用于数据可视化。</p>
</li>
<li><p>示例代码（PCA）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line">pca = PCA(n_components=<span class="number">2</span>)</span><br><span class="line">X_reduced = pca.fit_transform(X)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="2024-9月"><a href="#2024-9月" class="headerlink" title="2024-9月"></a>2024-9月</h2><h3 id="PCA一般降维到几维"><a href="#PCA一般降维到几维" class="headerlink" title="PCA一般降维到几维"></a>PCA一般降维到几维</h3><blockquote>
<p>GPT-4o</p>
</blockquote>
<p>降维到几维通常取决于数据的特性、任务的需求以及模型的复杂性。<strong>没有固定的标准答案</strong>，但以下几个原则可以帮助你确定降维的合适维数：</p>
<ul>
<li><p>方差解释率（Explained Variance Ratio）</p>
<ul>
<li>在使用 <strong>PCA</strong>（主成分分析）时，通常会查看每个主成分解释的方差比例。一般来说，前几个主成分能够解释大部分的数据方差。</li>
<li>通常的做法是选择那些能够解释 <strong>95% 或 99%</strong> 方差的主成分维度。通过查看累计方差解释率，你可以判断需要多少个主成分来保留足够的信息。例如：<ul>
<li>如果前 5 个主成分能解释 95% 的方差，那么可以将维度降到 5 维。</li>
<li>如果需要保留更多信息，则可能选择能解释 99% 方差的主成分，维度可能会更多。</li>
</ul>
</li>
</ul>
</li>
<li><p>肘部法则（Elbow Method）</p>
<ul>
<li>肘部法则可以用于确定最佳降维数。在绘制主成分的累积方差图时，找到一个“肘点”——即方差解释率开始趋于平缓的位置，作为降维后的维数。</li>
<li>这个肘点通常是保留信息量和减少维度之间的平衡点。</li>
</ul>
</li>
<li><p>任务需求</p>
<ul>
<li>如果你需要将数据降到 2D 或 3D 进行可视化，那么你可以直接将维度降到 2 维或 3 维。</li>
<li>对于某些任务来说，降到比输入维度略低的维度也可能会提高模型性能，因为减少了冗余信息和噪声。例如，原始数据有 100 个特征，你可能将其降到 20~30 个维度。</li>
</ul>
</li>
<li><p>模型性能</p>
<ul>
<li>通过降维后，训练一个模型并评估它的性能。</li>
<li>通常会实验不同的维度，找到一个能够在性能和效率上取得平衡的维度。</li>
<li>如果降维过多，可能会损失信息，导致模型表现下降；</li>
<li>如果降维不够，数据中的噪声和冗余信息可能依然存在。</li>
</ul>
</li>
<li><p>经验法则</p>
<ul>
<li>如果没有明确的指导原则或降维目标，经验上可以保留原始维度的 <strong>10%~20%</strong> 作为降维后的目标。</li>
<li>例如，100 个特征可以降到 10~20 维，然后在此基础上评估模型性能。</li>
</ul>
</li>
<li><h3 id="总结：-2"><a href="#总结：-2" class="headerlink" title="总结："></a>总结：</h3><ul>
<li><strong>方差解释率</strong> 和 <strong>任务需求</strong> 是决定降维到几维的关键。</li>
<li>尝试保留能解释 <strong>95%</strong> 左右数据方差的主成分通常是一个好的起点。</li>
</ul>
</li>
</ul>
<h3 id="机器学习chatgpt指令"><a href="#机器学习chatgpt指令" class="headerlink" title="机器学习chatgpt指令"></a>机器学习chatgpt指令</h3><ul>
<li>写一个机器学习代码，主要包括以下流程，数据集是，3列输入，1列输出，80%作为训练集，20%作为测试集，采用k-fold交叉验证，采用SVR模型，并进行超参数优化，建立预测模型，然后评估R^2、残差和RMSE</li>
</ul>
<h3 id="Gene-Expression-Programming-GEP"><a href="#Gene-Expression-Programming-GEP" class="headerlink" title="Gene Expression Programming (GEP)"></a>Gene Expression Programming (GEP)</h3><blockquote>
<p>GPT-4o</p>
</blockquote>
<ul>
<li><p>即基因表达式编程，是一种基于遗传算法的进化计算技术，属于进化算法家族。</p>
</li>
<li><p>它是由 <strong>Cândida Ferreira</strong> 于 2001 年提出的，GEP 是遗传编程（Genetic Programming, GP）的扩展和改进。</p>
</li>
<li><p>它通过对<strong>表达式树</strong>进行编码和演化，来自动生成计算机程序或模型，以解决特定问题。</p>
</li>
<li><p>GEP 通过模仿生物基因表达过程来求解问题，主要思想是将计算机程序编码为<strong>线性染色体</strong>（类似基因），然后通过生物演化机制（选择、变异、交叉等）来演化解决方案。</p>
<ul>
<li><p><strong>基因型和表现型的分离</strong>：在 GEP 中，基因型（genotype）指的是线性染色体，这些染色体通过一定的编码规则表达为表现型（phenotype），即程序表达式或树结构。染色体通过进化机制进行变化，而表现型则是用来评估和计算解的结构。</p>
</li>
<li><p><strong>线性染色体</strong>：GEP 使用线性字符串表示基因信息，这与遗传编程中的树结构不同。每个染色体由函数符号和操作符号组成，像基因一样进行变异、交叉等遗传操作。</p>
</li>
<li><p><strong>表达式树（Expression Tree, ET）</strong>：线性染色体经过解析后形成表达式树，这些树可以表示数学表达式、逻辑规则或程序结构。</p>
</li>
</ul>
</li>
<li><p><strong>Gene Expression Programming (GEP)</strong> 是一种结合了遗传算法和遗传编程优势的进化算法，具有较高的灵活性和效率。通过编码基因型并将其转化为表现型，GEP 能够自动生成复杂的数学表达式或程序模型，广泛应用于数据建模、优化和分类问题。</p>
</li>
</ul>
<h3 id="神经网络（Neural-Networks）类型："><a href="#神经网络（Neural-Networks）类型：" class="headerlink" title="神经网络（Neural Networks）类型："></a><strong>神经网络（Neural Networks）类型</strong>：</h3><blockquote>
<p>GPT-4o</p>
</blockquote>
<ul>
<li><strong>前馈神经网络（Feedforward Neural Networks, FNN）</strong>：信息只在网络中前向传递，不存在反馈。<ul>
<li>MLP 是最基础的前馈神经网络，它是全连接层的典型例子，网络中的每个神经元与下一层中的每个神经元相连。</li>
<li>MLP 是最早的神经网络模型之一，通常用于分类、回归等任务。</li>
<li>MLP 通常只能用于处理固定维度的结构化数据（如表格数据），而其他类型的神经网络（如 CNN、RNN）则擅长处理图像、时间序列、文本等不同类型的数据。</li>
<li>MLP 可以是浅层的（只有一个隐藏层），也可以是深层的（多个隐藏层），当隐藏层很多时，MLP 就成为了<strong>深度神经网络（Deep Neural Networks, DNN）</strong>。</li>
</ul>
</li>
<li><strong>循环神经网络（Recurrent Neural Networks, RNN）</strong>：允许网络中的节点与过去的状态进行反馈，用于处理时间序列数据。</li>
<li><strong>卷积神经网络（Convolutional Neural Networks, CNN）</strong>：专门处理图像数据，通过卷积层和池化层提取特征。</li>
<li><strong>生成对抗网络（Generative Adversarial Networks, GAN）</strong>：由生成器和判别器组成，主要用于生成数据。</li>
</ul>
<blockquote>
<p><strong>神经网络</strong> 是一个广泛的概念，涵盖了不同类型的网络结构。</p>
<p><strong>MLP</strong> 是前馈神经网络的具体实现形式之一，属于神经网络的子集。</p>
<p><strong>MLP</strong> 是一种全连接神经网络模型，擅长处理结构化数据，是机器学习中最常用的基础神经网络模型之一。</p>
</blockquote>
<h2 id="2024-8月"><a href="#2024-8月" class="headerlink" title="2024-8月"></a>2024-8月</h2><h3 id="Bernal-Fowler-Rule"><a href="#Bernal-Fowler-Rule" class="headerlink" title="Bernal-Fowler Rule"></a>Bernal-Fowler Rule</h3><blockquote>
<p>GPT-4o</p>
</blockquote>
<ul>
<li><p>Bernal-Fowler规则是用来描述水分子在冰中的氢键排列的一条规则。它由科学家John Desmond Bernal和Ralph H. Fowler在1933年提出，用于解释冰的结构。</p>
</li>
<li><p>Bernal-Fowler规则的核心内容包括以下几点：</p>
<ol>
<li><strong>每个氧原子周围有四个氢键</strong>：在冰的结构中，每个氧原子周围会形成四个氢键，与邻近的四个水分子相连。</li>
<li><strong>两根氢键指向氧原子</strong>：在这四个氢键中，两个氢键中的氢原子靠近氧原子（即O-H键是短的），而另外两个氢键的氢原子远离氧原子（即H原子在另一个水分子的邻近位置）。</li>
<li><strong>每个水分子的氢键分布满足规则</strong>：每个水分子中，两个氢原子形成氢键指向相邻的氧原子，两个氢键则来自于相邻的水分子的氢原子。</li>
</ol>
</li>
</ul>
<h3 id="固体表面能够促进水合物分解？"><a href="#固体表面能够促进水合物分解？" class="headerlink" title="固体表面能够促进水合物分解？"></a>固体表面能够促进水合物分解？</h3><ul>
<li>As expected, the higher the temperature, the faster the decomposition rate. Compared with the hydrate decomposition in the free system, the solid surface can enhance hydrate decomposition; the hydroxylated silica surface has better enhancement effect, and this effect is more obvious at lower temperatures. </li>
<li><a href="https://doi.org/10.1016/j.molliq.2023.122129">https://doi.org/10.1016/j.molliq.2023.122129</a></li>
</ul>
<h3 id="逸度差（fugacity-difference）"><a href="#逸度差（fugacity-difference）" class="headerlink" title="逸度差（fugacity difference）"></a>逸度差（fugacity difference）</h3><blockquote>
<p>chatgpt-3.5</p>
</blockquote>
<ul>
<li><p><strong>逸度差</strong>指的是在系统中两个状态或相之间的逸度差异。</p>
</li>
<li><p>逸度是一个热力学性质，用于描述物质从一个相中逸出的倾向，常用于化学工程和热力学中。</p>
</li>
</ul>
<h4 id="术语解释"><a href="#术语解释" class="headerlink" title="术语解释"></a>术语解释</h4><ol>
<li><p><strong>逸度（f）</strong>：<br>逸度是描述物质在给定相中逃逸倾向的量，类似于“有效压力”。它考虑了相对理想行为的偏差。</p>
</li>
<li><p><strong>( f_e )</strong>：<br>通常表示物质在某一特定状态或相中的逸度，比如在平衡状态下的逸度。</p>
</li>
<li><p><strong>( f )</strong>：<br>表示物质在另一状态或相中的逸度。</p>
</li>
</ol>
<h4 id="逸度差的应用"><a href="#逸度差的应用" class="headerlink" title="逸度差的应用"></a>逸度差的应用</h4><p>逸度差 ( f_e - f ) 用于理解物质在不同条件或相之间逸度的变化。这在以下方面非常有用：</p>
<ul>
<li><strong>相平衡计算</strong>：在相平衡情况下，平衡时各相中物质的逸度应该是相等的。</li>
<li><strong>化学反应平衡</strong>：帮助确定反应的平衡条件。</li>
<li><strong>相变分析</strong>：帮助理解相变的程度或影响。</li>
</ul>
<p>通过计算逸度差，可以得到有关系统状态和相互作用的重要信息。</p>
<h3 id="初始水含量对水合物分解的印象"><a href="#初始水含量对水合物分解的印象" class="headerlink" title="初始水含量对水合物分解的印象"></a>初始水含量对水合物分解的印象</h3><ul>
<li>自保存self-preservation被认为是天然气水合物运输和储存的有利特性。然而，它也可能给钻井和水合物开采带来严重的麻烦。</li>
<li>多孔沉积物的存在并不影响甲烷水合物异常自保存区域。</li>
<li><strong>甲烷水合物解离速率随初始水含量和石英砂整体粒径的降低而增大。</strong></li>
<li>然而，在非常低的初始水含量（10 vol%）和小颗粒沉积物（25–38 μm）条件下仍然可以观察到自保存。</li>
<li><a href="https://doi.org/10.1016/j.apenergy.2020.115008">https://doi.org/10.1016/j.apenergy.2020.115008</a></li>
</ul>
<h3 id="水合物饱和度高和低谁最容易受到水侵？"><a href="#水合物饱和度高和低谁最容易受到水侵？" class="headerlink" title="水合物饱和度高和低谁最容易受到水侵？"></a>水合物饱和度高和低谁最容易受到水侵？</h3><ul>
<li>水合物饱和度高的位置受水侵影响较弱，而水合物饱和度低的位置更容易受到影响；</li>
<li><a href="https://doi.org/10.1016/j.energy.2021.121183">https://doi.org/10.1016/j.energy.2021.121183</a></li>
</ul>
<h3 id="大孔中水合物更易于分解？写错了，还是真的？"><a href="#大孔中水合物更易于分解？写错了，还是真的？" class="headerlink" title="大孔中水合物更易于分解？写错了，还是真的？"></a>大孔中水合物更易于分解？写错了，还是真的？</h3><ul>
<li>Previous studies showed that gas hydrates dissociated more easily in sediment with high porosity and large pore size. <ul>
<li>没有其他参考文献，只是作者陈述，与其他文献中不同</li>
</ul>
</li>
<li>The dissociation process of gas hydrates in larger size sediments had higher heat and mass transfer efficiency and higher decomposition rate. </li>
<li><a href="https://doi.org/10.1016/j.apenergy.2023.121694">https://doi.org/10.1016/j.apenergy.2023.121694</a></li>
</ul>
<h3 id="孔隙尺寸对水合物分解有很大影响"><a href="#孔隙尺寸对水合物分解有很大影响" class="headerlink" title="孔隙尺寸对水合物分解有很大影响"></a>孔隙尺寸对水合物分解有很大影响</h3><ul>
<li><a href="https://doi.org/10.1021/jp012823w">https://doi.org/10.1021/jp012823w</a></li>
<li>测量了孔径为4至100纳米的孔隙中天然气水合物的分解压力和温度，以确定控制孔隙效应的参数。在给定压力下，分解温度随孔径减小而降低，符合Gibbs-Thomson方程</li>
</ul>
<h3 id="气泡密度过大可能会抑制水合物分解？"><a href="#气泡密度过大可能会抑制水合物分解？" class="headerlink" title="气泡密度过大可能会抑制水合物分解？"></a>气泡密度过大可能会抑制水合物分解？</h3><ul>
<li><p>液体中直径较小的微泡密度大，阻碍了压力传递和热量传递，这是抑制水合物解离速率的关键。</p>
</li>
<li><p><a href="https://doi.org/10.1016/j.cej.2021.130633">https://doi.org/10.1016/j.cej.2021.130633</a></p>
</li>
</ul>
<h2 id="2024-7月"><a href="#2024-7月" class="headerlink" title="2024-7月"></a>2024-7月</h2><h3 id="压裂技术在水合物开采过程中的应用"><a href="#压裂技术在水合物开采过程中的应用" class="headerlink" title="压裂技术在水合物开采过程中的应用"></a>压裂技术在水合物开采过程中的应用</h3><ul>
<li>压裂技术是在天然气水合物沉积物中增加孔隙度、连通人工裂缝和天然裂缝，形成相互连通的裂缝网络，从而提高天然气水合物沉积物导流能力的主要机械解决方案。</li>
</ul>
<h4 id="岩石多孔介质对水合物的作用"><a href="#岩石多孔介质对水合物的作用" class="headerlink" title="岩石多孔介质对水合物的作用"></a>岩石多孔介质对水合物的作用</h4><ul>
<li>岩石的热导率高于水合物<ul>
<li>水合物生成是一个放热过程，高的热导率使得传热迅速，水合物能快速生成；</li>
<li>水合物分解是一个吸热过程，高导热的岩石会快速传热，水合物会二次生成。</li>
</ul>
</li>
</ul>
<h4 id="水合物在砂岩中是最常见的"><a href="#水合物在砂岩中是最常见的" class="headerlink" title="水合物在砂岩中是最常见的"></a>水合物在砂岩中是最常见的</h4><blockquote>
<p>Fuel 369 (2024) 131727</p>
</blockquote>
<ul>
<li>Hydrates can be found in a variety of rocks, including clay, zeolites, and silicates, but sand is the most common.</li>
</ul>
<h4 id="表面活性剂是一个好的水合物形成促进剂，但会生成泡沫"><a href="#表面活性剂是一个好的水合物形成促进剂，但会生成泡沫" class="headerlink" title="表面活性剂是一个好的水合物形成促进剂，但会生成泡沫"></a>表面活性剂是一个好的水合物形成促进剂，但会生成泡沫</h4><blockquote>
<p>Fuel 369 (2024) 131727</p>
</blockquote>
<ul>
<li><p>Surfactants (surfactants) are considered good kinetic promoters, but they have the significant disadvantage of abundant foaming, which interferes with gas recovery<br>and can lead to equipment plugging.</p>
</li>
<li><p>氨基酸和它的衍生物对于无泡沫促进剂是有潜力的。</p>
</li>
</ul>
<h4 id="动力学促进剂目前还没有一个公认作用机理"><a href="#动力学促进剂目前还没有一个公认作用机理" class="headerlink" title="动力学促进剂目前还没有一个公认作用机理"></a>动力学促进剂目前还没有一个公认作用机理</h4><blockquote>
<p>Fuel 369 (2024) 131727</p>
</blockquote>
<ul>
<li>There is still no single recognized mechanism of action of kinetic promoters, there are a number of assumptions of varying degrees of evidence</li>
</ul>
<h4 id="self-preservation-effect-of-hydrates"><a href="#self-preservation-effect-of-hydrates" class="headerlink" title="self-preservation effect of hydrates"></a>self-preservation effect of hydrates</h4><blockquote>
<p><em>Chem. Eng. J. 2022;435:134917</em>.</p>
</blockquote>
<ul>
<li>the self-preservation effect allows hydrates to be stored at atmospheric<br>pressure and temperatures slightly below zero</li>
</ul>
<h4 id="random-process-of-hydrate-formation"><a href="#random-process-of-hydrate-formation" class="headerlink" title="random process of hydrate formation"></a>random process of hydrate formation</h4><blockquote>
<p><em>Appl. Therm. Eng. 2017;118:630–7.</em></p>
</blockquote>
<ul>
<li>The formation of gas hydrates is a stochastic process and is limited by<br>mass and heat transfer</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>GULP 汇总</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/GULP/</url>
    <content><![CDATA[<p>[toc]</p>
<ul>
<li>GULP (General Utility Lattice Program)<a href="http://gulp.curtin.edu.au/gulp/request.cfm?rel=download">晶格动力学软件</a></li>
<li>在线<a href="http://gulp.curtin.edu.au/gulp/help/help_52_txt.html#opennewwindow">Manual</a></li>
</ul>
<h4 id="1-Run-GULP-Command"><a href="#1-Run-GULP-Command" class="headerlink" title="1. Run GULP Command"></a><strong>1. Run GULP Command</strong></h4><ul>
<li>GULP 执行命令：<directory>gulp<inputfile>outputfile</li>
<li>例如：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ /home/ubuntu/GULP/gulp-5.2/Src/gulp &lt;input.gin&gt;OUTfile</span><br></pre></td></tr></table></figure>


<h4 id="2-dispersion-amp-DOS"><a href="#2-dispersion-amp-DOS" class="headerlink" title="2. dispersion &amp; DOS"></a><strong>2. dispersion &amp; DOS</strong></h4><ul>
<li>在计算dispersion的时候，会附带着输出DOS(Density of State)</li>
<li>但是，如果加一条命令就可以使输出的DOS文件内容为空，即：</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ shrink  24 24 1</span><br></pre></td></tr></table></figure>

<ul>
<li>官网给出的解释是：</li>
<li>指定倒易空间中的收缩因子，收缩系数越高，倒空间的采样范围越广。</li>
<li>并不清楚为什么加了这条命令之后DOS为空。</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>GULP</category>
      </categories>
      <tags>
        <tag>GULP</tag>
      </tags>
  </entry>
  <entry>
    <title>单位/常数</title>
    <url>/MyWiki/wiki/2021/01/21/notes/units_or_constants/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="单位"><a href="#单位" class="headerlink" title="单位"></a>单位</h2><blockquote>
<ul>
<li><a href="https://www.unitconverters.net/">Unit Converter Online</a></li>
<li><a href="https://jerkwin.github.io/gmxtool/calc/calc.html">UnitConverter</a></li>
</ul>
</blockquote>
<h3 id="1-质量"><a href="#1-质量" class="headerlink" title="1. 质量"></a>1. 质量</h3><ul>
<li>1 amu(Atomic Mass Unit) (<sup>12</sup>C&#x2F;12)是电子静止质量的1822.83倍。</li>
</ul>
<h3 id="2-长度"><a href="#2-长度" class="headerlink" title="2. 长度"></a>2. 长度</h3><ul>
<li>Bohr&#x3D;0.52917706 angstrom</li>
</ul>
<h3 id="3-压力"><a href="#3-压力" class="headerlink" title="3. 压力"></a>3. 压力</h3><ul>
<li>标准大气压（Standard atmospheric pressure）是在标准大气条件下海平面的气压，1644年由物理学家托里拆利提出，其值为101.325kPa，是压强的单位，记作atm。</li>
<li>1 bar &#x3D; 100000 Pa &#x3D; 100 kPa<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/press_unit.png"><br>参考：[1] 《工程热力学》-沈维道</li>
</ul>
<p><b>1 Pa</b>
</p>
<dl><dd>= 1 N/m² = 1（kg·m·s<sup>-2</sup>）/m² =1（kg·m<sup>-1</sup>·s<sup>-2</sup>）</dd>
<dd>= 0.01 mbar（毫巴）</dd>
<dd>= 10<sup>−5</sup> bar（<a href="https://zh.wikipedia.org/wiki/%E5%B7%B4" title="巴">巴</a>）</dd>
<dd>≈ 10<sup>−5</sup> kgf/cm<sup>2</sup>（千克力/平方厘米）</dd></dl>


<h2><span class="mw-headline" id="帕斯卡與其他單位的轉換">帕斯卡与其他单位的转换</span><span class="mw-editsection"></span></h2>
<table class="wikitable">
<tbody><tr>
<td>1<a href="https://zh.wikipedia.org/wiki/%E5%B7%B4" title="巴">巴</a>
</td>
<td align="right">100 000 Pa
</td></tr>
<tr>
<td>1<a href="https://zh.wikipedia.org/wiki/%E6%AF%AB%E5%B7%B4" class="mw-redirect" title="毫巴">毫巴</a>
</td>
<td align="right">100 Pa
</td></tr>
<tr>
<td>1<a href="https://zh.wikipedia.org/wiki/%E6%A8%99%E6%BA%96%E5%A4%A7%E6%B0%A3%E5%A3%93" class="mw-redirect" title="标准大气压">标准大气压</a>
</td>
<td align="right">101 325 Pa
</td></tr>
<tr>
<td>1 mmHg（<a href="https://zh.wikipedia.org/wiki/%E6%AF%AB%E7%B1%B3%E6%B0%B4%E9%8A%80%E6%9F%B1" class="mw-redirect" title="毫米水银柱">毫米水银柱</a>）
</td>
<td align="right">133.322 Pa
</td></tr>
<tr>
<td>1 inHg（<a href="https://zh.wikipedia.org/wiki/%E8%8B%B1%E5%AF%B8%E6%B0%B4%E9%8A%80%E6%9F%B1" class="mw-redirect" title="英寸水银柱">英寸水银柱</a>）
</td>
<td align="right">3386.38 Pa
</td></tr>
<tr>
<td>1 mmH<sub>2</sub>O（<a href="https://zh.wikipedia.org/wiki/%E6%AF%AB%E7%B1%B3%E6%B0%B4%E6%9F%B1" title="毫米水柱">毫米水柱</a>）
</td>
<td align="right">9.8 Pa
</td></tr></tbody></table>


<h3 id="4-时间"><a href="#4-时间" class="headerlink" title="4. 时间"></a>4. 时间</h3><ul>
<li><a href="http://www.ab126.com/clock/2290.html">时间单位转换器在线计算器</a> 千年–&gt;纳秒</li>
<li>常用：<blockquote>
<ul>
<li>1秒 &#x3D; $1×10^3$ 毫秒</li>
<li>1秒 &#x3D; $1×10^6$  微秒</li>
<li>1秒 &#x3D; $1×10^9$  纳秒</li>
<li>1秒 &#x3D; $1×10^{12}$  皮秒</li>
<li>1秒 &#x3D; $1×10^{15}$  飞秒</li>
<li>1 fs &#x3D; $1×10^{-6}$ ns</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="5-能量"><a href="#5-能量" class="headerlink" title="5. 能量"></a>5. 能量</h3><ul>
<li>1 kcal&#x2F;mol &#x3D; 0.0434 eV &#x3D; 4.184 kJ&#x2F;mol &#x3D; 503.217 K</li>
<li>1 eV &#x3D; 23.0605 kcal&#x2F;mol &#x3D; 96.4853 kJ&#x2F;mol &#x3D; 1.16045×104 K</li>
<li>1 kJ&#x2F;mol &#x3D; 0.239006 kcal&#x2F;mol &#x3D; 120.272 K</li>
</ul>
<h2 id="常数"><a href="#常数" class="headerlink" title="常数"></a>常数</h2><blockquote>
<ul>
<li>玻尔兹曼常数 K<sub>b</sub> &#x3D; 1.3806504×10<sup>-23</sup> [J&#x2F;K] </li>
<li>约化普朗克常数 (reduced Planck constant) ℏ&#x3D;h&#x2F;(2π) &#x3D; 1.05457266(63)×10<sup>-34</sup> J·s</li>
<li><a href="https://www.mathsisfun.com/numbers/e-eulers-number.html">欧拉数 e (Euler’s Number)</a> e &#x3D; 2.7182818284590452353602874713527(and more)</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>杂记</category>
      </categories>
      <tags>
        <tag>Daily Notes</tag>
        <tag>units</tag>
        <tag>constants</tag>
      </tags>
  </entry>
  <entry>
    <title>QSGSM安装</title>
    <url>/MyWiki/wiki/2023/09/18/softwares/QSGS/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h3><h4 id="gnuplot安装"><a href="#gnuplot安装" class="headerlink" title="gnuplot安装"></a>gnuplot安装</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install gnuplot</span><br></pre></td></tr></table></figure>

<h4 id="boost安装"><a href="#boost安装" class="headerlink" title="boost安装"></a><a href="https://www.boost.org/">boost</a>安装</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://boostorg.jfrog.io/artifactory/main/release/1.83.0/source/boost_1_83_0.tar.gz</span><br><span class="line">tar -zxvf boost_1_83_0.tar.gz</span><br><span class="line"><span class="built_in">cd</span> boost_1_83_0</span><br><span class="line">./bootstrap.sh</span><br><span class="line">./b2</span><br><span class="line">sudo ./b2 install</span><br></pre></td></tr></table></figure>

<h3 id="安装QSGSM"><a href="#安装QSGSM" class="headerlink" title="安装QSGSM"></a>安装<a href="https://github.com/Jeff-Hugh/GenPorMed">QSGSM</a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/Jeff-Hugh/GenPorMed.git</span><br><span class="line"><span class="built_in">cd</span> GenPorMed</span><br><span class="line">vim CMakeCache.txt <span class="comment"># 修改Boost_DIR路径</span></span><br><span class="line">cmake ./</span><br><span class="line">make</span><br><span class="line">./run</span><br><span class="line"></span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># Grow completed, Porosity: 0.495288</span></span><br><span class="line"><span class="comment"># Output completed</span></span><br><span class="line"><span class="comment"># Totle Time : 8.17858s</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><a href="https://www.tecplot.com/">Tecplot</a></p>
</li>
<li><p>2D porous figure</p>
<ul>
<li><img src="https://github.com/Jeff-Hugh/GenPorMed/raw/master/fig/porous_2D_0.5.png"></li>
</ul>
</li>
<li><p>3D porous figure</p>
<ul>
<li><img src="https://github.com/Jeff-Hugh/GenPorMed/raw/master/fig/porous_3D_0.5.png"></li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>QSGSM</category>
      </categories>
      <tags>
        <tag>QSGSM</tag>
      </tags>
  </entry>
  <entry>
    <title>MolTwister安装与使用</title>
    <url>/MyWiki/wiki/2023/10/21/softwares/MolTwister/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><ul>
<li>用于分子系统构建、MD模拟和MD数据的后处理软件。</li>
</ul>
<h3 id="环境配置"><a href="#环境配置" class="headerlink" title="环境配置"></a>环境配置</h3><blockquote>
<p>Linux: Ubuntu-22.04</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt install git</span><br><span class="line">sudo apt install gcc</span><br><span class="line">sudo apt install g++</span><br><span class="line">sudo apt install cmake</span><br><span class="line">sudo apt install libopengl-dev</span><br><span class="line">sudo apt-get install libreadline-dev</span><br><span class="line">sudo apt-get install libglu1-mesa-dev freeglut3-dev mesa-common-dev</span><br></pre></td></tr></table></figure>

<h3 id="Clone、编译、安装"><a href="#Clone、编译、安装" class="headerlink" title="Clone、编译、安装"></a>Clone、编译、安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/MolTwister/MolTwister.git</span><br><span class="line"><span class="built_in">cd</span> MolTwister</span><br><span class="line">cmake CMakeLists.txt -DINCLUDE_CUDA_COMMANDS=OFF</span><br><span class="line"><span class="comment">#cmake CMakeLists.txt -DINCLUDE_CUDA_COMMANDS=ON</span></span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<h3 id="安装成功输出"><a href="#安装成功输出" class="headerlink" title="安装成功输出"></a>安装成功输出</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Consolidate compiler generated dependencies of target MolTwister</span><br><span class="line">[100%] Built target MolTwister</span><br><span class="line">Install the project...</span><br><span class="line">-- Install configuration: <span class="string">&quot;&quot;</span></span><br><span class="line">-- Installing: /usr/local/bin/moltwister</span><br><span class="line">-- Installing: /usr/local/bin/moltwister-tutorials/</span><br><span class="line">-- Installing: /usr/local/bin/moltwister-tutorials//water_simulation.md</span><br></pre></td></tr></table></figure>



<h3 id="教程实操"><a href="#教程实操" class="headerlink" title="教程实操"></a><a href="https://moltwister.readthedocs.io/">教程</a>实操</h3><ul>
<li>终端输入<code>moltwister</code>打开<code>MolTwister</code>命令行和右侧<code>3D View</code></li>
</ul>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/209554520231062.png"></p>
<h4 id="创建一个水分子PDB"><a href="#创建一个水分子PDB" class="headerlink" title="创建一个水分子PDB"></a>创建一个水分子PDB</h4><ul>
<li><p>在MolTwister命令行执行以下命令：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">add</span> atom H1 at <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="attribute">add</span> atom O from atom <span class="number">0</span> dist <span class="number">0</span>.<span class="number">96</span></span><br><span class="line"><span class="attribute">add</span> atom H2 from bond <span class="number">0</span> <span class="number">1</span> angle <span class="number">104</span>.<span class="number">5</span> <span class="number">0</span>.<span class="number">0</span> dist <span class="number">0</span>.<span class="number">96</span></span><br><span class="line"><span class="attribute">genbonds</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这将在(x, y, z)&#x3D;(0,0,0)处创建一个名为H1的氢原子(其中前导H产生一个氢原子)，索引为0。然后加入一个氧原子，称为O，与索引为0的原子保持0.96埃的距离。最后，在索引为0 (H1)和1 (O)的原子之间以104.5度和0.0度的二面角形成键，与O的距离为0.96埃，加入一个氢原子H2</p>
<p>如下图：</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/429024520249488.png"></p>
</blockquote>
</li>
<li><p>测量距离和角度，检查一切是否如我们所料</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">measure bondlength <span class="built_in">id</span> 0 1</span><br><span class="line">measure bondlength <span class="built_in">id</span> 1 </span><br><span class="line">measure angle <span class="built_in">id</span> 0 1 2</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/37854620237355.png"></p>
</blockquote>
</li>
<li><p>measure工具还可以测量没有相连的两个原子之间距离：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">measure bondlength <span class="built_in">id</span> 0 2</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/272344620257521.png"></p>
</blockquote>
</li>
<li><p>要创建PDB文件内容，可以这样写:</p>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line"><span class="keyword">print</span> pdb <span class="meta"># 仅打印在screen</span></span><br><span class="line"><span class="keyword">print</span> pdb &gt; my_water.pdb <span class="meta"># 写入文件</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="创建liquid-water"><a href="#创建liquid-water" class="headerlink" title="创建liquid water"></a>创建liquid water</h4><ul>
<li><p>打开<code>MolTwister</code>，确保你有<code>my_water.pdb</code>(在上述教程中创建的<code>pdb</code>文件，或类似的<code>pdb</code>文件)。执行如下命令:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">load my_water.pdb</span><br><span class="line">sel all</span><br><span class="line">copy sel 10 10 10 3.0 3.0 3.0</span><br><span class="line">autoscale</span><br><span class="line">genbonds</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这将把PDB文件加载到MolTwister中，选择水分子的所有原子，然后在x, y和z方向上复制该选择10次，每个方向上的距离为3埃。最后，自动缩放用于放大整个系统，然后为每个水分子创建键。</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/430244620250190.png"></p>
</blockquote>
</li>
</ul>
<h4 id="创建MolTwister脚本"><a href="#创建MolTwister脚本" class="headerlink" title="创建MolTwister脚本"></a>创建MolTwister脚本</h4><ul>
<li><p>创建一个名为<code>gen_my_water_mol.script</code>的文件。编写脚本，编写以下内容:</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">exec(<span class="string">&quot;add atom H1 at 0 0 0&quot;</span>)<span class="comment">;</span></span><br><span class="line">exec(<span class="string">&quot;add atom O from atom 0 dist 0.96&quot;</span>)<span class="comment">;</span></span><br><span class="line">exec(<span class="string">&quot;add atom H2 from bond 0 1 angle 104.5 0.0 dist 0.96&quot;</span>)<span class="comment">;</span></span><br><span class="line">exec(<span class="string">&quot;genbonds&quot;</span>)<span class="comment">;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在MolTwister中运行以下命令:</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">load gen_my_water_mol.<span class="keyword">script</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这将通过依次调用文件中给出的每个命令来创建一个水分子。</p>
</blockquote>
</li>
</ul>
<h4 id="创建一个MolTwister-Python脚本"><a href="#创建一个MolTwister-Python脚本" class="headerlink" title="创建一个MolTwister Python脚本"></a>创建一个MolTwister Python脚本</h4><ul>
<li><p>创建一个名为<code>gen_cube.py</code>的<code>Python</code>脚本，其中包含(<code>required Python3</code>):</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> moltwister <span class="keyword">as</span> mt</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span> (<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">            x = i*<span class="number">3.0</span></span><br><span class="line">            y = j*<span class="number">4.0</span></span><br><span class="line">            z = k*<span class="number">1.5</span></span><br><span class="line">            mt.mt_exec(<span class="string">f&quot;add atom O at <span class="subst">&#123;x&#125;</span> <span class="subst">&#123;y&#125;</span> <span class="subst">&#123;z&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">mt.mt_exec(<span class="string">&quot;autoscale&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后在MolTwister中执行如下命令:</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">load</span> gen_cube.py</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/15574720246745.png"></p>
</blockquote>
</li>
</ul>
<h4 id="Water-simulation-thermalization-RDF-MSD-VACF-and-VDOS"><a href="#Water-simulation-thermalization-RDF-MSD-VACF-and-VDOS" class="headerlink" title="Water simulation, thermalization, RDF, MSD, VACF, and VDOS"></a>Water simulation, thermalization, RDF, MSD, VACF, and VDOS</h4><h5 id="引言"><a href="#引言" class="headerlink" title="引言"></a>引言</h5><ul>
<li><p>在本教程中，我们将创建一个单一的水分子，然后复制它来创建一个水相。随后，我们分配了力场参数，进行了能量优化，然后进行了仿真</p>
</li>
<li><p>一旦模拟完成，我们将绘制温度作为时间的函数来确定热化点。接下来是计算</p>
<ul>
<li>径向分布函数，</li>
<li>均方位移和自扩散，</li>
<li>速度自相关函数，</li>
<li>以及振动态密度。</li>
</ul>
</li>
</ul>
<h5 id="创造一个水分子"><a href="#创造一个水分子" class="headerlink" title="创造一个水分子"></a>创造一个水分子</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">add atom Hw1 at 0 0 0</span><br><span class="line">add atom Ow at 0.9572 0 0</span><br><span class="line">add atom Hw2 from bond 0 1 angle 104.52 0 dist 0.9572</span><br><span class="line"><span class="comment"># 建立边界</span></span><br><span class="line">mod userdefpbc -10 10 -10 10 -10 10</span><br><span class="line"><span class="built_in">set</span> userdefpbc on</span><br><span class="line"></span><br><span class="line">autoscale</span><br><span class="line">genbonds</span><br><span class="line"><span class="built_in">print</span> pdb &gt; single_water.pdb</span><br><span class="line"><span class="built_in">print</span> xyz &gt; single_water.xyz</span><br></pre></td></tr></table></figure>

<h5 id="分配力场参数"><a href="#分配力场参数" class="headerlink" title="分配力场参数"></a>分配力场参数</h5><ul>
<li><p>我们现在可以为新创建的水分子分配力场参数。</p>
</li>
<li><p>我们可以直接输入命令，但我们可能需要在研究过程中多次分配力场。因此，我们创建一个名为<code>water_ff.script</code>的文件。该文件应包含：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># water_ff.script--&gt;TIP3P water</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">mod</span> mass name Hw1 to <span class="number">1</span>.<span class="number">00784</span>;</span><br><span class="line"><span class="attribute">mod</span> mass name Hw2 to <span class="number">1</span>.<span class="number">00784</span>;</span><br><span class="line"><span class="attribute">mod</span> mass name Ow to <span class="number">15</span>.<span class="number">999</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">add</span> mdbond Ow Hw1 Harm all_r_less_than <span class="number">1</span>.<span class="number">1</span> <span class="number">1882</span>.<span class="number">8</span> <span class="number">0</span>.<span class="number">9572</span>;</span><br><span class="line"><span class="attribute">add</span> mdbond Ow Hw2 Harm all_r_less_than <span class="number">1</span>.<span class="number">1</span> <span class="number">1882</span>.<span class="number">8</span> <span class="number">0</span>.<span class="number">9572</span>;</span><br><span class="line"><span class="attribute">add</span> mdangle Hw1 Ow Hw2 Harm all_r_less_than <span class="number">1</span>.<span class="number">1</span> <span class="number">230</span>.<span class="number">12</span> <span class="number">104</span>.<span class="number">52</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">add</span> mdnonbonded Ow Ow LJ <span class="number">0</span>.<span class="number">426768</span> <span class="number">3</span>.<span class="number">188</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="清除所有内容"><a href="#清除所有内容" class="headerlink" title="清除所有内容"></a>清除所有内容</h5><ul>
<li><p>很多时候，我们希望在MolTwister中执行子任务，最终得到一个脚本、pdb文件或类似的文件，可以稍后重新加载。在创建这些之后，我们通常想要从MolTwister内存中删除我们所做的一切。这分两步完成。</p>
</li>
<li><p>首先我们删除我们在3D视图中看到的:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">sel <span class="attribute">all</span></span><br><span class="line"><span class="selector-tag">del</span> sel</span><br></pre></td></tr></table></figure>
</li>
<li><p>随后，我们删除所有力场参数</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">del</span> ff</span><br></pre></td></tr></table></figure>
</li>
<li><p>在某些系统上，还可以打开几个MolTwister实例，这在某些情况下可能很有用。</p>
</li>
</ul>
<h5 id="调查一下力场"><a href="#调查一下力场" class="headerlink" title="调查一下力场"></a>调查一下力场</h5><ul>
<li><p>注意，要使下面的Python脚本工作，必须在系统上安装<code>MatplotLib</code>，这可以通过调用来完成: <code>pip install matplotlib</code></p>
</li>
<li><p>要使MolTwister工作，必须安装Python，所以系统上应该已经安装了Python。</p>
</li>
<li><p>将所需的数据再次加载到系统中:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">load single_water.pdb</span><br><span class="line">load water_ff.script</span><br></pre></td></tr></table></figure>
</li>
<li><p>我们可以输出数据来显示指定力场电位的图，但首先我们需要知道指定力场的指数，这可以通过调用:</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">list</span> ff</span><br><span class="line"><span class="attribute">help</span> moldyn</span><br><span class="line"><span class="comment"># 我们可以看看水氧之间的伦纳德-琼斯势，也就是指数为0的非成键势</span></span><br><span class="line"><span class="attribute">moldyn</span> ff nonbondforceprofile <span class="number">0</span> <span class="number">2</span>.<span class="number">9</span> <span class="number">10</span>.<span class="number">0</span> <span class="number">100</span> &gt; OwOw_LJ.dat</span><br></pre></td></tr></table></figure>
</li>
<li><p>其中结果存储在OwOw_LJ.dat文件中。这可以使用以下Python脚本绘制，名称为<code>plot_non_bonded.py</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">listX = []</span><br><span class="line">listY = []</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;OwOw_LJ.dat&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">startOfList = <span class="literal">False</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    <span class="keyword">if</span> startOfList:</span><br><span class="line">        s = line.split()</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(s) &gt;= <span class="number">3</span>:</span><br><span class="line">            listX.append(<span class="built_in">float</span>(s[<span class="number">0</span>])) <span class="comment"># Extract r in Å</span></span><br><span class="line">            listY.append(<span class="built_in">float</span>(s[<span class="number">2</span>])) <span class="comment"># Extract U in kJ/mol</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;Potential&quot;</span> <span class="keyword">in</span> line:</span><br><span class="line">        startOfList = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">ax.plot(listX, listY)</span><br><span class="line"></span><br><span class="line">ax.<span class="built_in">set</span>(xlabel=<span class="string">&#x27;r [Å]&#x27;</span>, ylabel=<span class="string">&#x27;U [kJ/mol]&#x27;</span>, title=<span class="string">&#x27;Ow-Ow Lennard-Jones potential&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>运行脚本画出LJ势能图：</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/189254720242499.png"></p>
</blockquote>
</li>
</ul>
<h5 id="创建liquid-water-1"><a href="#创建liquid-water-1" class="headerlink" title="创建liquid water"></a>创建liquid water</h5><ul>
<li><p>现在我们要使用<code>single_water.pdb</code>文件，创建并构建了一个包含<code>512</code>个水分子的水相，随机放置，没有碰撞。假设密度为$$997 kg&#x2F;m^3$$，两个氢的质量为<code>1.0078</code>，一个氧的质量为<code>15.999</code>，我们先计算一下盒子的大概尺寸:</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">calculate</span> volumefromdensity <span class="number">997</span> <span class="number">1</span>.<span class="number">0078</span>,<span class="number">1</span>.<span class="number">0078</span>,<span class="number">15</span>.<span class="number">999</span> <span class="number">512</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment">#        Mass of atom 0 of single molecule = 1.0078 g/mol</span></span><br><span class="line"><span class="comment">#        Mass of atom 1 of single molecule = 1.0078 g/mol</span></span><br><span class="line"><span class="comment">#        Mass of atom 2 of single molecule = 15.9990 g/mol</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        Target density = 997.0000 kg/m^3</span></span><br><span class="line"><span class="comment">#        Number of molecules = 512</span></span><br><span class="line"><span class="comment">#        Destination volume = 15362.3861 Angstrom^3</span></span><br><span class="line"><span class="comment">#        Destination length for cubic system = 24.8591 Angstrom</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>对于一个立方模拟盒，这产生的边长约为25 Å</p>
</blockquote>
</li>
<li><p>我们现在应该确保我们从一个干净的MolTwister开始:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">sel <span class="attribute">all</span></span><br><span class="line"><span class="selector-tag">del</span> sel</span><br><span class="line"><span class="selector-tag">del</span> ff</span><br></pre></td></tr></table></figure>
</li>
<li><p>首先我们加载水分子:</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">load</span> single_water.pdb</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后说del来删除之前的东西。随后，选择所有原子，将其随机放置在一个边长为25 Å，分子原子之间最小距离为1.5 Å的立方盒子中，并制作512份副本:</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">sel</span> <span class="literal">all</span></span><br><span class="line"><span class="attribute">copy</span> sel random <span class="number">25</span> <span class="number">25</span> <span class="number">25</span> <span class="number">512</span> <span class="number">1</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>检查我们是否通过选择所有的水氧(Ow)并计算它们来创建512个分子:</p>
<figure class="highlight arcade"><table><tr><td class="code"><pre><span class="line">sel <span class="built_in">none</span></span><br><span class="line">sel atomname Ow</span><br><span class="line">measure <span class="built_in">count</span> sel</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/368174720260379.png"></p>
</blockquote>
</li>
<li><p>MD模拟器只接受几何中心位于原点的系统。因此，我们需要通过调用将系统替换到这个位置</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">mod</span> atompos <span class="literal">all</span> geomcent <span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="attribute">autoscale</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/508434720257983.png"></p>
</blockquote>
</li>
<li><p>现在将系统保存到PDB文件中</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span> pdb &gt; water.pdb</span><br></pre></td></tr></table></figure></li>
</ul>
<h5 id="建立周期边界条件"><a href="#建立周期边界条件" class="headerlink" title="建立周期边界条件"></a>建立周期边界条件</h5><ul>
<li><p>现在我们要为模拟设置适当的周期边界条件(PBC)。</p>
</li>
<li><p>从上面的构造我们知道所有的原子都在25个Å的盒子里，但是我们也可以通过:</p>
<figure class="highlight nginx"><table><tr><td class="code"><pre><span class="line"><span class="attribute">measure</span> pbc</span><br><span class="line"></span><br><span class="line"><span class="comment"># output: </span></span><br><span class="line"><span class="comment">#        x = [-10.0000, 10.0000]</span></span><br><span class="line"><span class="comment">#        y = [-10.0000, 10.0000]</span></span><br><span class="line"><span class="comment">#        z = [-10.0000, 10.0000]</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#        User defined PBC!</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>然后，我们在PBC的每一边添加足够的量，以确保分子不会靠近PBC另一边的分子。因此，我们调用</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">mod</span> userdefpbc -<span class="number">12</span>.<span class="number">5</span> <span class="number">12</span>.<span class="number">5</span> -<span class="number">12</span>.<span class="number">5</span> <span class="number">12</span>.<span class="number">5</span> -<span class="number">12</span>.<span class="number">5</span> <span class="number">12</span>.<span class="number">5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>设置一个25 × 25 × 25 Å边界框，我们调用</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> userdefpbc <span class="keyword">on</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>为了激活它。聪明的做法是创建一个名为<code>pbc.script</code>的文件。并插入最后两个命令，这样我们就不必每次都手动调整PBC，而是只需编写<code>load pbc.script</code></p>
</li>
</ul>
<h5 id="进行能量优化"><a href="#进行能量优化" class="headerlink" title="进行能量优化"></a>进行能量优化</h5><ul>
<li><p>分子被随机放置在我们创造的液相中，所以通过执行能量优化来最小化原子之间的力是一个好主意。</p>
</li>
<li><p>我们将使用默认的最大优化步数和默认的学习率来实现这一点，但我们将设置当能量变化小于10 kJ&#x2F;mol时算法将停止。</p>
</li>
<li><p>要查看默认值，请调用:</p>
<figure class="highlight actionscript"><table><tr><td class="code"><pre><span class="line">moldyn cfg <span class="keyword">get</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>为了设置<code>10 kJ/mol</code>的精度，调用</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">moldyn cfg <span class="keyword">set</span> optaccuracy <span class="comment">10</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>我们现在从一个新的MolTwister开始:</p>
<figure class="highlight maxima"><table><tr><td class="code"><pre><span class="line">sel all</span><br><span class="line"><span class="built_in">del</span> sel</span><br><span class="line"><span class="built_in">del</span> ff</span><br><span class="line"><span class="built_in">load</span> water.pdb</span><br><span class="line"><span class="built_in">load</span> pbc.script</span><br><span class="line"><span class="built_in">load</span> water_ff.script</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后，开始能量优化:</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">moldyn cfg <span class="keyword">set</span> outstride <span class="comment">10</span></span><br><span class="line">moldyn <span class="comment">optimizeenergy</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>直到它终止。这将生成一个名为<code>traj.dcd</code>的文件 ‘和<code>out.txt</code>。</p>
</blockquote>
</li>
<li><p>通过创建一个名为<code>plot_energy.py</code>的Python脚本，包含:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">listX = []</span><br><span class="line">listY = []</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">startOfList = <span class="literal">False</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    <span class="keyword">if</span> startOfList <span class="keyword">and</span> <span class="string">&quot;Searching&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> line:</span><br><span class="line">        s = line.split()</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(s) &gt;= <span class="number">6</span>:</span><br><span class="line">            listX.append(<span class="built_in">float</span>(s[<span class="number">0</span>])) <span class="comment"># Extract time step column</span></span><br><span class="line">            listY.append(<span class="built_in">float</span>(s[<span class="number">5</span>])) <span class="comment"># Extract energy column</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;Step,&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> line <span class="keyword">and</span> <span class="string">&quot;Step&quot;</span> <span class="keyword">in</span> line:</span><br><span class="line">        startOfList = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">ax.plot(listX, listY)</span><br><span class="line"></span><br><span class="line">ax.<span class="built_in">set</span>(xlabel=<span class="string">&#x27;Step&#x27;</span>, ylabel=<span class="string">&#x27;U [kJ/mol]&#x27;</span>, title=<span class="string">&#x27;Energy optimization&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们可以看到优化过程的能量图:</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/80374820255485.png"></p>
</blockquote>
</li>
<li><p>如果对结果感到满意，可以将优化过程的最后一帧导出到PDB文件。首先加载轨迹</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">load</span> traj.dcd</span><br></pre></td></tr></table></figure>
</li>
<li><p>您可以通过单击3D视图并使用左右箭头键逐步查看优化过程。您还可以启用<code>fog </code>，以更好的深度可视化</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> fog <span class="keyword">on</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>我们现在通过导出优化的帧(在本例中为帧499)</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span> pdb frame 499 &gt; initial.pdb</span><br></pre></td></tr></table></figure>

<blockquote>
<p>我们将使用它作为模拟的起始框架。</p>
</blockquote>
</li>
<li><p>如果您愿意，可以重命名该轨迹。DCD和out.txt文件从能源优化安全保管。它们将在后面的步骤中被删除。</p>
</li>
</ul>
<h5 id="执行分子动力学模拟"><a href="#执行分子动力学模拟" class="headerlink" title="执行分子动力学模拟"></a>执行分子动力学模拟</h5><ul>
<li><p>我们重新开始清除MolTwister内存:</p>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line">sel <span class="attribute">all</span></span><br><span class="line"><span class="selector-tag">del</span> sel</span><br><span class="line"><span class="selector-tag">del</span> ff</span><br></pre></td></tr></table></figure>
</li>
<li><p>现在删除所有剩余traj.dcd和out.txt文件</p>
</li>
<li><p>我们重新加载初始系统，PBC和力场参数</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">load</span> initial.pdb</span><br><span class="line"><span class="keyword">load</span> pbc.script</span><br><span class="line"><span class="keyword">load</span> water_ff.script</span><br></pre></td></tr></table></figure>
</li>
<li><p>我们配置为以<code>0.5 fs</code>的速度运行<code>100000</code>个时间步，总共产生<code>50 ps</code>，并且我们将输出步长设置为<code>10</code>帧:</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">moldyn cfg <span class="built_in">set</span> timestep 0.5</span><br><span class="line">moldyn cfg <span class="built_in">set</span> timesteps 100000</span><br><span class="line">moldyn cfg <span class="built_in">set</span> outstride 10</span><br></pre></td></tr></table></figure>
</li>
<li><p>现在我们可以运行模拟</p>
<figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">moldyn <span class="built_in">run</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>在相对较新的CPU上，此模拟将花费几个小时并产生一个traj.dcd轨迹文件和一个out.txt输出文件。</p>
<p>如果模拟失败，例如产生NaN (Not a Number)，那么可以尝试减少时间步长。例如，从0.5到0.2秒，以获得更好的平衡。</p>
</blockquote>
</li>
<li><p>一旦模拟完成，我们可以加载轨迹文件通过</p>
<figure class="highlight gauss"><table><tr><td class="code"><pre><span class="line"><span class="keyword">load</span> traj.dcd</span><br></pre></td></tr></table></figure>
</li>
<li><p>并利用键盘的左右箭头进行仿真分析。调用帮助查看如何调整每次按键的步数，以及如何显示&#x2F;隐藏跨边界的键，以及在透视图和正射影视图之间切换。</p>
</li>
</ul>
<h5 id="绘制温度随模拟时间的函数"><a href="#绘制温度随模拟时间的函数" class="headerlink" title="绘制温度随模拟时间的函数"></a>绘制温度随模拟时间的函数</h5><ul>
<li><p>温度作为时间步长的函数可以在<code>out.txt</code>中找到，我们将使用Python绘制结果。创建文件<code>plot_temp.py</code>，并输入以下脚本:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">listX = []</span><br><span class="line">listY = []</span><br><span class="line">f = <span class="built_in">open</span>(<span class="string">&quot;out.txt&quot;</span>, <span class="string">&quot;r&quot;</span>)</span><br><span class="line">startOfList = <span class="literal">False</span></span><br><span class="line"><span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">    <span class="keyword">if</span> startOfList <span class="keyword">and</span> <span class="string">&quot;Searching&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> line:</span><br><span class="line">        s = line.split()</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(s) &gt;= <span class="number">3</span>:</span><br><span class="line">            listX.append(<span class="built_in">float</span>(s[<span class="number">0</span>])) <span class="comment"># Extract time step column</span></span><br><span class="line">            listY.append(<span class="built_in">float</span>(s[<span class="number">2</span>])) <span class="comment"># Extract temperature column</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="string">&quot;Timestep,&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> line <span class="keyword">and</span> <span class="string">&quot;Timestep&quot;</span> <span class="keyword">in</span> line:</span><br><span class="line">        startOfList = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">ax.plot(listX, listY)</span><br><span class="line"></span><br><span class="line">ax.<span class="built_in">set</span>(xlabel=<span class="string">&#x27;Step&#x27;</span>, ylabel=<span class="string">&#x27;T [K]&#x27;</span>, title=<span class="string">&#x27;Temperature&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p>温度vs时间：</p>
<p>这应该能清楚地显示系统的热化周期。这对于确定在模拟中的哪个点找到可以执行计算的热化数据非常重要。在本教程中，我们将假设系统在8000个时间步长之后热化，这对应于DCD文件中的帧索引800，因为我们每10个时间步长输出一次。</p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>MolTwister</category>
      </categories>
      <tags>
        <tag>MolTwister</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortran error</title>
    <url>/MyWiki/wiki/2020/04/16/codes/fortran/error/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="1-FFTW调用出错"><a href="#1-FFTW调用出错" class="headerlink" title="1. FFTW调用出错"></a>1. FFTW调用出错</h3><figure class="highlight vbnet"><table><tr><td class="code"><pre><span class="line">/tmp/cc7nhiwo.o: <span class="keyword">In</span> <span class="keyword">function</span> `MAIN__<span class="comment">&#x27;:</span></span><br><span class="line">xxx.f90:(.<span class="keyword">text</span>+<span class="number">0</span>x200c): undefined reference <span class="keyword">to</span> `dfftw_plan_dft_1d_<span class="comment">&#x27;</span></span><br><span class="line">xxx.f90:(.<span class="keyword">text</span>+<span class="number">0</span>x202c): undefined reference <span class="keyword">to</span> `dfftw_execute_dft_<span class="comment">&#x27;</span></span><br><span class="line">xxx.f90:(.<span class="keyword">text</span>+<span class="number">0</span>x203b): undefined reference <span class="keyword">to</span> `dfftw_destroy_plan_<span class="comment">&#x27;</span></span><br><span class="line">xxx.f90:(.<span class="keyword">text</span>+<span class="number">0</span>x21be): undefined reference <span class="keyword">to</span> `dfftw_plan_dft_1d_<span class="comment">&#x27;</span></span><br><span class="line">xxx.f90:(.<span class="keyword">text</span>+<span class="number">0</span>x21db): undefined reference <span class="keyword">to</span> `dfftw_execute_dft_<span class="comment">&#x27;</span></span><br><span class="line">xxx.f90:(.<span class="keyword">text</span>+<span class="number">0</span>x21ea): undefined reference <span class="keyword">to</span> `dfftw_destroy_plan_<span class="comment">&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>解决方法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gfortran xxx.f90 -L/usr/local/fftw/lib -lfftw3</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果没有在<code>xxx.f90</code>中<code>include &#39;/usr/local/fftw/include/fftw3.f&#39;</code>路径，仅仅<code>include &#39;fftw3.f&#39;</code></p>
</li>
<li><p>则可以：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gfortran xxx.f90 -I/usr/local/fftw/include -L/usr/local/fftw/lib -lfftw3</span><br></pre></td></tr></table></figure></li>
</ul>
<p>参考链接：[1] <a href="https://blog.csdn.net/TedOne_LZ/article/details/89151411">https://blog.csdn.net/TedOne_LZ/article/details/89151411</a></p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Fortran</category>
      </categories>
      <tags>
        <tag>Fortran</tag>
        <tag>error</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortran-03</title>
    <url>/MyWiki/wiki/2022/07/23/codes/fortran/fortran_03/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="停止语句"><a href="#停止语句" class="headerlink" title="停止语句"></a>停止语句</h3><h4 id="PAUSE"><a href="#PAUSE" class="headerlink" title="PAUSE"></a>PAUSE</h4><ul>
<li>一般形式是：<code>PAUSE [暂停值]</code>，暂停值为字符串常量或5位数以下的整型数，当程序运行至断点处将输出暂停值。</li>
<li>PAUSE语句(在F90中不推荐使用，在F95中被废除)暂时中止程序的运行，将系统挂起，使程序操作员可以执行其它操作系统命令。</li>
</ul>
<h4 id="STOP"><a href="#STOP" class="headerlink" title="STOP"></a>STOP</h4><ul>
<li>STOP语句的一般形式为: <code>STOP [停止值]</code>，与PAUSE语句类似，程序停止运行时将输出停止值。</li>
<li>STOP语句是停止运行，一个程序单位中可以有多个STOP语句，执行到任一个STOP语句处时，程序即完全中止运行。在子程序中如果有STOP语句，也是使整个程序停止运行而不是使控制返回主程序。</li>
</ul>
<h3 id="隐DO循环控制重复读写的次数"><a href="#隐DO循环控制重复读写的次数" class="headerlink" title="隐DO循环控制重复读写的次数"></a>隐DO循环控制重复读写的次数</h3><ul>
<li>一般形式为：<code>(I/O列表,循环变量名=初值,终值,增值)</code>。<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line">READ *,(<span class="keyword">VALUE</span>(I),I=<span class="number">1</span>,<span class="number">20</span>) <span class="comment">!读入VALUE(1),VALUE(2),…,VALUE(20)的值。</span></span><br><span class="line"><span class="built_in">WRITE</span>(*,*)(A,B,N=<span class="number">1</span>,<span class="number">5</span>) <span class="comment">!在当前设备用默认格式重复输出A、B的值5次。</span></span><br></pre></td></tr></table></figure></li>
<li>隐DO循环只能作为输入输出表的一部分出现，不能用于其它场合。</li>
<li>隐DO表可以嵌套，如：<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="built_in">PRINT</span> *, ((A(I,J),I=<span class="number">1</span>,<span class="number">3</span>),J=<span class="number">1</span>,<span class="number">3</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="无循环变量的DO构造"><a href="#无循环变量的DO构造" class="headerlink" title="无循环变量的DO构造"></a>无循环变量的DO构造</h3><figure class="highlight"><table><tr><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li><code>DO</code>块中必须有<code>EXIT</code>语句，使它停止循环，否则循环将无休无止地一直进行下去，形成死循环。<blockquote>
<p><code>EXIT</code>语句（<code>EXIT [DO构造名]</code>）的作用是停止循环，使控制退出循环结构，因此又称出口语句。<br>通常将<code>EXIT</code>语句与<code>IF</code>语句结合使用，即在<code>DO</code>构造内使用：<code>IF(逻辑表达式) EXIT</code></p>
</blockquote>
</li>
</ul>
<h3 id="一个猜数游戏"><a href="#一个猜数游戏" class="headerlink" title="一个猜数游戏"></a>一个猜数游戏</h3><ul>
<li>用随机数产生器产生1－10之间的一个整数，你猜它，如果猜得太大或太小都会提示，猜对了结束。<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"><span class="keyword">CALL</span> <span class="built_in">RANDOM_SEED</span> <span class="comment">! 用来获取或设置新的种子；注意，这个函数在整个程序里，通常只调用一次！</span></span><br><span class="line"><span class="keyword">call</span> <span class="built_in">random_number</span>(R)</span><br><span class="line"><span class="keyword">Number</span>=<span class="built_in">int</span>(<span class="number">10</span>*R+<span class="number">1</span>)</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">	<span class="built_in">write</span>(*,<span class="string">&#x27;(&quot;Your Guess:&quot;)&#x27;</span>); read *, MyGuess</span><br><span class="line">	<span class="keyword">if</span>(MyGuess.eq.<span class="keyword">Number</span>) <span class="keyword">exit</span></span><br><span class="line">	<span class="keyword">if</span>(MyGuess.gt.<span class="keyword">Number</span>) <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">print</span> *, <span class="string">&#x27;Too high. Try again.&#x27;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">print</span> *, <span class="string">&#x27;Too low.  Try again.&#x27;</span></span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="built_in">print</span> *,<span class="string">&#x27;You are lucky. It is&#x27;</span>,<span class="keyword">Number</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure></li>
<li><code>Fortran90</code> 以后，语法规范引入了两个标准的函数用来产生随机数(<code>0 ~1 之间</code>)： <code>random_seed</code>和 <code>random_number</code>(如上代码， 通常这两个函数需配合使用 )</li>
<li><code>random_seed</code><blockquote>
<p><code>call random_seed( size , get , put )</code>,一共三个参数（一般一次只能选择一个参数使用，而不能三个一起使用）<br><code>size</code>是输出参数，会返回种子的大小。在获取或设置新的种子时，输入输出的种子数组，必须与size的大小一样。<br><code>get</code>是输出参数，用来返回当前的种子。必须是<code>integer</code>类型的数组（数组大小取决于<code>size</code>），通常很少使用它。<br><code>put</code>是输入参数，用来设置新的种子。<br>只要<code>random_seed</code>不加入任何参数，则自动用时间设置种子。所以这个操作可以简化为<code>call random_seed()</code>或<code>call random_seed</code></p>
</blockquote>
</li>
<li><code>random_number</code><blockquote>
<p>用来产生随机数的，当我们需要产生时，调用它就可以了。整个程序可以不限次数地调用它。<br><code>call random_number(R)</code><br>这里的<code>R</code>必须是<code>real</code>类型，可以是单变量，也可以是数组。调用后，<code>R</code>的值变为当前的（伪）随机数。</p>
</blockquote>
</li>
</ul>
<h3 id="求两个整数的最大公约数"><a href="#求两个整数的最大公约数" class="headerlink" title="求两个整数的最大公约数"></a>求两个整数的最大公约数</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! !碾转相除法：如27和6，先用27除以6，余数为3。再用6除以3，余数为零，即3为最大公约数。</span></span><br><span class="line"></span><br><span class="line"><span class="comment">! program main</span></span><br><span class="line"><span class="comment">! 	read *, m,n</span></span><br><span class="line"><span class="comment">! 	if(m.lt.n) then</span></span><br><span class="line"><span class="comment">! 		k=m; m=n; n=k</span></span><br><span class="line"><span class="comment">! 	end if</span></span><br><span class="line"><span class="comment">! 	k=mod(m,n)</span></span><br><span class="line"><span class="comment">! 	do while (k/=0)</span></span><br><span class="line"><span class="comment">! 		m=n; n=k; k=mod(m,n)</span></span><br><span class="line"><span class="comment">! 	end do</span></span><br><span class="line"><span class="comment">! 	print *, &#x27;最大公约数＝&#x27;,n</span></span><br><span class="line"><span class="comment">! end program main</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	read *, m,n</span><br><span class="line">	<span class="keyword">do</span> <span class="keyword">while</span> (m/=n)</span><br><span class="line">		<span class="keyword">do</span> <span class="keyword">while</span> (m&gt;n)</span><br><span class="line">			m=m-n</span><br><span class="line">		<span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line">		<span class="keyword">do</span> <span class="keyword">while</span> (n&gt;m)</span><br><span class="line">			n=n-m</span><br><span class="line">		<span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line">	<span class="built_in">print</span> *, <span class="string">&#x27;最大公约数＝&#x27;</span>,m</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<ul>
<li><code>do while</code>的一般形式为：<code>[构造名] DO WHILE (逻辑表达式)</code></li>
</ul>
<h3 id="求正弦函数的近似值"><a href="#求正弦函数的近似值" class="headerlink" title="求正弦函数的近似值"></a>求正弦函数的近似值</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">!正弦函数用泰勒级数展开：sinx=x-x^3/3!+x^5/5!-x^7/7!+...。计算有限精度范围内的值。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">real</span>   , <span class="keyword">parameter</span>:: pi=<span class="number">3.141592</span>, err=<span class="number">1.e-6</span></span><br><span class="line">	<span class="keyword">integer</span>, <span class="keyword">parameter</span>:: max_terms=<span class="number">10</span></span><br><span class="line"></span><br><span class="line">	read *, x; x=x*pi/<span class="number">180</span></span><br><span class="line">	k=<span class="number">1</span>; term=x; sin_=term</span><br><span class="line"></span><br><span class="line">	<span class="keyword">do</span> <span class="keyword">while</span>((<span class="built_in">abs</span>(term)&gt;err) .and. (k&lt;=max_terms))</span><br><span class="line">		term=-term*x*x/(<span class="number">2</span>*k*(<span class="number">2</span>*k+<span class="number">1</span>))</span><br><span class="line">		k=k+<span class="number">1</span></span><br><span class="line">		sin_=sin_+term</span><br><span class="line">		<span class="built_in">print</span> *,k,sin_</span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">print</span> *,<span class="built_in">sin</span>(x)</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="DO-构造的一般形式"><a href="#DO-构造的一般形式" class="headerlink" title="DO 构造的一般形式"></a>DO 构造的一般形式</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line">[构造名:] <span class="keyword">DO</span> [标号][循环控制]</span><br><span class="line"></span><br><span class="line">块</span><br><span class="line"></span><br><span class="line">终止语句</span><br></pre></td></tr></table></figure>

<h3 id="用不带循环控制变量的DO构造求下列式"><a href="#用不带循环控制变量的DO构造求下列式" class="headerlink" title="用不带循环控制变量的DO构造求下列式"></a>用不带循环控制变量的DO构造求下列式</h3><ul>
<li>$1^2+2^2+3^2+…+m^2$</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! 1^2+2^2+3^2+...+m^2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"></span><br><span class="line">	<span class="keyword">integer</span> :: m</span><br><span class="line">	m = <span class="number">1</span></span><br><span class="line">	<span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">do</span></span><br><span class="line">		<span class="keyword">if</span>(m&lt;<span class="number">1000</span>) <span class="keyword">then</span></span><br><span class="line">			<span class="built_in">sum</span> = <span class="built_in">sum</span>+m**<span class="number">2</span></span><br><span class="line">			m = m + <span class="number">1</span></span><br><span class="line">			<span class="built_in">print</span> *, m</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">			<span class="keyword">EXIT</span></span><br><span class="line">		<span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="comment">! 	write(*,*) sum</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>程序学习</category>
        <category>Fortran</category>
      </categories>
      <tags>
        <tag>Fortran</tag>
        <tag>Fortran Tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortran-02</title>
    <url>/MyWiki/wiki/2022/07/17/codes/fortran/fortran_02/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="IF-ELSE-THEN-语句"><a href="#IF-ELSE-THEN-语句" class="headerlink" title="IF ELSE THEN 语句"></a>IF ELSE THEN 语句</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br><span class="line">   <span class="keyword">REAL</span> :: x; READ *, x</span><br><span class="line">   <span class="keyword">IF</span>(x&gt;<span class="number">0.0</span> .and. x&lt;<span class="number">1.0</span>) <span class="keyword">THEN</span></span><br><span class="line">      <span class="built_in">PRINT</span> *, <span class="string">&quot;  在区间(0, 1)中&quot;</span></span><br><span class="line">   <span class="keyword">ELSE</span> <span class="keyword">IF</span>(x&lt;<span class="number">0</span> .and. x&gt;-<span class="number">1</span>) <span class="keyword">THEN</span></span><br><span class="line">      <span class="built_in">PRINT</span> *, <span class="string">&quot;在区间(-1,0)&quot;</span></span><br><span class="line">   <span class="keyword">ELSE</span></span><br><span class="line">      <span class="built_in">PRINT</span> *, <span class="string">&quot;不在区间(0, 1)中&quot;</span></span><br><span class="line">   <span class="keyword">END</span> <span class="keyword">IF</span></span><br><span class="line"><span class="keyword">END</span> <span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br></pre></td></tr></table></figure>


<h3 id="tiny函数"><a href="#tiny函数" class="headerlink" title="tiny函数"></a>tiny函数</h3><ul>
<li><code>tiny(x)</code>表示查询<code>x</code>的最小正值,<code>x</code>所能表示的最小的数，近似于<code>0</code>。</li>
</ul>
<h3 id="CASE语句：统计学生考试成绩"><a href="#CASE语句：统计学生考试成绩" class="headerlink" title="CASE语句：统计学生考试成绩"></a>CASE语句：统计学生考试成绩</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"><span class="keyword">implicit</span> <span class="keyword">none</span>                                 <span class="comment">!`implicit none`即设计任何和隐含说明语句无效，所有变量都要显式地人工声明，不能未声明就直接使用，有效地避免了可能的大量错误。</span></span><br><span class="line"><span class="keyword">integer</span> :: score,n0=<span class="number">0</span>,n1=<span class="number">0</span>,n2=<span class="number">0</span>,n3=<span class="number">0</span>,n4=<span class="number">0</span></span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">	read *, score</span><br><span class="line">	<span class="keyword">if</span>(score&lt;<span class="number">0</span> .or. score&gt;<span class="number">100</span>) <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">print</span> *,<span class="string">&#x27;满分=&#x27;</span>,n0,<span class="string">&#x27; 优=&#x27;</span>,n1,<span class="string">&#x27; 良=&#x27;</span>,n2,<span class="string">&#x27; 及格=&#x27;</span>,n3,<span class="string">&#x27; 不及格=&#x27;</span>,n4</span><br><span class="line">		<span class="keyword">exit</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="keyword">select</span> <span class="keyword">case</span>(score)                     <span class="comment">!入口语句, select case(表达式)</span></span><br><span class="line">			<span class="keyword">case</span>(<span class="number">100</span>)                          <span class="comment">!CASE语句是一条单独的语句</span></span><br><span class="line">				<span class="built_in">print</span> *, <span class="string">&#x27;满分&#x27;</span>; n0=n0+<span class="number">1</span></span><br><span class="line">			<span class="keyword">case</span>(<span class="number">85</span>:<span class="number">99</span>)                        <span class="comment">!case值必须与表达式的类型相同</span></span><br><span class="line">				<span class="built_in">print</span> *, <span class="string">&#x27;优  &#x27;</span>; n1=n1+<span class="number">1</span>       </span><br><span class="line">			<span class="keyword">case</span>(<span class="number">70</span>:<span class="number">84</span>)                        <span class="comment">!给定CASE构造中的case值范围不能有重叠</span></span><br><span class="line">				<span class="built_in">print</span> *, <span class="string">&#x27;良  &#x27;</span>; n2=n2+<span class="number">1</span>       <span class="comment">!CASE块可以是空的，也可以包含其它块，其嵌套形式与块IF相同</span></span><br><span class="line">			<span class="keyword">case</span>(<span class="number">60</span>:<span class="number">69</span>)                        </span><br><span class="line">				<span class="built_in">print</span> *, <span class="string">&#x27;及格&#x27;</span>; n3=n3+<span class="number">1</span></span><br><span class="line">			<span class="keyword">case</span> <span class="keyword">default</span>                       <span class="comment">!可选,最多只能有一句;当case表达式的值在case值范围以外时，执行CASE DEFAULT语句后面的块</span></span><br><span class="line">				<span class="built_in">print</span> *, <span class="string">&#x27;不及格&#x27;</span>; n4=n4+<span class="number">1</span></span><br><span class="line">		<span class="keyword">end</span> <span class="keyword">select</span>                             <span class="comment">!出口语句</span></span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>
<ul>
<li>分为整型、字符型、逻辑型三种</li>
</ul>
<h3 id="读入a-b，若a-gt-b，则置X-x3D-1-23，否则置X-x3D-32-1，打印X值；"><a href="#读入a-b，若a-gt-b，则置X-x3D-1-23，否则置X-x3D-32-1，打印X值；" class="headerlink" title="读入a,b，若a&gt;b，则置X&#x3D;1.23，否则置X&#x3D;32.1，打印X值；"></a>读入a,b，若a&gt;b，则置X&#x3D;1.23，否则置X&#x3D;32.1，打印X值；</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">real</span> :: a,b,X</span><br><span class="line">	read(*,*) a,b</span><br><span class="line">	<span class="keyword">if</span>(a&gt;b) <span class="keyword">then</span></span><br><span class="line">		X = <span class="number">1.23</span></span><br><span class="line">		<span class="built_in">write</span>(*,*) X</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		X = <span class="number">32.1</span></span><br><span class="line">		<span class="built_in">print</span> *,X</span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="读入a-b-c-d，若a-b-gt-c-d，则X-x3D-1-1，若a-b-x3D-c，则X-x3D-0-0，若a-b-lt-c-d，则X-x3D-1-1，输出X值；"><a href="#读入a-b-c-d，若a-b-gt-c-d，则X-x3D-1-1，若a-b-x3D-c，则X-x3D-0-0，若a-b-lt-c-d，则X-x3D-1-1，输出X值；" class="headerlink" title="读入a,b,c,d，若a+b&gt;c+d，则X&#x3D;1.1，若a+b&#x3D;c，则X&#x3D;0.0，若a+b&lt;c+d，则X&#x3D;-1.1，输出X值；"></a>读入a,b,c,d，若a+b&gt;c+d，则X&#x3D;1.1，若a+b&#x3D;c，则X&#x3D;0.0，若a+b&lt;c+d，则X&#x3D;-1.1，输出X值；</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">!读入a,b,c,d，若a+b&gt;c+d，则X=1.1，若a+b=c，则X=0.0，若a+b&lt;c+d，则X=-1.1，输出X值；</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">real</span> :: a,b,c,d,X</span><br><span class="line">	read *, a,b,c,d</span><br><span class="line">	<span class="keyword">if</span>(a+b&gt;c+d) <span class="keyword">then</span></span><br><span class="line">		X = <span class="number">1.1</span></span><br><span class="line">		<span class="built_in">write</span>(*,*) X</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>((a+b).eq.c) <span class="keyword">then</span></span><br><span class="line">		X = <span class="number">0.0</span></span><br><span class="line">		<span class="built_in">write</span>(*,*) X</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>((a+b).lt.(c+d)) <span class="keyword">then</span></span><br><span class="line">		X = -<span class="number">1.1</span></span><br><span class="line">		<span class="built_in">print</span> *, X</span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		<span class="built_in">print</span> *,<span class="string">&quot;输入错误!!!&quot;</span></span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="读入S与S1，如-S-S1-≤10-7，则置S为S1。"><a href="#读入S与S1，如-S-S1-≤10-7，则置S为S1。" class="headerlink" title="读入S与S1，如|S-S1|≤10-7，则置S为S1。"></a>读入S与S1，如|S-S1|≤10-7，则置S为S1。</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! 读入S与S1，如|S-S1|≤10-7，则置S为S1。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">real</span> :: S,S1</span><br><span class="line">	READ(*,*) S,S1</span><br><span class="line">	<span class="keyword">IF</span>(<span class="built_in">ABS</span>(S-S1).LE.(<span class="number">10</span>-<span class="number">7</span>)) <span class="keyword">THEN</span></span><br><span class="line">		S = S1</span><br><span class="line">		<span class="built_in">PRINT</span> *,<span class="string">&quot;S,S1 = &quot;</span>,S,S1</span><br><span class="line">	<span class="keyword">ELSE</span></span><br><span class="line">		<span class="built_in">PRINT</span> *,<span class="string">&quot;ERROR!!!&quot;</span></span><br><span class="line">	<span class="keyword">END</span> <span class="keyword">IF</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="用IF构造嵌套方法编程"><a href="#用IF构造嵌套方法编程" class="headerlink" title="用IF构造嵌套方法编程"></a>用IF构造嵌套方法编程</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! 用IF构造嵌套方法编程：读入X，分三种情况求得Z值，当X&lt;0时，Z=-100；</span></span><br><span class="line"><span class="comment">! 当X=0时，又分三种情况（y&lt;0，则Z=sinX；y=0，则Z=0；y&gt;0，则Z=cosX）；</span></span><br><span class="line"><span class="comment">! 当X&gt;0时，Z=100，打印Z值。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br><span class="line"></span><br><span class="line">	<span class="keyword">REAL</span> :: X,Y,Z</span><br><span class="line">	READ(*,*) X,Y</span><br><span class="line">	<span class="keyword">IF</span>(X&lt;<span class="number">0</span>) <span class="keyword">THEN</span> </span><br><span class="line">		Z = -<span class="number">100</span></span><br><span class="line">		<span class="built_in">PRINT</span> *,Z</span><br><span class="line">		<span class="built_in">PRINT</span> *,Z</span><br><span class="line">		<span class="keyword">ELSE</span> <span class="keyword">IF</span>(X.EQ<span class="number">.0</span>) <span class="keyword">THEN</span></span><br><span class="line">			<span class="keyword">IF</span>(Y.LT<span class="number">.0</span>) <span class="keyword">THEN</span> </span><br><span class="line">				Z = <span class="built_in">SIN</span>(X)</span><br><span class="line">				<span class="built_in">PRINT</span> *,Z</span><br><span class="line">			<span class="keyword">ELSE</span> <span class="keyword">IF</span>(Y.EQ<span class="number">.0</span>) <span class="keyword">THEN</span></span><br><span class="line">				Z = <span class="number">0</span></span><br><span class="line">				<span class="built_in">PRINT</span> *,Z</span><br><span class="line">			<span class="keyword">ELSE</span> <span class="keyword">IF</span>(Y.GT<span class="number">.0</span>) <span class="keyword">THEN</span></span><br><span class="line">				Z = <span class="built_in">COS</span>(X)</span><br><span class="line">				<span class="built_in">PRINT</span> *,Z</span><br><span class="line">			<span class="keyword">END</span> <span class="keyword">IF</span></span><br><span class="line">			<span class="keyword">ELSE</span> <span class="keyword">IF</span>(X.GT<span class="number">.0</span>) <span class="keyword">THEN</span></span><br><span class="line">				Z = <span class="number">100</span></span><br><span class="line">				<span class="built_in">PRINT</span> *,Z</span><br><span class="line">		<span class="keyword">END</span> <span class="keyword">IF</span></span><br><span class="line"><span class="keyword">END</span> <span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br></pre></td></tr></table></figure>

<h3 id="读入一个整型变量N的值，用CASE构造编程"><a href="#读入一个整型变量N的值，用CASE构造编程" class="headerlink" title="读入一个整型变量N的值，用CASE构造编程"></a>读入一个整型变量N的值，用CASE构造编程</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! 读入一个整型变量N的值，用CASE构造编程，</span></span><br><span class="line"><span class="comment">! 若N＝1、2、3、5，则Y＝X；N＝4、8，则Y＝X^2；N＝6、7，则Y＝X^3，</span></span><br><span class="line"><span class="comment">! 其它情况则Y=0，打印Y值</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br><span class="line">	<span class="keyword">INTEGER</span> :: N,X,Y</span><br><span class="line">	READ(*,*) N</span><br><span class="line">	<span class="keyword">SELECT</span> <span class="keyword">CASE</span>(N)</span><br><span class="line">		<span class="keyword">CASE</span>(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>)</span><br><span class="line">			Y = X</span><br><span class="line">			<span class="built_in">PRINT</span> *, Y</span><br><span class="line">		<span class="keyword">CASE</span>(<span class="number">4</span>,<span class="number">8</span>)</span><br><span class="line">			Y = X**<span class="number">2</span></span><br><span class="line">			<span class="built_in">PRINT</span> *, Y</span><br><span class="line">		<span class="keyword">CASE</span>(<span class="number">6</span>:<span class="number">7</span>)</span><br><span class="line">			Y = X**<span class="number">3</span></span><br><span class="line">			<span class="built_in">PRINT</span> *, Y</span><br><span class="line">		<span class="keyword">CASE</span> <span class="keyword">DEFAULT</span></span><br><span class="line">			Y = <span class="number">0</span></span><br><span class="line">			<span class="built_in">PRINT</span> *, Y</span><br><span class="line">	<span class="keyword">END</span> <span class="keyword">SELECT</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span> <span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br></pre></td></tr></table></figure>

<h3 id="设变量color-light是字符型变量，表示灯光色彩"><a href="#设变量color-light是字符型变量，表示灯光色彩" class="headerlink" title="设变量color_light是字符型变量，表示灯光色彩"></a>设变量color_light是字符型变量，表示灯光色彩</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! 设变量color_light是字符型变量，表示灯光色彩，</span></span><br><span class="line"><span class="comment">! 编一CASE构造，当该变量值是红色(RED)则打印STOP字样。</span></span><br><span class="line"><span class="comment">! 当变量值是黄色(YELLOW)，打印WAIT字样，当值是绿色(GREEN)打印CROSS字样。</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br><span class="line">	<span class="keyword">IMPLICIT</span> <span class="keyword">none</span></span><br><span class="line">	<span class="keyword">CHARACTER</span>*<span class="number">1</span>  color_light</span><br><span class="line"></span><br><span class="line">	<span class="built_in">PRINT</span> *,<span class="string">&quot;请输入：RED、YELLOW、GREEN任意一个：&quot;</span></span><br><span class="line">	</span><br><span class="line">	READ(*,*) color_light</span><br><span class="line">	</span><br><span class="line">	KEY_INPUT: <span class="keyword">SELECT</span> <span class="keyword">CASE</span>(color_light)</span><br><span class="line">		<span class="keyword">CASE</span>(<span class="string">&#x27;RED&#x27;</span>)</span><br><span class="line">			<span class="built_in">PRINT</span> *,<span class="string">&quot;STOP&quot;</span></span><br><span class="line">		<span class="keyword">CASE</span>(<span class="string">&#x27;YELLOW&#x27;</span>)</span><br><span class="line">			<span class="built_in">PRINT</span> *, <span class="string">&quot;WAIT&quot;</span></span><br><span class="line">		<span class="keyword">CASE</span>(<span class="string">&#x27;GREEN&#x27;</span>)</span><br><span class="line">			<span class="built_in">PRINT</span> *, <span class="string">&quot;CROSS&quot;</span></span><br><span class="line">		<span class="keyword">CASE</span> <span class="keyword">DEFAULT</span></span><br><span class="line">			<span class="built_in">PRINT</span> *, <span class="string">&quot;ERROR!!!!&quot;</span></span><br><span class="line">	<span class="keyword">END</span> <span class="keyword">SELECT</span> KEY_INPUT</span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span> <span class="function"><span class="keyword">PROGRAM</span></span> MAIN</span><br></pre></td></tr></table></figure>
<ul>
<li>这个代码并不能实现该结果，待解决</li>
</ul>
<h3 id="循环读入学生的学号和成绩30次并打印"><a href="#循环读入学生的学号和成绩30次并打印" class="headerlink" title="循环读入学生的学号和成绩30次并打印"></a>循环读入学生的学号和成绩30次并打印</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">integer</span> :: N, Num</span><br><span class="line">	<span class="keyword">real</span> :: Grade</span><br><span class="line">	<span class="built_in">print</span> *, <span class="string">&quot;请输入学号、成绩:&quot;</span></span><br><span class="line">	<span class="keyword">do</span> <span class="number">10</span> N = <span class="number">1</span>, <span class="number">30</span>, <span class="number">1</span></span><br><span class="line">		read(*,*) Num, Grade</span><br><span class="line">		<span class="built_in">print</span>*, Num,Grade</span><br><span class="line">	<span class="number">10</span> <span class="keyword">CONTINUE</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>
<ul>
<li>DO构造一般形式：<code>DO [[标号][，]] 循环变量＝初值式，终值式[，增量式]</code><blockquote>
<p>中括号里可省略;<br>DO语句的一般形式中，当循环变量的增量<mark>(步长值)为1时增量式可不写</mark>;<br>循环变量初值、终值和步长可以分别是常数、变量或表达式;<br>循环变量的初值、终值和步长可以为正或负。初值、终值可以为零。但步长不应为0，否则循环变量的值永远不会超过终值，从而陷入死循环;<br>应尽量使循环变量类型与初值、终值和步长的类型一致, 若不一致，则按赋值的规则处理，即需先将初值、终值和步长的类型转化成循环变量的类型，然后进行处理；<br>由于<mark>实型数在运算和存储时有一些误差，</mark>因而循环次数的理论值与实际值之间会有一些差别。这种情况在程序设计中常有发生，而且比较隐蔽不易发现。所以应该避免使用实型的循环变量，用<mark>整型循环变量计算出的循环次数是绝对准确的。</mark><br>特殊的循环终端语句是：<code>END DO</code>(常用于无语句标号时)和<code>CONTINUE</code>(常用于有语句标号时)</p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Fortran</category>
      </categories>
      <tags>
        <tag>Fortran</tag>
        <tag>Fortran Tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortran-01</title>
    <url>/MyWiki/wiki/2022/07/16/codes/fortran/fortran_01/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Sublime-Text配置Fortran高亮"><a href="#Sublime-Text配置Fortran高亮" class="headerlink" title="Sublime Text配置Fortran高亮"></a>Sublime Text配置Fortran高亮</h3><ul>
<li>下载插件<a href="https://github.com/textmate/fortran.tmbundle">fortran.tmbundle</a></li>
<li>解压到<code>C:\Users\xxx\AppData\Roaming\Sublime Text\Packages</code>,通过Sublime Text面板中<code>Preferences&gt;Browse Packages</code>可以打开</li>
</ul>
<h3 id="一个Fortran程序基本格式"><a href="#一个Fortran程序基本格式" class="headerlink" title="一个Fortran程序基本格式"></a>一个Fortran程序基本格式</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">!program main ! 程序开始，其后跟程序名。这一行可省略。</span></span><br><span class="line"><span class="keyword">real</span> :: c, d, av3, av4 <span class="comment">! 定义实数型变量。整数型，则用 integer。</span></span><br><span class="line"><span class="comment">!read *, c, d ! 输入语句1</span></span><br><span class="line">read(*,*) c, d <span class="comment">! 输入语句2:星号意指默认的输入输出硬件(键盘和屏幕)及格式</span></span><br><span class="line">	av3 = (c + d)/<span class="number">2</span>; av4 = (c*d)**<span class="number">0.5</span> <span class="comment">! 运算 + - * / **</span></span><br><span class="line"><span class="built_in">print</span> *, av3, av4 <span class="comment">! 输出语句1</span></span><br><span class="line"><span class="built_in">write</span>(*,*) av3, av4 <span class="comment">! 输出语句2</span></span><br><span class="line"><span class="keyword">end</span><span class="comment">! 程序结束</span></span><br></pre></td></tr></table></figure>

<h3 id="输入圆锥底面半径r和高h，求体积和表面积"><a href="#输入圆锥底面半径r和高h，求体积和表面积" class="headerlink" title="输入圆锥底面半径r和高h，求体积和表面积"></a>输入圆锥底面半径r和高h，求体积和表面积</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main </span><br><span class="line"><span class="keyword">real</span> :: r, h, pi, v, s <span class="comment">! 定义半径、高、体积变量</span></span><br><span class="line">pi = <span class="number">3.1415926</span></span><br><span class="line"><span class="built_in">write</span>(*,*) <span class="string">&quot;输入圆锥半径r和高h！&quot;</span></span><br><span class="line">read(*,*) r, h <span class="comment">! 输入半径和高</span></span><br><span class="line">v = (pi*r**<span class="number">2</span>*h)/<span class="number">3</span> <span class="comment">! 计算圆锥体积</span></span><br><span class="line">s = pi*r**<span class="number">2</span>+pi*r*(<span class="built_in">sqrt</span>(r**<span class="number">2</span>+h**<span class="number">2</span>)) <span class="comment">! 计算圆锥体积</span></span><br><span class="line"><span class="built_in">write</span>(*,*) <span class="string">&quot;圆锥体积为v:&quot;</span>,v ; <span class="built_in">write</span>(*,*) <span class="string">&quot;圆锥表面积为s:&quot;</span>,s  <span class="comment">! F90中用“；”将两行并为一行。</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="分别求半径R-x3D-1，3，12-5时的圆周长。"><a href="#分别求半径R-x3D-1，3，12-5时的圆周长。" class="headerlink" title="分别求半径R&#x3D;1，3，12.5时的圆周长。"></a>分别求半径R&#x3D;1，3，12.5时的圆周长。</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"><span class="keyword">real</span> :: r(<span class="number">3</span>) </span><br><span class="line"><span class="keyword">data</span> r /<span class="number">1</span>, <span class="number">3</span>, <span class="number">12.5</span>/</span><br><span class="line"><span class="keyword">do</span> i=<span class="number">1</span>,<span class="number">3</span></span><br><span class="line">	<span class="built_in">print</span> *, <span class="string">&#x27;半径＝&#x27;</span>, r(i), <span class="string">&#x27;圆周长＝&#x27;</span>, C(r(i))</span><br><span class="line"><span class="keyword">end</span> <span class="keyword">do</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span> c(radius)</span><br><span class="line">	pi=<span class="built_in">acos</span>(-<span class="number">1.0</span>)</span><br><span class="line">	c=<span class="number">2</span>*pi*radius</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></table></figure>

<h3 id="一些内置函数"><a href="#一些内置函数" class="headerlink" title="一些内置函数"></a>一些内置函数</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"><span class="comment">! 变量类型</span></span><br><span class="line"><span class="keyword">integer</span> :: i,j				 <span class="comment">! (整型说明语句)</span></span><br><span class="line"><span class="keyword">real</span> :: x,y 				 <span class="comment">! (实型说明语句)</span></span><br><span class="line"><span class="keyword">double</span> <span class="keyword">precision</span> :: m,n 	 <span class="comment">! (双精度说明语句)</span></span><br><span class="line"><span class="keyword">complex</span> :: o,p 				 <span class="comment">! (复型说明语句)</span></span><br><span class="line"><span class="keyword">logical</span> :: t,f 				 <span class="comment">! (逻辑型说明语句)</span></span><br><span class="line"><span class="keyword">character</span> :: a,b 			 <span class="comment">! (字符型说明语句)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">! 内置函数</span></span><br><span class="line">i = <span class="built_in">sqrt</span>(<span class="number">4.0</span>)	<span class="comment">! 开方!括号内必须是 REAL or COMPLEX</span></span><br><span class="line"><span class="built_in">print</span> *, <span class="string">&quot;4.0开方=(整型)&quot;</span>,i</span><br><span class="line">j = <span class="built_in">sin</span>(<span class="number">2.0</span>)	<span class="comment">! 三角函数!括号内必须是 REAL or COMPLEX</span></span><br><span class="line">j1 = <span class="built_in">cos</span>(<span class="number">2.0</span>); j2 = <span class="built_in">asin</span>(<span class="number">1.0</span>); j3 = <span class="built_in">acos</span>(<span class="number">1.0</span>)</span><br><span class="line">j4 = <span class="built_in">tan</span>(<span class="number">2.0</span>); j5 = <span class="built_in">atan</span>(<span class="number">2.0</span>)</span><br><span class="line"><span class="built_in">write</span>(*,*)  <span class="string">&quot;2.0的正弦函数值=(整型)&quot;</span>,j,j1,j2,j3,j4,j5</span><br><span class="line"></span><br><span class="line">x = <span class="built_in">exp</span>(<span class="number">6.0</span>)<span class="comment">!括号内必须是 REAL or COMPLEX</span></span><br><span class="line"><span class="built_in">write</span>(*,*) <span class="string">&quot;6.0的e指数(实型)=&quot;</span>,x</span><br><span class="line"></span><br><span class="line">y = <span class="built_in">log</span>(<span class="number">3.0</span>)<span class="comment">!括号内必须是 REAL or COMPLEX</span></span><br><span class="line">y1 = <span class="built_in">log10</span>(<span class="number">3.0</span>)</span><br><span class="line">y2 = <span class="built_in">alog</span>(<span class="number">3.0</span>)</span><br><span class="line">y3 = <span class="built_in">alog10</span>(<span class="number">3.0</span>)</span><br><span class="line"><span class="built_in">write</span>(*,*) <span class="string">&quot;3.0的log值(实型)=&quot;</span>,y,y1,y2,y3</span><br><span class="line"></span><br><span class="line">m = <span class="built_in">abs</span>(-<span class="number">3.333</span>); m1 = <span class="built_in">int</span>(<span class="keyword">real</span>(-<span class="number">3</span>))</span><br><span class="line"><span class="built_in">write</span>(*,*) m,m1</span><br><span class="line"></span><br><span class="line">n = <span class="built_in">mod</span>(<span class="number">5</span>,<span class="number">2</span>) <span class="comment">!求余</span></span><br><span class="line">n1 = <span class="built_in">sign</span>(<span class="number">5</span>,<span class="number">2</span>) <span class="comment">!求符号</span></span><br><span class="line">n2 = <span class="built_in">max</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">44</span>)</span><br><span class="line">n3 = <span class="built_in">max0</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">44</span>)</span><br><span class="line">n4 = <span class="built_in">min</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">44</span>)</span><br><span class="line">n5 = <span class="built_in">min0</span>(<span class="number">2</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">44</span>)</span><br><span class="line"><span class="built_in">write</span>(*,*) n,n1,n2,n3,n4,n5</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>
<ul>
<li><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_01.md/323590300227051.png"></li>
<li>函数名分为“通用名”和“专用名”例如求余函数的“通用名”为MOD，“专用名”有三个(MOD，AMOD，DMOD)。</li>
<li>根据自变量的类型就自动确定了函数值的类型，如MOD(8,3)的值为整型，而MOD(8.0,3.0)的值为实型。</li>
<li>当调用子程序时如果用内在函数作为自变量(实参)，必须使用该内在函数的专用名。</li>
</ul>
<h3 id="运算误差"><a href="#运算误差" class="headerlink" title="运算误差"></a>运算误差</h3><ul>
<li>为减小误差，在写表达式时应尽量使每一次运算结果都在有效位数范围之内;</li>
<li>尽量不要使两个相差很大的数值直接相加或相减。</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"><span class="keyword">real</span>*<span class="number">8</span> a</span><br><span class="line"></span><br><span class="line">a=<span class="number">11111.1</span>  *<span class="number">1111.11</span>  ; <span class="built_in">print</span> *, a</span><br><span class="line">a=<span class="number">11111.1d0</span>*<span class="number">1111.11d0</span>; <span class="built_in">print</span> *, a</span><br><span class="line"></span><br><span class="line">a=<span class="number">0.001</span>+<span class="number">1246825.0</span>-<span class="number">1246820.0</span>; <span class="built_in">print</span> *, a</span><br><span class="line"></span><br><span class="line">a=<span class="number">1246825.0</span>  -<span class="number">1246820.0</span>  +<span class="number">0.001</span>  ; <span class="built_in">print</span> *, a</span><br><span class="line">a=<span class="number">1246825.0d0</span>-<span class="number">1246820.0d0</span>+<span class="number">0.001d0</span>; <span class="built_in">print</span> *, a</span><br><span class="line">a=<span class="number">1246825</span>    -<span class="number">1246820</span>    +<span class="number">0.001d0</span>; <span class="built_in">print</span> *, a</span><br><span class="line">a=<span class="number">1246825.0</span>  -<span class="number">1246820.0</span>  +<span class="number">0.001d0</span>; <span class="built_in">print</span> *, a</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"></span><br><span class="line"><span class="comment">! output</span></span><br><span class="line"><span class="comment">!    12345654.000000000</span></span><br><span class="line"><span class="comment">!    12345654.320999999</span></span><br><span class="line"><span class="comment">!    5.0000000000000000</span></span><br><span class="line"><span class="comment">!    5.0009999275207520</span></span><br><span class="line"><span class="comment">!    5.0010000000000003</span></span><br><span class="line"><span class="comment">!    5.0010000000000003</span></span><br><span class="line"><span class="comment">!    5.0010000000000003</span></span><br></pre></td></tr></table></figure>

<h3 id="对于给定扇形的半径-r-及圆心角-theta-，求面积等"><a href="#对于给定扇形的半径-r-及圆心角-theta-，求面积等" class="headerlink" title="对于给定扇形的半径$r$及圆心角$\theta$，求面积等"></a>对于给定扇形的半径$r$及圆心角$\theta$，求面积等</h3><ul>
<li>对于给定扇形的半径$r$及圆心角$\theta$，弦长$b&#x3D;2rsin(\frac \theta 2)$，拱高$h&#x3D;2rsin^2(\frac \theta 4)$，弧度$\alpha&#x3D;\frac {2\pi\theta} {360}$，面积$S&#x3D;{\frac 1 2}\alpha r^2-\alpha \sqrt{r^2-{\theta}^2}$。编一程序，对任意给定的$r$及$\theta$，输出$h$、$b$及$S$值。</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">real</span> :: r, theta, b, h, alpha, S</span><br><span class="line"></span><br><span class="line"><span class="built_in">write</span>(*,*) <span class="string">&quot;请分别输入扇形半径、圆心角: &quot;</span></span><br><span class="line">read(*,*) r, theta</span><br><span class="line">b = huchang(r,theta)</span><br><span class="line">h = gonggao(r,theta)</span><br><span class="line">alpha = hudu(theta)</span><br><span class="line">S = mianji(r,alpha)</span><br><span class="line"></span><br><span class="line"><span class="built_in">write</span>(*,*) b,h,alpha,S</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span> huchang(r,theta)</span><br><span class="line">	b = <span class="number">2</span>*r*<span class="built_in">sin</span>(theta/<span class="number">2</span>)</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">function</span></span> huchang</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span> gonggao(r,theta)</span><br><span class="line">	h = <span class="number">2</span>*r*(<span class="built_in">sin</span>(theta/<span class="number">4</span>)**<span class="number">2</span>)</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">function</span></span> gonggao</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span> hudu(theta)</span><br><span class="line">	<span class="keyword">real</span> :: pi</span><br><span class="line">	pi = <span class="number">3.1415926</span></span><br><span class="line">	alpha = <span class="number">2</span>*pi*theta/<span class="number">360.0</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">function</span></span> hudu</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span></span> mianji(r,alpha)</span><br><span class="line">	S = <span class="number">0.5</span>*alpha*(r**<span class="number">2</span>)-alpha*<span class="built_in">sqrt</span>(r**<span class="number">2</span>-alpha**<span class="number">2</span>)</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">function</span></span> mianji</span><br></pre></td></tr></table></figure>

<h3 id="判断一个数N-N＞3-是否素数"><a href="#判断一个数N-N＞3-是否素数" class="headerlink" title="判断一个数N(N＞3)是否素数"></a>判断一个数N(N＞3)是否素数</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">    read *, n</span><br><span class="line">    i=<span class="number">2</span></span><br><span class="line">    <span class="number">1</span> <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">mod</span>(n,i).eq<span class="number">.0</span>) <span class="keyword">then</span></span><br><span class="line">        <span class="built_in">print</span> *, <span class="string">&#x27;不是素数，可被&#x27;</span>,i,<span class="string">&#x27;整除&#x27;</span></span><br><span class="line"><span class="comment">!       end if</span></span><br><span class="line"><span class="comment">!     if(mod(n,i).ne.0) then</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">          i=i+<span class="number">1</span></span><br><span class="line">          <span class="keyword">if</span>(i.le.<span class="built_in">int</span>(<span class="built_in">sqrt</span>(n*<span class="number">1.</span>))) <span class="keyword">goto</span> <span class="number">1</span></span><br><span class="line">          <span class="built_in">print</span> *, <span class="string">&#x27;是素数&#x27;</span></span><br><span class="line">      <span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><ul>
<li><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_01.md/274301000247217.png"></li>
</ul>
<h3 id="逻辑"><a href="#逻辑" class="headerlink" title="逻辑"></a>逻辑</h3><ul>
<li>逻辑量：<code>Fortran</code>的逻辑常量只有两个：<code>.TRUE.</code> (表示“真”，即满足逻辑条件)； <code>.FALSE.</code> (表示“假”，即不满足逻辑条件)。</li>
<li>逻辑运算符<blockquote>
<p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_01.md/244921700239886.png"></p>
</blockquote>
</li>
<li>逻辑表达式的运算<blockquote>
<p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_01.md/251471800236441.png"></p>
</blockquote>
</li>
</ul>
<h3 id="统计学生考试合格人数"><a href="#统计学生考试合格人数" class="headerlink" title="统计学生考试合格人数"></a>统计学生考试合格人数</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! F90的固定格式 －－－－－统计学生考试合格人数 </span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">  <span class="keyword">INTEGER</span> :: n, s, k</span><br><span class="line">  s = <span class="number">0</span>; k = <span class="number">0</span></span><br><span class="line">  <span class="number">1</span> <span class="built_in">PRINT</span>*,<span class="string">&#x27;键入分数 （负数时退出）：&#x27;</span></span><br><span class="line">  READ*, n </span><br><span class="line">  <span class="keyword">IF</span>(n &lt; <span class="number">0</span>) <span class="keyword">GOTO</span> <span class="number">666</span></span><br><span class="line">  s = s + <span class="number">1</span></span><br><span class="line">  <span class="keyword">IF</span>(n &gt;= <span class="number">60</span>) k = k + <span class="number">1</span></span><br><span class="line">  <span class="keyword">GOTO</span> <span class="number">1</span></span><br><span class="line">  <span class="number">666</span> <span class="built_in">PRINT</span>*, k,<span class="string">&#x27; 个学生合格。 总人数＝&#x27;</span>, s</span><br><span class="line"><span class="keyword">END</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Fortran</category>
      </categories>
      <tags>
        <tag>Fortran</tag>
        <tag>Fortran Tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortran Tutorial</title>
    <url>/MyWiki/wiki/2021/06/28/codes/fortran/tutorial/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Fortran教程"><a href="#Fortran教程" class="headerlink" title="Fortran教程"></a>Fortran教程</h3><ul>
<li><a href="https://www.yiibai.com/fortran">Fortran教程</a></li>
<li><a href="http://micro.ustc.edu.cn/Fortran/">Fortran资源</a></li>
<li><a href="http://krsna.lamost.org/popular/fortran/fortran.htm">科学计算的语言Fortran</a></li>
<li><a href="http://fcode.cn/">Fortran论坛</a></li>
<li><a href="https://www.lainme.com/doku.php/topic/eclipse/chapter_04">Fortran实例——并行程序</a></li>
<li><a href="https://www.w3cschool.cn/doc_gnu_fortran_4/">GNU Fortran 4</a></li>
</ul>
<h3 id="call-Fortran-from-C-参考：https-sites-google-com-site-kaizhangstatmech-code-callfortran"><a href="#call-Fortran-from-C-参考：https-sites-google-com-site-kaizhangstatmech-code-callfortran" class="headerlink" title="call Fortran from C:参考：https://sites.google.com/site/kaizhangstatmech/code/callfortran"></a>call Fortran from C:参考：<a href="https://sites.google.com/site/kaizhangstatmech/code/callfortran">https://sites.google.com/site/kaizhangstatmech/code/callfortran</a></h3><ul>
<li><p>fortrancode.f</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">     subroutine fortfunc(ii,ff)</span><br><span class="line"></span><br><span class="line">     integer ii</span><br><span class="line"></span><br><span class="line">     real*4  ff</span><br><span class="line"></span><br><span class="line">     write(6,100) ii, ff</span><br><span class="line"></span><br><span class="line">100  format(&#x27;ii=&#x27;,i2,&#x27; ff=&#x27;,f6.3)</span><br><span class="line"></span><br><span class="line">     return</span><br><span class="line"></span><br><span class="line">     end</span><br></pre></td></tr></table></figure>
</li>
<li><p>cppcode.c</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span><span class="string">&quot;C&quot;</span> &#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">fortfunc_</span><span class="params">(<span class="type">int</span> *ii, <span class="type">float</span> *ff)</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">main</span>()</span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">   <span class="type">int</span> ii=<span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">   <span class="type">float</span> ff=<span class="number">5.5</span>;</span><br><span class="line"></span><br><span class="line">   fortfunc_(&amp;ii, &amp;ff);</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>compile as </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gfortran -c fortrancode.f</span><br><span class="line"></span><br><span class="line">g++ -c cppcode.c</span><br><span class="line"></span><br><span class="line">g++ -o run fortrancode.o cppcode.o -lgfortran</span><br></pre></td></tr></table></figure></li>
<li><p>or </p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">f77 -c fortrancode.f</span><br><span class="line"></span><br><span class="line">g++ -c cppcode.c</span><br><span class="line"></span><br><span class="line">g++ -o run fortrancode.o cppcode.o -lg2c</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Fortran</category>
      </categories>
      <tags>
        <tag>Fortran</tag>
        <tag>Tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>Fortran-04</title>
    <url>/MyWiki/wiki/2022/07/24/codes/fortran/fortran_04/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><ul>
<li><code>F90</code>程序中的数据都有三个特征：<code>类型、种别、属性</code>.</li>
<li>一般形式：<code>类型说明[(种别说明)][,属性说明] :: 变量名[=初值]</code></li>
<li>例：<code>REAL(KIND=2), DIMENSION(1:10):: X,Y</code></li>
<li>种别说明与属性说明可以省略，<code>类型说明:: 变量名</code></li>
</ul>
<h4 id="类型说明"><a href="#类型说明" class="headerlink" title="类型说明"></a>类型说明</h4><pre><code>&gt; 三种数值型：整数型(`INTEGER`)、实数型(`REAL`)、复数型(`COMPLEX`)
&gt; 两种非数值型：逻辑型、字符型
</code></pre>
<ul>
<li>在F90中，每个变量名都应该在说明部分中说明其类型，不应该使用<code>隐式说明</code>，应该在程序说明部分开始就写出语句：<code>IMIPLlCIT NONE</code>，既声明不使用隐式说明。</li>
</ul>
<h4 id="种别说明"><a href="#种别说明" class="headerlink" title="种别说明"></a>种别说明</h4><ul>
<li>种别值确定了数据的大小范围和精度。有了种别说明后，程序更易于移植。（因为在不同的计算机系统上，同一种变量类型可以有不同的精度，因此当程序在另一种机子上运行时可能出现溢出或下溢。规定种别后可以避免这种情况的出现。）</li>
<li>种别由种别选择符说明，写在类型关键字后括号内，其关键字是<code>KIND</code>，后跟<code>=</code>号及种别值。其形式为：<code>类型说明([KIND=]种别值)</code>。</li>
<li>一个变量必有一个种别，如果变量的类型说明语句中没有种别说明符，说明采用系统规定的标准值。</li>
<li><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_04.md/143862220232202.png"></li>
<li><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_04.md/525872220250082.png"></li>
<li><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_04.md/92212420247686.png"></li>
</ul>
<h5 id="种别函数"><a href="#种别函数" class="headerlink" title="种别函数"></a>种别函数</h5><ul>
<li><code>KIND(X)</code>：与python中的type(x)相似；</li>
</ul>
<h4 id="属性说明"><a href="#属性说明" class="headerlink" title="属性说明"></a>属性说明</h4><ul>
<li>一个对象被说明具有某一属性时，就使该对象具有某种附加功能、特殊的使用方式与适用范围。</li>
<li>一个被说明对象可以没有附加的属性说明，此时它只是最基本的变量，与F77中的变量相同。</li>
<li>它也可以有多个属性说明，分别对被说明对象附加各件功能，规定它在各种场合下的使用方式。</li>
<li>每种属性说明都有专门的关键字，各属性关键字间用逗号分开，全部属性关键字写在说明语句种别说明符之后，双分隔号::之前，各属性关键字之间次序任意。属性不仅用于说明数据，还用于说明过程。</li>
<li>常见属性：</li>
</ul>
<table>
<thead>
<tr>
<th align="center">属性关键字</th>
<th align="center">描述</th>
<th align="center">适用范围</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ALLOCATABLE</td>
<td align="center">说明动态数组</td>
<td align="center">数组</td>
</tr>
<tr>
<td align="center">DIMENSION</td>
<td align="center">说明数组</td>
<td align="center">数组变量</td>
</tr>
<tr>
<td align="center">PARAMETER</td>
<td align="center">声明常量</td>
<td align="center">常量</td>
</tr>
</tbody></table>
<h3 id="输入实数x，求下面的函数值–逻辑变量赋值"><a href="#输入实数x，求下面的函数值–逻辑变量赋值" class="headerlink" title="输入实数x，求下面的函数值–逻辑变量赋值"></a>输入实数x，求下面的函数值–逻辑变量赋值</h3><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="comment">! 逻辑变量的赋值</span></span><br><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">implicit</span> <span class="keyword">none</span></span><br><span class="line">	<span class="keyword">real</span> :: x,y</span><br><span class="line">	<span class="keyword">logical</span> :: in_side</span><br><span class="line"></span><br><span class="line">	<span class="built_in">print</span>*,<span class="string">&quot;	x^2 (1&lt;x&lt;2)&quot;</span></span><br><span class="line">	<span class="built_in">print</span>*,<span class="string">&quot;y = &#123;&quot;</span></span><br><span class="line">	<span class="built_in">print</span>*,<span class="string">&quot;	1-x (x&lt;=1, x&gt;=2)&quot;</span></span><br><span class="line">	<span class="built_in">print</span> *, <span class="string">&quot;请输入x值：&quot;</span></span><br><span class="line">	read *,x</span><br><span class="line">	<span class="built_in">print</span> *,<span class="string">&quot;x=&quot;</span>,x</span><br><span class="line">	in_side=x&gt;<span class="number">1.0</span>.and.x&lt;<span class="number">2.0</span> <span class="comment">!这里赋值给in_side一个逻辑值，是或否</span></span><br><span class="line">	<span class="keyword">if</span>(in_side) <span class="keyword">then</span></span><br><span class="line">		y = x**<span class="number">2</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		y = <span class="number">1</span>-x</span><br><span class="line">	<span class="keyword">end</span> <span class="keyword">if</span></span><br><span class="line">	<span class="built_in">print</span> *,<span class="string">&quot;y= &quot;</span>,y</span><br><span class="line"></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h3 id="字符型数据"><a href="#字符型数据" class="headerlink" title="字符型数据"></a>字符型数据</h3><ul>
<li>字符型数据除了有类型、种别外，比其它类型还多了一个长度特性，即规定它有几个字符数</li>
<li>一般形式：<code>CHARACTER[(LEN=整型字符长度表达式[,KIND=种别值])][,属性说明] :: 变量名表[=初始值]</code></li>
<li>在字符型说明语句中，长度说明必须有，不可省略，为正整数；</li>
<li>仅有关键字CHARACTER而没有括号时认为字符是一个字节长；</li>
<li>可以省去LEN&#x3D;及KTND&#x3D;，只写参数值，此时字符长度必须写在前面；</li>
<li>只有长度说明的语句可分为有括号和无括号两种，例如以下语句都是等价的：<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CHARACTER</span>(LEN=<span class="number">12</span>,<span class="keyword">KIND</span>=<span class="number">1</span>) :: A,B</span><br><span class="line"><span class="keyword">CHARACTER</span>(<span class="keyword">KIND</span>=<span class="number">1</span>,LEN=<span class="number">12</span>) :: A,B</span><br><span class="line"><span class="keyword">CHARACTER</span>(<span class="number">12</span>,<span class="number">1</span>) :: A,B</span><br><span class="line"><span class="keyword">CHARACTER</span>*<span class="number">12</span> :: A,B</span><br><span class="line">```   </span><br><span class="line">- 长度也可以写成一个*号，表示长度暂不确定，待以后与程序中实际需要的长度相一致，如：</span><br><span class="line">```f90</span><br><span class="line"><span class="keyword">CHARACTER</span>(LEN=*),<span class="keyword">PARAMETER</span> :: C_NAME=‘GIRL’</span><br></pre></td></tr></table></figure></li>
<li><blockquote>
<p>说明字符常量C_NAME，长度为4</p>
</blockquote>
</li>
<li><blockquote>
<p><code>PARAMETER</code>表示常量。</p>
</blockquote>
</li>
<li><blockquote>
<p><code>CHARACTER</code>后面说明的长度是其后所有实体名的公共长度，如果某一变量的长度与其它不同，可以在其变量名后标出自己的特有长度，例加：</p>
</blockquote>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="keyword">CHARACTER</span>(LEN=<span class="number">12</span>) :: A,B*<span class="number">5</span>,C,D*<span class="number">7</span>,E</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h3><ul>
<li>形式基本和<code>python</code>相似，差别是形式不同，<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">A = <span class="string">&quot;ABCDEFG&quot;</span></span><br><span class="line">A<span class="selector-attr">[1:5]</span> <span class="selector-id">#python</span></span><br><span class="line"><span class="function"><span class="title">A</span><span class="params">(<span class="number">1</span>:<span class="number">5</span>)</span></span> !fortran</span><br></pre></td></tr></table></figure></li>
</ul>
<ol>
<li>字符串拼接<code>//</code>—并置符<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;AB&quot;</span><span class="regexp">//</span><span class="string">&quot;CDE&quot;</span> ! <span class="string">&quot;ABCDE&quot;</span></span><br></pre></td></tr></table></figure></li>
<li>字符比较<blockquote>
<p>各种系统字符排序不一样，同一字符，在不同机上排序值可能不一样。<br>小写英文字母排序在大写英文字母之后，它们的序号不同。<br>虽然在书写FORTRAN语句时，大小写字母是等价的，但当进行字符操作和字符比较时必须看成是不同的。<br>字符作比较实际上是比较它们的序号大小。</p>
</blockquote>
</li>
</ol>
<h3 id="字符函数"><a href="#字符函数" class="headerlink" title="字符函数"></a>字符函数</h3><ul>
<li><p>F90允许把字符型的值转换成整型值(已知字符，取字符型的序号数值)，</p>
</li>
<li><p>也允许把数值型的值转换成字符型的值(已知序号，取它对应的字符)。</p>
</li>
<li><p>字符与数值相互转换的函数(F90的内部函数)：<code>ICHAR，CHAR，IACHR，ACHAR</code></p>
</li>
<li><p>函数<code>ICHAR</code>的功能是把字符型转换成数值，它的引用方式是：<code>ICHAR(字符实体)</code></p>
<blockquote>
<p>函数值<code>ICHAR</code>返回字符实体第一个字符的序号值<br>如果指明要按照ASCII码求它的序号，则本功能的函数名应改写为<code>IACHAR</code></p>
</blockquote>
</li>
<li><p>函数<code>CHAR</code>的功能是把一个序号转换成它的字符。它的引用方式是：<code>CHAR(整型数值表达式)</code>。</p>
<blockquote>
<p>如果按照<code>ASCII</code>码求它的对应字符，则函数名为<code>ACHAR</code>。</p>
</blockquote>
</li>
<li><p>求字符串长度<code>LEN(字符实体)</code></p>
<blockquote>
<p>函数值返回一个正整教，为该字符实体的长度（包括尾随空格、中间空格在内）</p>
</blockquote>
</li>
<li><p>不计尾部空格的字符串长度函数：<code>LEN_TRIM</code></p>
</li>
<li><p>求子串在父串位置的函数：<code>INDEX(父串,子串)</code></p>
<blockquote>
<p>如：<code>INDEX(&quot;Einstein&quot;,&quot;s&quot;)</code>的值4。<br>如果第二个字符实体不是第一个字符实体的子串，返回函数值为0。
  </p>
</blockquote>
</li>
<li><p>验证字符串的函数：<code>VERIFY(字符串,字符集)</code></p>
<blockquote>
<p>确认指定的字符集是否包含了给定字符串中所有的字符<br>函数值返回一个正整数，指明字符串中与字符集相异的第一个字符是从左边第几个字符开始的<br>如果没有相异的字符，则返回函数值为0
  </p>
</blockquote>
</li>
<li><p>除去尾部空格函数：<code>TRIM</code></p>
<blockquote>
<p><code>TRIM(&quot;ABCD 12 &quot;)//&quot;34&quot;</code>的值是<code>&quot;ABCD 1234&quot;</code>。
 </p>
</blockquote>
</li>
<li><p>比较字符大小的函数：<code>LGE、LGT、LLE、LLT</code></p>
<blockquote>
<p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/fortran/fortran_04.md/311661713220767.png"></p>
</blockquote>
</li>
</ul>
<h3 id="派生类型定义"><a href="#派生类型定义" class="headerlink" title="派生类型定义"></a>派生类型定义</h3><ul>
<li>一般形式：</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="keyword">TYPE</span>[,访问属性说明::] 派生类型名 <span class="comment">!TYPE是关键字，表示派生类型定义开始</span></span><br><span class="line"></span><br><span class="line">成员<span class="number">1</span>类型说明</span><br><span class="line"></span><br><span class="line">……</span><br><span class="line"></span><br><span class="line">成员n类型说明</span><br><span class="line"></span><br><span class="line"><span class="keyword">END</span> <span class="keyword">TYPE</span> [派生类型名]</span><br></pre></td></tr></table></figure>

<h3 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h3><ul>
<li>数组的维数称为秩(rank)，<mark>F90中规定数组最多可以有7维</mark></li>
<li>某一维中元素的个数称为该维的长度(extent)</li>
<li>数组中所有元素的个数称为数组的大小(size)，它等于各维的长度的乘积，<mark>数组的大小可以为0</mark></li>
<li>例如：<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="keyword">REAL</span> A(<span class="number">10</span>,<span class="number">3</span>,<span class="number">2</span>)     <span class="comment">! 秩为3，大小为10×3×2＝60，形状为10乘3乘2，或表示成(10，3，2)。</span></span><br><span class="line"><span class="built_in">SHAPE</span>(A)           <span class="comment">! 获得数组的形状结果为：(10，3，2)</span></span><br></pre></td></tr></table></figure></li>
<li>下标不是从0开始，是从1开始的，例如<code>A(0,0,0)</code>时错误的，<code>A(1,1,1)</code>是正确的</li>
</ul>
<h4 id="数组声明"><a href="#数组声明" class="headerlink" title="数组声明"></a>数组声明</h4><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="keyword">REAL</span> A(<span class="number">10</span>,<span class="number">2</span>,<span class="number">3</span>) 				<span class="comment">! 类型说明</span></span><br><span class="line"><span class="keyword">DIMENSION</span> B(<span class="number">10</span>,<span class="number">2</span>,<span class="number">3</span>)			<span class="comment">! DIMENSI0N语句</span></span><br><span class="line"><span class="keyword">ALLOCATABLE</span> C(:,:)			<span class="comment">! ALLOCATABLE语句</span></span><br><span class="line"><span class="keyword">POINTER</span> D(:,:,:)			<span class="comment">! POINTER语句</span></span><br><span class="line"><span class="keyword">REAL</span>, <span class="keyword">DIMENSION</span>(<span class="number">2</span>,<span class="number">5</span>) :: E 	<span class="comment">! 类型说明中的DIMENSION属性</span></span><br><span class="line"><span class="keyword">REAL</span>, <span class="keyword">ALLOCATABLE</span> :: F(:,:,:)   <span class="comment">! 类型说明中的ALLOCATABLE属性</span></span><br><span class="line"><span class="keyword">REAL</span>, <span class="keyword">POINTER</span> ::     G(:,:)     <span class="comment">! 类型说明中的POINTER属性</span></span><br></pre></td></tr></table></figure>
<ul>
<li>无论何种情况，数组的秩总是要指定的；</li>
<li>数组的大小和形状是否需要声明视数组的形式而定；</li>
<li>当<code>COMMON</code>语句指定了数组的秩和大小后，只能定义数组的类型而不能再次重复给定维界.</li>
</ul>
<h4 id="数组索引、切片和赋值"><a href="#数组索引、切片和赋值" class="headerlink" title="数组索引、切片和赋值"></a>数组索引、切片和赋值</h4><figure class="highlight f90"><table><tr><td class="code"><pre><span class="line">A            <span class="comment">! 代表数组A中所有元素</span></span><br><span class="line">A(<span class="number">1</span>)         <span class="comment">! 代表数组A中第一个元素</span></span><br><span class="line">A(<span class="number">1</span>:<span class="number">10</span>:<span class="number">2</span>)    <span class="comment">! 三元下标, A(下界:上界:步长), 代表数组A从第1开始到第10，每隔2的元素，也即是第1 3 5 7 9</span></span><br><span class="line">A(<span class="number">2</span>) = <span class="number">5.0</span>   <span class="comment">! 给A(2)元素赋值</span></span><br><span class="line">B(<span class="number">1</span>:<span class="number">5</span>,<span class="number">2</span>:<span class="number">3</span>,<span class="number">3</span>:<span class="number">5</span>)   <span class="comment">! 三维数组切片</span></span><br></pre></td></tr></table></figure>
<ul>
<li>对于—个多维数组的数组片段，它的每一维都可以用三元下标来声明</li>
<li>三元下标只能算一个下标</li>
</ul>
<h4 id="向量索引-下标"><a href="#向量索引-下标" class="headerlink" title="向量索引(下标)"></a>向量索引(下标)</h4><ul>
<li>向量下标可以以任何顺序来指定数组元素</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> main</span><br><span class="line">	<span class="keyword">real</span> A(<span class="number">10</span>),B(<span class="number">5</span>,<span class="number">5</span>)  <span class="comment">! 定义一个一维数组A，和二维数组B</span></span><br><span class="line">	<span class="keyword">integer</span> I(<span class="number">4</span>),J(<span class="number">3</span>)  <span class="comment">! 定义向量I、J的大小</span></span><br><span class="line">	I = (/<span class="number">5</span>,<span class="number">3</span>,<span class="number">8</span>,<span class="number">2</span>/)    <span class="comment">! 定义向量I，表示第5、3、8、2位置的元素下标</span></span><br><span class="line">	J = (/<span class="number">3</span>,<span class="number">1</span>,<span class="number">5</span>/)      <span class="comment">! 定义向量J，表示第3、1、5位置的元素下标</span></span><br><span class="line">	A(I) = <span class="number">3.0</span>         <span class="comment">! 给一维素组中（向量I）下标为5,3,8,2的元素赋值为3.0 </span></span><br><span class="line">	B(<span class="number">2</span>,J)=<span class="number">5.0</span>         <span class="comment">! 给二维素组中第二行中（向量J）下标为3,1,5的元素赋值为5.0 </span></span><br><span class="line">	<span class="built_in">print</span>*,I</span><br><span class="line">	<span class="built_in">print</span>*,A</span><br><span class="line">	<span class="built_in">print</span>*,J</span><br><span class="line">	<span class="built_in">print</span>*,B</span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> main</span><br></pre></td></tr></table></figure>

<h4 id="数组赋值"><a href="#数组赋值" class="headerlink" title="数组赋值"></a>数组赋值</h4><ul>
<li><code>F90</code>中数组赋值语句的形式为：<code>V=e</code>，<code>V</code>代表数组名或数组片段，<code>e</code>为数组表达式，它们必须有相同的形状（即维数相同，每维长度相同但上下界可不同）。</li>
<li>当<code>V</code>大小为<code>0</code>或为长度为<code>0</code>的字符型时，则没有值赋给<code>V</code>。</li>
<li>当<code>e</code>为标量时，则把<code>e</code>处理成与<code>V</code>相同的形状，<code>V</code>的每个元素均等于标量<code>e</code>的值。</li>
<li>数组表达式<code>e</code>中允许使用<code>+、-、*、/、**</code>等内部算术操作符。</li>
<li>例如，给A(2,2)中元素全部赋值为0：<code>A = 0</code></li>
</ul>
<h4 id="数组构造器"><a href="#数组构造器" class="headerlink" title="数组构造器"></a>数组构造器</h4><ul>
<li>其一般形式为：<code>(/取值列表/)</code>,取值列表可以是标量，隐DO循环或任意秩的数组。</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line">A1 = (/<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>/)            <span class="comment">!! 标量表示, 斜杠与括号间不能有空格</span></span><br><span class="line">A2 = (/B(I,<span class="number">1</span>:<span class="number">5</span>),B(I:J,<span class="number">7</span>:<span class="number">9</span>)/)    <span class="comment">! 数组表示</span></span><br><span class="line">A3=(/(I,I=<span class="number">1</span>,<span class="number">4</span>)/)                <span class="comment">! 隐DO循环</span></span><br><span class="line">A4=(/<span class="number">4</span>,C(<span class="number">1</span>:<span class="number">5</span>),(I,I=<span class="number">1</span>,<span class="number">4</span>),<span class="number">7</span>/)     <span class="comment">! 混合表示</span></span><br></pre></td></tr></table></figure>
<ul>
<li>斜杠与括号间不能有空格</li>
<li>可以用方括号代替括号和斜线：<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line">A1 = (/<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>/) </span><br><span class="line">A1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br></pre></td></tr></table></figure></li>
<li>冒号三元下标(代替隐DO循环)来指定值的范围和步长</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line">A1 = (/<span class="number">1</span>:<span class="number">6</span>:<span class="number">2</span>/)         <span class="comment">!这种三元格式好像不行，老出错，找不到啥原因</span></span><br><span class="line">A1 = (/(I,I=<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>)/) </span><br></pre></td></tr></table></figure>

<h4 id="RESHAPE语句"><a href="#RESHAPE语句" class="headerlink" title="RESHAPE语句"></a>RESHAPE语句</h4><ul>
<li>与<code>python</code>相似: </li>
<li>一般形式为：<code>结果=RESHAPE(源,形状[,补充][,顺序])</code></li>
<li>变成两行三列<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="built_in">RESHAPE</span>((/<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>/),(/<span class="number">2</span>,<span class="number">3</span>/))</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Fortran</category>
      </categories>
      <tags>
        <tag>Fortran</tag>
        <tag>Fortran Tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>C&amp;C++初级</title>
    <url>/MyWiki/wiki/2022/03/09/codes/C&amp;C++/C&amp;C++%E7%AC%94%E8%AE%B0-00/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="推荐书籍"><a href="#推荐书籍" class="headerlink" title="推荐书籍"></a>推荐书籍</h3><h4 id="C"><a href="#C" class="headerlink" title="C"></a>C</h4><ul>
<li>《C程序设计语言（第二版.新版）》</li>
<li>《明解C语言》柴田望洋编著</li>
<li>《C程序设计》（第三版）谭浩强</li>
</ul>
<h4 id="C-1"><a href="#C-1" class="headerlink" title="C++"></a>C++</h4><ul>
<li>《C++语言程序设计教程习题解答与实验指导》杨进才</li>
<li>《Accelerated C++中文版》Andrew Koenig ,中国电力出版社</li>
<li>《C++Primer (3RD)中文版》 ,中国电力《Essential C++中文版》 ,华中科技</li>
<li>《Effective C++中文版》 ,华中科技</li>
<li>《More Effective C++中文版》 ,中国电力5. </li>
<li>《Exceptional C++中文版》 ,中国电力</li>
<li>《More Exceptional C++中文版》 ,华中科技</li>
</ul>
<h3 id="推荐网站"><a href="#推荐网站" class="headerlink" title="推荐网站"></a>推荐网站</h3><ul>
<li><a href="http://c.biancheng.net/">C语言中文网</a></li>
<li><a href="https://www.runoob.com/">菜鸟教程</a></li>
<li><a href="https://www.icourse163.org/">中国大学慕课</a></li>
</ul>
<h3 id="VSCode配置C-amp-C-环境"><a href="#VSCode配置C-amp-C-环境" class="headerlink" title="VSCode配置C&amp;C++环境"></a>VSCode配置C&amp;C++环境</h3><ul>
<li><a href="http://c.biancheng.net/view/8077.html">http://c.biancheng.net/view/8077.html</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/87864677">https://zhuanlan.zhihu.com/p/87864677</a></li>
</ul>
<h3 id="C语言库函数速查手册"><a href="#C语言库函数速查手册" class="headerlink" title="C语言库函数速查手册"></a><a href="https://www.w3cschool.cn/cyykhsscsc/">C语言库函数速查手册</a></h3>]]></content>
      <categories>
        <category>程序学习</category>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>C&amp;C++</tag>
        <tag>C&amp;C++初级</tag>
      </tags>
  </entry>
  <entry>
    <title>C&amp;C++笔记-02</title>
    <url>/MyWiki/wiki/2022/04/03/codes/C&amp;C++/C&amp;C++%E7%AC%94%E8%AE%B0-02/</url>
    <content><![CDATA[<p>[toc] </p>
<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><ul>
<li><p>C 源程序必须有且只有一个主函数<code>main()</code>;</p>
</li>
<li><p>程序一定是从主函数开始，最后在主函数中结束整个程序的运行;</p>
</li>
<li><p>一个源文件由一个或多个函数组成;</p>
</li>
<li><p>除去主函数之外，所有函数都是平行且互相独立的，即在一个函数内只能调用其他函数，不能再定义一个函数;</p>
</li>
<li><p>一个函数可以调用其他函数或其本身，但任何函数均不可调用主函数.</p>
</li>
<li><p>声明一个函数：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">function</span><span class="params">(<span class="type">int</span>,<span class="type">char</span>)</span></span>; </span><br><span class="line"><span class="comment">//int:声明一个整数型函数，其返回值是一个整数</span></span><br><span class="line"><span class="comment">//函数有两个形参，整数值变量在前，字符值变量在后</span></span><br><span class="line"><span class="comment">//函数声明时，只需要说明形参的类型和个数，不必写变量名</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>调用函数：</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">function</span>(<span class="number">10</span>,<span class="string">&#x27;A&#x27;</span>);</span><br><span class="line"><span class="comment">//程序调用函数时，代入函数参数表的参数值称为实际参数</span></span><br><span class="line"><span class="comment">/*等效于：</span></span><br><span class="line"><span class="comment">int i_p=10； //整数10 赋给被调函数的第1 个形参</span></span><br><span class="line"><span class="comment">char ch_a=&#x27;A&#x27;； //字母A 赋给被调函数的第2 个形参*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>for example:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">readnum</span><span class="params">()</span></span>;<span class="comment">//声明一个整数型函数，无参数</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sqrnum</span><span class="params">(<span class="type">int</span>)</span></span>;<span class="comment">//声明一个无返回值的函数，形参是一个整数变量</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">void</span>)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	<span class="keyword">while</span> (t = <span class="built_in">readnum</span>())<span class="comment">//调用函数</span></span><br><span class="line">		<span class="built_in">sqrnum</span>(t);<span class="comment">//调用函数</span></span><br><span class="line">	<span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">readnum</span><span class="params">()</span><span class="comment">//定义函数</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> t;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;input a num:\n&quot;</span>;</span><br><span class="line">	cin &gt;&gt; t;</span><br><span class="line">	<span class="keyword">return</span>(t);<span class="comment">//return 返回变量的类型必须与函数类型相符</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//如果函数无需返回，则函数定义时应说明为“void”，意指空类型</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">sqrnum</span><span class="params">(<span class="type">int</span> num)</span><span class="comment">//定义函数 </span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;sqr(&quot;</span> &lt;&lt; num &lt;&lt; <span class="string">&quot;)=&quot;</span> &lt;&lt; num * num &lt;&lt; <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="变量类型强制转换"><a href="#变量类型强制转换" class="headerlink" title="变量类型强制转换"></a>变量类型强制转换</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">//(类型说明符)(表达式);</span></span><br><span class="line">(<span class="type">float</span>)a <span class="comment">//把a 转换为实型变量</span></span><br><span class="line">(<span class="type">int</span>)(x+y) <span class="comment">//把x+y的结果转换为整型</span></span><br></pre></td></tr></table></figure>
<ul>
<li>它不改变在数据说明时对该变量定义的类型!(临时性转换)</li>
</ul>
<h4 id="指针"><a href="#指针" class="headerlink" title="指针"></a>指针</h4><ul>
<li><p>1）指针是变量，存储着它所指向的变量的地址；</p>
</li>
<li><p>2）既然指针变量需要存储空间，那么它必定需要声明。</p>
</li>
<li><p>例如：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> i_a,i_b;<span class="comment">//整数变量</span></span><br><span class="line"><span class="type">int</span> *i_p;<span class="comment">//整数型指针</span></span><br><span class="line">i_p=&amp;i_a;<span class="comment">//把i_a的地址赋值给指针i_p </span></span><br><span class="line">*i_p=<span class="number">10</span>;<span class="comment">//把10赋值给i_a</span></span><br><span class="line">i_p=&amp;i_b;<span class="comment">//把i_b的地址赋值给指针i_p </span></span><br><span class="line">*i_p=<span class="number">2</span>;<span class="comment">//把20赋值给i_b</span></span><br></pre></td></tr></table></figure></li>
<li><p>指针是一个地址变量，可以存储某个变量的内存地址，通过获取该变量的地址，让指针指向该变量，从而可以访问（读写）该变量的值。</p>
</li>
<li><p>让指针取得一个数组的地址：</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">int</span> <span class="built_in">array</span>[N],*i_p;</span><br><span class="line">i_p=<span class="built_in">array</span>; <span class="comment">//array即是数组的地址，与上述的&amp;i_b相似</span></span><br></pre></td></tr></table></figure></li>
<li><p>指针变量加上或减去一个整数<code>i</code>的意义是把指针指向的当前位置（指向某数组元素）向前或向后跨过<code>i</code>个位置。</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">i_p+=i;</span><br><span class="line">i_p-=i;</span><br><span class="line">i_p++;</span><br><span class="line">++i_p;</span><br><span class="line">i_p--;</span><br><span class="line">--i_p;</span><br></pre></td></tr></table></figure></li>
<li><p>指针变量的加减运算只能对数组指针变量进行，对指向其他类型变量的指针变量做加减运算是毫无意义的。</p>
</li>
<li><p>并且，由于数组中元素类型不同（int&#x2F;char&#x2F;float），指针每加1，表示向后移动1个元素位置，表示指针变量指向下一个数据元素的首<br>地址，而不是简单的指针变量+1；</p>
</li>
<li><p>例如：</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/zhizhen.png"></p>
<ul>
<li><p>注意：</p>
</li>
<li><blockquote>
<p>不要使用没有赋值的指针。</p>
</blockquote>
</li>
<li><blockquote>
<p>指针也是变量，它的值（存储内容）是其指向的对象（或数据变量、常量和函数）的地址。</p>
</blockquote>
</li>
<li><blockquote>
<p>指针可以指向内存中的万物，但我们未必能操作万物</p>
</blockquote>
</li>
<li><p>指针类型：<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/zhizhen_type.png"></p>
</li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>C&amp;C++</tag>
        <tag>C&amp;C++初级</tag>
      </tags>
  </entry>
  <entry>
    <title>Markdown Tutorial</title>
    <url>/MyWiki/wiki/2021/06/28/codes/markdown/basics/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h2><pre class="mermaid">graph LR
A[直接法]==>B(高斯Gauss消元)
A==>C(矩阵分解)
B==>D(有限次运算求出精确解)
C==>D(有限次运算求出精确解)
style A fill:#ffff</pre>

<pre class="mermaid">graph TD
    A[稠油]-->B[吸附];
    A-->C[演化];
    B-->D[Paper];
    C-->D;</pre>

]]></content>
      <categories>
        <category>程序学习</category>
        <category>Markdown</category>
      </categories>
      <tags>
        <tag>Markdown</tag>
        <tag>Tutorial</tag>
      </tags>
  </entry>
  <entry>
    <title>C&amp;C++笔记-01</title>
    <url>/MyWiki/wiki/2022/04/02/codes/C&amp;C++/C&amp;C++%E7%AC%94%E8%AE%B0-01/</url>
    <content><![CDATA[<p>[toc]</p>
<h4 id="推荐书籍"><a href="#推荐书籍" class="headerlink" title="推荐书籍"></a><a href="/wiki/%E7%A8%8B%E5%BA%8F%E5%AD%A6%E4%B9%A0/C-C/C&C++/C&C++_%E5%88%9D%E7%BA%A7/">推荐书籍</a></h4><h4 id="Visual-Studio-2021运行C-，返回值被忽略-“scanf”"><a href="#Visual-Studio-2021运行C-，返回值被忽略-“scanf”" class="headerlink" title="Visual Studio 2021运行C++，返回值被忽略:“scanf”"></a>Visual Studio 2021运行C++，返回值被忽略:“scanf”</h4><ul>
<li>方法1：把<code>scanf</code>改成<code>scanf_s</code>,如果又报其他错误的话，使用方法2；</li>
<li>方法2：右键<code>项目文件</code> —— <code>属性</code> —— <code>配置属性</code> ——<code>C/C++</code>——<code>常规</code>——<code>SDL检查</code>改为<code>否</code>即可<br><img src="https://img-blog.csdnimg.cn/img_convert/03aca4b36be7393a4aaffd79ff74b0b8.png"></li>
<li>参考<a href="https://blog.csdn.net/mxy3538/article/details/113181661">https://blog.csdn.net/mxy3538/article/details/113181661</a></li>
</ul>
<h4 id="清除缓冲区"><a href="#清除缓冲区" class="headerlink" title="清除缓冲区"></a>清除缓冲区</h4><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">fflush</span>(stdin);<span class="comment">//清除缓冲区，不然会把前面的当成输入</span></span><br></pre></td></tr></table></figure>
<ul>
<li>fflush(stdin)用于清空缓区，fflush（stdout）强制输出当前缓冲区中的内容。</li>
<li>但是自从VS2015之后，fflush(stdin)就不能用了（使用时不会报错，但是没有清空缓冲区的效果）。</li>
<li></li>
</ul>
<h4 id="printf-函数调用的一般形式"><a href="#printf-函数调用的一般形式" class="headerlink" title="printf 函数调用的一般形式"></a>printf 函数调用的一般形式</h4><ul>
<li>printf 函数是一个标准库函数，它的函数原型在头文件“stdio.h”中，调用的一般形式如下:<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;格式控制&quot;</span>，输出表列);</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>,x)</span><br></pre></td></tr></table></figure></li>
<li>格式说明：<table>
<thead>
<tr>
<th>格 式 符</th>
<th>数据类型说明符</th>
</tr>
</thead>
<tbody><tr>
<td><code>d</code></td>
<td>以带符号的十进制形式输出整数（正数不输出符号）</td>
</tr>
<tr>
<td><code>o</code></td>
<td>以八进制无符号形式输出整数（不输出前缀0）</td>
</tr>
<tr>
<td><code>x</code></td>
<td>以十六进制无符号形式输出整数（不输出前缀0x）</td>
</tr>
<tr>
<td><code>u</code></td>
<td>以十进制形式输出无符号整数</td>
</tr>
<tr>
<td><code>c</code></td>
<td>输出单个字符</td>
</tr>
<tr>
<td><code>s</code></td>
<td>输出字符串</td>
</tr>
<tr>
<td><code>p</code></td>
<td>指针</td>
</tr>
<tr>
<td><code>f</code></td>
<td>以小数形式输出单、双精度数，隐含输出6 位小数</td>
</tr>
<tr>
<td><code>e</code></td>
<td>以标准指数形式输出单、双精度数，数字部分小数位数为6 位</td>
</tr>
<tr>
<td><code>g</code></td>
<td>选用%f 或%e 格式中输出宽度较短的一种格式，不输出无意义的 0</td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="cin-和cout-格式"><a href="#cin-和cout-格式" class="headerlink" title="cin 和cout 格式"></a>cin 和cout 格式</h4><ul>
<li>cin 和cout 语句最大的好处是程序可以自动区分变量类型</li>
<li>cin 函数和cout 函数的头部函数是：iostream<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; <span class="comment">//命名空间</span></span><br><span class="line"></span><br><span class="line">cin&gt;&gt;变量名;</span><br><span class="line">cout&lt;&lt;变量名<span class="number">1</span>&lt;&lt;变量名<span class="number">2</span>&lt;&lt;<span class="string">&quot;字符&quot;</span>&lt;&lt;endl； <span class="comment">//endl为换行符</span></span><br></pre></td></tr></table></figure></li>
<li>cout 执行输出操作后，数据并非立刻传到输出设备，而是先进入一个缓冲区，等时机适当时（如设备空闲）再由缓冲区传入，而printf 函数是直接打印到屏幕上</li>
<li>C 语言的输出&#x2F;输入语句（printf、scanf）不要和C++的输出&#x2F;输入语句（cout、cin）混合使用</li>
</ul>
<h4 id="运算符汇总"><a href="#运算符汇总" class="headerlink" title="运算符汇总"></a>运算符汇总</h4><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/yunsuanfu.png"></p>
<ul>
<li>1）运算符“%”是求余（或称模运算）。</li>
<li>2）位操作运算符是按二进制位进行运算的。</li>
<li><blockquote>
<p>① 位与“&amp;”。<br>② 位或“|”。<br>③ 位非“～”。<br>④ 位异或“^”。<br>⑤ 左移“&lt;&lt;”。<br>⑥ 右移“&gt;&gt;”。</p>
</blockquote>
</li>
<li>3）赋值运算符用于赋值运算。</li>
<li><blockquote>
<p>① 简单赋值“&#x3D;”。<br>② 复合算术赋值（+&#x3D;，-&#x3D;，*&#x3D;，&#x2F;&#x3D;，%&#x3D;）。<br>③ 复合位运算赋值（&amp;&#x3D;，|&#x3D;，^&#x3D;，&gt;&gt;&#x3D;，&lt;&lt;&#x3D;）。</p>
</blockquote>
</li>
<li>4）条件运算符：这是一个三目运算符，用于条件求值（？：）。</li>
<li>5）逗号运算符：用于把若干表达式组合成一个表达式（，）。</li>
<li>6）指针运算符：用于取内容（*）和取地址（&amp;）两种运算。</li>
<li>7）求字节数运算符：用于计算数据类型所占的字节数（sizeof）。</li>
<li>8）特殊运算符：</li>
<li><blockquote>
<p>① 括号“（）”。<br>② 数组下标“[]”。<br>③ 结构成员（→和.）。</p>
</blockquote>
</li>
</ul>
<h4 id="switch语句"><a href="#switch语句" class="headerlink" title="switch语句"></a>switch语句</h4><ul>
<li>并行分支判断语句<code>switch()</code>的一般形式为：<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="keyword">switch</span>(表达式K)&#123;</span><br><span class="line">	<span class="keyword">case</span> 常量表达式k1:<span class="comment">//常量表达式ki 是常数或ASCII 码</span></span><br><span class="line">		语句段<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">case</span> 常量表达式k2:</span><br><span class="line">		语句段<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">		.</span><br><span class="line">		.</span><br><span class="line">		.</span><br><span class="line">	<span class="keyword">case</span> 常量表达式kn:</span><br><span class="line">		语句段n;</span><br><span class="line">		<span class="keyword">break</span>;</span><br><span class="line">	<span class="keyword">default</span> : 语句段n+<span class="number">1</span>;<span class="comment">//default 语句可以缺省，即匹配失败后，程序直接退出switch 语句。</span></span><br><span class="line">&#125;		</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="C-语言控制语句"><a href="#C-语言控制语句" class="headerlink" title="C 语言控制语句"></a>C 语言控制语句</h4><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/ctrl_code.png"></p>
<h4 id="C-语言常量与宏"><a href="#C-语言常量与宏" class="headerlink" title="C 语言常量与宏"></a>C 语言常量与宏</h4><ul>
<li>C 程序设计中一个重要的原则是，所有在程序中使用的常量都应用宏<code>define</code>在头部文件说明，</li>
<li>这样，一旦常量的值需要改变，则仅仅是头部定义处需要修改，而与程序中引用该常量的语句无关</li>
<li>例如：<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> AMOUNT 10 <span class="comment">//宏定义人数 //数组的长度一定要大于或等于要存放的变量数目</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> MINIMUM 20 <span class="comment">//宏定义年龄下限</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> age[AMOUNT] = &#123; <span class="number">19</span>,<span class="number">18</span>,<span class="number">19</span>,<span class="number">20</span>,<span class="number">21</span>,<span class="number">18</span>,<span class="number">20</span>,<span class="number">20</span>,<span class="number">19</span>,<span class="number">20</span>&#125;;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; AMOUNT; i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (age[i] &gt;= MINIMUM)</span><br><span class="line">			x++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span> &lt;&lt; <span class="string">&quot;x=&quot;</span> &lt;&lt; x &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="字符串操作"><a href="#字符串操作" class="headerlink" title="字符串操作"></a>字符串操作</h4><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/string.png"></p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>C&amp;C++</tag>
        <tag>C&amp;C++初级</tag>
      </tags>
  </entry>
  <entry>
    <title>C&amp;C++笔记-03</title>
    <url>/MyWiki/wiki/2023/01/03/codes/C&amp;C++/C&amp;C++%E7%AC%94%E8%AE%B0-03/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="常用内置函数用法"><a href="#常用内置函数用法" class="headerlink" title="常用内置函数用法"></a>常用内置函数用法</h3><h4 id="最大值、最小值、总和和平均值"><a href="#最大值、最小值、总和和平均值" class="headerlink" title="最大值、最小值、总和和平均值"></a>最大值、最小值、总和和平均值</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*有固定数组，编写程序，输入起始下标i和终止下标j，</span></span><br><span class="line"><span class="comment">求下标在[i,j)之间的元素的最大值、最小值、总和和平均值。平均值为double。</span></span><br><span class="line"><span class="comment">数组元素为&#123;-1,15,-40,-180,99,-122,-124,27,192,128,-165,95,161,-138, -183,51,107,39,-184,113,-63,9,107,188,-11,-13,151,-52,7,6&#125;，元素个数为30个。</span></span><br><span class="line"><span class="comment">输入:两个整数，0&lt;=i,j&lt;=30,两个整数用空格隔开。</span></span><br><span class="line"><span class="comment">输出：最大、最小、总和、平均，用空格隔开，末尾无空格。区间中元素个数为0时（i&gt;=j），输出全0。*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;numeric&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> nums[] &#123;<span class="number">-1</span>,<span class="number">15</span>,<span class="number">-40</span>,<span class="number">-180</span>,<span class="number">99</span>,<span class="number">-122</span>,<span class="number">-124</span>,<span class="number">27</span>,<span class="number">192</span>,<span class="number">128</span>,<span class="number">-165</span>,<span class="number">95</span>,<span class="number">161</span>,<span class="number">-138</span>, <span class="number">-183</span>,<span class="number">51</span>,<span class="number">107</span>,<span class="number">39</span>,<span class="number">-184</span>,<span class="number">113</span>,<span class="number">-63</span>,<span class="number">9</span>,<span class="number">107</span>,<span class="number">188</span>,<span class="number">-11</span>,<span class="number">-13</span>,<span class="number">151</span>,<span class="number">-52</span>,<span class="number">7</span>,<span class="number">6</span>&#125;;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;有固定数组，编写程序，输入起始下标i和终止下标j&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="type">int</span> a,b;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b;</span><br><span class="line">    <span class="type">int</span> c = b - a;</span><br><span class="line">    <span class="type">int</span> sub_num[c];</span><br><span class="line">    <span class="keyword">if</span>(a&gt;=<span class="number">0</span>&amp;&amp;b&lt;=<span class="number">30</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> i=a; i&lt;b; i++)&#123;</span><br><span class="line">            sub_num[i-a] = nums[i];     </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cout&lt;&lt;<span class="string">&quot;请输入正确区间！！！&quot;</span>&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// for(int j=0; j&lt;c; j++)&#123;</span></span><br><span class="line">    <span class="comment">//     cout&lt;&lt;sub_num[j]&lt;&lt;&quot; &quot;;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">    <span class="comment">// cout&lt;&lt;endl;</span></span><br><span class="line">    <span class="type">int</span> max_value = *<span class="built_in">max_element</span>(sub_num,sub_num+c);</span><br><span class="line">    <span class="type">int</span> min_value = *<span class="built_in">min_element</span>(sub_num,sub_num+c);</span><br><span class="line">    <span class="type">int</span> sum_value = <span class="built_in">accumulate</span>(sub_num,sub_num+c,<span class="number">0</span>);</span><br><span class="line">    <span class="type">int</span> ave_value = sum_value/c;</span><br><span class="line">    cout&lt;&lt;max_value&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;min_value&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;sum_value&lt;&lt;<span class="string">&quot; &quot;</span>&lt;&lt;ave_value&lt;&lt;endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="cin用法"><a href="#cin用法" class="headerlink" title="cin用法"></a>cin用法</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*编写程序，输入可能带空格的字符串，计算并输入其长度（即字符个数，含空格数）。</span></span><br><span class="line"><span class="comment">字符串最大长度不超过100。使用字符数组实现，不使用字符串库函数。*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">100</span>];</span><br><span class="line">    <span class="type">int</span> n=<span class="number">0</span>;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;输入可能带空格的字符串，计算并输入其长度（即字符个数，含空格数）&quot;</span>&lt;&lt;endl;</span><br><span class="line">    cin.<span class="built_in">get</span>(str,<span class="number">100</span>);</span><br><span class="line">    <span class="keyword">while</span>(str[n++])&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;n<span class="number">-1</span>&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="大小写"><a href="#大小写" class="headerlink" title="大小写"></a>大小写</h4><ul>
<li><p>cctype库</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;cctype&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span>&#123;</span><br><span class="line">	<span class="type">char</span> a;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line">	<span class="keyword">if</span>(<span class="built_in">islower</span>(a))<span class="comment">//如果a是小写字母 </span></span><br><span class="line">		a=<span class="built_in">toupper</span>(a);</span><br><span class="line">	<span class="keyword">else</span><span class="comment">//a不是小写字母自然就是大写的了，所以就不用再判断了 </span></span><br><span class="line">		a=<span class="built_in">tolower</span>(a);</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>自己写函数</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">编写函数，将字符串中的所有字母转换为大写。</span></span><br><span class="line"><span class="comment">在主函数中定义字符数组，输出字符串，调用函数转大写，在主函数中输出。</span></span><br><span class="line"><span class="comment">字符串长度不超过200. 注意，必须用字符数组实现，不能使用字符串处理库函数，也不能使用string类。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line">using namespace <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">string</span> <span class="title function_">AZupper</span><span class="params">(<span class="type">char</span> *p)</span>&#123;</span><br><span class="line">    <span class="type">int</span> i=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (p[i]&gt;=<span class="string">&#x27;a&#x27;</span> &amp;&amp; p[i]&lt;=<span class="string">&#x27;z&#x27;</span>)&#123;</span><br><span class="line">        <span class="comment">// p[i] = toupper(p[i]);</span></span><br><span class="line">        p[i] -= <span class="number">32</span>;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">char</span> a[<span class="number">200</span>];</span><br><span class="line">    <span class="built_in">cin</span>.get(a,<span class="number">200</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;AZupper(a)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="指针转换为数组"><a href="#指针转换为数组" class="headerlink" title="指针转换为数组"></a>指针转换为数组</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="built_in">memcpy</span>(gr_iframe,gr,<span class="keyword">sizeof</span>(gr_iframe)); <span class="comment">//指针转换为数组</span></span><br><span class="line">Strcpy(gr_iframe,gr) <span class="comment">//指针转换为字符数组</span></span><br></pre></td></tr></table></figure>

<h4 id="输出数据类型"><a href="#输出数据类型" class="headerlink" title="输出数据类型"></a>输出数据类型</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">cout&lt;&lt;<span class="built_in">typeid</span>(gr[i]).<span class="built_in">name</span>()&lt;&lt;endl;</span><br></pre></td></tr></table></figure>

<h4 id="find-first-of"><a href="#find-first-of" class="headerlink" title="find_first_of"></a>find_first_of</h4><ul>
<li><p>find_first_of是C++标准库中的一个字符串查找函数，用于在目标字符串中查找第一个匹配给定字符集中任何一个字符的位置。它的函数原型为：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">size_t</span> <span class="title">find_first_of</span><span class="params">(<span class="type">const</span> charT* s, <span class="type">size_t</span> pos, <span class="type">size_t</span> n)</span> <span class="type">const</span></span>;</span><br></pre></td></tr></table></figure></li>
<li><p>其中：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">s</span>：指向要查找的字符集合的字符数组的指针。</span><br><span class="line"><span class="attribute">pos</span>：从目标字符串的哪个位置开始查找，默认为<span class="number">0</span>。</span><br><span class="line"><span class="attribute">n</span>：字符数组s的长度。</span><br></pre></td></tr></table></figure>
</li>
<li><p>该函数返回目标字符串中第一个匹配字符集合s中任何一个字符的位置。如果找不到任何匹配项，则返回std::string::npos。</p>
</li>
<li><p>以下是一个示例：</p>
</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::string str = <span class="string">&quot;Hello, World!&quot;</span>;</span><br><span class="line">    std::string chars = <span class="string">&quot;oW&quot;</span>;</span><br><span class="line">    <span class="type">size_t</span> pos = str.<span class="built_in">find_first_of</span>(chars);</span><br><span class="line">    <span class="keyword">if</span> (pos != std::string::npos)</span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Found character &#x27;&quot;</span> &lt;&lt; str[pos] &lt;&lt; <span class="string">&quot;&#x27; at position &quot;</span> &lt;&lt; pos &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;No character found.&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>在上面的示例中，我们定义了一个字符串str和一个包含要查找的字符集的字符串chars。我们使用find_first_of函数在str中查找第一个匹配字符集s中任何一个字符的位置，并将结果存储在pos变量中。如果找到了匹配项，则输出匹配的字符和位置；否则输出一条消息表示没有找到匹配项。</li>
</ul>
<h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><h4 id="vector拼接函数并调用"><a href="#vector拼接函数并调用" class="headerlink" title="vector拼接函数并调用"></a>vector拼接函数并调用</h4><ul>
<li>c++怎么将两个二维的vector拼接，定义成一个函数，并可以调用?</li>
<li>要将两个二维的vector拼接并定义成一个函数，您可以编写一个函数来接收两个二维vector作为参数，并将它们拼接到一个新的vector中。以下是一个示例函数的代码：</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拼接两个二维vector</span></span><br><span class="line">std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; <span class="built_in">concatenateVectors</span>(<span class="type">const</span> std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt;&amp; v1, <span class="type">const</span> std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt;&amp; v2, <span class="type">bool</span> byRow = <span class="literal">true</span>)</span><br><span class="line">&#123;</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; result;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (byRow)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 拼接行</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : v1)</span><br><span class="line">        &#123;</span><br><span class="line">            result.<span class="built_in">push_back</span>(row);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : v2)</span><br><span class="line">        &#123;</span><br><span class="line">            result.<span class="built_in">push_back</span>(row);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 拼接列</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">size_t</span> i = <span class="number">0</span>; i &lt; v1.<span class="built_in">size</span>(); ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            std::vector&lt;<span class="type">int</span>&gt; row = v1[i];</span><br><span class="line">            row.<span class="built_in">insert</span>(row.<span class="built_in">end</span>(), v2[i].<span class="built_in">begin</span>(), v2[i].<span class="built_in">end</span>());</span><br><span class="line">            result.<span class="built_in">push_back</span>(row);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; v1 &#123;&#123;<span class="number">1</span>, <span class="number">2</span>&#125;, &#123;<span class="number">3</span>, <span class="number">4</span>&#125;&#125;;</span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; v2 &#123;&#123;<span class="number">5</span>, <span class="number">6</span>&#125;, &#123;<span class="number">7</span>, <span class="number">8</span>&#125;&#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 拼接行</span></span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; result1 = <span class="built_in">concatenateVectors</span>(v1, v2);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 拼接列</span></span><br><span class="line">    std::vector&lt;std::vector&lt;<span class="type">int</span>&gt;&gt; result2 = <span class="built_in">concatenateVectors</span>(v1, v2, <span class="literal">false</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 输出结果</span></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Concatenate by row:&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : result1)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; elem : row)</span><br><span class="line">        &#123;</span><br><span class="line">            std::cout &lt;&lt; elem &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Concatenate by column:&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; row : result2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">const</span> <span class="keyword">auto</span>&amp; elem : row)</span><br><span class="line">        &#123;</span><br><span class="line">            std::cout &lt;&lt; elem &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        std::cout &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>在上面的代码中，我们定义了一个名为concatenateVectors的函数，接受两个二维vector作为参数，并返回拼接后的结果。该函数还接受一个可选的布尔参数，用于指定要按行还是列拼接。默认情况下，函数按行拼接。如果传递false作为第三个参数，则按列拼接。</p>
</li>
<li><p>在main函数中，我们创建了两个二维vectorv1和v2，然后使用concatenateVectors函数分别按行和列拼接这两个vector，并将结果存储在result1和result2中。最后，我们输出拼接后的结果。</p>
</li>
</ul>
<h4 id="删除掉二维vector中每个元素的第一个元素"><a href="#删除掉二维vector中每个元素的第一个元素" class="headerlink" title="删除掉二维vector中每个元素的第一个元素"></a>删除掉二维vector中每个元素的第一个元素</h4><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">delete_first_element</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; vec)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    vector&lt;vector&lt;<span class="type">int</span>&gt;&gt; vec&#123;&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;, &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;, &#123;<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Before: &quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; inner_vec : vec) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> elem : inner_vec) &#123;</span><br><span class="line">            cout &lt;&lt; elem &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">delete_first_element</span>(vec);</span><br><span class="line"></span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;After: &quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; inner_vec : vec) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">auto</span> elem : inner_vec) &#123;</span><br><span class="line">            cout &lt;&lt; elem &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">delete_first_element</span><span class="params">(vector&lt;vector&lt;<span class="type">int</span>&gt;&gt;&amp; vec)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span>&amp; inner_vec : vec) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!inner_vec.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">            inner_vec.<span class="built_in">erase</span>(inner_vec.<span class="built_in">begin</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程序学习</category>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>C&amp;C++</tag>
        <tag>C&amp;C++初级</tag>
      </tags>
  </entry>
  <entry>
    <title>编译C++程序：Makefile文件</title>
    <url>/MyWiki/wiki/2023/01/04/codes/C&amp;C++/C&amp;C++%E7%AC%94%E8%AE%B0-04/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Makefile文件写法"><a href="#Makefile文件写法" class="headerlink" title="Makefile文件写法"></a>Makefile文件写法</h3><figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line">CXX = g++</span><br><span class="line">CXXFLAGS = -Wall -Wextra -std=c++<span class="number">11</span></span><br><span class="line">SRCS = LidDrivenFlow.cpp</span><br><span class="line">OBJS = $(SRCS:.cpp=.o)</span><br><span class="line">TARGET = LidDrivenFlow</span><br><span class="line"></span><br><span class="line">.PHONY: all clean</span><br><span class="line"></span><br><span class="line">all: $(TARGET)</span><br><span class="line"></span><br><span class="line">$(TARGET): $(OBJS)</span><br><span class="line">	$(CXX) $(CXXFLAGS) -o $@ $^</span><br><span class="line"></span><br><span class="line">%.o: %.cpp</span><br><span class="line">	$(CXX) $(CXXFLAGS) -c -o $@ $&lt;</span><br><span class="line"></span><br><span class="line">clean:</span><br><span class="line">	rm -f $(OBJS) $(TARGET)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="解释"><a href="#解释" class="headerlink" title="解释"></a>解释</h3><p>在这个Makefile中：</p>
<ul>
<li><code>CXX</code> 定义了 C++ 编译器，这里是 <code>g++</code>。</li>
<li><code>CXXFLAGS</code> 包含编译选项，比如 <code>-Wall</code> 和 <code>-Wextra</code> 用于启用警告，<code>-std=c++11</code> 用于指定 C++11 标准。</li>
<li><code>SRCS</code> 定义了源代码文件名。</li>
<li><code>OBJS</code> 定义了目标文件名，通过把 <code>.cpp</code> 后缀改为 <code>.o</code> 来得到。</li>
<li><code>TARGET</code> 定义了生成的可执行文件名。</li>
<li><code>all</code> 是默认目标，会生成 <code>$(TARGET)</code>。</li>
<li><code>$(TARGET)</code> 的规则定义了如何将目标文件链接为可执行文件。</li>
<li><code>%.o: %.cpp</code> 是一个模式规则，定义了如何编译每个源文件为目标文件。</li>
<li><code>clean</code> 是一个伪目标，用于清除生成的目标文件和可执行文件。</li>
</ul>
<p>你可以将这个Makefile文件保存为名为 <code>Makefile</code> 的文件，然后在终端中执行 <code>make</code> 命令来编译你的C++程序。</p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>C&amp;C++</category>
      </categories>
      <tags>
        <tag>C&amp;C++</tag>
        <tag>C&amp;C++初级</tag>
      </tags>
  </entry>
  <entry>
    <title>Matlab Tutorial-1</title>
    <url>/MyWiki/wiki/2021/06/28/codes/matlab/matlab-1/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="基本常用代码"><a href="#基本常用代码" class="headerlink" title="基本常用代码"></a>基本常用代码</h2><p><a href="https://ww2.mathworks.cn/help/index.html?s_tid=CRUX_lftnav">MATLAB</a></p>
<h3 id="fopen-amp-fgetl-amp-fclose"><a href="#fopen-amp-fgetl-amp-fclose" class="headerlink" title="fopen &amp; fgetl &amp; fclose"></a>fopen &amp; fgetl &amp; fclose</h3><ul>
<li><p><strong><mark>打开文件</mark></strong> tsunamis.txt 并获取文件标识符。</p>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">fileID <span class="built_in">=</span> fopen(<span class="string">&#x27;tsunamis.txt&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>将 fileID 传递给 fgetl 函数以从文件 <strong><mark>读取</mark></strong> 一行。</p>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">tline <span class="built_in">=</span> fgetl(fileID)</span><br></pre></td></tr></table></figure></li>
<li><p><strong><mark>关闭</mark></strong> 一个或所有打开的文件</p>
</li>
</ul>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">fclose(fid);</span><br></pre></td></tr></table></figure>

<h3 id="rand-amp-amp-size"><a href="#rand-amp-amp-size" class="headerlink" title="rand &amp;&amp; size"></a>rand &amp;&amp; size</h3><ul>
<li>创建一个2x3x4x5随机四维数组并返回其大小。</li>
</ul>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">A <span class="built_in">=</span> rand(<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">sz <span class="built_in">=</span> size(A)</span><br><span class="line">szdim2 <span class="built_in">=</span> size(A,<span class="number">2</span>) <span class="comment">%仅查询 A 的第二个维度的长度。</span></span><br></pre></td></tr></table></figure>

<h3 id="figure"><a href="#figure" class="headerlink" title="figure"></a>figure</h3><ul>
<li><p>创建一个默认图窗。</p>
</li>
<li><p><img src="https://ww2.mathworks.cn/help/matlab/ref/figure_size_1.png"></p>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">f <span class="built_in">=</span> figure;</span><br></pre></td></tr></table></figure></li>
<li><p>创建一个图窗并指定 Name 属性。默认情况下，生成的标题包含图窗编号。</p>
</li>
<li><p><img src="https://ww2.mathworks.cn/help/matlab/ref/figure_ref_numtitle.png"></p>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">figure(<span class="string">&#x27;Name&#x27;</span>,<span class="string">&#x27;Measured Data&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>再次指定 Name 属性，但这次将 NumberTitle 属性设置为 ‘off’。生成的标题不包含图窗编号。</p>
</li>
<li><p><img src="https://ww2.mathworks.cn/help/matlab/ref/figure_ref_numtitle_off.png"></p>
</li>
</ul>
<h3 id="prod"><a href="#prod" class="headerlink" title="prod"></a>prod</h3><ul>
<li>数组元素的乘积</li>
</ul>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">A<span class="built_in">=</span>[<span class="number">1</span>:<span class="number">3</span>:<span class="number">7</span>;<span class="number">2</span>:<span class="number">3</span>:<span class="number">8</span>;<span class="number">3</span>:<span class="number">3</span>:<span class="number">9</span>]</span><br><span class="line">B <span class="built_in">=</span> prod(A)</span><br><span class="line"></span><br><span class="line"><span class="comment">%output</span></span><br><span class="line">A <span class="built_in">=</span> <span class="number">3</span>×<span class="number">3</span></span><br><span class="line"></span><br><span class="line">     <span class="number">1</span>     <span class="number">4</span>     <span class="number">7</span></span><br><span class="line">     <span class="number">2</span>     <span class="number">5</span>     <span class="number">8</span></span><br><span class="line">     <span class="number">3</span>     <span class="number">6</span>     <span class="number">9</span></span><br><span class="line"></span><br><span class="line">B <span class="built_in">=</span> <span class="number">1</span>×<span class="number">3</span></span><br><span class="line"></span><br><span class="line">     <span class="number">6</span>   <span class="number">120</span>   <span class="number">504</span></span><br></pre></td></tr></table></figure>

<ul>
<li>每列元素乘积<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">B <span class="built_in">=</span> prod(A)</span><br></pre></td></tr></table></figure></li>
<li>每行元素乘积<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">B <span class="built_in">=</span> prod(A,<span class="number">2</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Matlab-x2F-和-x2F-和-有什么区别"><a href="#Matlab-x2F-和-x2F-和-有什么区别" class="headerlink" title="Matlab .&#x2F;和&#x2F;   .和  有什么区别"></a>Matlab .&#x2F;和&#x2F;   .<em>和</em>  有什么区别</h3><ul>
<li><a href="https://blog.csdn.net/u013346007/article/details/54583271">https://blog.csdn.net/u013346007/article/details/54583271</a></li>
</ul>
<h3 id="ceil"><a href="#ceil" class="headerlink" title="ceil"></a>ceil</h3><ul>
<li>向正无穷舍入</li>
</ul>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">X <span class="built_in">=</span> [-<span class="number">1.9</span> -<span class="number">0.2</span> <span class="number">3.4</span>; <span class="number">5.6</span> <span class="number">7</span> <span class="number">2.4</span>+<span class="number">3.6</span>i]</span><br><span class="line">Y <span class="built_in">=</span> ceil(X)</span><br><span class="line"></span><br><span class="line"><span class="comment">%output</span></span><br><span class="line">X <span class="built_in">=</span></span><br><span class="line"></span><br><span class="line">  -<span class="number">1.9000</span> + <span class="number">0.0000</span>i  -<span class="number">0.2000</span> + <span class="number">0.0000</span>i   <span class="number">3.4000</span> + <span class="number">0.0000</span>i</span><br><span class="line">   <span class="number">5.6000</span> + <span class="number">0.0000</span>i   <span class="number">7.0000</span> + <span class="number">0.0000</span>i   <span class="number">2.4000</span> + <span class="number">3.6000</span>i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Y <span class="built_in">=</span></span><br><span class="line"></span><br><span class="line">  -<span class="number">1.0000</span> + <span class="number">0.0000</span>i   <span class="number">0.0000</span> + <span class="number">0.0000</span>i   <span class="number">4.0000</span> + <span class="number">0.0000</span>i</span><br><span class="line">   <span class="number">6.0000</span> + <span class="number">0.0000</span>i   <span class="number">7.0000</span> + <span class="number">0.0000</span>i   <span class="number">3.0000</span> + <span class="number">4.0000</span>i</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="Switch"><a href="#Switch" class="headerlink" title="Switch"></a>Switch</h3><ul>
<li><p>语法</p>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">switch switch_expression</span><br><span class="line">   case case_expression</span><br><span class="line">      statements</span><br><span class="line">   case case_expression</span><br><span class="line">      statements</span><br><span class="line">    ...</span><br><span class="line">   otherwise</span><br><span class="line">      statements</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
</li>
<li><p>例子1</p>
</li>
</ul>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">n <span class="built_in">=</span> input(<span class="string">&#x27;Enter a number: &#x27;</span>);</span><br><span class="line"></span><br><span class="line">switch n</span><br><span class="line">    case -<span class="number">1</span></span><br><span class="line">        disp(<span class="string">&#x27;negative one&#x27;</span>)</span><br><span class="line">    case <span class="number">0</span></span><br><span class="line">        disp(<span class="string">&#x27;zero&#x27;</span>)</span><br><span class="line">    case <span class="number">1</span></span><br><span class="line">        disp(<span class="string">&#x27;positive one&#x27;</span>)</span><br><span class="line">    otherwise</span><br><span class="line">        disp(<span class="string">&#x27;other value&#x27;</span>)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>

<ul>
<li>例子2</li>
</ul>
<figure class="highlight m"><table><tr><td class="code"><pre><span class="line">x <span class="built_in">=</span> [<span class="number">12</span> <span class="number">64</span> <span class="number">24</span>];</span><br><span class="line">plottype <span class="built_in">=</span> <span class="string">&#x27;pie3&#x27;</span>;</span><br><span class="line"></span><br><span class="line">switch plottype</span><br><span class="line">    case <span class="string">&#x27;bar&#x27;</span> </span><br><span class="line">        bar(x)</span><br><span class="line">        title(<span class="string">&#x27;Bar Graph&#x27;</span>)</span><br><span class="line">    case &#123;<span class="string">&#x27;pie&#x27;</span>,<span class="string">&#x27;pie3&#x27;</span>&#125;</span><br><span class="line">        pie3(x)</span><br><span class="line">        title(<span class="string">&#x27;Pie Chart&#x27;</span>)</span><br><span class="line">    otherwise</span><br><span class="line">        warning(<span class="string">&#x27;Unexpected plot type. No plot created.&#x27;</span>)</span><br><span class="line">end</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程序学习</category>
        <category>Matlab</category>
      </categories>
      <tags>
        <tag>Tutorial</tag>
        <tag>Matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>机器学习基础-2</title>
    <url>/MyWiki/wiki/2023/05/27/notes/MachineLearning/MLPython-2/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="机器学习基本流程"><a href="#机器学习基本流程" class="headerlink" title="机器学习基本流程"></a>机器学习基本流程</h2><ul>
<li><a href="https://www.sklearncn.cn/">sklearn中文文档</a></li>
</ul>
<h3 id="数据集"><a href="#数据集" class="headerlink" title="数据集"></a>数据集</h3><ul>
<li><ol>
<li><p><a href="https://scikit-learn.org/stable/datasets">scikit-learn</a></p>
</li>
<li><p><a href="https://www.kaggle.com/datasets">kaggle</a></p>
</li>
<li><p><a href="https://archive.ics.uci.edu/ml/datasets.php">UCI</a></p>
</li>
<li><p><a href="https://www.ebi.ac.uk/chembl/">chEMBL</a></p>
<blockquote>
<p>ChEMBL是一个人工整理的具有药物性质的生物活性分子数据库。它汇集了化学、生物活性和基因组数据，以帮助将基因组信息转化为有效的新药</p>
</blockquote>
</li>
<li><p><a href="http://cadd.zju.edu.cn/cidb/">Covalent Inhibitor Database</a></p>
<blockquote>
<p>最大的网络资源，可访问的共价抑制剂和相关的目标。最新版本提供了综合文献检索收集到的8561个共价抑制剂和343个相关蛋白靶点的信息。</p>
</blockquote>
</li>
</ol>
</li>
<li><p>读取鸢尾花数据集：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df = pd.read_csv(<span class="string">&#x27;iris.data&#x27;</span>,names=[<span class="string">&#x27;sepal length&#x27;</span>,<span class="string">&#x27;sepal width&#x27;</span>,<span class="string">&#x27;petal length&#x27;</span>,<span class="string">&#x27;petal width&#x27;</span>, <span class="string">&#x27;class&#x27;</span>])</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><ul>
<li><p>缺失值处理：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.isna().<span class="built_in">sum</span>() <span class="comment"># 查看</span></span><br><span class="line">df.dropna() <span class="comment"># 删除缺失值行</span></span><br><span class="line">df2 = df[df.standard_value.notna()]</span><br><span class="line">df2</span><br></pre></td></tr></table></figure>


</li>
<li><p>LabelEncoder：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> LabelEncoder</span><br><span class="line">labelencoder_B = LabelEncoder()</span><br><span class="line">df[<span class="string">&quot;Borough&quot;</span>] = labelencoder_B.fit_transform(df[<span class="string">&quot;Borough&quot;</span>])</span><br></pre></td></tr></table></figure>
</li>
<li><p>划分数据集：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">x_train, x_test, y_train, y_test = train_test_split(x,y, test_size=<span class="number">0.3</span>, random_state=<span class="number">22</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>特征工程（特征预处理）</p>
<ul>
<li>Z-score 标准化：在已有样本足够多的情况下比较稳定，适合现代嘈杂大数据场景</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">transfer = StandardScaler()</span><br><span class="line">x_train = transfer.fit_transform(x_train)</span><br><span class="line">x_test = transfer.fit_transform(x_test)</span><br></pre></td></tr></table></figure>

<ul>
<li>Min-Max 标准化：</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> MinMaxScaler</span><br><span class="line">transfer = MinMaxScaler()</span><br><span class="line">x_train = transfer.fit_transform(x_train)</span><br><span class="line">x_test = transfer.fit_transform(x_test)</span><br></pre></td></tr></table></figure>


</li>
<li><p>特征提取：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_extraction <span class="keyword">import</span> DictVectorizer</span><br></pre></td></tr></table></figure>
</li>
<li><p>特征降维：改变特征值，选择哪列保留，哪列删除</p>
<ul>
<li><p>特征选择：提出数据中的冗余变量</p>
<ul>
<li>Filter(过滤式)：主要探究特征本身特点、特征与特征和目标值之间关联<ul>
<li>方差选择法：低方差特征过滤</li>
<li>相关系数</li>
</ul>
</li>
<li>Embedded (嵌入式)：算法自动选择特征（特征与目标值之间的关联）<ul>
<li>决策树:信息熵、信息增益</li>
<li>正则化：L1、L2</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 方差选择法</span></span><br><span class="line"><span class="comment"># 实例化一个转换器类</span></span><br><span class="line"><span class="keyword">from</span> sklearn.feature_selection <span class="keyword">import</span> VarianceThreshold</span><br><span class="line">transfer = VarianceThreshold(threshold=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 调用fit_transform</span></span><br><span class="line">data = transfer.fit_transform(data.iloc[:, <span class="number">1</span>:<span class="number">10</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;删除低方差特征的结果：\n&quot;</span>, data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;形状：\n&quot;</span>, data.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 相关系数</span></span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> pearsonr</span><br><span class="line"><span class="keyword">from</span> scipy.stats <span class="keyword">import</span> spearmanr</span><br><span class="line">x1 = [<span class="number">12.5</span>, <span class="number">15.3</span>, <span class="number">23.2</span>, <span class="number">26.4</span>, <span class="number">33.5</span>, <span class="number">34.4</span>, <span class="number">39.4</span>, <span class="number">45.2</span>, <span class="number">55.4</span>, <span class="number">60.9</span>]</span><br><span class="line">x2 = [<span class="number">21.2</span>, <span class="number">23.9</span>, <span class="number">32.9</span>, <span class="number">34.1</span>, <span class="number">42.5</span>, <span class="number">43.2</span>, <span class="number">49.0</span>, <span class="number">52.8</span>, <span class="number">59.4</span>, <span class="number">63.5</span>]</span><br><span class="line">pearsonr(x1, x2)</span><br><span class="line">spearmanr(x1, x2)</span><br></pre></td></tr></table></figure>


</li>
<li><p>主成分分析</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.decomposition <span class="keyword">import</span> PCA</span><br><span class="line"><span class="comment"># 实例化PCA, 小数——保留90%信息</span></span><br><span class="line">transfer = PCA(n_components=<span class="number">0.9</span>)</span><br><span class="line"><span class="comment"># 调用fit_transform</span></span><br><span class="line">data1 = transfer.fit_transform(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;保留90%的信息，降维结果为：\n&quot;</span>, data1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 实例化PCA, 整数——指定降维到的维数</span></span><br><span class="line">transfer2 = PCA(n_components=<span class="number">3</span>)</span><br><span class="line"><span class="comment"># 调用fit_transform</span></span><br><span class="line">data2 = transfer2.fit_transform(data)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;降维到3维的结果：\n&quot;</span>, data2)</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h3 id="数据可视化"><a href="#数据可视化" class="headerlink" title="数据可视化"></a>数据可视化</h3><ul>
<li><p>统计信息：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.info()</span><br><span class="line"></span><br><span class="line">df_states = df.describe()</span><br><span class="line">df_states</span><br><span class="line">df_states.transpose()</span><br></pre></td></tr></table></figure>
</li>
<li><p>观察部分信息：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.head()</span><br><span class="line">df.tail()</span><br></pre></td></tr></table></figure>
</li>
<li><p>快速可视化<a href="https://seaborn.pydata.org/generated/seaborn.pairplot.html">seaborn.pairplot</a>：</p>
<figure class="highlight elm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns</span><br><span class="line"><span class="title">penguins</span> = sns.load_dataset(<span class="string">&quot;penguins&quot;</span>)</span><br><span class="line"><span class="title">sns</span>.pairplot(penguins)</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="https://seaborn.pydata.org/_images/pairplot_1_0.png"></li>
</ul>
</li>
</ul>
<h3 id="常用算法"><a href="#常用算法" class="headerlink" title="常用算法"></a>常用算法</h3><ul>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.neighbors.KNeighborsClassifier.html">KNN</a>（K-近邻算法）</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line">estimator = KNeighborsClassifier(n_neighbors=<span class="number">9</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>线性回归</p>
<ul>
<li><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html#sklearn.linear_model.LinearRegression">正规方程：</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line">estimator = LinearRegression()</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDRegressor.html#sklearn.linear_model.SGDRegressor">梯度下降：</a></li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> SGDRegressor</span><br><span class="line">estimator = SGDRegressor(max_iter=<span class="number">1000</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>正则化：<a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Ridge.html#sklearn.linear_model.Ridge">Ridge</a>（岭回归）、<a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.ElasticNet.html#sklearn.linear_model.ElasticNet">ElasticNet</a>（弹性网络）、<a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.Lasso.html#sklearn.linear_model.Lasso">Lasso</a>（Lasso 回归）</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge, ElasticNet, Lasso</span><br><span class="line">estimator = Ridge(alpha=<span class="number">1</span>) <span class="comment"># 岭回归</span></span><br><span class="line">estimator = ElasticNet(random_state=<span class="number">0</span>)</span><br><span class="line">estimator = Lasso(alpha=<span class="number">0.1</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LogisticRegression.html">逻辑回归</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LogisticRegression</span><br><span class="line">estimator = LogisticRegression(random_state=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/tree.html">决策树</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier, export_graphviz</span><br><span class="line">estimator = DecisionTreeClassifier(max_depth=<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 保存树的结构到dot文件</span></span><br><span class="line">export_graphviz(estimator, out_file=<span class="string">&quot;tree.dot&quot;</span>, feature_names=[<span class="string">&#x27;age&#x27;</span>, <span class="string">&#x27;pclass=1st&#x27;</span>, <span class="string">&#x27;pclass=2nd&#x27;</span>, <span class="string">&#x27;pclass=3rd&#x27;</span>, <span class="string">&#x27;女性&#x27;</span>, <span class="string">&#x27;男性&#x27;</span>])</span><br></pre></td></tr></table></figure>

<ul>
<li><blockquote>
<p><a href="http://webgraphviz.com/">WebGraphviz</a> 网站显示决策树结构</p>
</blockquote>
</li>
</ul>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.ensemble.RandomForestClassifier.html">随机森林</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 分类</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line">estimator = RandomForestClassifier(max_depth=<span class="number">2</span>, n_estimators=<span class="number">10</span>, random_state=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># 回归</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestRegressor</span><br><span class="line">estimator = RandomForestRegressor(max_depth=<span class="number">3</span>, n_estimators=<span class="number">10</span>, random_state=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>


</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.DBSCAN.html">DBSCAN</a>（聚类）:基于密度的空间聚类</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> DBSCAN</span><br><span class="line">estimator = DBSCAN(eps=<span class="number">0.5</span>, min_samples=<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li><blockquote>
<p>适合带有噪声数据的应用</p>
</blockquote>
</li>
</ul>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.cluster.KMeans.html">K-means（聚类）</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line">estimator = KMeans(n_clusters=<span class="number">2</span>, random_state=<span class="number">0</span>,n_init=<span class="string">&quot;auto&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.svm.SVC.html">支持向量机(Support vector machine, SVM))</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.svm <span class="keyword">import</span> LinearSVC <span class="comment">#, SVC, SVR</span></span><br><span class="line">estimator = LinearSVC()</span><br></pre></td></tr></table></figure>

<ul>
<li>基于<a href="https://en.wikipedia.org/wiki/Vapnik%E2%80%93Chervonenkis_theory">Vapnik-Chervonenkis</a>理论；</li>
<li>可用于分类与回归；</li>
<li>支持向量回归(SVR)的基本思想是将输入数据映射到高维空间，然后在高维特征空间中计算线性回归函数。</li>
</ul>
</li>
<li><p>朴素贝叶斯</p>
<blockquote>
<p><strong>相比于其他更复杂的方法，朴素贝叶斯学习器和分类器非常快</strong></p>
</blockquote>
<blockquote>
<p><mark><strong>“朴素”</strong>表示特征与特征之间相互独立</mark></p>
</blockquote>
<ul>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.GaussianNB.html#sklearn.naive_bayes.GaussianNB">高斯朴素贝叶斯</a></p>
<ul>
<li>运用于分类的高斯朴素贝叶斯算法</li>
<li>特征的可能性(即概率)假设为高斯分布</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> GaussianNB</span><br><span class="line">estimator = GaussianNB()</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.MultinomialNB.html#sklearn.naive_bayes.MultinomialNB">多项分布朴素贝叶斯</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> MultinomialNB</span><br><span class="line">estimator = MultinomialNB(force_alpha=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>服从多项分布数据的朴素贝叶斯算法；</li>
<li>也是用于文本分类的两大经典朴素贝叶斯算法之一</li>
</ul>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.ComplementNB.html#sklearn.naive_bayes.ComplementNB">补充朴素贝叶斯(CNB)</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> ComplementNB</span><br><span class="line">estimator = ComplementNB(force_alpha=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>CNB是标准多项式朴素贝叶斯(MNB)算法的一种改进；</li>
<li>特别适用于不平衡数据集；</li>
<li>使用来自每个类的补数的统计数据来计算模型的权重；</li>
</ul>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/generated/sklearn.naive_bayes.BernoulliNB.html#sklearn.naive_bayes.BernoulliNB">伯努利朴素贝叶斯</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.naive_bayes <span class="keyword">import</span> BernoulliNB</span><br><span class="line">estimator = BernoulliNB(force_alpha=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>用于多重伯努利分布数据的朴素贝叶斯训练和分类算法;</li>
<li>即有多个特征，但每个特征 都假设是一个二元 (Bernoulli, boolean) 变量</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="训练与预测"><a href="#训练与预测" class="headerlink" title="训练与预测"></a>训练与预测</h3><ul>
<li><p>训练：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">estimator.fit(x_train,y_train)</span><br></pre></td></tr></table></figure>
</li>
<li><p>预测：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y_predict = estimator.predict(x_test)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="模型保存与加载"><a href="#模型保存与加载" class="headerlink" title="模型保存与加载"></a><a href="https://scikit-learn.org/stable/model_persistence.html">模型保存与加载</a></h3><ul>
<li><p>保存：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.externals <span class="keyword">import</span> joblib</span><br><span class="line">joblib.dump(estimator, <span class="string">&quot;model.pkl&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>加载：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">estimator = joblib.load(<span class="string">&quot;model.pkl&quot;</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="模型评估"><a href="#模型评估" class="headerlink" title="模型评估"></a>模型评估</h3><ul>
<li><p>比对真实值和预测值：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;预测结果为:\n&quot;</span>, y_predict)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;比对真实值和预测值：\n&quot;</span>, y_predict == y_test)</span><br></pre></td></tr></table></figure>
</li>
<li><p>直接计算准确率：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">score = estimator.score(x_test, y_test)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;准确率为：\n&quot;</span>, score)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://scikit-learn.org/stable/modules/model_evaluation.html">metrics</a></p>
<figure class="highlight haskell"><table><tr><td class="code"><pre><span class="line"><span class="title">from</span> sklearn.metrics <span class="keyword">import</span> silhouette_score</span><br><span class="line"><span class="title">silhouette_score</span>(<span class="class"><span class="keyword">data</span>, y_predict)</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="算法选择"><a href="#算法选择" class="headerlink" title="算法选择"></a>算法选择</h3><p><img src="https://ucc.alicdn.com/pic/developer-ecology/2186aba5e76d437f8c85f6fafecbdd81.png"></p>
<p><img src="https://ucc.alicdn.com/pic/developer-ecology/f98f248c802844a38bd61ef597d39c4e.png"></p>
<h2 id="深度学习"><a href="#深度学习" class="headerlink" title="深度学习"></a>深度学习</h2><h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><ul>
<li><a href="https://github.com/Mikoto10032/DeepLearning">DeepLearning</a></li>
<li><a href="https://ailearning.apachecn.org/">AI Learning</a></li>
<li><a href="https://cnbeining.github.io/deep-learning-with-python-cn/1-introduction/ch1-welcome.html">Deep Learning with Python</a></li>
<li><a href="https://zh-v2.d2l.ai/index.html">《动手学深度学习》</a></li>
<li><a href="https://scikit-learn.org.cn/">scikit-learn中文社区</a></li>
</ul>
<h2 id="其他机器学习工具"><a href="#其他机器学习工具" class="headerlink" title="其他机器学习工具"></a>其他机器学习工具</h2><ul>
<li><p><a href="https://www.cs.waikato.ac.nz/ml/weka/">Weka 3 - Data Mining with Open Source Machine Learning Software in Java (waikato.ac.nz)</a></p>
</li>
<li><p><a href="https://ww2.mathworks.cn/solutions/machine-learning.html">使用 MATLAB 进行机器学习 - MATLAB &amp; Simulink (mathworks.cn)</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
      </tags>
  </entry>
  <entry>
    <title>论文复现-机器学习预测甲烷水合物平衡条件</title>
    <url>/MyWiki/wiki/2024/02/26/notes/MachineLearning/PaperReproduction-ML-1/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="论文简介"><a href="#论文简介" class="headerlink" title="论文简介"></a>论文简介</h3><blockquote>
<p><em>Renewable and Sustainable Energy Reviews 173 (2023) 113103</em></p>
</blockquote>
<table>
<thead>
<tr>
<th>题目</th>
<th align="center"><a href="https://doi.org/10.1016/j.rser.2022.113103">A reliable model to predict the methane-hydrate equilibrium: An updated database and machine learning approach</a></th>
</tr>
</thead>
<tbody><tr>
<td>数据</td>
<td align="center"><a href="https://ars.els-cdn.com/content/image/1-s2.0-S1364032122009844-mmc1.xlsx">The database includes 987 data samples for pure water, 15 different single-salt brines, and 6 different multi-salt systems.</a></td>
</tr>
<tr>
<td>模型</td>
<td align="center">Multilayer Perceptron (MLP) ANN, Decision Tree (DT), and Extremely Randomized Trees (ET)</td>
</tr>
<tr>
<td>实现</td>
<td align="center">Sickit-Learn library</td>
</tr>
<tr>
<td>预测目标</td>
<td align="center">平衡温度</td>
</tr>
</tbody></table>
<h3 id="数据库"><a href="#数据库" class="headerlink" title="数据库"></a>数据库</h3><ul>
<li>The gathered database includes <strong>987</strong> data samples for pure water, 15 different single-salt brines, and 6 different multi-salt systems. Covering 15 different salts, it is the largest database gathered on the topic of interest so far.</li>
</ul>
<h4 id="数据检查"><a href="#数据检查" class="headerlink" title="数据检查"></a>数据检查</h4><ul>
<li>errors in the devices or human error in recording：修正</li>
<li>the database was checked for duplicate samples：保留一个，去除重复</li>
</ul>
<h4 id="特征选取"><a href="#特征选取" class="headerlink" title="特征选取"></a>特征选取</h4><ul>
<li><p>Almost all the experimental works in the literature have reported C in %wt. However, it is opted to use <strong>ion’s mole fraction (x)</strong> for the modeling purpose for several reasons.</p>
<ul>
<li>using C, it is not possible to correctly address the multi-salts systems. </li>
<li>using ions concentration, there would be 12 characteristic features for brines, which is lower than the number of different salts, which is 15. Using a fewer number of features not only decreases the processing load but also lowers the overfitting probability.</li>
<li>More importantly, using the ions concentration, it is possible to address the salts not present in the reported experimental data samples.</li>
</ul>
</li>
<li><p>In addition to brine characteristics, <strong>P</strong> will also be used as the operational parameter to predict the equilibrium T for the CH4-hydrate.</p>
</li>
</ul>
<h4 id="数据划分"><a href="#数据划分" class="headerlink" title="数据划分"></a>数据划分</h4><ul>
<li>The gathered database includes <strong>977</strong> data samples after removing the duplicates.</li>
<li>Data splitting in the ratio of <strong>80&#x2F;20</strong> for training&#x2F;testing was considered. <strong>Before splitting, 40 data samples</strong> belonging to MgBr2 were set aside for additional testing.  Although there is no other reference reporting experimental data for this salt, data samples are available containing both Mg⁺⁺ and Br⁻ ions for other salts.</li>
<li>As additional testing, if the developed model provides an acceptable prediction for MgBr2, it would be able to be used for any hypothetical salt the ions of which are available in the database. </li>
<li>The remaining <strong>937</strong> data samples were split into <strong>training and testing subsets</strong> in the <strong>ratio of 80&#x2F;20.</strong> </li>
<li>A 5-fold Cross-Validation (CV) was used to validate the developed models.</li>
</ul>
<h3 id="模型"><a href="#模型" class="headerlink" title="模型"></a>模型</h3><h4 id="MLP多层感知机"><a href="#MLP多层感知机" class="headerlink" title="MLP多层感知机"></a>MLP多层感知机</h4><ul>
<li>MLP是一个black-box模型，拟合过程没有明确显示;</li>
<li>MLP的结构包括一个输入层、一个或多个隐藏层和一个输出层;</li>
<li>输入和输出层的神经元数量对应于输入和输出特征的数量;</li>
<li>隐藏层中的神经元数量是任意的。</li>
</ul>
<h4 id="DT决策树"><a href="#DT决策树" class="headerlink" title="DT决策树"></a>DT决策树</h4><ul>
<li>这种预测工具是非参数模型；</li>
<li>DT通过基于输入变量开发简单的决策规则来工作；</li>
<li>由于DT可以可视化，因此可以将其视为with-box模型;</li>
<li>但是，如果DT太深，它就会失去直观理解和解释的简单性;</li>
</ul>
<h4 id="ET超随机树"><a href="#ET超随机树" class="headerlink" title="ET超随机树"></a>ET超随机树</h4><ul>
<li>ET是一种集成方法，它受益于对几个DT进行平均，以提供更好的结果并最小化过拟合概率；</li>
</ul>
<h4 id="超参数优化"><a href="#超参数优化" class="headerlink" title="超参数优化"></a>超参数优化</h4><ul>
<li>超参数表示模型的外部形状，应该在训练步骤之前确定；</li>
<li>另一方面，在训练阶段确定模型的参数。对于给定的数据集，最佳的超参数集保证了模型的最佳性能。</li>
<li>不用说，就像所有其他操作一样，超参数优化只是使用训练数据集完成的。</li>
</ul>
<h3 id="Model-fitting"><a href="#Model-fitting" class="headerlink" title="Model fitting"></a>Model fitting</h3><ul>
<li>the 5-fold CV RMSE acquired from 20 trials for MLP, DT, and ET models.</li>
<li>The closer error values to each other for different random states, the more stable the model. As each trial uses a different random state, the yielded results are not the same.</li>
</ul>
<h3 id="Accuracy-assessment"><a href="#Accuracy-assessment" class="headerlink" title="Accuracy assessment"></a>Accuracy assessment</h3><ul>
<li><p>Residual ($Res_i$), Coefficient of determination ($R^2$), $RMSE$, Absolute Relative Error ($ARD$), and Average Absolute Relative Error ($AARD$).</p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202402261657051.png" alt="image-20240226165732964"></p>
</li>
</ul>
<h3 id="Github-Project"><a href="#Github-Project" class="headerlink" title="Github Project"></a>Github Project</h3><ul>
<li><a href="https://github.com/eastsheng/PaperReproduction/tree/main/MachineLearning/ML-MH-Salts">ML-MH-Salts</a></li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
        <tag>论文复现</tag>
      </tags>
  </entry>
  <entry>
    <title>机器学习基础-3-深度学习</title>
    <url>/MyWiki/wiki/2023/08/01/notes/MachineLearning/MLPython-3/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="深度学习"><a href="#深度学习" class="headerlink" title="深度学习"></a>深度学习</h2><ul>
<li><code>Tensorflow</code>可以更简洁地实现模型;</li>
<li><code>tensorflow.data</code>模块提供了有关数据处理的工具;</li>
<li><code>tensorflow.keras.layers</code>模块定义了大量神经网络的层;</li>
<li><code>tensorflow.initializers</code>模块定义了各种初始化方法;</li>
<li><code>tensorflow.optimizers</code>模块提供了模型的各种优化算法。</li>
</ul>
<h3 id="读取数据"><a href="#读取数据" class="headerlink" title="读取数据"></a>读取数据</h3><ul>
<li>将训练数据的特征<code>features</code>和标签<code>labels</code>l组合</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">dataset = tf.data.Dataset.from_tensor_slices((features, labels))</span><br></pre></td></tr></table></figure>

<ul>
<li>随机读取小批量</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dataset = dataset.shuffle(buffer_size=num_examples) <span class="comment"># 随机打乱数据集， buffer_size应&gt;=样本数</span></span><br><span class="line">dataset = dataset.batch(batch_size) <span class="comment"># 分成小数据集，尺寸为batch_size</span></span><br><span class="line">data_iter = <span class="built_in">iter</span>(dataset)</span><br><span class="line"><span class="keyword">for</span> X, y <span class="keyword">in</span> data_iter: <span class="comment"># 读取</span></span><br><span class="line">    <span class="built_in">print</span>(X, y)</span><br><span class="line">    <span class="keyword">break</span></span><br></pre></td></tr></table></figure>









<h3 id="数据处理"><a href="#数据处理" class="headerlink" title="数据处理"></a>数据处理</h3><h4 id="缺失值处理"><a href="#缺失值处理" class="headerlink" title="缺失值处理"></a>缺失值处理</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">dataset.isna().<span class="built_in">sum</span>() <span class="comment"># 查看 dataset为dataframe格式</span></span><br><span class="line">dataset = dataset.dropna() <span class="comment"># 删除</span></span><br></pre></td></tr></table></figure>

<h4 id="划分数据集"><a href="#划分数据集" class="headerlink" title="划分数据集"></a>划分数据集</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_dataset = dataset.sample(frac=<span class="number">0.8</span>,random_state=<span class="number">0</span>)</span><br><span class="line">test_dataset = dataset.drop(train_dataset.index)</span><br></pre></td></tr></table></figure>

<h3 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h3><h4 id="自动求梯度"><a href="#自动求梯度" class="headerlink" title="自动求梯度"></a>自动求梯度</h4><ul>
<li><p>使用tensorflow2.0提供的GradientTape来对$y&#x3D;2X^TX$自动求梯度：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = tf.reshape(tf.Variable(<span class="built_in">range</span>(<span class="number">4</span>), dtype=tf.float32),(<span class="number">4</span>,<span class="number">1</span>))</span><br><span class="line"><span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> t:</span><br><span class="line">    t.watch(x) <span class="comment">#对于Variable类型的变量，一般不用加此监控</span></span><br><span class="line">    y = <span class="number">2</span> * tf.matmul(tf.transpose(x), x)</span><br><span class="line"></span><br><span class="line">    dy_dx = t.gradient(y, x)</span><br><span class="line">dy_dx</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="回归"><a href="#回归" class="headerlink" title="回归"></a>回归</h3><ul>
<li><p>线性&#x2F;softmax回归都是一个单层神经网络</p>
</li>
<li><p>softmax是一个非线性函数，但softmax回归是一个<em>线性模型</em>（linear model）</p>
<ul>
<li>线性回归（全连接层）：</li>
</ul>
<p><img src="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/img/chapter03/3.1_linreg.svg" alt="线性回归是一个单层神经网络"></p>
<ul>
<li>softmax回归（全连接层）：</li>
</ul>
<p><img src="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/img/chapter03/3.4_softmaxreg.svg" alt="softmax"></p>
</li>
</ul>
<h3 id="多层感知机（multilayer-perceptron，MLP）"><a href="#多层感知机（multilayer-perceptron，MLP）" class="headerlink" title="多层感知机（multilayer perceptron，MLP）"></a>多层感知机（multilayer perceptron，MLP）</h3><ul>
<li><p>多层感知机就是含有至少一个隐藏层的由全连接层组成的神经网络;</p>
</li>
<li><p>每个隐藏层的输出通过激活函数进行变换;</p>
</li>
<li><p>多层感知机的层数和各隐藏层中隐藏单元个数都是超参数;</p>
</li>
<li><p>多层感知机在单层神经网络的基础上引入了一到多个隐藏层（hidden layer）；</p>
</li>
<li><p>隐藏层位于输入层和输出层之间</p>
</li>
<li><p><img src="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/img/chapter03/3.8_mlp.svg"></p>
<blockquote>
<ul>
<li>含有一个隐藏层，该层中有5个隐藏单元；</li>
<li>由于输入层不涉及计算，图中的多层感知机的层数为2；</li>
<li>多层感知机中的隐藏层和输出层都是全连接层；</li>
<li>将隐藏层的输出直接作为输出层的输入；</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="激活函数"><a href="#激活函数" class="headerlink" title="激活函数"></a>激活函数</h3><h4 id="ReLU函数"><a href="#ReLU函数" class="headerlink" title="ReLU函数"></a>ReLU函数</h4><ul>
<li>ReLU（rectified linear unit）函数提供了一个很简单的非线性变换：$ReLU(x)&#x3D;max(x,0)$，其导数：<ul>
<li><img src="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/img/chapter03/3.8_relu_grad.png"></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tensorflow.nn提供了ReLU函数</span></span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">y = tf.nn.relu(x)</span><br></pre></td></tr></table></figure>

<h4 id="sigmoid函数"><a href="#sigmoid函数" class="headerlink" title="sigmoid函数"></a>sigmoid函数</h4><ul>
<li><p>sigmoid函数可以将元素的值变换到0和1之间：$sigmoid(x)&#x3D;\frac {1} {1+exp(-x)}$</p>
</li>
<li><p>sigmoid函数在早期的神经网络中较为普遍，但它目前逐渐被更简单的ReLU函数取代;</p>
</li>
<li><p>sigmoid函数导数：</p>
<ul>
<li><img src="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/img/chapter03/3.8_sigmoid_grad.png"></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># tensorflow.nn提供了sigmoid函数</span></span><br><span class="line">y = tf.nn.sigmoid(x)</span><br></pre></td></tr></table></figure>

<h4 id="tanh函数"><a href="#tanh函数" class="headerlink" title="tanh函数"></a>tanh函数</h4><ul>
<li>tanh（双曲正切）函数可以将元素的值变换到-1和1之间：$tanh(x)&#x3D;\frac {1-exp(-2x)} {1+exp(-2x)}$;</li>
</ul>
<h3 id="模型定义与初始化"><a href="#模型定义与初始化" class="headerlink" title="模型定义与初始化"></a>模型定义与初始化</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> keras</span><br><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> layers</span><br><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> initializers <span class="keyword">as</span> init</span><br><span class="line"><span class="comment"># 使用Keras定义网络，先定义一个模型变量model（Sequential实例），Sequential实例可以看作是一个串联各个层的容器</span></span><br><span class="line">model = keras.Sequential() </span><br><span class="line"><span class="comment"># 在该容器中依次添加层，这里添加一层，代表线性回归；init随机初始化权重，偏差参数默认为0，标准差为0.01</span></span><br><span class="line">model.add(layers.Dense(<span class="number">1</span>, kernel_initializer=init.RandomNormal(stddev=<span class="number">0.01</span>)))</span><br></pre></td></tr></table></figure>



<h3 id="损失函数"><a href="#损失函数" class="headerlink" title="损失函数"></a>损失函数</h3><ul>
<li><p>将衡量误差的函数称为损失函数（loss function）；</p>
</li>
<li><p>在模型训练中，需要衡量预测值与真实值之间的误差；</p>
</li>
<li><p>通常会选取一个非负数作为误差，且数值越小表示误差越小；</p>
</li>
<li><p>$l(\mathbf{y}, \hat{\mathbf{y}}) &#x3D; - \sum_{j&#x3D;1}^q y_j \log \hat{y}_j$</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line">loss = tf.keras.losses.MeanSquaredError()</span><br></pre></td></tr></table></figure>

<ul>
<li>或者</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow <span class="keyword">import</span> losses</span><br><span class="line">loss = losses.MeanSquaredError()</span><br></pre></td></tr></table></figure>



<h3 id="优化算法"><a href="#优化算法" class="headerlink" title="优化算法"></a>优化算法</h3><ul>
<li>当模型和损失函数形式较为简单时，误差最小化问题的解可以直接用公式表达出来，这类解叫作解析解（analytical solution）；</li>
<li>大多数深度学习模型并没有解析解，只能通过优化算法有限次迭代模型参数来尽可能降低损失函数的值，这类解叫作数值解（numerical solution）;</li>
<li>无须自己实现小批量随机梯度下降算法;</li>
<li><code>tensorflow.keras.optimizers</code> 模块提供了很多常用的优化算法比如<code>SGD</code>、<code>Adam</code>和<code>RMSProp</code>等</li>
</ul>
<h4 id="小批量随机梯度下降"><a href="#小批量随机梯度下降" class="headerlink" title="小批量随机梯度下降"></a>小批量随机梯度下降</h4><ul>
<li>小批量随机梯度下降（mini-batch stochastic gradient descent，MSGD）在深度学习中被广泛使用。</li>
</ul>
<pre class="mermaid">graph TB;
    A[随机选取模型参数初始值]-->B[多次迭代降低损失函数的值];
    B-->C[随机均匀采样一个由固定数目训练数据样本所组成的小批量];
    C-->B;
    C-->D[然后求小批量中数据样本的平均损失有关模型参数的梯度]
    D-->E[用此结果与预先设定的一个正数的乘积作为模型参数在本次迭代的减小量]</pre>

<ul>
<li>代码实现：</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> tensorflow.keras <span class="keyword">import</span> optimizers</span><br><span class="line">trainer = optimizers.SGD(learning_rate=<span class="number">0.03</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>批量大小和学习率的值是人为设定的，并不是通过模型训练学出的，因此叫作超参数（hyperparameter）；</li>
<li>通常所说的“调参”指的正是调节超参数，通过反复试错来找到超参数合适的值；</li>
<li>在少数情况下，超参数也可以通过模型训练学出。</li>
</ul>
<h3 id="误差"><a href="#误差" class="headerlink" title="误差"></a>误差</h3><ul>
<li><p><strong>训练误差（training error）</strong>：模型在训练数据集上表现出的误差；</p>
</li>
<li><p><strong>泛化误差（generalization error）</strong>：模型在任意一个测试数据样本上表现出的误差的期望，并常常通过测试数据集上的误差来近似；</p>
<blockquote>
<ul>
<li><p>使用损失函数（如平方损失函数、交叉熵损失函数）可以计算训练误差和泛化误差；</p>
</li>
<li><p>由于无法从训练误差估计泛化误差，因此一味地降低训练误差并不意味着泛化误差一定会降低；</p>
</li>
<li><p>机器学习模型应关注降低泛化误差。</p>
</li>
</ul>
</blockquote>
</li>
</ul>
<h3 id="K折交叉验证"><a href="#K折交叉验证" class="headerlink" title="K折交叉验证"></a>K折交叉验证</h3><ul>
<li><ol>
<li>把原始训练数据集分割成<code>K</code>个不重合的子数据集；</li>
</ol>
</li>
<li><ol start="2">
<li>做<code>K</code>次模型训练和验证；</li>
</ol>
</li>
<li><ol start="3">
<li>每次使用一个子数据集验证模型，并使用其他<code>K−1</code>个子数据集来训练模型；</li>
</ol>
</li>
<li><ol start="4">
<li>在这<code>K</code>次训练和验证中，每次用来验证模型的子数据集都不同；</li>
</ol>
</li>
<li><ol start="5">
<li>最后，对这K次训练误差和验证误差分别求平均。</li>
</ol>
</li>
</ul>
<h3 id="欠拟合和过拟合"><a href="#欠拟合和过拟合" class="headerlink" title="欠拟合和过拟合"></a>欠拟合和过拟合</h3><ul>
<li><p><strong>欠拟合（underfitting）</strong>：模型无法得到较低的训练误差；</p>
</li>
<li><p><strong>过拟合（overfitting）</strong>：模型的训练误差远小于它在测试数据集上的误差；</p>
</li>
</ul>
<blockquote>
<ul>
<li>尽可能同时应对欠拟合和过拟合</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>两个主要因素：模型复杂度和训练数据集大小</li>
</ul>
</blockquote>
<h4 id="模型复杂度"><a href="#模型复杂度" class="headerlink" title="模型复杂度"></a>模型复杂度</h4><ul>
<li><p>模型复杂度与误差的关系，以及其对欠拟合和过拟合的影响：</p>
<p><img src="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/img/chapter03/3.11_capacity_vs_error.svg"></p>
</li>
<li><p>给定训练数据集，如果模型的复杂度过低，很容易出现欠拟合；</p>
</li>
<li><p>如果模型复杂度过高，很容易出现过拟合。</p>
</li>
<li><p>应对欠拟合和过拟合的一个办法是针对数据集选择合适复杂度的模型。</p>
</li>
</ul>
<h4 id="训练数据集大小"><a href="#训练数据集大小" class="headerlink" title="训练数据集大小"></a>训练数据集大小</h4><ul>
<li>一般来说，如果训练数据集中样本数过少，特别是比模型参数数量（按元素计）更少时，过拟合更容易发生。</li>
</ul>
<h3 id="读取和存储"><a href="#读取和存储" class="headerlink" title="读取和存储"></a>读取和存储</h3><ul>
<li>在实际中，我们有时需要把训练好的模型部署到很多不同的设备</li>
<li>这种情况下，我们可以把内存中训练好的模型参数存储在硬盘上供后续读取使用</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 可以直接使用save函数和load函数分别存储和读取</span></span><br><span class="line">x = tf.ones(<span class="number">3</span>)</span><br><span class="line">np.save(<span class="string">&#x27;../data/x.npy&#x27;</span>, x)</span><br><span class="line">x2 = np.load(<span class="string">&#x27;../data/x.npy&#x27;</span>)</span><br><span class="line">x2</span><br><span class="line"><span class="comment"># 还可以存储一列tensor并读回内存</span></span><br><span class="line">y = tf.zeros(<span class="number">3</span>)</span><br><span class="line">np.save(<span class="string">&#x27;../data/xy.npy&#x27;</span>,[x,y])</span><br><span class="line">x2, y2 = np.load(<span class="string">&#x27;../data/xy.npy&#x27;</span>, allow_pickle=<span class="literal">True</span>)</span><br><span class="line">(x2, y2)</span><br><span class="line"><span class="comment"># 甚至可以存储并读取一个从字符串映射到tensor的字典</span></span><br><span class="line">mydict = &#123;<span class="string">&#x27;x&#x27;</span>: x, <span class="string">&#x27;y&#x27;</span>: y&#125;</span><br><span class="line">np.save(<span class="string">&#x27;../data/mydict.npy&#x27;</span>, mydict)</span><br><span class="line">mydict2 = np.load(<span class="string">&#x27;../data/mydict.npy&#x27;</span>, allow_pickle=<span class="literal">True</span>)</span><br><span class="line">mydict2</span><br><span class="line"></span><br><span class="line"><span class="comment"># 还可以读写模型的参数</span></span><br><span class="line">X = tf.random.normal((<span class="number">2</span>,<span class="number">20</span>))</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MLP</span>(tf.keras.Model):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__()</span><br><span class="line">        self.flatten = tf.keras.layers.Flatten()    <span class="comment"># Flatten层将除第一维（batch_size）以外的维度展平</span></span><br><span class="line">        self.dense1 = tf.keras.layers.Dense(units=<span class="number">256</span>, activation=tf.nn.relu)</span><br><span class="line">        self.dense2 = tf.keras.layers.Dense(units=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">call</span>(<span class="params">self, inputs</span>):         </span><br><span class="line">        x = self.flatten(inputs)   </span><br><span class="line">        x = self.dense1(x)    </span><br><span class="line">        output = self.dense2(x)     </span><br><span class="line">        <span class="keyword">return</span> output</span><br><span class="line"></span><br><span class="line">net = MLP()</span><br><span class="line">Y = net(X)</span><br><span class="line">Y</span><br><span class="line"><span class="comment"># 把该模型的参数存成文件</span></span><br><span class="line">net.save_weights(<span class="string">&quot;../data/4.5saved_model.h5&quot;</span>)</span><br><span class="line"><span class="comment"># 再实例化一次定义好的多层感知机</span></span><br><span class="line"><span class="comment"># 直接读取保存在文件里的参数</span></span><br><span class="line">net2 = MLP()</span><br><span class="line">net2(X)</span><br><span class="line">net2.load_weights(<span class="string">&quot;../data/4.5saved_model.h5&quot;</span>)</span><br><span class="line">Y2 = net2(X)</span><br><span class="line">Y2 == Y</span><br></pre></td></tr></table></figure>



<h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><ul>
<li><a href="https://github.com/Mikoto10032/DeepLearning">Deep Learning</a></li>
<li><a href="https://cnbeining.github.io/deep-learning-with-python-cn/1-introduction/ch1-welcome.html">Deep Learning with Python</a></li>
<li><a href="https://zh-v2.d2l.ai/index.html">《动手学深度学习》</a></li>
<li><a href="https://trickygo.github.io/Dive-into-DL-TensorFlow2.0/">《动手学深度学习》Tensorflow2实现</a></li>
<li><strong><a href="https://github.com/MachineLP/Tensorflow-">Tensorflow-</a></strong></li>
<li><strong><a href="https://github.com/Azure-Sky-L/TensorFlow-MNIST-">TensorFlow-MNIST-</a></strong></li>
<li><a href="https://github.com/dragen1860/Deep-Learning-with-TensorFlow-book">Deep-Learning-with-TensorFlow-book</a>:2.0</li>
<li><a href="https://github.com/czy36mengfei/tensorflow2_tutorials_chinese">tensorflow2中文教程</a></li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
      </tags>
  </entry>
  <entry>
    <title>Python Anaconda</title>
    <url>/MyWiki/wiki/2022/03/14/codes/python/Anaconda/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Conda"><a href="#Conda" class="headerlink" title="Conda"></a>Conda</h2><h3 id="Linux-Anconda安装"><a href="#Linux-Anconda安装" class="headerlink" title="Linux Anconda安装"></a>Linux Anconda安装</h3><ul>
<li><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">Anaconda官网下载</a>或使用<code>wget</code>下显</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> /Anaconda;</span><br><span class="line"><span class="built_in">cd</span> /Anaconda;</span><br><span class="line">wget https://repo.continuum.io/archive/Anaconda3-5.3.1-Linux-x86_64.sh</span><br><span class="line">bash Anaconda3-5.3.1-Linux-x86_64.sh <span class="comment">#安装</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>记得在安装的时候可以修改安装路径：</strong></p>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Python/conda_1.png"></p>
</li>
<li><p><strong>自动添加环境变量yes</strong></p>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Python/conda_2.png"></p>
</li>
<li><p><strong>是否安装VScode? no</strong></p>
</li>
<li><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Python/conda_3.png"></p>
</li>
<li><p>检查安装是否成功</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda --version</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Linux-Anconda-卸载"><a href="#Linux-Anconda-卸载" class="headerlink" title="Linux Anconda 卸载"></a>Linux Anconda 卸载</h3><ul>
<li><p>直接删除文件夹名</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">rm</span> -rf anaconda3</span><br></pre></td></tr></table></figure>
<blockquote>
<p>清理环境变量</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim ~/.bashrc<span class="comment">#打开后删除anaconda的环境变量</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>或者使用命令</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span>  /usr/local/cuda/bin</span><br><span class="line">sudo ./uninstall_cuda_x.x.pl </span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">sudo ./cuda-uninstaller</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Anconda-常用命令"><a href="#Anconda-常用命令" class="headerlink" title="Anconda 常用命令"></a>Anconda 常用命令</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda activate <span class="comment">#启动</span></span><br><span class="line">conda deactivate <span class="comment">#关闭</span></span><br><span class="line"><span class="comment">#创建python=3.7版本的环境，取名叫py37</span></span><br><span class="line">conda create -n py37 python=3.7 </span><br><span class="line"><span class="comment">#删除python3.7环境</span></span><br><span class="line">conda remove -n py37 --all</span><br><span class="line"><span class="comment">#激活py37环境</span></span><br><span class="line">conda activate py37</span><br><span class="line"><span class="comment">#退出环境</span></span><br><span class="line">conda deactivate</span><br><span class="line"><span class="comment">#查看已经安装的python环境</span></span><br><span class="line">conda info --envs</span><br></pre></td></tr></table></figure>

<h3 id="取消-x2F-开启，默认启动base环境"><a href="#取消-x2F-开启，默认启动base环境" class="headerlink" title="取消&#x2F;开启，默认启动base环境"></a>取消&#x2F;开启，默认启动base环境</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">false</span> <span class="comment">#取消</span></span><br><span class="line">conda config --<span class="built_in">set</span> auto_activate_base <span class="literal">true</span>  <span class="comment">#开启</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Anaconda</tag>
      </tags>
  </entry>
  <entry>
    <title>Python Tutorials收藏</title>
    <url>/MyWiki/wiki/2021/07/03/codes/python/Tutorials/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><table>
<thead>
<tr>
<th>名称</th>
<th>链接</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://realpython.com/">Real Python Tutorials</a></td>
<td><a href="https://realpython.com/">https://realpython.com/</a></td>
</tr>
<tr>
<td><a href="https://eastlakeside.gitbook.io/interpy-zh/#yuan-shu-zuo-zhe">Python进阶</a></td>
<td><a href="https://eastlakeside.gitbook.io/interpy-zh/#yuan-shu-zuo-zhe">https://eastlakeside.gitbook.io/interpy-zh/#yuan-shu-zuo-zhe</a></td>
</tr>
<tr>
<td><a href="https://www.mfitzp.com/pyqt-examples/">PyQt Example applications</a></td>
<td><a href="https://www.mfitzp.com/pyqt-examples/">https://www.mfitzp.com/pyqt-examples/</a></td>
</tr>
<tr>
<td><a href="https://www.learnpyqt.com/examples/">PyQt5</a></td>
<td><a href="https://www.mfitzp.com/pyqt-examples/">https://www.mfitzp.com/pyqt-examples/</a></td>
</tr>
<tr>
<td><a href="https://mofanpy.com/">莫烦python</a></td>
<td><a href="https://mofanpy.com/">https://mofanpy.com/</a></td>
</tr>
<tr>
<td><a href="https://www.python.org/">Python官网</a>,<a href="https://www.python.org/ftp/python/">下载</a></td>
<td><a href="https://www.python.org/">https://www.python.org/</a></td>
</tr>
<tr>
<td><a href="https://wizardforcel.gitbooks.io/matplotlib-intro-tut/content/">《Python 数据科学入门教程》</a></td>
<td><a href="https://wizardforcel.gitbooks.io/matplotlib-intro-tut/content/">https://wizardforcel.gitbooks.io/matplotlib-intro-tut/content/</a></td>
</tr>
<tr>
<td><a href="http://www.pythondoc.com/">Python中文学习大本营</a></td>
<td><a href="http://www.pythondoc.com/">http://www.pythondoc.com/</a></td>
</tr>
<tr>
<td><a href="https://learnpythonthehardway.org/">Learn python the hard way</a></td>
<td><a href="https://learnpythonthehardway.org/">https://learnpythonthehardway.org/</a></td>
</tr>
<tr>
<td><a href="http://python.itcarlow.ie/resources.html">Learn Python 3 with Head First - Resources</a></td>
<td><a href="http://python.itcarlow.ie/resources.html">http://python.itcarlow.ie/resources.html</a></td>
</tr>
<tr>
<td><a href="https://www.programcreek.com/python/">Python code example</a></td>
<td><a href="https://www.programcreek.com/python/">https://www.programcreek.com/python/</a></td>
</tr>
<tr>
<td><a href="http://code.py40.com/">Python在线学习</a></td>
<td><a href="http://code.py40.com/">http://code.py40.com/</a></td>
</tr>
<tr>
<td><a href="https://www.pythonheidong.com/">Python黑洞网</a></td>
<td><a href="https://www.pythonheidong.com/">https://www.pythonheidong.com/</a></td>
</tr>
<tr>
<td><a href="https://www.cnpython.com/">Python中文网</a></td>
<td><a href="https://www.cnpython.com/">https://www.cnpython.com/</a></td>
</tr>
<tr>
<td><a href="http://liao.cpython.org/">Python学习园</a></td>
<td><a href="http://liao.cpython.org/">http://liao.cpython.org/</a></td>
</tr>
<tr>
<td><a href="https://www.numpy.org.cn/">NumPy 中文</a></td>
<td><a href="https://www.numpy.org.cn/">https://www.numpy.org.cn/</a></td>
</tr>
<tr>
<td><a href="https://www.pypandas.cn/">Pandas 中文</a></td>
<td><a href="https://www.pypandas.cn/">https://www.pypandas.cn/</a></td>
</tr>
<tr>
<td><a href="https://www.matplotlib.org.cn/">Matplotlib 中文</a></td>
<td><a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></td>
</tr>
<tr>
<td><a href="https://wizardforcel.gitbooks.io/matplotlib-user-guide/content/">Matplotlib 用户指南</a></td>
<td><a href="https://wizardforcel.gitbooks.io/matplotlib-user-guide/content/">https://wizardforcel.gitbooks.io/matplotlib-user-guide/content/</a></td>
</tr>
<tr>
<td><a href="https://blog.chembiosim.com/Matplotlib-basics/">Matplotlib 绘图基础</a></td>
<td><a href="https://blog.chembiosim.com/Matplotlib-basics/">https://blog.chembiosim.com/Matplotlib-basics/</a></td>
</tr>
<tr>
<td><a href="http://djangobook.py3k.cn/2.0/">The Django Book</a></td>
<td><a href="http://djangobook.py3k.cn/2.0/">http://djangobook.py3k.cn/2.0/</a></td>
</tr>
<tr>
<td><a href="http://www.ipaomi.com/">包含：python、Kivy、深度学习等</a></td>
<td><a href="http://www.ipaomi.com/">http://www.ipaomi.com/</a></td>
</tr>
<tr>
<td><a href="https://kivy.org/#home">kivy官网</a></td>
<td><a href="https://kivy.org/#home">https://kivy.org/#home</a></td>
</tr>
<tr>
<td><a href="https://docs.djangoproject.com/en/3.2/">Django documentation</a></td>
<td><a href="https://docs.djangoproject.com/en/3.2/">https://docs.djangoproject.com/en/3.2/</a></td>
</tr>
<tr>
<td><a href="https://www.delftstack.com/zh/">DelftStack</a></td>
<td><a href="https://www.delftstack.com/zh/">https://www.delftstack.com/zh/</a></td>
</tr>
</tbody></table>
<h3 id="GUI教程"><a href="#GUI教程" class="headerlink" title="GUI教程"></a>GUI教程</h3><table>
<thead>
<tr>
<th>名称</th>
<th>链接</th>
</tr>
</thead>
<tbody><tr>
<td>Python GUI编程(Tkinter)</td>
<td><a href="https://www.runoob.com/python/python-gui-tkinter.html">https://www.runoob.com/python/python-gui-tkinter.html</a></td>
</tr>
<tr>
<td>廖雪峰-图形界面</td>
<td><a href="https://www.liaoxuefeng.com/wiki/1016959663602400/1017786914566560">https://www.liaoxuefeng.com/wiki/1016959663602400/1017786914566560</a></td>
</tr>
<tr>
<td>Python GUI设计 tkinter菜鸟编程</td>
<td><a href="https://blog.csdn.net/m0_46653437/category_10441177.html">https://blog.csdn.net/m0_46653437/category_10441177.html</a></td>
</tr>
</tbody></table>
<h3 id="第三库"><a href="#第三库" class="headerlink" title="第三库"></a>第三库</h3><table>
<thead>
<tr>
<th>名称</th>
<th>链接</th>
</tr>
</thead>
<tbody><tr>
<td>Pillow（最流行的 Python 图像处理库）</td>
<td><a href="https://python-pillow.org/">https://python-pillow.org/</a></td>
</tr>
<tr>
<td>制作简单 GUI 程序的 Python 库</td>
<td><a href="https://github.com/alfiopuglisi/guietta">https://github.com/alfiopuglisi/guietta</a></td>
</tr>
<tr>
<td>基于 G2Plot 封装的 Python3 可视化库</td>
<td><a href="https://github.com/hustcc/PyG2Plot">https://github.com/hustcc/PyG2Plot</a></td>
</tr>
<tr>
<td>数据科学方面的 Python 开源库</td>
<td><a href="https://github.com/lux-org/lux">https://github.com/lux-org/lux</a></td>
</tr>
</tbody></table>
<h3 id="资源"><a href="#资源" class="headerlink" title="资源"></a>资源</h3><p><a href="https://github.com/xflywind/Python-Application">Python 的简易小程序</a></p>
<h3 id="How-to-Install-Anaconda-on-Ubuntu-18-04-and-20-04"><a href="#How-to-Install-Anaconda-on-Ubuntu-18-04-and-20-04" class="headerlink" title="How to Install Anaconda on Ubuntu 18.04 and 20.04"></a>How to Install Anaconda on Ubuntu 18.04 and 20.04</h3><blockquote>
<ul>
<li><a href="https://phoenixnap.com/kb/how-to-install-anaconda-ubuntu-18-04-or-20-04#ftoc-heading-2">https://phoenixnap.com/kb/how-to-install-anaconda-ubuntu-18-04-or-20-04#ftoc-heading-2</a></li>
<li><a href="https://blog.csdn.net/haeasringnar/article/details/82079943">https://blog.csdn.net/haeasringnar/article/details/82079943</a></li>
<li>Anaconda创建环境、删除环境、激活环境、退出环境</li>
<li><a href="https://blog.csdn.net/H_O_W_E/article/details/77370456">https://blog.csdn.net/H_O_W_E/article/details/77370456</a></li>
</ul>
</blockquote>
<h3 id="Windows配置pypy环境"><a href="#Windows配置pypy环境" class="headerlink" title="Windows配置pypy环境"></a>Windows配置pypy环境</h3><blockquote>
<ul>
<li><a href="https://www.pypy.org/download.html">下载对应版本pypy</a>；</li>
<li>直接解压，并配置环境变量；</li>
<li>安装pypy pip,下载<a href="https://bootstrap.pypa.io/get-pip.py">get-pip.py</a>,并放到刚刚解压的pypy文件夹里;</li>
<li>cmd进入文件夹并输入以下命令安装pip：</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pypy3 get-pip.py</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>将刚生成的<code>..\Scripts</code>文件夹也添加环境变量</li>
<li>然后就可输入<code>pypy3 -m pip install numpy</code>安装库</li>
<li><a href="https://blog.csdn.net/weixin_39121325/article/details/88655370">https://blog.csdn.net/weixin_39121325/article/details/88655370</a></li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Tutorials</tag>
      </tags>
  </entry>
  <entry>
    <title>Python命令行解析模块：argparse</title>
    <url>/MyWiki/wiki/2022/09/18/codes/python/argparse_skills/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h3><ul>
<li>位置参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">&quot;square&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;display a square of a given number&quot;</span>,</span><br><span class="line">                    <span class="built_in">type</span>=<span class="built_in">int</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"><span class="built_in">print</span>(args.square**<span class="number">2</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>可选参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">&quot;--verbosity&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;increase output verbosity&quot;</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"><span class="keyword">if</span> args.verbosity:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;verbosity turned on&quot;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>短选项</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line">parser = argparse.ArgumentParser()</span><br><span class="line">parser.add_argument(<span class="string">&quot;-v&quot;</span>, <span class="string">&quot;--verbose&quot;</span>, <span class="built_in">help</span>=<span class="string">&quot;increase output verbosity&quot;</span>,</span><br><span class="line">                    action=<span class="string">&quot;store_true&quot;</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"><span class="keyword">if</span> args.verbose:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;verbosity turned on&quot;</span>)</span><br></pre></td></tr></table></figure>



<h3 id="传入多个参数"><a href="#传入多个参数" class="headerlink" title="传入多个参数"></a>传入多个参数</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&#x27;命令行中传入一个数字&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;integers&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, nargs=<span class="string">&#x27;+&#x27;</span>,<span class="built_in">help</span>=<span class="string">&#x27;传入的数字&#x27;</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(args.integers)</span><br></pre></td></tr></table></figure>

<blockquote>
<p>nargs&#x3D;’*’ ：表示参数可设置零个或多个<br>nargs&#x3D;’+’ ：表示参数可设置一个或多个<br>nargs&#x3D;’?’：表示参数可设置零个或一个</p>
</blockquote>
<h4 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&#x27;姓名&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--family&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, default=<span class="string">&#x27;张&#x27;</span>,<span class="built_in">help</span>=<span class="string">&#x27;姓&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--name&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, default=<span class="string">&#x27;三&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;名&#x27;</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"></span><br><span class="line"><span class="comment">#打印姓名</span></span><br><span class="line"><span class="built_in">print</span>(args.family+args.name)</span><br></pre></td></tr></table></figure>



<h4 id="必需参数"><a href="#必需参数" class="headerlink" title="必需参数"></a>必需参数</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"></span><br><span class="line">parser = argparse.ArgumentParser(description=<span class="string">&#x27;姓名&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--family&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, <span class="built_in">help</span>=<span class="string">&#x27;姓&#x27;</span>)</span><br><span class="line">parser.add_argument(<span class="string">&#x27;--name&#x27;</span>, <span class="built_in">type</span>=<span class="built_in">str</span>, required=<span class="literal">True</span>, default=<span class="string">&#x27;&#x27;</span>, <span class="built_in">help</span>=<span class="string">&#x27;名&#x27;</span>)</span><br><span class="line">args = parser.parse_args()</span><br><span class="line"></span><br><span class="line"><span class="comment">#打印姓名</span></span><br><span class="line"><span class="built_in">print</span>(args.family+args.name)</span><br></pre></td></tr></table></figure>



<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>[1] <a href="https://docs.python.org/zh-cn/3/howto/argparse.html">argparse 教程</a></p>
<p>[2] <a href="https://zhuanlan.zhihu.com/p/56922793">argparse模块用法实例详解</a></p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>argparse</tag>
      </tags>
  </entry>
  <entry>
    <title>Matplotlib基本-1</title>
    <url>/MyWiki/wiki/2021/01/22/codes/python/matplotlib_1/</url>
    <content><![CDATA[<p>[toc]</p>
<p><a href="https://www.matplotlib.org.cn/">Matplotlib 中文</a></p>
<h3 id="调整ylabel位置-labelpad"><a href="#调整ylabel位置-labelpad" class="headerlink" title="调整ylabel位置: labelpad"></a>调整ylabel位置: labelpad</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.set_ylabel(<span class="string">&quot;Interaction energy (kcal/mol)&quot;</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>,size=<span class="number">28</span>,labelpad=<span class="number">20</span>)</span><br></pre></td></tr></table></figure>

<h3 id="修改边框宽度"><a href="#修改边框宽度" class="headerlink" title="修改边框宽度"></a>修改边框宽度</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bwith = <span class="number">1.2</span></span><br><span class="line">ax0.spines[<span class="string">&#x27;bottom&#x27;</span>].set_linewidth(bwith)</span><br><span class="line">ax0.spines[<span class="string">&#x27;left&#x27;</span>].set_linewidth(bwith)</span><br><span class="line">ax0.spines[<span class="string">&#x27;top&#x27;</span>].set_linewidth(bwith)</span><br><span class="line">ax0.spines[<span class="string">&#x27;right&#x27;</span>].set_linewidth(bwith)</span><br></pre></td></tr></table></figure>

<h3 id="刻度朝内"><a href="#刻度朝内" class="headerlink" title="刻度朝内"></a>刻度朝内</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 此带代码应放在plt.plot()之前，才能生效</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;xtick.direction&#x27;</span>] = <span class="string">&#x27;in&#x27;</span><span class="comment">#将x周的刻度线方向设置向内</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;ytick.direction&#x27;</span>] = <span class="string">&#x27;in&#x27;</span><span class="comment">#将y轴的刻度方向设置向内</span></span><br></pre></td></tr></table></figure>


<h3 id="画自定义颜色曲线"><a href="#画自定义颜色曲线" class="headerlink" title="画自定义颜色曲线"></a>画自定义颜色曲线</h3><img src="https://s1.ax1x.com/2020/08/27/dhFFdU.png" alt="Figure" border="0" />


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.collections <span class="keyword">import</span> LineCollection</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">2</span>*np.pi, <span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line">z = np.cos(x)<span class="comment">#上色数据</span></span><br><span class="line"></span><br><span class="line">points = np.array([x, y]).T.reshape(-<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">segments = np.concatenate([points[:-<span class="number">1</span>], points[<span class="number">1</span>:]], axis=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">5</span>,<span class="number">3</span>))</span><br><span class="line">fig.subplots_adjust(bottom=<span class="number">0.1</span>,left=<span class="number">0.2</span>)<span class="comment">##调整边界</span></span><br><span class="line"></span><br><span class="line">norm = plt.Normalize(<span class="built_in">min</span>(z),<span class="built_in">max</span>(z))</span><br><span class="line">lc = LineCollection(segments,cmap=<span class="string">&#x27;jet&#x27;</span>,norm=norm)</span><br><span class="line">lc.set_array(z)</span><br><span class="line">lc.set_linewidth(<span class="number">2</span>)</span><br><span class="line">line = ax.add_collection(lc)</span><br><span class="line">fig.colorbar(line)</span><br><span class="line"></span><br><span class="line">plt.xlim(<span class="number">0</span>,<span class="number">2</span>*np.pi)</span><br><span class="line">plt.ylim(-<span class="number">1</span>,<span class="number">1</span>)</span><br><span class="line">plt.savefig(<span class="string">&#x27;fig1.png&#x27;</span>)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>如果想要画很多曲线的上色，其实只要一个循环就可以了，这里不赘述。</li>
<li>参考 [1] <a href="https://www.matplotlib.org.cn/">https://www.matplotlib.org.cn/</a></li>
</ul>
<h3 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/plot_bar.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">X = np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">Y = np.ones(X.size)</span><br><span class="line">plt.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Times New Roman&#x27;</span>,size=<span class="number">26</span>)</span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line">fig.subplots_adjust(bottom=<span class="number">0.2</span>,left=<span class="number">0.2</span>)</span><br><span class="line">ax.bar(X,Y,<span class="number">0.05</span>,hatch=<span class="string">&#x27;\\\\&#x27;</span>,color=<span class="string">&#x27;white&#x27;</span>,edgecolor=<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;Eigenvector Amplitude&#x27;</span>,fontsize=<span class="number">26</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Count&#x27;</span>,fontsize=<span class="number">26</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="直方截断图"><a href="#直方截断图" class="headerlink" title="直方截断图"></a>直方截断图</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/plot_broken.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"><span class="keyword">from</span> brokenaxes <span class="keyword">import</span> brokenaxes</span><br><span class="line"></span><br><span class="line">X = np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">Y = np.ones(X.size)</span><br><span class="line">plt.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Times New Roman&#x27;</span>,size=<span class="number">26</span>)</span><br><span class="line"><span class="comment"># fig = plt.subplots(figsize=(10, 4))</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>,<span class="number">4</span>))</span><br><span class="line">ax = brokenaxes(ylims=((<span class="number">0</span>,<span class="number">0.5</span>),(<span class="number">0.6</span>,<span class="number">1</span>)),hspace=<span class="number">0.06</span>,despine=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># fig.subplots_adjust(bottom=0.2,left=0.2)</span></span><br><span class="line">ax.bar(X,Y,<span class="number">0.05</span>,hatch=<span class="string">&#x27;\\\\&#x27;</span>,color=<span class="string">&#x27;white&#x27;</span>,edgecolor=<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line"><span class="comment"># ax.set_xlabel(&#x27;Eigenvector Amplitude&#x27;,fontsize=26,fontweight=&#x27;bold&#x27;)</span></span><br><span class="line"><span class="comment"># ax.set_ylabel(&#x27;Count&#x27;,fontsize=26,fontweight=&#x27;bold&#x27;)</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="直方Log图"><a href="#直方Log图" class="headerlink" title="直方Log图"></a>直方Log图</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/plot_log.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"><span class="keyword">from</span> brokenaxes <span class="keyword">import</span> brokenaxes</span><br><span class="line"></span><br><span class="line">X = np.linspace(<span class="number">0</span>,<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">Y = np.ones(X.size)</span><br><span class="line">plt.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Times New Roman&#x27;</span>,size=<span class="number">26</span>)</span><br><span class="line">fig, ax= plt.subplots(figsize=(<span class="number">10</span>, <span class="number">4</span>))</span><br><span class="line"><span class="comment"># fig = plt.figure(figsize=(10,4))</span></span><br><span class="line"><span class="comment"># ax = brokenaxes(ylims=((0,0.5),(0.6,1)),hspace=0.06,despine=False)</span></span><br><span class="line">fig.subplots_adjust(bottom=<span class="number">0.2</span>,left=<span class="number">0.2</span>)</span><br><span class="line">ax.bar(X,Y,<span class="number">0.05</span>,hatch=<span class="string">&#x27;\\\\&#x27;</span>,color=<span class="string">&#x27;white&#x27;</span>,edgecolor=<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&#x27;Eigenvector Amplitude&#x27;</span>,fontsize=<span class="number">26</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&#x27;Count&#x27;</span>,fontsize=<span class="number">26</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;x、y坐标log&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="comment"># ax.set_xscale(&quot;log&quot;)</span></span><br><span class="line">ax.set_yscale(<span class="string">&quot;log&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="点线图（Error-Bar）"><a href="#点线图（Error-Bar）" class="headerlink" title="点线图（Error Bar）"></a>点线图（Error Bar）</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/plot_Error_bar.png"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plt_tc</span>(<span class="params">tcfile</span>):</span><br><span class="line">	tc = np.loadtxt(tcfile)</span><br><span class="line">	<span class="comment"># print(tc)</span></span><br><span class="line">	x = tc[:,<span class="number">0</span>]/<span class="number">32.06</span></span><br><span class="line">	y = tc[:,<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">	y_mean = np.mean(y,axis=<span class="number">1</span>)</span><br><span class="line">	y_std = np.std(y,axis=<span class="number">1</span>)</span><br><span class="line">	<span class="comment"># print(y_mean,y_std)</span></span><br><span class="line">	plt.rc(<span class="string">&#x27;font&#x27;</span>,family=<span class="string">&#x27;Times New Roman&#x27;</span>,size=<span class="number">26</span>)</span><br><span class="line">	fig, ax = plt.subplots(figsize=(<span class="number">8</span>,<span class="number">6</span>))</span><br><span class="line">	fig.subplots_adjust(bottom=<span class="number">0.2</span>,left=<span class="number">0.2</span>)</span><br><span class="line">	s1 = ax.errorbar(x,y_mean,yerr=y_std,capsize=<span class="number">10</span>,capthick=<span class="number">4</span>,</span><br><span class="line">		fmt=<span class="string">&#x27;bo:&#x27;</span>,mfc=<span class="string">&#x27;w&#x27;</span>,mec=<span class="string">&#x27;b&#x27;</span>,markersize=<span class="number">16</span>,mew=<span class="number">2</span>)</span><br><span class="line">	ax.legend(handles=[s1],labels=[<span class="string">&#x27;$\mathregular&#123;MoS_2&#125;$/$\mathregular&#123;MoSe^&#123;78&#125;&#125;_\mathregular&#123;2&#125;$&#x27;</span>]</span><br><span class="line">		,loc=<span class="string">&#x27;best&#x27;</span>, fontsize=<span class="number">26</span>)</span><br><span class="line">	ax.set_xlabel(<span class="string">&#x27;Mass ratio (R)&#x27;</span>,fontsize=<span class="number">26</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">	ax.set_ylabel(<span class="string">&#x27;Thermal conductivity (W/m-K)&#x27;</span>,fontsize=<span class="number">26</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>)</span><br><span class="line">	ax.set_xticks([<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>])</span><br><span class="line">	plt.show()</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">	</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">	tcfile = <span class="string">&#x27;./Thermal_conductivity.txt&#x27;</span></span><br><span class="line">	plt_tc(tcfile)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>数据</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">8.9    17.925 16.9828 16.4475</span><br><span class="line">15.999    19.5132 18.2719 19.3751</span><br><span class="line">32.06    25.3194 23.8796 25.2429</span><br><span class="line">48.9    23.6784 21.4915 22.9888</span><br><span class="line">78.9    15.9254 14.4494 15.1808</span><br><span class="line">127.6    8.5564 9.0751 8.8317</span><br><span class="line">209    5.2363 6.8541 5.3407</span><br></pre></td></tr></table></figure>


<ul>
<li>参考：[1] <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.errorbar.html">https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.errorbar.html</a></li>
</ul>
<h3 id="去掉坐标轴"><a href="#去掉坐标轴" class="headerlink" title="去掉坐标轴"></a>去掉坐标轴</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.xticks([])  <span class="comment">#去掉x轴</span></span><br><span class="line">plt.yticks([])  <span class="comment">#去掉y轴</span></span><br><span class="line">plt.axis(<span class="string">&#x27;off&#x27;</span>)  <span class="comment">#去掉坐标轴</span></span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax = plt.gca()</span><br><span class="line">ax.spines[<span class="string">&#x27;top&#x27;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;bottom&#x27;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;left&#x27;</span>].set_visible(<span class="literal">False</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;right&#x27;</span>].set_visible(<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p>or</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">ax.set_xticks([]), ax_set_yticks([]) <span class="comment">#关闭坐标刻度</span></span><br><span class="line">ax.axis(<span class="string">&#x27;off&#x27;</span>) <span class="comment">#关闭坐标轴</span></span><br><span class="line">ax.set_title()<span class="comment">#设置标题</span></span><br></pre></td></tr></table></figure>

<p>参考：<br>[1] <a href="https://blog.csdn.net/lly1122334/article/details/90647962">https://blog.csdn.net/lly1122334/article/details/90647962</a><br>[2] <a href="https://blog.csdn.net/lanchunhui/article/details/80100430">https://blog.csdn.net/lanchunhui/article/details/80100430</a></p>
<h3 id="调整图间距"><a href="#调整图间距" class="headerlink" title="调整图间距"></a>调整图间距</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig.tight_layout()<span class="comment">#调整整体处于正确位置</span></span><br><span class="line">fig.subplots_adjust(bottom=<span class="number">0.2</span>,left=<span class="number">0.15</span>)<span class="comment">#调整图间距</span></span><br><span class="line">plt.subplots_adjust(wspace =<span class="number">0</span>, hspace =<span class="number">0</span>)<span class="comment">#调整子图间距</span></span><br></pre></td></tr></table></figure>
<p>参考：[1] <a href="https://blog.csdn.net/GAN_player/article/details/78543643">https://blog.csdn.net/GAN_player/article/details/78543643</a></p>
<h3 id="图片上添加文字"><a href="#图片上添加文字" class="headerlink" title="图片上添加文字"></a>图片上添加文字</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">plt.text(x, y, string, <span class="comment">#(x坐标,y坐标,&#x27;text&#x27;)</span></span><br><span class="line">		fontsize=<span class="number">15</span>,</span><br><span class="line">		verticalalignment=<span class="string">&quot;top&quot;</span>,</span><br><span class="line">		horizontalalignment=<span class="string">&quot;right&quot;</span>)</span><br><span class="line">plt.text(<span class="number">100</span>, <span class="number">100</span>, <span class="string">&#x27;text&#x27;</span>) <span class="comment">#example</span></span><br></pre></td></tr></table></figure>



<h3 id="Maplotlib坐标轴反转"><a href="#Maplotlib坐标轴反转" class="headerlink" title="Maplotlib坐标轴反转"></a>Maplotlib坐标轴反转</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax.invert_xaxis()</span><br><span class="line">ax.invert_yaxis()</span><br></pre></td></tr></table></figure>

<h3 id="python-matplotlib-下标的字体设置问题"><a href="#python-matplotlib-下标的字体设置问题" class="headerlink" title="python matplotlib 下标的字体设置问题"></a>python matplotlib 下标的字体设置问题</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">plt.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Times New Roman&#x27;</span>, size=<span class="number">18</span>)</span><br><span class="line">fig = plt.figure(figsize=(<span class="number">12</span>,<span class="number">6</span>))</span><br><span class="line">fig.subplots_adjust(bottom=<span class="number">0.2</span>,left=<span class="number">0.2</span>,hspace=<span class="number">0.3</span>)	</span><br><span class="line">ax=fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">   ax.set_ylabel(<span class="string">r&#x27;$\regular&#123;gr_&#123;OO&#125;&#125;(r)$&#x27;</span>,fontweight=<span class="string">&#x27;bold&#x27;</span>,size=<span class="number">22</span>)</span><br></pre></td></tr></table></figure>


<h3 id="图中图"><a href="#图中图" class="headerlink" title="图中图"></a>图中图</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> mpl_toolkits.axes_grid1.inset_locator <span class="keyword">import</span> zoomed_inset_axes, mark_inset</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建数据</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建父图</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制父图</span></span><br><span class="line">ax.plot(x, y, label=<span class="string">&#x27;sin(x)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建放大的子图</span></span><br><span class="line">axins = zoomed_inset_axes(ax,<span class="number">2</span>, loc=<span class="string">&#x27;lower right&#x27;</span>)</span><br><span class="line">mark_inset(ax, axins, loc1=<span class="number">2</span>, loc2=<span class="number">1</span>, linestyle=<span class="string">&quot;--&quot;</span>, fc=<span class="string">&quot;none&quot;</span>, ec=<span class="string">&quot;r&quot;</span>)</span><br><span class="line"><span class="comment"># 绘制放大的子图</span></span><br><span class="line">axins.plot(x, y, label=<span class="string">&#x27;sin(x)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置放大子图的范围</span></span><br><span class="line">axins.set_xlim(<span class="number">1</span>, <span class="number">3</span>)</span><br><span class="line">axins.set_ylim(<span class="number">0.5</span>, <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将放大的子图绘制到父图上</span></span><br><span class="line">ax.indicate_inset_zoom(axins)</span><br><span class="line">fig.tight_layout()</span><br><span class="line"><span class="comment"># 显示图像</span></span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
        <category>Matplotlib</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Matplotlib</tag>
      </tags>
  </entry>
  <entry>
    <title>Matplotlib基本-2</title>
    <url>/MyWiki/wiki/2021/11/10/codes/python/matplotlib_2/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Legend一般常用属性"><a href="#Legend一般常用属性" class="headerlink" title="Legend一般常用属性"></a>Legend一般常用属性</h2><h3 id="1-loc"><a href="#1-loc" class="headerlink" title="1. loc"></a>1. loc</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th align="center">Location String</th>
<th align="center">Location Code</th>
</tr>
</thead>
<tbody><tr>
<td align="center">‘best’</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">‘upper right’</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">‘upper left’</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">‘lower left’</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">‘lower right’</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">‘right’</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">‘center left’</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">‘center right’</td>
<td align="center">7</td>
</tr>
<tr>
<td align="center">‘lower center’</td>
<td align="center">8</td>
</tr>
<tr>
<td align="center">‘upper center’</td>
<td align="center">9</td>
</tr>
<tr>
<td align="center">‘center’</td>
<td align="center">10</td>
</tr>
</tbody></table>
<h3 id="2-bbox-to-anchor"><a href="#2-bbox-to-anchor" class="headerlink" title="2. bbox_to_anchor"></a>2. bbox_to_anchor</h3><ul>
<li>将Legend放置任意指定位置；</li>
<li>两种方法<blockquote>
<ul>
<li><code>bbox_to_anchor=(x, y, width, height)</code></li>
<li><code>bbox_to_anchor=(x, y)</code></li>
</ul>
</blockquote>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>,bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">0.</span>, <span class="number">0.5</span>, <span class="number">0.5</span>))</span><br><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>,bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">0.5</span>))</span><br></pre></td></tr></table></figure>
<h3 id="3-ncol"><a href="#3-ncol" class="headerlink" title="3. ncol"></a>3. ncol</h3><ul>
<li>图例的列数，默认为1<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>,ncol=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-shadow"><a href="#3-shadow" class="headerlink" title="3. shadow"></a>3. shadow</h3><ul>
<li>图例阴影<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>,shadow=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="4-简单例子"><a href="#4-简单例子" class="headerlink" title="4. 简单例子"></a>4. 简单例子</h3><blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Python/python_1.png"></li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x = np.linspace(-<span class="number">10</span>,<span class="number">10</span>,<span class="number">100</span>)</span><br><span class="line">y1 = x**<span class="number">1</span>+<span class="number">1</span></span><br><span class="line">y2 = <span class="number">2</span>*x**<span class="number">2</span>+<span class="number">2</span></span><br><span class="line">y3 = <span class="number">3</span>*x**<span class="number">3</span>+<span class="number">3</span></span><br><span class="line">y4 = <span class="number">4</span>*x**<span class="number">4</span>+<span class="number">4</span></span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>,<span class="number">6</span>))</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">121</span>)</span><br><span class="line">ax1.plot(x,y1,label=<span class="string">&quot;Best&quot;</span>)</span><br><span class="line">ax1.plot(x,y2,label=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&quot;best&quot;</span>,bbox_to_anchor=(<span class="number">0.5</span>, <span class="number">0.</span>, <span class="number">0.5</span>, <span class="number">0.5</span>),</span><br><span class="line">	ncol=<span class="number">1</span>,shadow=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">ax2 = fig.add_subplot(<span class="number">122</span>)</span><br><span class="line">ax2.plot(x,y3,label=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line">ax2.plot(x,y4,label=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.legend(loc=<span class="string">&quot;center right&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p>[1]. <a href="https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.legend.html">https://matplotlib.org/stable/api/_as_gen/matplotlib.pyplot.legend.html</a></p>
<h2 id="Matplotlib-双轴"><a href="#Matplotlib-双轴" class="headerlink" title="Matplotlib 双轴"></a>Matplotlib 双轴</h2><h3 id="设置双轴"><a href="#设置双轴" class="headerlink" title="设置双轴"></a>设置双轴</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax2 = ax1.twinx() <span class="comment"># this is the important function</span></span><br></pre></td></tr></table></figure>
<h3 id="设置轴颜色"><a href="#设置轴颜色" class="headerlink" title="设置轴颜色"></a>设置轴颜色</h3><ul>
<li>tick颜色</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax1.tick_params(axis=<span class="string">&#x27;y&#x27;</span>,colors=<span class="string">&#x27;black&#x27;</span>) <span class="comment"># this is the important function</span></span><br></pre></td></tr></table></figure>
<ul>
<li>label颜色</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax2.xaxis.label.set_color(<span class="string">&#x27;black&#x27;</span>) <span class="comment"># this is the important function about label color</span></span><br><span class="line">ax2.yaxis.label.set_color(<span class="string">&#x27;red&#x27;</span>) <span class="comment"># this is the important function about label color</span></span><br></pre></td></tr></table></figure>

<h3 id="完整代码"><a href="#完整代码" class="headerlink" title="完整代码"></a>完整代码</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 双轴+坐标轴颜色</span></span><br><span class="line">x = np.arange(<span class="number">0</span>, <span class="number">1</span>, <span class="number">0.01</span>)</span><br><span class="line">y1 = x**(<span class="number">1</span>)</span><br><span class="line">y2 = x**(-<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">plt.rc(<span class="string">&#x27;font&#x27;</span>, family=<span class="string">&#x27;Times New Roman&#x27;</span>, size=<span class="number">22</span>)</span><br><span class="line">fig = plt.figure(figsize=(<span class="number">12</span>, <span class="number">10</span>))</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax1.plot(x, y1,<span class="string">&#x27;r&#x27;</span>,label=<span class="string">&quot;red&quot;</span>)</span><br><span class="line">ax1.legend(loc=<span class="string">&quot;upper left&quot;</span>)</span><br><span class="line">ax1.set_xlim([<span class="number">0</span>, <span class="number">1</span>])</span><br><span class="line">ax1.set_ylabel(<span class="string">&#x27;Left&#x27;</span>)</span><br><span class="line">ax1.set_xlabel(<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line"><span class="comment"># ax1.tick_params(axis=&#x27;y&#x27;,colors=&#x27;black&#x27;) # this is the important function</span></span><br><span class="line"></span><br><span class="line">ax2 = ax1.twinx() <span class="comment"># this is the important function</span></span><br><span class="line"></span><br><span class="line">ax2.plot(x, y2, <span class="string">&#x27;g&#x27;</span>,label = <span class="string">&quot;green&quot;</span>)</span><br><span class="line">ax2.legend(loc=<span class="string">&quot;upper right&quot;</span>)</span><br><span class="line">ax2.set_ylabel(<span class="string">&#x27;Right&#x27;</span>)</span><br><span class="line">ax2.tick_params(axis=<span class="string">&#x27;y&#x27;</span>,colors=<span class="string">&#x27;red&#x27;</span>) <span class="comment"># this is the important function about tick color</span></span><br><span class="line">ax2.yaxis.label.set_color(<span class="string">&#x27;red&#x27;</span>) <span class="comment"># this is the important function about label color</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h3 id="边框颜色、宽度"><a href="#边框颜色、宽度" class="headerlink" title="边框颜色、宽度"></a>边框颜色、宽度</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax.spines[<span class="string">&#x27;top&#x27;</span>].set_color(<span class="string">&#x27;red&#x27;</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;bottom&#x27;</span>].set_color(<span class="string">&#x27;none&#x27;</span>) <span class="comment"># 无色</span></span><br><span class="line">ax.spines[<span class="string">&#x27;left&#x27;</span>].set_linewidth(<span class="number">2</span>)</span><br><span class="line">ax.spines[<span class="string">&#x27;right&#x27;</span>].set_linewidth(<span class="number">2</span>) </span><br></pre></td></tr></table></figure>


<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://zhuanlan.zhihu.com/p/343719623">https://zhuanlan.zhihu.com/p/343719623</a></li>
<li><a href="https://blog.csdn.net/qq_40211493/article/details/103261392">https://blog.csdn.net/qq_40211493/article/details/103261392</a></li>
<li><a href="https://www.it1352.com/532711.html">https://www.it1352.com/532711.html</a></li>
</ul>
<h2 id="matplotlib-bar"><a href="#matplotlib-bar" class="headerlink" title="matplotlib_bar"></a>matplotlib_bar</h2><p><img src="https://matplotlib.org/2.0.2/_images/hatch_demo.png"></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">Hatching (pattern filled polygons) is supported currently in the PS,</span></span><br><span class="line"><span class="string">PDF, SVG and Agg backends only.</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> matplotlib.patches <span class="keyword">import</span> Ellipse, Polygon</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">131</span>)</span><br><span class="line">ax1.bar(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), color=<span class="string">&#x27;red&#x27;</span>, edgecolor=<span class="string">&#x27;black&#x27;</span>, hatch=<span class="string">&quot;/&quot;</span>)</span><br><span class="line">ax1.bar(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), [<span class="number">6</span>] * <span class="number">4</span>, bottom=<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), color=<span class="string">&#x27;blue&#x27;</span>, edgecolor=<span class="string">&#x27;black&#x27;</span>, hatch=<span class="string">&#x27;//&#x27;</span>)</span><br><span class="line">ax1.set_xticks([<span class="number">1.5</span>, <span class="number">2.5</span>, <span class="number">3.5</span>, <span class="number">4.5</span>])</span><br><span class="line"></span><br><span class="line">ax2 = fig.add_subplot(<span class="number">132</span>)</span><br><span class="line">bars = ax2.bar(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), color=<span class="string">&#x27;yellow&#x27;</span>, ecolor=<span class="string">&#x27;black&#x27;</span>) + \</span><br><span class="line">    ax2.bar(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), [<span class="number">6</span>] * <span class="number">4</span>, bottom=<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">5</span>), color=<span class="string">&#x27;green&#x27;</span>, ecolor=<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">ax2.set_xticks([<span class="number">1.5</span>, <span class="number">2.5</span>, <span class="number">3.5</span>, <span class="number">4.5</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment">##&#123;&#x27;/&#x27;, &#x27;\&#x27;, &#x27;|&#x27;, &#x27;-&#x27;, &#x27;+&#x27;, &#x27;x&#x27;, &#x27;o&#x27;, &#x27;O&#x27;, &#x27;.&#x27;, &#x27;*&#x27;&#125;</span></span><br><span class="line">patterns = (<span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;\\&#x27;</span>, <span class="string">&#x27;*&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;O&#x27;</span>, <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> bar, pattern <span class="keyword">in</span> <span class="built_in">zip</span>(bars, patterns):</span><br><span class="line">    bar.set_hatch(pattern)</span><br><span class="line"></span><br><span class="line">ax3 = fig.add_subplot(<span class="number">133</span>)</span><br><span class="line">ax3.fill([<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], fill=<span class="literal">False</span>, hatch=<span class="string">&#x27;\\&#x27;</span>)</span><br><span class="line">ax3.add_patch(Ellipse((<span class="number">4</span>, <span class="number">1.5</span>), <span class="number">4</span>, <span class="number">0.5</span>, fill=<span class="literal">False</span>, hatch=<span class="string">&#x27;*&#x27;</span>))</span><br><span class="line">ax3.add_patch(Polygon([[<span class="number">0</span>, <span class="number">0</span>], [<span class="number">4</span>, <span class="number">1.1</span>], [<span class="number">6</span>, <span class="number">2.5</span>], [<span class="number">2</span>, <span class="number">1.4</span>]], closed=<span class="literal">True</span>,</span><br><span class="line">                      fill=<span class="literal">False</span>, hatch=<span class="string">&#x27;/&#x27;</span>))</span><br><span class="line">ax3.set_xlim((<span class="number">0</span>, <span class="number">6</span>))</span><br><span class="line">ax3.set_ylim((<span class="number">0</span>, <span class="number">2.5</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>


<h2 id="Maplotlib坐标轴反转"><a href="#Maplotlib坐标轴反转" class="headerlink" title="Maplotlib坐标轴反转"></a>Maplotlib坐标轴反转</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax.invert_xaxis()</span><br><span class="line">ax.invert_yaxis()</span><br></pre></td></tr></table></figure>

<h2 id="坐标轴LOG"><a href="#坐标轴LOG" class="headerlink" title="坐标轴LOG"></a>坐标轴LOG</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">ax.set_xscale(<span class="string">&quot;log&quot;</span>, base = <span class="number">10</span>)</span><br><span class="line">ax.set_yscale(<span class="string">&quot;log&quot;</span>, base = <span class="number">10</span>)</span><br><span class="line">plt.xscale(<span class="string">&quot;log&quot;</span>, base = <span class="number">10</span>)</span><br><span class="line">plt.yscale(<span class="string">&quot;log&quot;</span>, base = <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h2 id="savefig"><a href="#savefig" class="headerlink" title="savefig"></a>savefig</h2><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">plt.savefig(<span class="string">&#x27;xxx.tiff&#x27;</span>,<span class="attribute">dpi</span>=300,transparent=True)</span><br></pre></td></tr></table></figure>

<h2 id="Seaborn"><a href="#Seaborn" class="headerlink" title="Seaborn"></a>Seaborn</h2><ul>
<li><a href="https://seaborn.pydata.org/index.html">Seaborn</a></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
        <category>Matplotlib</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Matplotlib</tag>
      </tags>
  </entry>
  <entry>
    <title>Numpy/math</title>
    <url>/MyWiki/wiki/2021/01/22/codes/python/numpy_1/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Numpy"><a href="#Numpy" class="headerlink" title="Numpy"></a>Numpy</h2><h3 id="矩阵创建"><a href="#矩阵创建" class="headerlink" title="矩阵创建"></a>矩阵创建</h3><ul>
<li><p>创建0向量&#x2F;三维矩阵</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">np.zeros((<span class="number">10</span>))</span><br><span class="line">np.zeros((<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>))</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建1向量&#x2F;三维矩阵</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">np.ones((<span class="number">1</span>,<span class="number">10</span>,<span class="number">10</span>))</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="矩阵拼接-转置"><a href="#矩阵拼接-转置" class="headerlink" title="矩阵拼接\转置"></a>矩阵拼接\转置</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.hstack((matrix1,matrix2)) <span class="comment">#横向拼接</span></span><br><span class="line">np.vstack((matrix1,matrix2)) <span class="comment">#纵向拼接</span></span><br><span class="line">matrix1.T <span class="comment">#转置</span></span><br></pre></td></tr></table></figure>


<h3 id="求平均"><a href="#求平均" class="headerlink" title="求平均"></a>求平均</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.mean(array,axis=<span class="number">1</span>) <span class="comment">#行平均</span></span><br><span class="line">np.mean(array,axis=<span class="number">0</span>) <span class="comment">#列平均</span></span><br></pre></td></tr></table></figure>
<h3 id="只保留独一无二值"><a href="#只保留独一无二值" class="headerlink" title="只保留独一无二值"></a>只保留独一无二值</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.unique() <span class="comment">#去除numpy数组里的相同值</span></span><br></pre></td></tr></table></figure>

<h3 id="给矩阵嵌入值"><a href="#给矩阵嵌入值" class="headerlink" title="给矩阵嵌入值"></a>给矩阵嵌入值</h3><ul>
<li>例如：给矩阵x在第三列插入一列0<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.insert(x,<span class="number">3</span>,<span class="number">0</span>,axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="矩阵排序例子"><a href="#矩阵排序例子" class="headerlink" title="矩阵排序例子"></a>矩阵排序例子</h3><ul>
<li>按照第一列对矩阵fe进行排序<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fe_sort = fe[np.argsort(fe[:,<span class="number">0</span>])]</span><br></pre></td></tr></table></figure></li>
<li>按照矩阵的第一列排序np.argsort(x[:,0])<figure class="highlight py"><table><tr><td class="code"><pre><span class="line">x = np.array([[<span class="number">9</span>,<span class="number">6</span>,<span class="number">5</span>,<span class="number">11</span>],[<span class="number">7</span>,<span class="number">5</span>,<span class="number">4</span>,<span class="number">6</span>],[<span class="number">12</span>,<span class="number">9</span>,<span class="number">8</span>,<span class="number">10</span>]])</span><br><span class="line"><span class="built_in">print</span>(x)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[ 9  6  5 11]</span></span><br><span class="line"><span class="string"> [ 7  5  4  6]</span></span><br><span class="line"><span class="string"> [12  9  8 10]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(x[np.argsort(x[:,<span class="number">0</span>])]) <span class="comment">#从小到大</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[ 7  5  4  6]</span></span><br><span class="line"><span class="string"> [ 9  6  5 11]</span></span><br><span class="line"><span class="string"> [12  9  8 10]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="built_in">print</span>(x[np.argsort(-x[:,<span class="number">0</span>])]) <span class="comment">#从大到小</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">[[12  9  8 10]</span></span><br><span class="line"><span class="string"> [ 9  6  5 11]</span></span><br><span class="line"><span class="string"> [ 7  5  4  6]]</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="loadtxt-amp-amp-savetxt"><a href="#loadtxt-amp-amp-savetxt" class="headerlink" title="loadtxt &amp;&amp; savetxt"></a>loadtxt &amp;&amp; savetxt</h3><ul>
<li>numpy.loadtxt<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">numpy.loadtxt(fname, dtype=&lt;<span class="keyword">class</span> <span class="string">&#x27;float&#x27;</span>&gt;, comments=<span class="string">&#x27;#&#x27;</span>, delimiter=<span class="literal">None</span>, converters=<span class="literal">None</span>, skiprows=<span class="number">0</span>, usecols=<span class="literal">None</span>, unpack=<span class="literal">False</span>, ndmin=<span class="number">0</span>, encoding=<span class="string">&#x27;bytes&#x27;</span>, max_rows=<span class="literal">None</span>, *, like=<span class="literal">None</span>)</span><br><span class="line">numpy.savetxt(fname, X, fmt=<span class="string">&#x27;%.18e&#x27;</span>, delimiter=<span class="string">&#x27; &#x27;</span>, newline=<span class="string">&#x27;\n&#x27;</span>, header=<span class="string">&#x27;&#x27;</span>, footer=<span class="string">&#x27;&#x27;</span>, comments=<span class="string">&#x27;# &#x27;</span>, encoding=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure></li>
<li>常用参数解释：<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">fname #文件名</span><br><span class="line">dtype=&lt;<span class="keyword">class</span> &#x27;<span class="symbol">float</span>&#x27;&gt; #读取数据类型</span><br><span class="line"><span class="symbol">skiprows</span>=<span class="symbol">0</span> #跳过几行读取</span><br><span class="line"><span class="symbol">usecols</span>=<span class="symbol">None</span> #读取哪几列，例如：<span class="symbol">usecols</span> = (<span class="symbol">1,<span class="symbol">4</span>,<span class="symbol">5</span></span>)</span><br><span class="line"><span class="symbol">max_rows</span>=<span class="symbol">None</span> #最大读取几行</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="展示输出"><a href="#展示输出" class="headerlink" title="展示输出"></a>展示输出</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.set_printoptions(threshold=<span class="number">100000000</span>) <span class="comment">#显示省略的数据</span></span><br><span class="line">np.set_printoptions(suppress=<span class="literal">True</span>) <span class="comment">#不易科学计数法输出</span></span><br></pre></td></tr></table></figure>

<h3 id="计算行列式"><a href="#计算行列式" class="headerlink" title="计算行列式"></a>计算行列式</h3><ul>
<li><p>计算二维数组行列式 [[a, b], [c, d]] 也即是 ad - bc:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array([[<span class="number">1</span>,<span class="number">2</span>],[<span class="number">3</span>,<span class="number">4</span>]])</span><br><span class="line">b = np.linalg.det(a)</span><br></pre></td></tr></table></figure>
</li>
<li><p>计算多个矩阵的行列式:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a = np.array([ [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]], [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">2</span>, <span class="number">1</span>]], [[<span class="number">1</span>, <span class="number">3</span>], [<span class="number">3</span>, <span class="number">1</span>]] ])</span><br><span class="line">b = np.linalg.det(a)</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.det.html">https://numpy.org/doc/stable/reference/generated/numpy.linalg.det.html</a></p>
</li>
<li><p>相似的用法：<br><a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.slogdet.html#numpy.linalg.slogdet">slogdet</a><br><a href="https://docs.scipy.org/doc/scipy/reference/generated/scipy.linalg.det.html#scipy.linalg.det">scipy.linalg.det</a></p>
</li>
</ul>
<p>-参考：<a href="https://numpy.org/doc/stable/reference/generated/numpy.linalg.det.html">https://numpy.org/doc/stable/reference/generated/numpy.linalg.det.html</a></p>
<h3 id="np-linalg-norm-求范数"><a href="#np-linalg-norm-求范数" class="headerlink" title="np.linalg.norm(求范数)"></a>np.linalg.norm(求范数)</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">x_norm=np.linalg.norm(x, <span class="built_in">ord</span>=<span class="literal">None</span>, axis=<span class="literal">None</span>, keepdims=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdn.net/20180115105515186"></p>
<ul>
<li><a href="https://blog.csdn.net/hqh131360239/article/details/79061535">https://blog.csdn.net/hqh131360239/article/details/79061535</a></li>
</ul>
<h3 id="计算协方差矩阵"><a href="#计算协方差矩阵" class="headerlink" title="计算协方差矩阵"></a>计算协方差矩阵</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/cov.gif"></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># numpy.cov(m, y=None, rowvar=True, bias=False, ddof=None, fweights=None, aweights=None)</span></span><br><span class="line">X=np.array([[<span class="number">1</span> ,<span class="number">5</span> ,<span class="number">6</span>] ,[<span class="number">4</span> ,<span class="number">3</span> ,<span class="number">9</span> ],[ <span class="number">4</span> ,<span class="number">2</span> ,<span class="number">9</span>],[ <span class="number">4</span> ,<span class="number">7</span> ,<span class="number">2</span>]])</span><br><span class="line"><span class="built_in">print</span>(X)</span><br><span class="line"><span class="built_in">print</span>(np.cov(X,rowvar=<span class="literal">False</span>))</span><br></pre></td></tr></table></figure>
<ul>
<li><p>rowvar&#x3D;True,每行为一个变量,每一列是对这个变量的观察</p>
</li>
<li><p>rowvar&#x3D;False,与上相反</p>
</li>
<li><p>y&#x3D;None，另外一组变量和观察结果。y和m有相同的形式</p>
</li>
<li><p><a href="https://numpy.org/doc/stable/reference/generated/numpy.cov.html">https://numpy.org/doc/stable/reference/generated/numpy.cov.html</a></p>
</li>
<li><p><a href="https://www.huaweicloud.com/articles/5cac03cc9d220d6b0561dbaa161bcbcf.html">https://www.huaweicloud.com/articles/5cac03cc9d220d6b0561dbaa161bcbcf.html</a></p>
</li>
<li><p><a href="https://blog.csdn.net/qq_37667364/article/details/80458108">https://blog.csdn.net/qq_37667364/article/details/80458108</a></p>
</li>
</ul>
<h4 id="Numpy-append"><a href="#Numpy-append" class="headerlink" title="Numpy.append"></a>Numpy.append</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">matrix = [</span><br><span class="line">    [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],</span><br><span class="line">    [<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>],</span><br><span class="line">    [<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>,<span class="number">12</span>]</span><br><span class="line">]</span><br><span class="line">m1 = np.append(matrix,[[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]],axis=<span class="number">0</span>)</span><br><span class="line"><span class="comment"># 第0维度(行)尾部添加[[1,1,1,1]],注意两个[],相同维度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&gt;&gt;&gt;&gt;m1&gt;&gt;&gt;&gt;\n&#x27;</span>,m1)</span><br><span class="line">m2 = np.append(matrix,[[<span class="number">1</span>],[<span class="number">1</span>],[<span class="number">1</span>]],axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 第1维度(列)尾部添加[[1],[1],[1]],注意两个[],相同维度</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&gt;&gt;&gt;&gt;m2&gt;&gt;&gt;&gt;\n&#x27;</span>,m2)</span><br><span class="line">m3 = np.append(matrix,[<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line"><span class="comment"># 拉平后再尾部添加[1,1,1,1]，这里可以[[1,1,1,1]]和[1,1,1,1]均可</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;&gt;&gt;&gt;&gt;m3&gt;&gt;&gt;&gt;\n&#x27;</span>,m3)</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h3 id="单位矩阵"><a href="#单位矩阵" class="headerlink" title="单位矩阵"></a>单位矩阵</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">np.identity(n) <span class="comment">#生成n×n的单位矩阵</span></span><br><span class="line">np.diag([<span class="number">1</span>] * <span class="number">4</span>) <span class="comment"># 生成单位对角阵</span></span><br><span class="line">np.eye(<span class="number">3</span>) <span class="comment"># 生成单位矩阵</span></span><br></pre></td></tr></table></figure>

<h3 id="点乘与叉乘"><a href="#点乘与叉乘" class="headerlink" title="点乘与叉乘"></a>点乘与叉乘</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#点乘直接a*b</span></span><br><span class="line">numpy.dot(a,b) <span class="comment">#叉乘</span></span><br></pre></td></tr></table></figure>

<h3 id="矩阵中字符串改为浮点数"><a href="#矩阵中字符串改为浮点数" class="headerlink" title="矩阵中字符串改为浮点数"></a>矩阵中字符串改为浮点数</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = np.array([<span class="string">&#x27;1.1&#x27;</span>, <span class="string">&#x27;1.2&#x27;</span>, <span class="string">&#x27;1.3&#x27;</span>])</span><br><span class="line">y = x.astype(np.float64)</span><br><span class="line"><span class="comment"># or</span></span><br><span class="line">y = x.astype(<span class="built_in">float</span>)</span><br></pre></td></tr></table></figure>



<h2 id="Math"><a href="#Math" class="headerlink" title="Math"></a>Math</h2><h3 id="对数函数"><a href="#对数函数" class="headerlink" title="对数函数"></a>对数函数</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line">math.log(x[, base])</span><br></pre></td></tr></table></figure>
<ul>
<li>x – 数值表达式</li>
<li>base – 可选，底数，默认为 e</li>
<li>math.log(x) 就相当于数学中的ln(x)，x&gt;0，求底数为e的对数，e &#x3D; 2.718281828459；</li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
        <category>Numpy</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Numpy</tag>
        <tag>math</tag>
      </tags>
  </entry>
  <entry>
    <title>python镜像配置</title>
    <url>/MyWiki/wiki/2019/08/05/codes/python/pip_install_mirrors/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Window-python-镜像"><a href="#Window-python-镜像" class="headerlink" title="Window python 镜像"></a>Window python 镜像</h3><blockquote>
<ul>
<li>临时</li>
</ul>
</blockquote>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">pip install numpy -i http:<span class="regexp">//mi</span>rrors.aliyun.com<span class="regexp">/pypi/</span>simple/</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>永久</li>
</ul>
</blockquote>
<ul>
<li>在 windows “文件资源管理器” 地址栏 输入 <code>%APPDATA%</code> 回车；或者直接找到路径<code>C:\Users\yourcomputer\AppData\Roaming</code></li>
<li>创建名为<code>pip</code>的文件夹</li>
<li>在里面新建名为 <code>pip.ini</code> 的配置文件</li>
<li>在 pip.ini 文件中输入以下内容，然后保存<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url=http://mirrors.aliyun.com/pypi/simple/</span><br><span class="line">[install]</span><br><span class="line">trusted-host=mirrors.aliyun.com</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Linux-python-镜像"><a href="#Linux-python-镜像" class="headerlink" title="Linux python 镜像"></a>Linux python 镜像</h3><blockquote>
<ul>
<li>临时(同window)</li>
</ul>
</blockquote>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">pip install pyspider -i http:<span class="regexp">//mi</span>rrors.aliyun.com<span class="regexp">/pypi/</span>simple/</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>永久</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url=http://mirrors.aliyun.com/pypi/simple/</span><br><span class="line">[install]</span><br><span class="line">trusted-host=mirrors.aliyun.com</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">终端打开pip.conf写入即可</span><br><span class="line">vim ~/.pip/pip.conf</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>一条命令配置永久镜像源</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip config <span class="built_in">set</span> global.index-url http://mirrors.aliyun.com/pypi/simple/</span><br></pre></td></tr></table></figure>

<h3 id="一些常用的国内源："><a href="#一些常用的国内源：" class="headerlink" title="一些常用的国内源："></a>一些常用的国内源：</h3><ul>
<li><p>阿里云 </p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//mi</span>rrors.aliyun.com<span class="regexp">/pypi/</span>simple/</span><br></pre></td></tr></table></figure>
</li>
<li><p>中国科技大学</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https:<span class="regexp">//</span>pypi.mirrors.ustc.edu.cn<span class="regexp">/simple/</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>豆瓣(douban) </p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//</span>pypi.douban.com<span class="regexp">/simple/</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>清华大学</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">https:<span class="regexp">//</span>pypi.tuna.tsinghua.edu.cn<span class="regexp">/simple/</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>中国科学技术大学</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">http:<span class="regexp">//</span>pypi.mirrors.ustc.edu.cn<span class="regexp">/simple/</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Tutorials</tag>
        <tag>python镜像配置</tag>
      </tags>
  </entry>
  <entry>
    <title>Networkx：强大的 Python 网络分析库使用</title>
    <url>/MyWiki/wiki/2023/07/29/codes/python/networkx_python_package/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Networkx"><a href="#Networkx" class="headerlink" title="Networkx"></a><a href="https://github.com/networkx/networkx">Networkx</a></h3><blockquote>
<p>一个用来创建、操作和研究复杂网络结构的 Python 库</p>
</blockquote>
<h4 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install networkx <span class="comment"># 安装最新版</span></span><br><span class="line">pip install networkx[all] <span class="comment"># 安装所有可选依赖项</span></span><br></pre></td></tr></table></figure>

<h4 id="Examples"><a href="#Examples" class="headerlink" title="Examples"></a>Examples</h4><ol>
<li><p>Multipartite Layout:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> itertools</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line">subset_sizes = [<span class="number">5</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line">subset_color = [</span><br><span class="line">    <span class="string">&quot;gold&quot;</span>,</span><br><span class="line">    <span class="string">&quot;violet&quot;</span>,</span><br><span class="line">    <span class="string">&quot;violet&quot;</span>,</span><br><span class="line">    <span class="string">&quot;violet&quot;</span>,</span><br><span class="line">    <span class="string">&quot;violet&quot;</span>,</span><br><span class="line">    <span class="string">&quot;limegreen&quot;</span>,</span><br><span class="line">    <span class="string">&quot;limegreen&quot;</span>,</span><br><span class="line">    <span class="string">&quot;darkorange&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">multilayered_graph</span>(<span class="params">*subset_sizes</span>):</span><br><span class="line">    extents = nx.utils.pairwise(itertools.accumulate((<span class="number">0</span>,) + subset_sizes))</span><br><span class="line">    layers = [<span class="built_in">range</span>(start, end) <span class="keyword">for</span> start, end <span class="keyword">in</span> extents]</span><br><span class="line">    G = nx.Graph()</span><br><span class="line">    <span class="keyword">for</span> i, layer <span class="keyword">in</span> <span class="built_in">enumerate</span>(layers):</span><br><span class="line">        G.add_nodes_from(layer, layer=i)</span><br><span class="line">    <span class="keyword">for</span> layer1, layer2 <span class="keyword">in</span> nx.utils.pairwise(layers):</span><br><span class="line">        G.add_edges_from(itertools.product(layer1, layer2))</span><br><span class="line">    <span class="keyword">return</span> G</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">G = multilayered_graph(*subset_sizes)</span><br><span class="line">color = [subset_color[data[<span class="string">&quot;layer&quot;</span>]] <span class="keyword">for</span> v, data <span class="keyword">in</span> G.nodes(data=<span class="literal">True</span>)]</span><br><span class="line">pos = nx.multipartite_layout(G, subset_key=<span class="string">&quot;layer&quot;</span>)</span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line">nx.draw_networkx(G, pos, node_color=color, with_labels=<span class="literal">False</span>)</span><br><span class="line">plt.axis(<span class="string">&quot;equal&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://networkx.org/documentation/stable/_images/sphx_glr_plot_multipartite_graph_001.png" width=500>
</li>
<li><p>Rainbow Coloring:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> networkx <span class="keyword">as</span> nx</span><br><span class="line"></span><br><span class="line"><span class="comment"># A rainbow color mapping using matplotlib&#x27;s tableau colors</span></span><br><span class="line">node_dist_to_color = &#123;</span><br><span class="line">    <span class="number">1</span>: <span class="string">&quot;tab:red&quot;</span>,</span><br><span class="line">    <span class="number">2</span>: <span class="string">&quot;tab:orange&quot;</span>,</span><br><span class="line">    <span class="number">3</span>: <span class="string">&quot;tab:olive&quot;</span>,</span><br><span class="line">    <span class="number">4</span>: <span class="string">&quot;tab:green&quot;</span>,</span><br><span class="line">    <span class="number">5</span>: <span class="string">&quot;tab:blue&quot;</span>,</span><br><span class="line">    <span class="number">6</span>: <span class="string">&quot;tab:purple&quot;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create a complete graph with an odd number of nodes</span></span><br><span class="line">nnodes = <span class="number">13</span></span><br><span class="line">G = nx.complete_graph(nnodes)</span><br><span class="line"></span><br><span class="line"><span class="comment"># A graph with (2n + 1) nodes requires n colors for the edges</span></span><br><span class="line">n = (nnodes - <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">ndist_iter = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Take advantage of circular symmetry in determining node distances</span></span><br><span class="line">ndist_iter += ndist_iter[::-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">cycle</span>(<span class="params">nlist, n</span>):</span><br><span class="line">    <span class="keyword">return</span> nlist[-n:] + nlist[:-n]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Rotate nodes around the circle and assign colors for each edge based on</span></span><br><span class="line"><span class="comment"># node distance</span></span><br><span class="line">nodes = <span class="built_in">list</span>(G.nodes())</span><br><span class="line"><span class="keyword">for</span> i, nd <span class="keyword">in</span> <span class="built_in">enumerate</span>(ndist_iter):</span><br><span class="line">    <span class="keyword">for</span> u, v <span class="keyword">in</span> <span class="built_in">zip</span>(nodes, cycle(nodes, i + <span class="number">1</span>)):</span><br><span class="line">        G[u][v][<span class="string">&quot;color&quot;</span>] = node_dist_to_color[nd]</span><br><span class="line"></span><br><span class="line">pos = nx.circular_layout(G)</span><br><span class="line"><span class="comment"># Create a figure with 1:1 aspect ratio to preserve the circle.</span></span><br><span class="line">fig, ax = plt.subplots(figsize=(<span class="number">8</span>, <span class="number">8</span>))</span><br><span class="line">node_opts = &#123;<span class="string">&quot;node_size&quot;</span>: <span class="number">500</span>, <span class="string">&quot;node_color&quot;</span>: <span class="string">&quot;w&quot;</span>, <span class="string">&quot;edgecolors&quot;</span>: <span class="string">&quot;k&quot;</span>, <span class="string">&quot;linewidths&quot;</span>: <span class="number">2.0</span>&#125;</span><br><span class="line">nx.draw_networkx_nodes(G, pos, **node_opts)</span><br><span class="line">nx.draw_networkx_labels(G, pos, font_size=<span class="number">14</span>)</span><br><span class="line"><span class="comment"># Extract color from edge data</span></span><br><span class="line">edge_colors = [edgedata[<span class="string">&quot;color&quot;</span>] <span class="keyword">for</span> _, _, edgedata <span class="keyword">in</span> G.edges(data=<span class="literal">True</span>)]</span><br><span class="line">nx.draw_networkx_edges(G, pos, width=<span class="number">2.0</span>, edge_color=edge_colors)</span><br><span class="line"></span><br><span class="line">ax.set_axis_off()</span><br><span class="line">fig.tight_layout()</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<img src="https://networkx.org/documentation/stable/_images/sphx_glr_plot_rainbow_coloring_001.png" width=500></li>
</ol>
<h4 id="References"><a href="#References" class="headerlink" title="References"></a>References</h4><ul>
<li><a href="https://networkx.org/documentation/stable/auto_examples/index.html">[1]</a> Network Analysis in Python.</li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Networkx</tag>
      </tags>
  </entry>
  <entry>
    <title>Python问题与解决方法汇总</title>
    <url>/MyWiki/wiki/2021/01/22/codes/python/problems/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="报错信息：subprocess-exited-with-error"><a href="#报错信息：subprocess-exited-with-error" class="headerlink" title="报错信息：subprocess-exited-with-error"></a>报错信息：subprocess-exited-with-error</h3><ul>
<li><p>pip install 时报错信息：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">error: subprocess-exited-with-error × Getting requirements to build wheel did not run successfully. │ <span class="built_in">exit</span> code: 1 ╰─&gt; [22 lines of output]</span><br></pre></td></tr></table></figure>
</li>
<li><p>解决方法：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install --upgrade pip setuptools wheel</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Windows下-quot-MINGW64-quot-中运行python没反应"><a href="#Windows下-quot-MINGW64-quot-中运行python没反应" class="headerlink" title="Windows下&quot;MINGW64&quot;中运行python没反应"></a><code>Windows下&quot;MINGW64&quot;中运行python没反应</code></h3><blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python1.png"></p>
</blockquote>
<ul>
<li><strong><font size=5>（1）.</font> 可以<code>pip list</code>，也可以<code>python --version</code>，但是直接输入<code>python</code>就卡那不动了</strong></li>
</ul>
<blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python2.png"></p>
</blockquote>
<blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python3.png"></p>
</blockquote>
<ul>
<li><strong><font size=5>（2）.</font> 解决方法–&gt;在 <code>MINGW64 git shell</code> 中输入以下命令即可解决：</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">alias</span> python=<span class="string">&#x27;winpty python.exe&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python4.png"></p>
</blockquote>
<ul>
<li><strong><font size=5>（3）.</font> 但是，发现这只是临时的，关了再重新打开输入<code>python</code>，还是没反应</strong></li>
<li><strong><font size=5>（4）.</font> 永久解决方法，将第2步命令直接复制到以下文件中：<code>C:\Users\yourcomputer\.bash_profile</code></strong></li>
</ul>
<p>参考链接：<br>[1] <a href="https://www.codenong.com/32597209/">https://www.codenong.com/32597209/</a></p>
<h3 id="FileNotFoundError-Could-not-find-module"><a href="#FileNotFoundError-Could-not-find-module" class="headerlink" title="FileNotFoundError: Could not find module"></a><code>FileNotFoundError: Could not find module</code></h3><ul>
<li><strong><font size=5>（1）.</font>引用<code>vlc</code>库时报错：</strong></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">FileNotFoundError: Could not find module <span class="string">&#x27;...\2021\2021-3\libvlc.dll&#x27;</span> (or one of its dependencies). </span><br><span class="line">Try using the full path with constructor syntax.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong><font size=5>（2）.</font>解决方法：</strong></li>
</ul>
<p>①. 首先<code>pip list</code>查看vlc的版本：</p>
<blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python5.png"></p>
</blockquote>
<p>②. 然后，下载并解压对应vlc版本 <a href="http://download.videolan.org/pub/videolan/vlc/">http://download.videolan.org/pub/videolan/vlc/</a></p>
<blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python6.png"></p>
</blockquote>
<p>③. 将文件夹中<code>plugins</code>、<code>libvlc.dll</code>、<code>libvlccore.dll</code>，复制到添加到已经设置环境变量的文件夹中，这里我直接复制到<code>D:\softwares\Python\Python39\Scripts</code>中</p>
<blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/mingw64_python7.png"></p>
</blockquote>
<p>参考链接：<br>[1] <a href="https://stackoverflow.com/questions/59014318/filenotfounderror-could-not-find-module-libvlc-dll">https://stackoverflow.com/questions/59014318/filenotfounderror-could-not-find-module-libvlc-dll</a><br>[2] <a href="https://blog.csdn.net/fleaxin/article/details/101943941">https://blog.csdn.net/fleaxin/article/details/101943941</a><br>④. 解决</p>
<h3 id="Centos-7安装python3"><a href="#Centos-7安装python3" class="headerlink" title="Centos 7安装python3"></a><code>Centos 7安装python3</code></h3><ul>
<li><a href="https://www.cnblogs.com/simuhunluo/p/7704765.html">Centos 7安装python3 </a></li>
</ul>
<h3 id="StopIteration"><a href="#StopIteration" class="headerlink" title="StopIteration"></a><code>StopIteration</code></h3><ul>
<li>StopIteration异常，一般是由于迭代时所给的数据超出实际数据范围所致；</li>
<li>如果想要正常运行已给出数据范围的程序，则可以处理异常程序：<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">re = <span class="built_in">iter</span>(<span class="built_in">range</span>(<span class="number">5</span>))</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	<span class="keyword">for</span> i inrange(<span class="number">200</span>):</span><br><span class="line">		<span class="built_in">print</span>(<span class="string">&quot;normal: &quot;</span>,re.<span class="built_in">next</span>())</span><br><span class="line"><span class="keyword">except</span> StopIteration:</span><br><span class="line">	<span class="built_in">print</span>(<span class="string">&#x27;Here is stop &#x27;</span>,i)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="overflow-encountered"><a href="#overflow-encountered" class="headerlink" title="overflow encountered"></a><code>overflow encountered</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">RuntimeWarning: overflow encountered <span class="keyword">in</span> det r = _umath_linalg.det(a, signature=signature)</span><br></pre></td></tr></table></figure>
<ul>
<li>计算行列式时溢出；</li>
<li>没解决。</li>
</ul>
<h3 id="unindent-does-not-match-any-outer-indentation-level"><a href="#unindent-does-not-match-any-outer-indentation-level" class="headerlink" title="unindent does not match any outer indentation level"></a>unindent does not match any outer indentation level</h3><blockquote>
<ul>
<li>如果缩进没有问题的画，这个主要是错误主要就是TAB和空格混用了。</li>
<li>使用notepad++打开<code>视图&gt;显示符号&gt;显示空格与制表符</code>查看缩进。</li>
<li>修改成一种就可以了。</li>
</ul>
</blockquote>
<h3 id="安装conda报错"><a href="#安装conda报错" class="headerlink" title="安装conda报错"></a>安装conda报错</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Solving environment: failed with initial frozen solve. Retrying with flexible solve.</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><a href="https://tools-platform-guide.readthedocs.io/zh_CN/latest/anaconda/conda%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E6%8A%A5%E9%94%99/">https://tools-platform-guide.readthedocs.io/zh_CN/latest/anaconda/conda%E5%AE%89%E8%A3%85%E7%8E%AF%E5%A2%83%E6%8A%A5%E9%94%99/</a></li>
<li><a href="https://blog.csdn.net/qq_35203425/article/details/103872420?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-4.no_search_link&spm=1001.2101.3001.4242">https://blog.csdn.net/qq_35203425/article/details/103872420?utm_medium=distribute.pc_relevant.none-task-blog-2~default~baidujs_title~default-4.no_search_link&amp;spm=1001.2101.3001.4242</a></li>
<li>执行：</li>
</ul>
</blockquote>
<figure class="highlight n1ql"><table><tr><td class="code"><pre><span class="line">conda -V</span><br><span class="line">conda <span class="keyword">update</span> -n base conda</span><br><span class="line">conda <span class="keyword">update</span> --<span class="keyword">all</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>还不行就换conda镜像</li>
</ul>
</blockquote>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">channels:</span><br><span class="line">  - https:<span class="regexp">//mi</span>rrors.ustc.edu.cn<span class="regexp">/anaconda/</span>pkgs<span class="regexp">/main/</span></span><br><span class="line">  - https:<span class="regexp">//mi</span>rrors.ustc.edu.cn<span class="regexp">/anaconda/</span>cloud<span class="regexp">/conda-forge/</span></span><br><span class="line">  - https:<span class="regexp">//mi</span>rrors.tuna.tsinghua.edu.cn<span class="regexp">/anaconda/</span>pkgs<span class="regexp">/free/</span></span><br><span class="line">  - defaults</span><br><span class="line">show_channel_urls: true</span><br><span class="line"></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Bug</tag>
      </tags>
  </entry>
  <entry>
    <title>使用虚拟环境打包Python GUI脚本</title>
    <url>/MyWiki/wiki/2023/08/31/codes/python/pipenv_pyinstaller/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="用pipenv创建python虚拟环境"><a href="#用pipenv创建python虚拟环境" class="headerlink" title="用pipenv创建python虚拟环境"></a>用pipenv创建python虚拟环境</h3><ul>
<li>首先在需要作为虚拟环境的文件夹内执行以下命令：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pipenv</span><br></pre></td></tr></table></figure>

<h3 id="进入虚拟环境"><a href="#进入虚拟环境" class="headerlink" title="进入虚拟环境"></a>进入虚拟环境</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pipenv shell</span><br></pre></td></tr></table></figure>

<h3 id="安装Pyinstaller"><a href="#安装Pyinstaller" class="headerlink" title="安装Pyinstaller"></a>安装Pyinstaller</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pipenv install pyinstaller</span><br></pre></td></tr></table></figure>

<h3 id="安装需打包脚本需要的库"><a href="#安装需打包脚本需要的库" class="headerlink" title="安装需打包脚本需要的库"></a>安装需打包脚本需要的库</h3><figure class="highlight cmake"><table><tr><td class="code"><pre><span class="line">pipenv <span class="keyword">install</span> pyqt5</span><br></pre></td></tr></table></figure>

<h3 id="PyQt5"><a href="#PyQt5" class="headerlink" title="PyQt5"></a>PyQt5</h3><ul>
<li><a href="https://zmister.com/archives/category/guidevelop/pyqt5_basic/">https://zmister.com/archives/category/guidevelop/pyqt5_basic/</a></li>
<li>Qt设计师 ui转py：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pyuic5 -x -o MDDP.py MDDP.ui</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pyinstaller -F -w -i ./imgs/fig.ico MDDP.py</span><br><span class="line"><span class="comment"># -F (-onefile)代表产生单个可执行文件；</span></span><br><span class="line"><span class="comment"># -D (--onedir)产生一个目录（包含多个文件）作为可执行程序</span></span><br><span class="line"><span class="comment"># -a (--ascii)不包含 Unicode 字符集支持</span></span><br><span class="line"><span class="comment"># -d (--debug)产生 debug 版本的可执行文件</span></span><br><span class="line"><span class="comment"># -w (-windowed，--noconsolc) 指定程序运行时不显示命令行窗口（仅对 Windows 有效）</span></span><br><span class="line"><span class="comment"># -c (--nowindowed，--console)指定使用命令行窗口运行程序（仅对 Windows 有效）</span></span><br><span class="line"><span class="comment"># -o (DIR，--out=DIR)指定 spec 文件的生成目录。如果没有指定，则默认使用当前目录来生成 spec 文件</span></span><br><span class="line"><span class="comment"># -p (DIR，--path=DIR)设置 Python 导入模块的路径（和设置 PYTHONPATH 环境变量的作用相似）。也可使用路径分隔符（Windows 使用分号，Linux 使用冒号）来分隔多个路径</span></span><br><span class="line"><span class="comment"># -n (NAME, --name=NAME)指定项目（产生的 spec）名字。如果省略该选项，那么第一个脚本的主文件名将作为 spec 的名字</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python GUI</category>
      </categories>
      <tags>
        <tag>Tutorials</tag>
        <tag>Python GUI</tag>
      </tags>
  </entry>
  <entry>
    <title>Python 常用基本命令</title>
    <url>/MyWiki/wiki/2021/04/11/codes/python/python_code_study/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="1-操作文件（夹）等"><a href="#1-操作文件（夹）等" class="headerlink" title="1. 操作文件（夹）等"></a>1. 操作文件（夹）等</h3><blockquote>
<ul>
<li>例如：获得当前文件所在目录</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path=os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(path)</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>在当前文件夹生成文件夹，以时间命名</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">folder=time.strftime(<span class="string">r&quot;%Y-%m-%d_%H-%M-%S&quot;</span>,time.localtime())</span><br><span class="line">folder=time.strftime(<span class="string">r&quot;%Y%m%d_%H%M%S&quot;</span>,time.localtime())</span><br><span class="line">os.makedirs(<span class="string">r&#x27;%s/%s&#x27;</span>%(os.getcwd(),folder))</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>更改当前工作路径</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.chdir(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop\\1&#x27;</span>)</span><br><span class="line">path=os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(path)</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>判断一个路径或文件夹、文件是否存在</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">path_yesno1 = os.path.exists(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop\\1&#x27;</span>)</span><br><span class="line">path_yesno2 = os.path.isdir(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop\\1&#x27;</span>)</span><br><span class="line">path_yesno3 = os.path.isfile(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop\\1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(path_yesno1,path_yesno2,path_yesno3)</span><br><span class="line"><span class="comment"># or pathlib</span></span><br><span class="line"><span class="keyword">import</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line">mypath = Path(<span class="string">&quot;C:\\Users\\ASUS\\Desktop\\1&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(mypath.is_dir())</span><br><span class="line"><span class="built_in">print</span>(mypath.is_file())</span><br><span class="line"><span class="built_in">print</span>(mypath.exists())</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>判断一个文件夹是否存在用以安全的创建文件</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> os.path.isdir(densitypath)==<span class="literal">False</span>:</span><br><span class="line">	os.makedirs(densitypath)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">	<span class="keyword">pass</span></span><br><span class="line"><span class="comment"># or利用pathli库</span></span><br><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line">Path(<span class="string">&quot;/mydirectory&quot;</span>).mkdir(parents=<span class="literal">True</span>,exist_ok)</span><br></pre></td></tr></table></figure>



<blockquote>
<ul>
<li>获取目录中所有文件及文件夹list</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">PATH = os.listdir(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(PATH)</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>创建和删除子目录</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.makedirs(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop\\2&#x27;</span>)</span><br><span class="line">os.rmdir(<span class="string">&#x27;C:\\Users\\ASUS\\Desktop\\2&#x27;</span>)</span><br><span class="line">path=os.getcwd()</span><br><span class="line"><span class="built_in">print</span>(path)</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>改文件名</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">os.rename(<span class="string">&#x27;123.txt&#x27;</span>,<span class="string">&#x27;000.txt&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="2-时间"><a href="#2-时间" class="headerlink" title="2. 时间"></a>2. 时间</h3><blockquote>
<ul>
<li>time库</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 打印时间戳</span></span><br><span class="line"><span class="built_in">print</span>(time.time())      <span class="comment"># 打印自从1970年1月1日午夜（历元）经过了多长时间，以秒为单位</span></span><br><span class="line"><span class="comment"># 打印本地时间</span></span><br><span class="line"><span class="built_in">print</span>(time.localtime(time.time()))      <span class="comment"># 打印本地时间</span></span><br><span class="line"><span class="comment"># 打印格式化时间</span></span><br><span class="line"><span class="built_in">print</span>(time.strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>,time.localtime(time.time())))       <span class="comment"># 打印按指定格式排版的时间</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>datetime库</li>
</ul>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 打印当前时间</span></span><br><span class="line">time1 = datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span>(time1)</span><br><span class="line"><span class="comment"># 打印按指定格式排版的时间</span></span><br><span class="line">time2 = datetime.datetime.now().strftime(<span class="string">&#x27;%Y-%m-%d %H:%M:%S&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(time2)</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><a href="https://blog.csdn.net/tszupup/article/details/108128037">https://blog.csdn.net/tszupup/article/details/108128037</a></li>
</ul>
</blockquote>
<h3 id="3-正则表达式操作"><a href="#3-正则表达式操作" class="headerlink" title="3. 正则表达式操作"></a>3. 正则表达式操作</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">rdf1 = <span class="string">&#x27;satC_Si-rdf.dat&#x27;</span></span><br><span class="line">lab1 = re.findall(<span class="string">&#x27;_(.*?)-&#x27;</span>,rdf1)[<span class="number">0</span>]</span><br><span class="line">lab2 = re.findall(<span class="string">&#x27;(.*?)_&#x27;</span>,rdf1)[<span class="number">0</span>]</span><br><span class="line"><span class="built_in">print</span>(lab1,lab2)</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Si satC</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Code</tag>
      </tags>
  </entry>
  <entry>
    <title>Python color and marker</title>
    <url>/MyWiki/wiki/2021/10/19/codes/python/python_color_marker/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Color-对照表"><a href="#Color-对照表" class="headerlink" title="Color 对照表"></a>Color 对照表</h2><h3 id="常用"><a href="#常用" class="headerlink" title="常用"></a>常用</h3><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/python/color_list.md/471725110227061.png" alt="常用"></p>
<h3 id="基础色"><a href="#基础色" class="headerlink" title="基础色"></a>基础色</h3><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/python/color_and_marker.md/38771019239290.png"></p>
<h3 id="Tab"><a href="#Tab" class="headerlink" title="Tab"></a>Tab</h3><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/python/color_and_marker.md/392881019227157.png"></p>
<h3 id="详细"><a href="#详细" class="headerlink" title="详细"></a>详细</h3><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/python/color_list.md/308625210247227.png" alt="详细"></p>
<h2 id="Line类型"><a href="#Line类型" class="headerlink" title="Line类型"></a>Line类型</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">linestyle=<span class="string">&#x27;solid&#x27;</span>    <span class="comment"># &#x27;-&#x27;</span></span><br><span class="line">linestyle=<span class="string">&#x27;dotted&#x27;</span>   <span class="comment"># &#x27;.&#x27;</span></span><br><span class="line">linestyle=<span class="string">&#x27;dashed&#x27;</span>   <span class="comment"># &#x27;--&#x27;</span></span><br><span class="line">linestyle=<span class="string">&#x27;dashdot&#x27;</span>  <span class="comment"># &#x27;-.&#x27;</span></span><br></pre></td></tr></table></figure>



<h2 id="Marker"><a href="#Marker" class="headerlink" title="Marker"></a>Marker</h2><h3 id="常用-1"><a href="#常用-1" class="headerlink" title="常用"></a>常用</h3><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/notes/coding/python/color_and_marker.md/554940519220864.png"></p>
<h3 id="高级Marker"><a href="#高级Marker" class="headerlink" title="高级Marker"></a>高级Marker</h3><figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">可以显示的形状    marker名称</span><br><span class="line">ϖ   <span class="string">\varpi</span></span><br><span class="line">ϱ   <span class="string">\varrho</span></span><br><span class="line">ς   <span class="string">\varsigma</span></span><br><span class="line">ϑ   <span class="string">\vartheta</span></span><br><span class="line">ξ   <span class="string">\xi</span></span><br><span class="line">ζ   <span class="string">\zeta</span></span><br><span class="line">Δ   <span class="string">\Delta</span></span><br><span class="line">Γ   <span class="string">\Gamma</span></span><br><span class="line">Λ   <span class="string">\Lambda</span></span><br><span class="line">Ω   <span class="string">\Omega</span></span><br><span class="line">Φ   <span class="string">\Phi</span></span><br><span class="line">Π   <span class="string">\Pi</span></span><br><span class="line">Ψ   <span class="string">\Psi</span></span><br><span class="line">Σ   <span class="string">\Sigma</span></span><br><span class="line">Θ   <span class="string">\Theta</span></span><br><span class="line">Υ   <span class="string">\Upsilon</span></span><br><span class="line">Ξ   <span class="string">\Xi</span></span><br><span class="line">℧   <span class="string">\mho</span></span><br><span class="line">∇   <span class="string">\nabla</span></span><br><span class="line">ℵ   <span class="string">\aleph</span></span><br><span class="line">ℶ   <span class="string">\beth</span></span><br><span class="line">ℸ   <span class="string">\daleth</span></span><br><span class="line">ℷ   <span class="string">\gimel</span></span><br><span class="line">/   /</span><br><span class="line">[   [</span><br><span class="line">⇓   <span class="string">\Downarrow</span></span><br><span class="line">⇑   <span class="string">\Uparrow</span></span><br><span class="line">‖   <span class="string">\Vert</span></span><br><span class="line">↓   <span class="string">\downarrow</span></span><br><span class="line">⟨   <span class="string">\langle</span></span><br><span class="line">⌈   <span class="string">\lceil</span></span><br><span class="line">⌊   <span class="string">\lfloor</span></span><br><span class="line">⌞   <span class="string">\llcorner</span></span><br><span class="line">⌟   <span class="string">\lrcorner</span></span><br><span class="line">⟩   <span class="string">\rangle</span></span><br><span class="line">⌉   <span class="string">\rceil</span></span><br><span class="line">⌋   <span class="string">\rfloor</span></span><br><span class="line">⌜   <span class="string">\ulcorner</span></span><br><span class="line">↑   <span class="string">\uparrow</span></span><br><span class="line">⌝   <span class="string">\urcorner</span></span><br><span class="line"><span class="string">\vert</span></span><br><span class="line">&#123;   <span class="string">\&#123;</span></span><br><span class="line"><span class="string">\|</span></span><br><span class="line">&#125;   <span class="string">\&#125;</span></span><br><span class="line">]   ]</span><br><span class="line">|</span><br><span class="line">⋂   <span class="string">\bigcap</span></span><br><span class="line">⋃   <span class="string">\bigcup</span></span><br><span class="line">⨀   <span class="string">\bigodot</span></span><br><span class="line">⨁   <span class="string">\bigoplus</span></span><br><span class="line">⨂   <span class="string">\bigotimes</span></span><br><span class="line">⨄   <span class="string">\biguplus</span></span><br><span class="line">⋁   <span class="string">\bigvee</span></span><br><span class="line">⋀   <span class="string">\bigwedge</span></span><br><span class="line">∐   <span class="string">\coprod</span></span><br><span class="line">∫   <span class="string">\int</span></span><br><span class="line">∮   <span class="string">\oint</span></span><br><span class="line">∏   <span class="string">\prod</span></span><br><span class="line">∑   <span class="string">\sum</span></span><br></pre></td></tr></table></figure>

<h3 id="自定义Marker"><a href="#自定义Marker" class="headerlink" title="自定义Marker"></a>自定义Marker</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">plt.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>]=[<span class="string">&#x27;SimHei&#x27;</span>]  <span class="comment"># 用于显示中文</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span>  <span class="comment"># 用于显示中文</span></span><br><span class="line">plt.figure(dpi=<span class="number">200</span>)</span><br><span class="line"><span class="comment">#常规marker使用</span></span><br><span class="line">plt.plot([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],marker=<span class="number">4</span>, markersize=<span class="number">15</span>, color=<span class="string">&#x27;lightblue&#x27;</span>,label=<span class="string">&#x27;常规marker&#x27;</span>)</span><br><span class="line">plt.plot([<span class="number">1.8</span>,<span class="number">2.8</span>,<span class="number">3.8</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],marker=<span class="string">&#x27;2&#x27;</span>, markersize=<span class="number">15</span>, color=<span class="string">&#x27;#ec2d7a&#x27;</span>,label=<span class="string">&#x27;常规marker&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#非常规marker使用</span></span><br><span class="line"><span class="comment">#注意使用两个$符号包围名称</span></span><br><span class="line">plt.plot([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>],marker=<span class="string">&#x27;$\circledR$&#x27;</span>, markersize=<span class="number">15</span>, color=<span class="string">&#x27;r&#x27;</span>, alpha = <span class="number">0.5</span> ,label=<span class="string">&#x27;非常规marker&#x27;</span>)</span><br><span class="line">plt.plot([<span class="number">1.5</span>,<span class="number">2.5</span>,<span class="number">3.5</span>],[<span class="number">1.25</span>,<span class="number">2.1</span>,<span class="number">6.5</span>],marker=<span class="string">&#x27;$\heartsuit$&#x27;</span>, markersize=<span class="number">15</span>, color=<span class="string">&#x27;#f19790&#x27;</span>, alpha=<span class="number">0.5</span>,label=<span class="string">&#x27;非常规marker&#x27;</span>)</span><br><span class="line">plt.plot([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">2.5</span>,<span class="number">6.2</span>,<span class="number">8</span>],marker=<span class="string">&#x27;$\clubsuit$&#x27;</span>, markersize=<span class="number">15</span>, color=<span class="string">&#x27;g&#x27;</span>, alpha=<span class="number">0.5</span>,label=<span class="string">&#x27;非常规marker&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#自定义marker</span></span><br><span class="line">plt.plot([<span class="number">1.2</span>,<span class="number">2.2</span>,<span class="number">3.2</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],marker=<span class="string">&#x27;$666$&#x27;</span>, markersize=<span class="number">15</span>, color=<span class="string">&#x27;#2d0c13&#x27;</span>,label=<span class="string">&#x27;自定义marker&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&#x27;upper left&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> [<span class="string">&#x27;top&#x27;</span>,<span class="string">&#x27;right&#x27;</span>]:</span><br><span class="line">    plt.gca().spines[i].set_visible(<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://www.cnblogs.com/Big-Big-Watermelon/p/14052165.html">14052165.html</a></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Python color and marker</tag>
      </tags>
  </entry>
  <entry>
    <title>Linux Python默认版本设置</title>
    <url>/MyWiki/wiki/2021/10/19/codes/python/python_link/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="查看已经安装的Python版本"><a href="#查看已经安装的Python版本" class="headerlink" title="查看已经安装的Python版本"></a>查看已经安装的Python版本</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">ls</span> /usr/bin/python*</span><br><span class="line"><span class="comment"># out</span></span><br><span class="line">/usr/bin/python2    /usr/bin/python3.8         /usr/bin/python3-futurize</span><br><span class="line">/usr/bin/python2.7  /usr/bin/python3.8-config  /usr/bin/python3-pasteurize</span><br><span class="line">/usr/bin/python3    /usr/bin/python3-config</span><br></pre></td></tr></table></figure>


<h3 id="两种方法设置python3-8为默认版本："><a href="#两种方法设置python3-8为默认版本：" class="headerlink" title="两种方法设置python3.8为默认版本："></a>两种方法设置python3.8为默认版本：</h3><blockquote>
<ul>
<li><ol>
<li>在~&#x2F;.bashrc中添加python别名设置：</li>
</ol>
</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打开.bashrc</span></span><br><span class="line">sudo vim ~/.bashrc</span><br><span class="line"><span class="comment"># 在.bashrc中任意位置添加</span></span><br><span class="line"><span class="built_in">alias</span> python=<span class="string">&quot;/usr/bin/python3.8&quot;</span></span><br><span class="line"><span class="comment"># 保存修改</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>给python3.8设置python软连接</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 删除以前软链接</span></span><br><span class="line">sudo <span class="built_in">rm</span> /usr/bin/python</span><br><span class="line"><span class="comment"># 创建软链</span></span><br><span class="line">sudo <span class="built_in">ln</span> -s /usr/bin/python3.8 /usr/bin/python</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Python默认版本设置</tag>
        <tag>Ubuntu20.04</tag>
      </tags>
  </entry>
  <entry>
    <title>Python奇淫巧计-1</title>
    <url>/MyWiki/wiki/2022/06/16/codes/python/python_skills_1/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="图像处理"><a href="#图像处理" class="headerlink" title="图像处理"></a>图像处理</h2><h3 id="旋转图片"><a href="#旋转图片" class="headerlink" title="旋转图片"></a>旋转图片</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">Rotation</span>(<span class="params">image,degree</span>):</span><br><span class="line">    src= image</span><br><span class="line">    rows, cols, channel = src.shape</span><br><span class="line">    <span class="comment"># 绕中心旋转</span></span><br><span class="line">    <span class="comment"># 参数：旋转中心,旋转度数,scale</span></span><br><span class="line">    M = cv2.getRotationMatrix2D((cols/<span class="number">2</span>, rows/<span class="number">2</span>), degree, <span class="number">1.09</span>)</span><br><span class="line">    <span class="comment"># 参数: 原始图像,旋转参数, 元素图像高度</span></span><br><span class="line">    rotated = cv2.warpAffine(src, M, (cols, rows),borderValue=(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>))</span><br><span class="line">    <span class="comment"># 显示旋转后的图像</span></span><br><span class="line">    <span class="comment"># cv2.imshow(&quot;demo1&quot;, rotated)</span></span><br><span class="line">    cv2.waitKey()</span><br><span class="line">    cv2.destroyAllWindows()</span><br><span class="line">    <span class="keyword">return</span> rotated</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">180</span>):</span><br><span class="line">    image = cv2.imread(<span class="string">&#x27;./fig.png&#x27;</span>)</span><br><span class="line">    img = Rotation(image, -i)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># cv2.imshow(&#x27;ww1&#x27;, img)</span></span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">    cv2.waitKey()</span><br><span class="line">    cv2.imwrite(<span class="string">&quot;./img/rotateImg_&quot;</span>+<span class="built_in">str</span>(i)+<span class="string">&quot;.png&quot;</span>,img)</span><br></pre></td></tr></table></figure>

<h2 id="python函数模块化，并安装在本地调用"><a href="#python函数模块化，并安装在本地调用" class="headerlink" title="python函数模块化，并安装在本地调用"></a>python函数模块化，并安装在本地调用</h2><ul>
<li>首先，把编写好的函数写在一个指定文件(example：xxx.py)里，并放到一个文件夹(example：xxx)里。</li>
<li>接着，在这个文件夹里写一个setup.py文件，文件内容例如：</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">$ <span class="keyword">from</span> distutils.core <span class="keyword">import</span> setup</span><br><span class="line"></span><br><span class="line">$ setup(</span><br><span class="line">$ name         = <span class="string">&#x27;thermal_conductivity&#x27;</span>,</span><br><span class="line">$ version      = <span class="string">&#x27;1.0.0&#x27;</span>,</span><br><span class="line">$ py_modules   = [<span class="string">&#x27;thermal_conductivity&#x27;</span>],</span><br><span class="line">$ author       = <span class="string">&#x27;eastsheng&#x27;</span>,</span><br><span class="line">$ author_email = <span class="string">&#x27;eastsheng@hotmail.com&#x27;</span>,</span><br><span class="line">$ url          = <span class="string">&#x27;https://github.com/eastsheng&#x27;</span>,</span><br><span class="line">$ description  = <span class="string">&#x27;Calculate thermal conductivity according to NEMD dump.&#x27;</span></span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>打包前MANIFEST.in包括和排除文件&#x2F;文件夹</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 包含匹配指定模式的文件</span></span><br><span class="line">include example.txt</span><br><span class="line"><span class="comment"># 排除匹配指定模式的文件</span></span><br><span class="line">exclude example.txt</span><br><span class="line"><span class="comment"># 递归地包含匹配指定模式的文件</span></span><br><span class="line">recursive-include dir_name *.txt</span><br><span class="line"><span class="comment"># 递归地排除匹配指定模式的文件</span></span><br><span class="line">recursive-exclude dir_name *.txt</span><br><span class="line"><span class="comment"># 包含指定目录及其所有内容</span></span><br><span class="line">graft dir_name</span><br><span class="line"><span class="comment"># 排除指定目录及其所有内容</span></span><br><span class="line">prune dir_name</span><br><span class="line"><span class="comment"># 包含所有匹配指定模式的文件</span></span><br><span class="line"><span class="keyword">global</span>-include *.txt</span><br><span class="line"><span class="comment"># 排除所有匹配指定模式的文件</span></span><br><span class="line"><span class="keyword">global</span>-exclude *.pyc</span><br></pre></td></tr></table></figure>



<ul>
<li>然后，在此文件夹里打开cmd，输入：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ python setup.py sdist</span><br></pre></td></tr></table></figure>

<ul>
<li>最后，安装此模块到本地，输入：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ pip install .</span><br></pre></td></tr></table></figure>



<h2 id="python包上传至PYPI"><a href="#python包上传至PYPI" class="headerlink" title="python包上传至PYPI"></a>python包上传至PYPI</h2><ul>
<li><p>安装 <code>setuptools</code> 和 <code>wheel</code> 库，这两个库是 Python 的包打包工具，可以用来生成安装包和源码包，<code>twine</code>用来上传PyPI：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install setuptools wheel</span><br><span class="line">pip install twine</span><br></pre></td></tr></table></figure>
</li>
<li><p>编写 <code>setup.py</code> 文件，这个文件描述了项目的元数据和打包方式。这个文件通常位于项目的根目录下，下面是一个示例：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;run this</span></span><br><span class="line"><span class="string">python setup.py sdist</span></span><br><span class="line"><span class="string">pip install .</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># from distutils.core import setup</span></span><br><span class="line"><span class="keyword">from</span> setuptools <span class="keyword">import</span> setup, find_packages</span><br><span class="line"></span><br><span class="line">setup(</span><br><span class="line">name         = <span class="string">&#x27;ReadLog&#x27;</span>,</span><br><span class="line">version      = <span class="string">&#x27;1.1.0&#x27;</span>,</span><br><span class="line">py_modules   = [<span class="string">&#x27;ReadLog&#x27;</span>],</span><br><span class="line">author       = <span class="string">&#x27;CHENDONGSHENG&#x27;</span>,</span><br><span class="line">author_email = <span class="string">&#x27;eastsheng@hotmail.com&#x27;</span>,</span><br><span class="line">packages=find_packages(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">package_dir=&#123;<span class="string">&#x27;&#x27;</span>: <span class="string">&#x27;src&#x27;</span>&#125;,</span><br><span class="line">install_requires=<span class="built_in">open</span>(<span class="string">&#x27;requirements.txt&#x27;</span>).readlines(),</span><br><span class="line">url          = <span class="string">&#x27;https://github.com/eastsheng/ReadLog&#x27;</span>,</span><br><span class="line">description  = <span class="string">&#x27;Read themo info from lammps output file or log file&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
</li>
<li><p>在项目的根目录下执行以下命令生成源码包和安装包：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python setup.py sdist</span><br><span class="line">twine upload dist/*</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="打包Python程序为exe"><a href="#打包Python程序为exe" class="headerlink" title="打包Python程序为exe"></a>打包Python程序为exe</h2><p><em>打包后可以在Windows上运行，而不需要安装程序里需要的各种包。</em></p>
<p><strong>（1）. 安装第三方包pyinstaller</strong></p>
<p><strong>（2）. 在cmd命令行输入:</strong></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pip install pyinstaller</span><br></pre></td></tr></table></figure>

<p><strong>（3）. 如果嫌慢，或者失败，可以用国内镜像网址下载安装:</strong></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pip install pyinstaller -i https://pypi.douban.com/simple</span><br></pre></td></tr></table></figure>
<p>或者设置Windows国内镜像，具体参考<a href="http://www.ipaomi.com/2017/11/04/python-pip-%e4%b8%8b%e8%bd%bd%e9%80%9f%e5%ba%a6%e6%85%a2-windows-%e8%ae%be%e7%bd%ae-%e5%9b%bd%e5%86%85%e6%ba%90%ef%bc%8c%e7%94%a8-%e9%98%bf%e9%87%8c%e4%ba%91-%e5%9b%bd%e5%86%85%e9%95%9c%e5%83%8f/">这里</a>:</p>
<ul>
<li><p>在 windows “文件资源管理器” 地址栏 输入 <code>%APPDATA%</code> 回车；或者直接找到路径<code>C:\Users\yourcomputer\AppData\Roaming</code></p>
</li>
<li><p>创建名为<code>pip</code>的文件夹</p>
</li>
<li><p>在里面新建名为 <code>pip.ini</code> 的配置文件</p>
</li>
<li><p>在 pip.ini 文件中输入以下内容，然后保存</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[global]</span><br><span class="line">index-url=http://mirrors.aliyun.com/pypi/simple/</span><br><span class="line">[install]</span><br><span class="line">trusted-host=mirrors.aliyun.com</span><br></pre></td></tr></table></figure>
</li>
<li><p>然后可以试试快不快</p>
</li>
</ul>
<p><strong>（4）. cmd执行：</strong></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pyinstaller -F filename.py </span><br></pre></td></tr></table></figure>

<p><strong>（5）. 还可以给程序加个图标：</strong></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pyinstaller -i &lt;图标名.ico&gt; -F filename.py</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>（6）. 其他需要用到的命令</strong></p>
<figure class="highlight cmd"><table><tr><td class="code"><pre><span class="line">pyinstaller -h             为查看<span class="built_in">help</span>命令</span><br><span class="line">pyinstaller --clean        为清理打包过程中的临时文件</span><br><span class="line">pyinstaller -D,--onedir    为默认值，生成dist文件夹</span><br><span class="line">pyinstaller -F，--onefile  为在dist文件夹中只生成独立的打包文件</span><br><span class="line">pyinstaller -i &lt;图标名.ico&gt; -F filename.py为指定打包程序使用的图标文件</span><br></pre></td></tr></table></figure>

<h3 id="turtle画太极"><a href="#turtle画太极" class="headerlink" title="turtle画太极"></a>turtle画太极</h3><p><strong>画太极；打包后的<a href="https://github.com/eastsheng/Daily-file">exe文件</a></strong></p>
<img src="https://s1.ax1x.com/2020/06/24/NwZkjA.jpg" alt="太极" border="0" />


<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#画个太极阴阳鱼</span></span><br><span class="line"><span class="keyword">import</span> turtle</span><br><span class="line">turtle.setup(<span class="number">0.5</span>,<span class="number">0.6</span>,<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">turtle.speed(<span class="number">10</span>)</span><br><span class="line"><span class="comment"># #大圆</span></span><br><span class="line"><span class="comment"># turtle.penup()</span></span><br><span class="line"><span class="comment"># turtle.goto(0,-160)</span></span><br><span class="line"><span class="comment"># turtle.pendown()</span></span><br><span class="line"><span class="comment"># turtle.circle(180)</span></span><br><span class="line"><span class="comment">#画阴鱼</span></span><br><span class="line">turtle.begin_fill()</span><br><span class="line">turtle.fillcolor(<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">turtle.left(<span class="number">180</span>)</span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(<span class="number">0</span>,<span class="number">200</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.circle(<span class="number">90</span>,<span class="number">180</span>)</span><br><span class="line">turtle.circle(-<span class="number">90</span>,<span class="number">180</span>)</span><br><span class="line">turtle.left(<span class="number">180</span>)</span><br><span class="line">turtle.circle(<span class="number">180</span>,<span class="number">180</span>)</span><br><span class="line">turtle.end_fill()</span><br><span class="line"><span class="comment">#画阴鱼</span></span><br><span class="line">turtle.circle(<span class="number">180</span>,<span class="number">180</span>)</span><br><span class="line"><span class="comment">#白眼</span></span><br><span class="line">turtle.begin_fill()</span><br><span class="line">turtle.fillcolor(<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(<span class="number">0</span>,<span class="number">80</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.circle(<span class="number">40</span>)</span><br><span class="line">turtle.end_fill()</span><br><span class="line"><span class="comment">#黑眼</span></span><br><span class="line">turtle.begin_fill()</span><br><span class="line">turtle.fillcolor(<span class="string">&#x27;black&#x27;</span>)</span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(<span class="number">0</span>,-<span class="number">120</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.circle(<span class="number">40</span>)</span><br><span class="line">turtle.end_fill()</span><br><span class="line"><span class="comment">#太极</span></span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(-<span class="number">275</span>,<span class="number">0</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.write(<span class="string">&quot;太&quot;</span>,font=(<span class="string">&quot;华文行楷&quot;</span>,<span class="number">30</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(-<span class="number">275</span>,-<span class="number">50</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.write(<span class="string">&quot;极&quot;</span>,font=(<span class="string">&quot;华文行楷&quot;</span>,<span class="number">30</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(<span class="number">200</span>,-<span class="number">120</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.write(<span class="string">&quot;---2020/3/17&quot;</span>,font=(<span class="string">&quot;方正&quot;</span>,<span class="number">12</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line">turtle.penup()</span><br><span class="line">turtle.goto(<span class="number">250</span>,-<span class="number">150</span>)</span><br><span class="line">turtle.pendown()</span><br><span class="line">turtle.write(<span class="string">&quot;sheng&quot;</span>,font=(<span class="string">&quot;华文行楷&quot;</span>,<span class="number">12</span>,<span class="string">&quot;normal&quot;</span>))</span><br><span class="line"></span><br><span class="line">turtle.hideturtle()</span><br><span class="line">turtle.done()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="if-name-x3D-x3D-‘main‘"><a href="#if-name-x3D-x3D-‘main‘" class="headerlink" title="if name &#x3D;&#x3D; ‘main‘:"></a>if <strong>name</strong> &#x3D;&#x3D; ‘<strong>main</strong>‘:</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br></pre></td></tr></table></figure>
<ul>
<li>为什么有的执行代码前都要写一个if</li>
<li><code>__name__</code>是<code>Python</code>中一个隐含的变量它代表了模块的名字</li>
<li>只有被<code>Python</code>解释器直接执行的模块的名字才是<code>__main__</code></li>
<li>也即是，除非直接执行该代码，否则是不会执行<code>if __name__ == &#39;__main__&#39;:</code>下面的代码的。</li>
<li><code>if __name__ == &#39;__main__&#39;:</code>下的变量是全局变量</li>
</ul>
<h2 id="文件、路径后缀等操作"><a href="#文件、路径后缀等操作" class="headerlink" title="文件、路径后缀等操作"></a>文件、路径后缀等操作</h2><h3 id="os-path-split-分离文件路径与文件名"><a href="#os-path-split-分离文件路径与文件名" class="headerlink" title="os.path.split()   分离文件路径与文件名"></a>os.path.split()   分离文件路径与文件名</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">fullpath = <span class="string">&#x27;E:/xxx/xxx.py&#x27;</span></span><br><span class="line">(path, f) = os.path.split(fullpath)</span><br><span class="line"><span class="comment"># print(path, f)</span></span><br><span class="line"><span class="comment"># E:/xxx xxx.py</span></span><br></pre></td></tr></table></figure>

<h3 id="os-path-splitext-分离文件名与后缀"><a href="#os-path-splitext-分离文件名与后缀" class="headerlink" title="os.path.splitext()   分离文件名与后缀"></a>os.path.splitext()   分离文件名与后缀</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">filename = <span class="string">&#x27;xxx.py&#x27;</span></span><br><span class="line">(f, suffix) = os.path.splitext(filename)</span><br><span class="line"><span class="comment"># print(f, suffix)</span></span><br><span class="line"><span class="comment"># xxx .py</span></span><br></pre></td></tr></table></figure>

<h2 id="字典操作"><a href="#字典操作" class="headerlink" title="字典操作"></a>字典操作</h2><h3 id="定义字典"><a href="#定义字典" class="headerlink" title="定义字典"></a>定义字典</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">HeavyOil_dict =&#123;</span><br><span class="line">            <span class="string">&quot;Sat&quot;</span>:[<span class="number">1</span>,<span class="number">83</span>],</span><br><span class="line">            <span class="string">&quot;Aro&quot;</span>:[<span class="number">84</span>,<span class="number">117</span>],</span><br><span class="line">            <span class="string">&quot;Res&quot;</span>:[<span class="number">118</span>,<span class="number">170</span>],</span><br><span class="line">            <span class="string">&quot;Asp&quot;</span>:[<span class="number">171</span>,<span class="number">235</span>]&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字典键索引值"><a href="#字典键索引值" class="headerlink" title="字典键索引值"></a>字典键索引值</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">HeavyOil_dict[<span class="string">&quot;Sat&quot;</span>]</span><br></pre></td></tr></table></figure>

<h3 id="字典不能索引"><a href="#字典不能索引" class="headerlink" title="字典不能索引"></a>字典不能索引</h3><ul>
<li>字典不能索引，可以直接改为<code>list</code>后索引<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">HeavyOil_Label = <span class="built_in">list</span>(HeavyOil_dict.keys())</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="List操作"><a href="#List操作" class="headerlink" title="List操作"></a>List操作</h2><h3 id="去除list的括号与引号"><a href="#去除list的括号与引号" class="headerlink" title="去除list的括号与引号"></a>去除list的括号与引号</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">lc = <span class="string">&quot;\t&quot;</span>.join(<span class="built_in">str</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> l)</span><br></pre></td></tr></table></figure>
<h3 id="列表解析式"><a href="#列表解析式" class="headerlink" title="列表解析式"></a>列表解析式</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#普通</span></span><br><span class="line"></span><br><span class="line">a=[]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>):</span><br><span class="line">	a.append(i)</span><br><span class="line"><span class="built_in">print</span>(a)</span><br><span class="line"><span class="comment">#1.列表解析式</span></span><br><span class="line">b=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)]</span><br><span class="line"><span class="built_in">print</span>(b)</span><br><span class="line"><span class="comment">#结果[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br><span class="line"><span class="comment">#其中第一个i表示要放入b列表中的数据，进一步理解</span></span><br><span class="line">c=[i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)]</span><br><span class="line"><span class="built_in">print</span>(c)</span><br><span class="line"><span class="comment">#结果[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</span></span><br><span class="line"><span class="comment">#2.字典类型的解析式</span></span><br><span class="line">d=&#123;i:i**<span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">11</span>)&#125;</span><br><span class="line"><span class="built_in">print</span>(d)</span><br><span class="line"><span class="comment">#结果&#123;1: 1, 2: 4, 3: 9, 4: 16, 5: 25, 6: 36, 7: 49, 8: 64, 9: 81, 10: 100&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="count某个元素在列表中出现的次数"><a href="#count某个元素在列表中出现的次数" class="headerlink" title="count某个元素在列表中出现的次数"></a>count某个元素在列表中出现的次数</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">some_list = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;n&#x27;</span>]</span><br><span class="line">m = some_list.count(<span class="string">&quot;b&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(m)</span><br></pre></td></tr></table></figure>






<h2 id="Useful-Python-Librarys"><a href="#Useful-Python-Librarys" class="headerlink" title="Useful Python Librarys"></a>Useful Python Librarys</h2><ul>
<li>用于制作简单 GUI 程序的 Python 库。换一种简单的方式写 GUI（图形用户界面）程序</li>
</ul>
<p><img src="https://img.hellogithub.com/i/9rplOBJshj6czmG.png"></p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> guietta <span class="keyword">import</span> _, Gui, Quit</span><br><span class="line">gui = Gui(</span><br><span class="line">    [ <span class="string">&quot;Enter numbers:&quot;</span>,  <span class="string">&quot;__a__&quot;</span>, <span class="string">&quot;+&quot;</span>, <span class="string">&quot;__b__&quot;</span>, [<span class="string">&quot;Calculate&quot;</span>] ],</span><br><span class="line">    [    <span class="string">&quot;Result: --&gt;&quot;</span>, <span class="string">&quot;result&quot;</span>,   _,       _,             _ ],</span><br><span class="line">    [                _,        _,   _,       _,          Quit ]</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> gui.Calculate:</span><br><span class="line">    gui.result = <span class="built_in">float</span>(gui.a) + <span class="built_in">float</span>(gui.b)</span><br><span class="line"></span><br><span class="line">gui.run()</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>参考 <a href="https://hellogithub.com/periodical/category/Python%20%E9%A1%B9%E7%9B%AE/?page=3">https://hellogithub.com/periodical/category/Python%20%E9%A1%B9%E7%9B%AE/?page=3</a></li>
</ul>
<h2 id="导出与安装requirements-txt"><a href="#导出与安装requirements-txt" class="headerlink" title="导出与安装requirements.txt"></a>导出与安装requirements.txt</h2><ul>
<li><p>导出环境中所有依赖库</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>
</li>
<li><p>指定项目文件夹中依赖库</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pipreqs</span><br><span class="line">pipreqs xxx <span class="comment">## xxx代表项目路径</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在其他环境安装<code>requirements.txt</code>中依赖库</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install -r  requirements.txt </span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="运行Python时传入参数"><a href="#运行Python时传入参数" class="headerlink" title="运行Python时传入参数"></a>运行Python时传入参数</h2><ul>
<li>args_kwargs用法：<a href="https://docs.pythontab.com/interpy/args_kwargs/Usage_args/">https://docs.pythontab.com/interpy/args_kwargs/Usage_args/</a></li>
</ul>
<h3 id="具体实现"><a href="#具体实现" class="headerlink" title="具体实现"></a>具体实现</h3><ul>
<li>如下<code>run.py</code>：<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">x = sys.argv[<span class="number">1</span>] <span class="comment"># 传入参数1</span></span><br><span class="line">y = sys.argv[<span class="number">2</span>] <span class="comment"># 传入参数2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;第一个参数为：&quot;</span>,x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;第二个参数为：&quot;</span>,y)</span><br></pre></td></tr></table></figure></li>
<li>具体运行方法：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python run.py 1 2</span><br></pre></td></tr></table></figure></li>
<li>output<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">第一个参数为： 1</span><br><span class="line">第二个参数为： 2</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="若要可以直接运行脚本"><a href="#若要可以直接运行脚本" class="headerlink" title="若要可以直接运行脚本"></a>若要可以直接运行脚本</h3><ul>
<li>如在Linux中运行，可在脚本中添加<code>#!/usr/bin/python</code><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">x = sys.argv[<span class="number">1</span>] <span class="comment"># 传入参数1</span></span><br><span class="line">y = sys.argv[<span class="number">2</span>] <span class="comment"># 传入参数2</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;第一个参数为：&quot;</span>,x)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;第二个参数为：&quot;</span>,y)</span><br></pre></td></tr></table></figure></li>
<li>若要可执行，还需给脚本设置权限<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">chmod</span> +x ./run.py <span class="comment"># 视情况添加sudo</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Python调用其他语言"><a href="#Python调用其他语言" class="headerlink" title="Python调用其他语言"></a>Python调用其他语言</h2><h3 id="调用C-x2F-C"><a href="#调用C-x2F-C" class="headerlink" title="调用C&#x2F;C++"></a>调用C&#x2F;C++</h3><h4 id="1-CTypes"><a href="#1-CTypes" class="headerlink" title="1. CTypes"></a>1. CTypes</h4><ul>
<li>参考：<a href="https://zhuanlan.zhihu.com/p/71243212">https://zhuanlan.zhihu.com/p/71243212</a></li>
<li>参考：<a href="https://physicspython.wordpress.com/2020/11/11/using-c-functions-in-python/">https://physicspython.wordpress.com/2020/11/11/using-c-functions-in-python/</a></li>
<li>生成<code>test.so</code>动态链接库文件:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">g++ -o test.so -shared -fPIC test.cpp</span><br></pre></td></tr></table></figure></li>
<li>Python调用C++</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ctypes</span><br><span class="line">CL = ctypes.cdll.LoadLibrary</span><br><span class="line">lib = CL(<span class="string">&quot;./test.so&quot;</span>)</span><br><span class="line">lib.func()</span><br></pre></td></tr></table></figure>

<h4 id="2-SWIG"><a href="#2-SWIG" class="headerlink" title="2. SWIG"></a>2. SWIG</h4><h4 id="3-Python-x2F-C-API"><a href="#3-Python-x2F-C-API" class="headerlink" title="3. Python&#x2F;C API"></a>3. <a href="https://www.docs4dev.com/docs/zh/python/3.7.2rc1/all/c-api-index.html">Python&#x2F;C API</a></h4><h4 id="4-Cython"><a href="#4-Cython" class="headerlink" title="4. Cython"></a>4. Cython</h4><h3 id="调用Fortran"><a href="#调用Fortran" class="headerlink" title="调用Fortran"></a>调用Fortran</h3><h4 id="使用numpy中的f2py"><a href="#使用numpy中的f2py" class="headerlink" title="使用numpy中的f2py"></a>使用numpy中的<code>f2py</code></h4><ul>
<li><blockquote>
<p>hello_fortran.f90</p>
</blockquote>
</li>
</ul>
<figure class="highlight f90"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">subroutine</span></span> hello (a)</span><br><span class="line">	<span class="keyword">implicit</span> <span class="keyword">none</span></span><br><span class="line">	<span class="keyword">integer</span> a</span><br><span class="line">	<span class="built_in">write</span>(*,*)<span class="string">&#x27;Hello from Fortran90!!!&#x27;</span>, a </span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">subroutine</span></span> hello</span><br></pre></td></tr></table></figure>
<ul>
<li><blockquote>
<p>使用<code>f2py</code>编译fortran</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">f2py -m hello_fortran -c hello_fortran.f90</span><br></pre></td></tr></table></figure></li>
<li><blockquote>
<p>python中调用</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> hello_fortran <span class="keyword">as</span> hf</span><br><span class="line">hf.hello(<span class="number">45</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="减少内存占用"><a href="#减少内存占用" class="headerlink" title="减少内存占用"></a>减少内存占用</h2><h3 id="slots-例子："><a href="#slots-例子：" class="headerlink" title="__slots__例子："></a>__slots__例子：</h3><ul>
<li>创建许多对象（成千上万个），它会消耗掉很多内存<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyClass</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    __slots__ = [<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;identifier&#x27;</span>]</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, identifier</span>):</span><br><span class="line">        self.name = name</span><br><span class="line">        self.identifier = identifier</span><br><span class="line">        self.set_up()</span><br><span class="line">    <span class="comment"># ...</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="pypy安装"><a href="#pypy安装" class="headerlink" title="pypy安装"></a>pypy安装</h2><h3 id="Linux命令行安装pypy和pypy3"><a href="#Linux命令行安装pypy和pypy3" class="headerlink" title="Linux命令行安装pypy和pypy3"></a>Linux命令行安装pypy和pypy3</h3><figure class="highlight applescript"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="keyword">get</span> install pypy pypy-dev <span class="comment">#pypy2</span></span><br><span class="line">sudo apt-<span class="keyword">get</span> install pypy3 <span class="comment">#pypy3</span></span><br></pre></td></tr></table></figure>

<h3 id="Linux手动安装pypy3"><a href="#Linux手动安装pypy3" class="headerlink" title="Linux手动安装pypy3"></a>Linux手动安装pypy3</h3><ul>
<li><a href="http://pypy.org/">官网</a>下载最新的pypy版本，直接解压<code>tar -xf pypy3.8-v7.3.7-linux64.tar.bz2</code></li>
<li>创建软链：<code>sudo ln -s /root/pypy3-v6.0.0-linux64/bin/pypy3 /usr/local/bin</code> 创建软链</li>
<li>pypy安装成功，输入pypy3测试 pypy3 xxx.py 运行python文件</li>
<li>然后开始安装pip命令<blockquote>
<ul>
<li>下载 <code>wget https://bootstrap.pypa.io/get-pip.py</code></li>
<li>然后执行<code>pypy3 get-pip.py</code></li>
<li>测试pip是否安装成功<code>pypy -m pip install numpy</code></li>
</ul>
</blockquote>
</li>
<li>还可安装自己的库：<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">pypy3 setup.py install</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="卸载pypy"><a href="#卸载pypy" class="headerlink" title="卸载pypy"></a>卸载pypy</h3><ul>
<li>完全卸载pypy（软件及相关配置）<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> <span class="built_in">remove</span> --purge pypy</span><br></pre></td></tr></table></figure></li>
<li>完全卸载pypy及其依赖软件（慎用！这里会删除pypy及依赖pypy的软件包，一般上面第一条命令已经够用）<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> <span class="built_in">remove</span> --auto-<span class="built_in">remove</span> pypy</span><br><span class="line">sudo apt-<span class="built_in">get</span> purge --auto-<span class="built_in">remove</span> pypy</span><br></pre></td></tr></table></figure></li>
<li>清除pypy及其依赖软件的安装包<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">sudo apt-<span class="built_in">get</span> autoclean pypy</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h3><ul>
<li>部分第三方库不兼容</li>
<li>从<a href="http://packages.pypy.org/">此处</a>查看</li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li>[1] <a href="https://blog.csdn.net/weixin_43980524/article/details/85195409">https://blog.csdn.net/weixin_43980524/article/details/85195409</a></li>
</ul>
<h2 id="自动给数字前面补0的方法"><a href="#自动给数字前面补0的方法" class="headerlink" title="自动给数字前面补0的方法"></a>自动给数字前面补0的方法</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">n = <span class="string">&quot;123&quot;</span></span><br><span class="line">s = n.zfill(<span class="number">5</span>)</span><br><span class="line"><span class="comment"># output</span></span><br><span class="line">00123</span><br></pre></td></tr></table></figure>

<h2 id="一款-AI-修复神器Lama-Cleaner"><a href="#一款-AI-修复神器Lama-Cleaner" class="headerlink" title="一款 AI 修复神器Lama Cleaner"></a>一款 AI 修复神器<a href="https://github.com/Sanster/lama-cleaner">Lama Cleaner</a></h2><ul>
<li>安装好后，就可以启动一个 web 服务了。<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install lama-cleaner</span><br><span class="line"><span class="comment"># Models will be downloaded at first time used</span></span><br><span class="line">lama-cleaner --model=lama --device=cpu --port=8080</span><br><span class="line"><span class="comment"># Lama Cleaner is now running at http://localhost:8080</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="查找路径下目录或文件glob"><a href="#查找路径下目录或文件glob" class="headerlink" title="查找路径下目录或文件glob"></a>查找路径下目录或文件glob</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">定义一个函数，搜索e f盘下的所有文件和目录，并返回一个列表(这里使用import glob)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>():</span><br><span class="line">    f = glob.glob(<span class="string">r&#x27;E:\E-book\*&#x27;</span>) <span class="comment">#返回一个列表</span></span><br><span class="line">    <span class="built_in">print</span>(f)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">searchi</span>():</span><br><span class="line">    f = glob.glob(<span class="string">r&#x27;F:\*.bin&#x27;</span>) <span class="comment">#返回一个路径或文件</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> f:</span><br><span class="line">        <span class="built_in">print</span>(i)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    search()</span><br><span class="line">    searchi()</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Tutorials</tag>
      </tags>
  </entry>
  <entry>
    <title>Python奇淫巧计-2</title>
    <url>/MyWiki/wiki/2023/03/16/codes/python/python_skills_2/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="修改jupyter-lab默认浏览器"><a href="#修改jupyter-lab默认浏览器" class="headerlink" title="修改jupyter lab默认浏览器"></a>修改<code>jupyter lab</code>默认浏览器</h2><ul>
<li><p>设置Windows chrome浏览器软链至wsl2 ubuntu</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo <span class="built_in">ln</span> -sf /mnt/d/softwares/Google/Chrome/Application/chrome.exe /usr/bin/chrome</span><br></pre></td></tr></table></figure>

<ul>
<li>输入<code>chrome</code>测试是否能打开浏览器</li>
</ul>
</li>
<li><p>生成<code>jupyter_lab_config.py</code></p>
<figure class="highlight verilog"><table><tr><td class="code"><pre><span class="line">jupyter lab --<span class="keyword">generate</span>-<span class="keyword">config</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>将下面代码粘贴至：<code>jupyter_lab_config.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> webbrowser</span><br><span class="line">webbrowser.register(<span class="string">&#x27;chrome&#x27;</span>,<span class="literal">None</span>,webbrowser.GenericBrowser(<span class="string">&#x27;/usr/bin/chrome&#x27;</span>))</span><br><span class="line">c.NotebookApp.browser = <span class="string">&#x27;chrome&#x27;</span></span><br><span class="line">c.NotebookApp.use_redirect_file = <span class="literal">False</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="寻找并拟合峰"><a href="#寻找并拟合峰" class="headerlink" title="寻找并拟合峰"></a>寻找并拟合峰</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> scipy.signal <span class="keyword">import</span> find_peaks</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.optimize <span class="keyword">import</span> curve_fit</span><br><span class="line"><span class="comment"># 以下函数不保证正确，只看方法</span></span><br><span class="line"><span class="comment"># 定义洛伦兹函数</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">lorentz_func</span>(<span class="params">x, a, b, c</span>):</span><br><span class="line">    <span class="keyword">return</span> a / (<span class="number">1</span> + ((x-b)/c)**<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">1000</span>)</span><br><span class="line">y = np.sin(x) + <span class="number">0.5</span> * np.sin(<span class="number">3</span>*x) + <span class="number">0.2</span> * np.sin(<span class="number">5</span>*x)</span><br><span class="line"></span><br><span class="line">peaks, _ = find_peaks(y)</span><br><span class="line"></span><br><span class="line">peak_positions = x[peaks]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 对每个峰进行拟合</span></span><br><span class="line">peak_params = []</span><br><span class="line"><span class="keyword">for</span> peak_pos <span class="keyword">in</span> peak_positions:</span><br><span class="line">    <span class="comment"># 提取拟合区域</span></span><br><span class="line">    x_fit = x[(x &gt; peak_pos - <span class="number">0.1</span>) &amp; (x &lt; peak_pos + <span class="number">0.1</span>)]</span><br><span class="line">    y_fit = y[(x &gt; peak_pos - <span class="number">0.1</span>) &amp; (x &lt; peak_pos + <span class="number">0.1</span>)]</span><br><span class="line">    <span class="comment"># print(x_fit,y_fit)</span></span><br><span class="line">    <span class="comment"># 进行拟合</span></span><br><span class="line">    init_params = [y_fit.<span class="built_in">max</span>(), peak_pos, <span class="number">0.01</span>]  <span class="comment"># 初始拟合参数，可根据实际情况修改</span></span><br><span class="line">    <span class="comment"># print(init_params)</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        params, _ = curve_fit(lorentz_func, x_fit, y_fit, p0=init_params)</span><br><span class="line">        peak_params.append(params)</span><br><span class="line">    <span class="keyword">except</span> RuntimeError:</span><br><span class="line">        <span class="comment"># 如果拟合失败则跳过</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;pass&quot;</span>)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># 提取每个峰的弛豫时间</span></span><br><span class="line">fre = [params[<span class="number">1</span>] <span class="keyword">for</span> params <span class="keyword">in</span> peak_params]</span><br><span class="line">relax_times = [<span class="number">1</span>/(<span class="number">2</span>*params[<span class="number">2</span>]) <span class="keyword">for</span> params <span class="keyword">in</span> peak_params]</span><br><span class="line"><span class="built_in">print</span>(fre,relax_times)</span><br><span class="line">plt.plot(x, y)</span><br><span class="line">plt.plot(x[peaks], y[peaks], <span class="string">&quot;x&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>





<h2 id="文件判断"><a href="#文件判断" class="headerlink" title="文件判断"></a>文件判断</h2><h3 id="判断某个文件夹是否存在"><a href="#判断某个文件夹是否存在" class="headerlink" title="判断某个文件夹是否存在"></a>判断某个文件夹是否存在</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.exists(<span class="string">&#x27;文件路径&#x27;</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;文件夹存在&#x27;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;文件夹不存在&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="判断某个文件是否存在"><a href="#判断某个文件是否存在" class="headerlink" title="判断某个文件是否存在"></a>判断某个文件是否存在</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">filename = <span class="string">&quot;example.txt&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> os.path.isfile(filename):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;文件存在&quot;</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;文件不存在&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="列表解析式（List-comprehension）实现矩阵转置"><a href="#列表解析式（List-comprehension）实现矩阵转置" class="headerlink" title="列表解析式（List comprehension）实现矩阵转置"></a>列表解析式（List comprehension）实现矩阵转置</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">matrix = [[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>], [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]]</span><br><span class="line">transpose = [[row[i] <span class="keyword">for</span> row <span class="keyword">in</span> matrix] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(matrix[<span class="number">0</span>]))]</span><br><span class="line"><span class="built_in">print</span>(matrix)</span><br><span class="line"><span class="built_in">print</span>(transpose)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">out</span></span><br><span class="line"><span class="string">[[1, 2, 3], [4, 5, 6], [7, 8, 9]]</span></span><br><span class="line"><span class="string">[[1, 4, 7], [2, 5, 8], [3, 6, 9]]</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="同时遍历两个序列"><a href="#同时遍历两个序列" class="headerlink" title="同时遍历两个序列"></a>同时遍历两个序列</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">names = [<span class="string">&quot;Alice&quot;</span>, <span class="string">&quot;Bob&quot;</span>, <span class="string">&quot;Charlie&quot;</span>]</span><br><span class="line">ages = [<span class="number">25</span>, <span class="number">30</span>, <span class="number">35</span>]</span><br><span class="line"><span class="keyword">for</span> i, (name, age) <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">zip</span>(names, ages)):</span><br><span class="line">    <span class="built_in">print</span>(i, name, age)</span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">0 Alice 25</span></span><br><span class="line"><span class="string">1 Bob 30</span></span><br><span class="line"><span class="string">2 Charlie 35</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span>     </span><br></pre></td></tr></table></figure>

<h2 id="Python-的装饰器（Decorator）实现函数运行时间的计算"><a href="#Python-的装饰器（Decorator）实现函数运行时间的计算" class="headerlink" title="Python 的装饰器（Decorator）实现函数运行时间的计算"></a>Python 的装饰器（Decorator）实现函数运行时间的计算</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">timing_decorator</span>(<span class="params">func</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">wrapper</span>(<span class="params">*args, **kwargs</span>):</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        result = func(*args, **kwargs)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Function <span class="subst">&#123;func.__name__&#125;</span> took <span class="subst">&#123;end_time - start_time&#125;</span> seconds to run.&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> result</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@timing_decorator</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">my_function</span>():</span><br><span class="line">    <span class="comment"># some code here</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1100</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;hello python!&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    my_function()</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Tutorials</tag>
      </tags>
  </entry>
  <entry>
    <title>Python奇淫巧计-3</title>
    <url>/MyWiki/wiki/2024/06/22/codes/python/python_skills_3/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="单独画色棒"><a href="#单独画色棒" class="headerlink" title="单独画色棒"></a>单独画色棒</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> fastdataing <span class="keyword">as</span> fd</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">colorbar</span>(<span class="params">orientation=<span class="string">&quot;vertical&quot;</span></span>):</span><br><span class="line">	<span class="keyword">if</span> orientation==<span class="string">&quot;vertical&quot;</span>:</span><br><span class="line">		fig = fd.add_fig(figsize=(<span class="number">1.5</span>, <span class="number">6</span>))</span><br><span class="line">		ax = fig.add_axes([<span class="number">0.45</span>, <span class="number">0.2</span>, <span class="number">0.10</span>, <span class="number">0.6</span>])</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		fig = fd.add_fig(figsize=(<span class="number">6</span>, <span class="number">1.5</span>))</span><br><span class="line">		ax = fig.add_axes([<span class="number">0.2</span>, <span class="number">0.45</span>, <span class="number">0.6</span>, <span class="number">0.20</span>])</span><br><span class="line">	</span><br><span class="line">	cmap = plt.get_cmap(<span class="string">&#x27;jet&#x27;</span>)</span><br><span class="line">	norm = plt.Normalize(vmin=<span class="number">0</span>, vmax=<span class="number">1</span>)</span><br><span class="line">	cb = plt.colorbar(plt.cm.ScalarMappable(norm=norm, cmap=cmap), cax=ax, orientation=orientation)</span><br><span class="line">	cb.set_ticks([<span class="number">0</span>, <span class="number">0.2</span>, <span class="number">0.4</span>, <span class="number">0.6</span>, <span class="number">0.8</span>, <span class="number">1.0</span>])</span><br><span class="line">	plt.savefig(<span class="string">&quot;./colorbar.png&quot;</span>,dpi=<span class="number">600</span>,transparent=<span class="literal">True</span>)</span><br><span class="line">	<span class="comment"># 显示图像</span></span><br><span class="line">	plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">colorbar_T</span>(<span class="params">orientation=<span class="string">&quot;vertical&quot;</span></span>):</span><br><span class="line">	<span class="keyword">if</span> orientation==<span class="string">&quot;vertical&quot;</span>:</span><br><span class="line">		fig = fd.add_fig(figsize=(<span class="number">1.5</span>, <span class="number">6</span>))</span><br><span class="line">		ax = fig.add_axes([<span class="number">0.45</span>, <span class="number">0.2</span>, <span class="number">0.10</span>, <span class="number">0.6</span>])</span><br><span class="line">	<span class="keyword">else</span>:</span><br><span class="line">		fig = fd.add_fig(figsize=(<span class="number">6</span>, <span class="number">1.5</span>))</span><br><span class="line">		ax = fig.add_axes([<span class="number">0.2</span>, <span class="number">0.45</span>, <span class="number">0.6</span>, <span class="number">0.20</span>])</span><br><span class="line">	</span><br><span class="line">	cmap = plt.get_cmap(<span class="string">&#x27;jet&#x27;</span>)</span><br><span class="line">	norm = plt.Normalize(vmin=<span class="number">257</span>, vmax=<span class="number">317</span>)</span><br><span class="line">	cb = plt.colorbar(plt.cm.ScalarMappable(norm=norm, cmap=cmap), cax=ax, orientation=orientation)</span><br><span class="line">	cb.set_ticks([<span class="number">257</span>, <span class="number">272</span> , <span class="number">287</span>, <span class="number">302</span>, <span class="number">317</span>])</span><br><span class="line">	plt.savefig(<span class="string">&quot;./colorbar_temp.png&quot;</span>,dpi=<span class="number">600</span>,transparent=<span class="literal">True</span>)</span><br><span class="line">	<span class="comment"># 显示图像</span></span><br><span class="line">	plt.show()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">	<span class="comment"># 调用函数以显示色棒</span></span><br><span class="line">	orientation = <span class="string">&quot;horizontal&quot;</span> <span class="comment"># vertical horizontal</span></span><br><span class="line">	<span class="comment"># colorbar(orientation=orientation)</span></span><br><span class="line">	colorbar_T(orientation=orientation)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="修改legend顺序"><a href="#修改legend顺序" class="headerlink" title="修改legend顺序"></a>修改legend顺序</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建示例数据</span></span><br><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">y1 = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>]</span><br><span class="line">y2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">y3 = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建绘图对象</span></span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制数据曲线</span></span><br><span class="line">line1, = ax.plot(x, y1, label=<span class="string">&#x27;y = x^2&#x27;</span>)</span><br><span class="line">line2, = ax.plot(x, y2, label=<span class="string">&#x27;y = x&#x27;</span>)</span><br><span class="line">line3, = ax.plot(x, y3, label=<span class="string">&#x27;y = prime&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取图例句柄和标签</span></span><br><span class="line">handles, labels = ax.get_legend_handles_labels()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 重新排列图例顺序</span></span><br><span class="line">order = [<span class="number">2</span>, <span class="number">0</span>, <span class="number">1</span>]  <span class="comment"># 按照你想要的顺序排列</span></span><br><span class="line">ax.legend([handles[idx] <span class="keyword">for</span> idx <span class="keyword">in</span> order], [labels[idx] <span class="keyword">for</span> idx <span class="keyword">in</span> order])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>





<h3 id="批量读取前缀相同的文件"><a href="#批量读取前缀相同的文件" class="headerlink" title="批量读取前缀相同的文件"></a>批量读取前缀相同的文件</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> glob</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用glob找到所有前缀相同的文件</span></span><br><span class="line">file_prefix = <span class="string">&quot;your_file_prefix&quot;</span></span><br><span class="line">files = glob.glob(<span class="string">f&quot;<span class="subst">&#123;file_prefix&#125;</span>*&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化一个空的列表来存储所有文件的数据</span></span><br><span class="line">all_data = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 遍历所有找到的文件并使用loadtxt读取数据</span></span><br><span class="line"><span class="keyword">for</span> file <span class="keyword">in</span> files:</span><br><span class="line">    data = np.loadtxt(file)</span><br><span class="line">    all_data.append(data)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果需要将所有数据合并成一个数组，可以使用np.vstack或np.hstack</span></span><br><span class="line"><span class="comment"># 例如，假设每个文件的结构相同</span></span><br><span class="line">combined_data = np.vstack(all_data)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(combined_data)</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h3 id="一行一列叉乘为矩阵"><a href="#一行一列叉乘为矩阵" class="headerlink" title="一行一列叉乘为矩阵"></a>一行一列叉乘为矩阵</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设你的一行向量和一列向量如下</span></span><br><span class="line">row_vector = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])  <span class="comment"># 1行</span></span><br><span class="line">column_vector = np.array([<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>])  <span class="comment"># 1列</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用外积生成 m行n列 矩阵</span></span><br><span class="line">result_matrix = np.outer(column_vector, row_vector)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(result_matrix)</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="将一组很多的legend分为两个部分分别放置在Figure上"><a href="#将一组很多的legend分为两个部分分别放置在Figure上" class="headerlink" title="将一组很多的legend分为两个部分分别放置在Figure上"></a>将一组很多的legend分为两个部分分别放置在Figure上</h3><blockquote>
<p>并将框框设置透明</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">first_legend = plt.legend(handles=plt.gca().get_lines()[:<span class="number">3</span>], loc=<span class="string">&#x27;upper center&#x27;</span>)</span><br><span class="line">plt.gca().add_artist(first_legend).get_frame().set_alpha(<span class="number">0</span>)</span><br><span class="line">second_legend = plt.legend(handles=plt.gca().get_lines()[<span class="number">3</span>:], loc=<span class="string">&#x27;upper right&#x27;</span>).get_frame().set_alpha(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>



<h3 id="利用pathlib库创建文件夹"><a href="#利用pathlib库创建文件夹" class="headerlink" title="利用pathlib库创建文件夹"></a>利用pathlib库创建文件夹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> pathlib <span class="keyword">import</span> Path</span><br><span class="line">Path(PATH+<span class="string">&quot;msd/&quot;</span>).mkdir(parents=<span class="literal">True</span>,exist_ok=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Python</category>
        <category>Tutorials</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Tutorials</tag>
      </tags>
  </entry>
  <entry>
    <title>Comsol 笔记-01</title>
    <url>/MyWiki/wiki/2022/09/02/softwares/comsol/Comsol%E5%9F%BA%E6%9C%AC/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Comsol基本"><a href="#Comsol基本" class="headerlink" title="Comsol基本"></a>Comsol基本</h2><ul>
<li><a href="http://cn.comsol.com/models">模型</a>下载</li>
<li><a href="http://cn.comsol.com/videos">视频教程</a></li>
<li><a href="http://cn.comsol.com/stories">用户模拟</a></li>
</ul>
<h3 id="导入COMSOL网格"><a href="#导入COMSOL网格" class="headerlink" title="导入COMSOL网格"></a>导入COMSOL网格</h3><ul>
<li><code>.mphbin</code>,<code>.mphtxt</code>网格格式</li>
<li>基于MRI和扫描数据的网格上创建<code>COMSOL Multiphysics</code></li>
<li>下列软件支持导入COMSOL网格</li>
<li><blockquote>
<p>Materialise的Mimics</p>
</blockquote>
</li>
<li><blockquote>
<p>Simpleware FE模块</p>
</blockquote>
</li>
</ul>
<h3 id="传热"><a href="#传热" class="headerlink" title="传热"></a>传热</h3>]]></content>
      <categories>
        <category>软件学习</category>
        <category>Comsol</category>
      </categories>
      <tags>
        <tag>Comsol</tag>
      </tags>
  </entry>
  <entry>
    <title>给VScode extensions添加软链</title>
    <url>/MyWiki/wiki/2021/06/13/codes/python/vscode_extemsions_mklink/</url>
    <content><![CDATA[<hr>
<p>[toc]</p>
<h4 id="1-目的"><a href="#1-目的" class="headerlink" title="1. 目的"></a>1. 目的</h4><ul>
<li>目的是要把C盘的一个文件夹链接到E盘，</li>
<li>这里我是为了要把VScode安装的插件位置从C盘link到E盘，在PowerShell（因为使用cmd的话没有权限）使用命令如下：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink /d <span class="string">&quot;C:\Users\yourcomputername\.vscode\extensions&quot;</span> <span class="string">&quot;E:\VScodePlug\extensions\extensions&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-错误信息"><a href="#2-错误信息" class="headerlink" title="2. 错误信息"></a>2. 错误信息</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink : 无法将“mklink”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径</span><br><span class="line">正确，然后再试一次。</span><br><span class="line">所在位置 行:1 字符: 1</span><br><span class="line">+ mklink /d <span class="string">&quot;C:\Users\yourcomputername\.vscode\extensions&quot;</span> <span class="string">&quot;E:\VScodePlug ...</span></span><br><span class="line"><span class="string">+ ~~~~~~</span></span><br><span class="line"><span class="string">    + Cat##egoryInfo          : ObjectNotFound: (mklink:String) [], CommandNotFoundException</span></span><br><span class="line"><span class="string">    + FullyQualifiedErrorId : CommandNotFoundException</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<h4 id="3-错误原因"><a href="#3-错误原因" class="headerlink" title="3. 错误原因"></a>3. 错误原因</h4><ul>
<li>因为PowerShell中没有mklink命令</li>
</ul>
<h4 id="4-解决方法"><a href="#4-解决方法" class="headerlink" title="4. 解决方法"></a>4. 解决方法</h4><ul>
<li>在进入PowerShell后先输出 <strong>cmd</strong>,在执行：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink /d <span class="string">&quot;C:\Users\yourcomputername\.vscode\extensions&quot;</span> <span class="string">&quot;E:\VScodePlug\extensions\extensions&quot;</span></span><br></pre></td></tr></table></figure>


<h4 id="5-成功提示"><a href="#5-成功提示" class="headerlink" title="5. 成功提示"></a>5. 成功提示</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">为 C:\Users\yourcomputername\.vscode\extensions &lt;&lt;===&gt;&gt; E:\VScodePlug\extensions 创建的符号链接</span><br></pre></td></tr></table></figure>

<h4 id="6-若显示当文件已存在时，无法创建该文件。"><a href="#6-若显示当文件已存在时，无法创建该文件。" class="headerlink" title="6. 若显示当文件已存在时，无法创建该文件。"></a>6. 若显示<code>当文件已存在时，无法创建该文件。</code></h4><ul>
<li><p>删除下面路径中中<code>extensions</code>文件夹，</p>
<figure class="highlight moonscript"><table><tr><td class="code"><pre><span class="line"><span class="name">C</span>:\Users\yourcomputername\.vscode\extensions</span><br></pre></td></tr></table></figure>
</li>
<li><p>主要是要把E盘路径extensions创建一个软连接到C盘extensions。</p>
</li>
</ul>
<p><a href="https://cloud.tencent.com/developer/article/1341325">参考链接</a></p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>mklink</tag>
        <tag>extensions</tag>
      </tags>
  </entry>
  <entry>
    <title>RDKit安装与使用</title>
    <url>/MyWiki/wiki/2023/09/08/codes/python/rdkit_skills_1/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="RDKit安装"><a href="#RDKit安装" class="headerlink" title="RDKit安装"></a>RDKit安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># conda install</span></span><br><span class="line">conda install -c rdkit rdkit</span><br><span class="line"><span class="comment"># pip install </span></span><br><span class="line">pip install rdkit</span><br></pre></td></tr></table></figure>

<h3 id="读取与写入"><a href="#读取与写入" class="headerlink" title="读取与写入"></a>读取与写入</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> rdkit <span class="keyword">import</span> Chem</span><br><span class="line">smi=<span class="string">&#x27;C=CN1CCCC1=O&#x27;</span> <span class="comment"># PVP K90</span></span><br><span class="line">mol = Chem.MolFromSmiles(smi) <span class="comment"># 读取Smiles</span></span><br><span class="line">N = mol.GetNumAtoms() <span class="comment"># 原子个数</span></span><br><span class="line">M = mol.GetNumBonds() <span class="comment"># 共价键个数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取mol文件写smiles</span></span><br><span class="line">m = Chem.MolFromMolFile(<span class="string">&#x27;data/(C6H9NO)1.mol&#x27;</span>)</span><br><span class="line">Chem.MolToSmiles(m) <span class="comment"># &#x27;C=CN1CCCC1=O&#x27;</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>获取原子对象：</p>
<ul>
<li><code>GetAtomMapNum</code>: map id 原子smarts形式冒号后面的数字，如[N:4], map id 就是4。</li>
<li><code>GetAtomicNum</code>： 获取原子对应的元素编号，如碳原子的AtomicNum就是6</li>
<li><code>GetBonds</code>: 该原子参与形成的键的列表。</li>
<li><code>GetFormalCharge</code>: 该原子的电荷</li>
<li><code>GetChiralTag</code>:原子的手性信息</li>
<li><code>GetDegree</code>： 原子的度，这里的度指的是这个原子参与形成键的数目</li>
<li><code>GetIsAromatic</code>: 判断原子是否是芳香性原子</li>
<li><code>GetIdx</code>： 获取原子的编号</li>
<li><code>GetNeighbors</code>： 获取相连的原子列表</li>
<li><code>GetSmarts</code>： 获取原子的Smarts形式</li>
<li><code>GetSymbol</code>：获取原子的元素符号</li>
<li><code>IsInRing()</code>： 判断原子是否在环上</li>
<li><code>IsInRingSize(n)</code>: 判断原字是否在n-元环上</li>
</ul>
</li>
<li><p>获取键的信息</p>
<ul>
<li><code>GetBondType()</code>：获取键的类型</li>
<li><code>GetBeginAtom()</code>: 组成键的第一个原子</li>
<li><code>GetBeginAtomIdx()</code>： 键的第一个组成原子编号</li>
<li><code>GetEndAtomIdx()</code>：键的第二个组成原子编号</li>
<li><code>GetEndAtom()</code>: 组成键的第二个原子</li>
<li><code>IsInRing()</code>: 判断是否在环上</li>
<li><code>IsInRingSize(n)</code>：判断是否在n-元环上</li>
</ul>
</li>
</ul>
<h3 id="分子描述符"><a href="#分子描述符" class="headerlink" title="分子描述符"></a>分子描述符</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 描述符生成：用于表示和表征分子特性的数值特征或属性</span></span><br><span class="line"><span class="keyword">from</span> rdkit.Chem <span class="keyword">import</span> Descriptors</span><br><span class="line"><span class="comment"># 计算分子质量</span></span><br><span class="line">mol_weight = Descriptors.MolWt(mol)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;分子质量 (Molecular Weight):&quot;</span>, mol_weight)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子的LogP（脂水分配系数）</span></span><br><span class="line">logp = Descriptors.MolLogP(mol)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;LogP:&quot;</span>, logp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子的HBA（氢键受体数）</span></span><br><span class="line">hba = Descriptors.NumHAcceptors(mol)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;氢键受体数 (HBA):&quot;</span>, hba)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子的HBD（氢键供体数）</span></span><br><span class="line">hbd = Descriptors.NumHDonors(mol)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;氢键供体数 (HBD):&quot;</span>, hbd)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子的TPSA（极性表面积）</span></span><br><span class="line">tpsa = Descriptors.TPSA(mol)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;极性表面积 (TPSA):&quot;</span>, tpsa)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子的价电子数目</span></span><br><span class="line">nve = Descriptors.NumValenceElectrons(mol)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;分子的价电子数目:&quot;</span>, nve)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="分子指纹"><a href="#分子指纹" class="headerlink" title="分子指纹"></a>分子指纹</h3><h4 id="Topological-Fingerprints"><a href="#Topological-Fingerprints" class="headerlink" title="Topological Fingerprints"></a>Topological Fingerprints</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Topological Fingerprints</span></span><br><span class="line"><span class="keyword">from</span> rdkit <span class="keyword">import</span> DataStructs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取分子指纹 </span></span><br><span class="line">m1 = Chem.MolFromSmiles(<span class="string">&#x27;CCOC&#x27;</span>)</span><br><span class="line">m2 = Chem.MolFromSmiles(<span class="string">&#x27;CCO&#x27;</span>)</span><br><span class="line">fps1 = Chem.RDKFingerprint(m1) <span class="comment"># Fingerprints</span></span><br><span class="line">fps2 = Chem.RDKFingerprint(m2)</span><br><span class="line"><span class="comment"># 计算分子相似性</span></span><br><span class="line">DataStructs.FingerprintSimilarity(fps1,fps2)</span><br></pre></td></tr></table></figure>



<h4 id="MACCS-Keys"><a href="#MACCS-Keys" class="headerlink" title="MACCS Keys"></a>MACCS Keys</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># MACCS Keys</span></span><br><span class="line"><span class="keyword">from</span> rdkit.Chem <span class="keyword">import</span> MACCSkeys</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取分子指纹MACCS</span></span><br><span class="line">ms = [Chem.MolFromSmiles(<span class="string">&#x27;CCOC&#x27;</span>), Chem.MolFromSmiles(<span class="string">&#x27;CCO&#x27;</span>), Chem.MolFromSmiles(<span class="string">&#x27;COC&#x27;</span>)]</span><br><span class="line">fps = [MACCSkeys.GenMACCSKeys(x) <span class="keyword">for</span> x <span class="keyword">in</span> ms]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子相似性</span></span><br><span class="line"><span class="keyword">from</span> rdkit <span class="keyword">import</span> DataStructs</span><br><span class="line">DataStructs.FingerprintSimilarity(fps[<span class="number">0</span>],fps[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>



<h4 id="Atom-Pairs-and-Topological-Torsions"><a href="#Atom-Pairs-and-Topological-Torsions" class="headerlink" title="Atom Pairs and Topological Torsions"></a>Atom Pairs and Topological Torsions</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Atom Pairs and Topological Torsions</span></span><br><span class="line"><span class="keyword">from</span> rdkit.Chem.AtomPairs <span class="keyword">import</span> Pairs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 提取分子指纹MACCS</span></span><br><span class="line">ms = [Chem.MolFromSmiles(<span class="string">&#x27;CCOC&#x27;</span>), Chem.MolFromSmiles(<span class="string">&#x27;CCO&#x27;</span>), Chem.MolFromSmiles(<span class="string">&#x27;COC&#x27;</span>)]</span><br><span class="line">pairFps = [Pairs.GetAtomPairFingerprint(x) <span class="keyword">for</span> x <span class="keyword">in</span> ms]</span><br><span class="line"><span class="comment">#pairFps = [Pairs.GetAtomPairFingerprintAsBitVect(x) for x in ms]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算分子相似性</span></span><br><span class="line"><span class="keyword">from</span> rdkit <span class="keyword">import</span> DataStructs</span><br><span class="line">DataStructs.DiceSimilarity(pairFps[<span class="number">0</span>],pairFps[<span class="number">1</span>])</span><br></pre></td></tr></table></figure>



<h3 id="可视化分子"><a href="#可视化分子" class="headerlink" title="可视化分子"></a>可视化分子</h3><h4 id="显示分子中原子的编号"><a href="#显示分子中原子的编号" class="headerlink" title="显示分子中原子的编号"></a>显示分子中原子的编号</h4><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">from</span> rdkit import Chem</span><br><span class="line">for atom in mol<span class="selector-class">.GetAtoms</span>():</span><br><span class="line">    atom.<span class="built_in">SetProp</span>(<span class="string">&#x27;atomLabel&#x27;</span>,<span class="built_in">str</span>(atom.<span class="built_in">GetIdx</span>()))</span><br><span class="line">mol</span><br></pre></td></tr></table></figure>

<p><img src="http://rdkit.chenzhaoqiang.com/_images/atomid2020-02-10_135315.271919.png"></p>
<h4 id="多个分子按照grid显示"><a href="#多个分子按照grid显示" class="headerlink" title="多个分子按照grid显示"></a>多个分子按照grid显示</h4><figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">from</span> <span class="variable">rdkit</span><span class="operator">.</span><span class="variable">Chem</span> <span class="variable">import</span> <span class="variable">Draw</span></span><br><span class="line"><span class="variable">from</span> <span class="variable">rdkit</span> <span class="variable">import</span> <span class="variable">Chem</span></span><br><span class="line"><span class="variable">smis</span><span class="operator">=</span><span class="punctuation">[</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">COC1</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">CC</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="variable">NS</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="built_in">C</span><span class="punctuation">)</span><span class="variable">C2</span><span class="operator">=</span><span class="variable">CN</span><span class="operator">=</span><span class="variable">CN3C2</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="variable">C3</span><span class="operator">&#x27;,</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">C1</span><span class="operator">=</span><span class="variable">CC2</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="variable">C3</span><span class="operator">=</span><span class="variable">CN</span><span class="operator">=</span><span class="variable">CN4C3</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="variable">C4</span><span class="punctuation">)</span><span class="variable">ON</span><span class="operator">=</span><span class="variable">C2C5</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">C5</span><span class="punctuation">)</span><span class="variable">F</span><span class="operator">&#x27;,</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">COC</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="variable">C1</span><span class="operator">=</span><span class="variable">CC2</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="variable">CN2C</span><span class="operator">=</span><span class="variable">N1</span><span class="operator">&#x27;,</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">C1</span><span class="operator">=</span><span class="variable">C2C</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">N</span><span class="operator">=</span><span class="variable">CN2C</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="variable">Cl</span><span class="punctuation">)</span><span class="built_in">C</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="built_in">O</span><span class="operator">&#x27;,</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="variable">mols</span><span class="operator">=</span><span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">for</span> <span class="variable">smi</span> <span class="variable">in</span> <span class="variable">smis</span><span class="operator">:</span></span><br><span class="line">    <span class="variable">mol</span> <span class="operator">=</span> <span class="variable">Chem</span><span class="operator">.</span><span class="variable">MolFromSmiles</span><span class="punctuation">(</span><span class="variable">smi</span><span class="punctuation">)</span></span><br><span class="line">    <span class="variable">mols</span><span class="operator">.</span><span class="variable">append</span><span class="punctuation">(</span><span class="variable">mol</span><span class="punctuation">)</span></span><br><span class="line"><span class="variable">img</span><span class="operator">=</span><span class="variable">Draw</span><span class="operator">.</span><span class="variable">MolsToGridImage</span><span class="punctuation">(</span><span class="variable">mols</span><span class="operator">,</span><span class="variable">molsPerRow</span><span class="operator">=</span><span class="number">4</span><span class="operator">,</span><span class="variable">subImgSize</span><span class="operator">=</span><span class="punctuation">(</span><span class="number">200</span><span class="operator">,</span><span class="number">200</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">legends</span><span class="operator">=</span><span class="punctuation">[</span><span class="operator">&#x27;&#x27;</span> <span class="variable">for</span> <span class="variable">x</span> <span class="variable">in</span> <span class="variable">mols</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line"><span class="variable">img</span></span><br></pre></td></tr></table></figure>

<p><img src="http://rdkit.chenzhaoqiang.com/_images/NCycle2020-02-10_092304.562537.png"></p>
<h4 id="多个分子基于公共骨架按照grid显示"><a href="#多个分子基于公共骨架按照grid显示" class="headerlink" title="多个分子基于公共骨架按照grid显示"></a>多个分子基于公共骨架按照grid显示</h4><figure class="highlight mathematica"><table><tr><td class="code"><pre><span class="line"><span class="variable">from</span> <span class="variable">rdkit</span><span class="operator">.</span><span class="variable">Chem</span> <span class="variable">import</span> <span class="variable">Draw</span></span><br><span class="line"><span class="variable">from</span> <span class="variable">rdkit</span> <span class="variable">import</span> <span class="variable">Chem</span></span><br><span class="line"><span class="variable">smis</span><span class="operator">=</span><span class="punctuation">[</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">COC1</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">CC</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="variable">NS</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="built_in">C</span><span class="punctuation">)</span><span class="variable">C2</span><span class="operator">=</span><span class="variable">CN</span><span class="operator">=</span><span class="variable">CN3C2</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="variable">C3</span><span class="operator">&#x27;,</span></span><br><span class="line"><span class="type">#</span>     <span class="operator">&#x27;</span><span class="variable">CCN</span><span class="punctuation">(</span><span class="variable">CC1</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">CC</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="built_in">C</span><span class="punctuation">(</span><span class="variable">F</span><span class="punctuation">)</span><span class="punctuation">(</span><span class="variable">F</span><span class="punctuation">)</span><span class="variable">F</span><span class="punctuation">)</span><span class="variable">C2</span><span class="operator">=</span><span class="variable">CC</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C3N2C</span><span class="operator">=</span><span class="variable">NC</span><span class="operator">=</span><span class="variable">C3</span><span class="punctuation">)</span><span class="variable">CC</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="built_in">O</span><span class="punctuation">)</span><span class="built_in">C</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="variable">C4CC4</span><span class="operator">&#x27;,</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">C1</span><span class="operator">=</span><span class="variable">CC2</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="variable">C3</span><span class="operator">=</span><span class="variable">CN</span><span class="operator">=</span><span class="variable">CN4C3</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="variable">C4</span><span class="punctuation">)</span><span class="variable">ON</span><span class="operator">=</span><span class="variable">C2C5</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">C</span><span class="operator">=</span><span class="variable">C5</span><span class="punctuation">)</span><span class="variable">F</span><span class="operator">&#x27;,</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">COC</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="variable">C1</span><span class="operator">=</span><span class="variable">CC2</span><span class="operator">=</span><span class="variable">CC</span><span class="operator">=</span><span class="variable">CN2C</span><span class="operator">=</span><span class="variable">N1</span><span class="operator">&#x27;,</span></span><br><span class="line">    <span class="operator">&#x27;</span><span class="variable">C1</span><span class="operator">=</span><span class="variable">C2C</span><span class="operator">=</span><span class="built_in">C</span><span class="punctuation">(</span><span class="built_in">N</span><span class="operator">=</span><span class="variable">CN2C</span><span class="punctuation">(</span><span class="operator">=</span><span class="variable">C1</span><span class="punctuation">)</span><span class="variable">Cl</span><span class="punctuation">)</span><span class="built_in">C</span><span class="punctuation">(</span><span class="operator">=</span><span class="built_in">O</span><span class="punctuation">)</span><span class="built_in">O</span><span class="operator">&#x27;,</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="variable">template</span> <span class="operator">=</span> <span class="variable">Chem</span><span class="operator">.</span><span class="variable">MolFromSmiles</span><span class="punctuation">(</span><span class="operator">&#x27;</span><span class="variable">c1nccc2n1ccc2</span><span class="operator">&#x27;</span><span class="punctuation">)</span></span><br><span class="line"><span class="variable">AllChem</span><span class="operator">.</span><span class="variable">Compute2DCoords</span><span class="punctuation">(</span><span class="variable">template</span><span class="punctuation">)</span></span><br><span class="line"><span class="variable">mols</span><span class="operator">=</span><span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line"><span class="variable">for</span> <span class="variable">smi</span> <span class="variable">in</span> <span class="variable">smis</span><span class="operator">:</span></span><br><span class="line">    <span class="variable">mol</span> <span class="operator">=</span> <span class="variable">Chem</span><span class="operator">.</span><span class="variable">MolFromSmiles</span><span class="punctuation">(</span><span class="variable">smi</span><span class="punctuation">)</span></span><br><span class="line">    <span class="variable">AllChem</span><span class="operator">.</span><span class="variable">GenerateDepictionMatching2DStructure</span><span class="punctuation">(</span><span class="variable">mol</span><span class="operator">,</span><span class="variable">template</span><span class="punctuation">)</span></span><br><span class="line">    <span class="variable">mols</span><span class="operator">.</span><span class="variable">append</span><span class="punctuation">(</span><span class="variable">mol</span><span class="punctuation">)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable">img</span><span class="operator">=</span><span class="variable">Draw</span><span class="operator">.</span><span class="variable">MolsToGridImage</span><span class="punctuation">(</span><span class="variable">mols</span><span class="operator">,</span><span class="variable">molsPerRow</span><span class="operator">=</span><span class="number">4</span><span class="operator">,</span><span class="variable">subImgSize</span><span class="operator">=</span><span class="punctuation">(</span><span class="number">200</span><span class="operator">,</span><span class="number">200</span><span class="punctuation">)</span><span class="operator">,</span><span class="variable">legends</span><span class="operator">=</span><span class="punctuation">[</span><span class="operator">&#x27;&#x27;</span> <span class="variable">for</span> <span class="variable">x</span> <span class="variable">in</span> <span class="variable">mols</span><span class="punctuation">]</span><span class="punctuation">)</span></span><br><span class="line"><span class="variable">img</span></span><br></pre></td></tr></table></figure>

<p><img src="http://rdkit.chenzhaoqiang.com/_images/grid_ori2020-02-10_101432.018988.png"></p>
<h3 id="原子对性质的贡献可视化"><a href="#原子对性质的贡献可视化" class="headerlink" title="原子对性质的贡献可视化"></a>原子对性质的贡献可视化</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> rdkit.Chem.Draw <span class="keyword">import</span> SimilarityMaps</span><br><span class="line">mol = Chem.MolFromSmiles(<span class="string">&#x27;COc1cccc2cc(C(=O)NCCCCN3CCN(c4cccc5nccnc54)CC3)oc21&#x27;</span>)</span><br><span class="line">AllChem.ComputeGasteigerCharges(mol) <span class="comment"># Gasteiger partial 电荷</span></span><br><span class="line">contribs = [<span class="built_in">float</span>(mol.GetAtomWithIdx(i).GetProp(<span class="string">&#x27;_GasteigerCharge&#x27;</span>)) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(mol.GetNumAtoms())]</span><br><span class="line">fig = SimilarityMaps.GetSimilarityMapFromWeights(mol, contribs, colorMap=<span class="string">&#x27;jet&#x27;</span>, contourLines=<span class="number">10</span>)</span><br></pre></td></tr></table></figure>



<h3 id="编辑分子"><a href="#编辑分子" class="headerlink" title="编辑分子"></a>编辑分子</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">m = Chem.MolFromSmiles(<span class="string">&#x27;c1ccccc1&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;修改前的分子：&quot;</span>)</span><br><span class="line">display(m)</span><br><span class="line"></span><br><span class="line">m.GetAtomWithIdx(<span class="number">5</span>).SetAtomicNum(<span class="number">7</span>)</span><br><span class="line">Chem.SanitizeMol(m)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;修改后的分子：&quot;</span>)</span><br><span class="line">display(m)</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/figs.md/210820511249375.png"></p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>[1] <a href="http://rdkit.chenzhaoqiang.com/index.html"> RDKit 中文教程</a></p>
<p>[2] <a href="https://zhuanlan.zhihu.com/p/158481225">RDKit介绍及使用</a></p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>RDKit</tag>
      </tags>
  </entry>
  <entry>
    <title>GROMACS 基础</title>
    <url>/MyWiki/wiki/2023/01/22/softwares/gromacs/GROMACS_basis_1/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="pdb2gmx"><a href="#pdb2gmx" class="headerlink" title="pdb2gmx"></a><a href="https://manual.gromacs.org/documentation/current/onlinehelp/gmx-pdb2gmx.html">pdb2gmx</a></h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gmx pdb2gmx [-f [&lt;.gro/.g96/...&gt;]] [-o [&lt;.gro/.g96/...&gt;]] [-p [&lt;.top&gt;]]</span><br><span class="line">gmx pdb2gmx -f xxx.pdb -o xxx.gro -p xxx.top</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>软件学习</category>
        <category>GROMACS</category>
      </categories>
      <tags>
        <tag>GROMACS</tag>
        <tag>pdb2gmx</tag>
      </tags>
  </entry>
  <entry>
    <title>GROMACS 入门</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/gromacs/GROMACS_%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="GROMACS-入门"><a href="#GROMACS-入门" class="headerlink" title="GROMACS 入门"></a>GROMACS 入门</h1><h2 id="GROMACS-安装"><a href="#GROMACS-安装" class="headerlink" title="GROMACS 安装"></a>GROMACS 安装</h2><ul>
<li><p>安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://ftp.gromacs.org/gromacs/gromacs-2023.tar.gz</span><br><span class="line">tar -zxvf gromacs-2023.tar.gz</span><br><span class="line"><span class="built_in">cd</span> gromacs-2023</span><br><span class="line"><span class="built_in">mkdir</span> build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line"><span class="built_in">export</span> CMAKE_PREFIX_PATH=~/fftw <span class="comment"># fftw 路径</span></span><br><span class="line">cmake .. -DCMAKE_INSTALL_PREFIX=~/softwares/gromacs <span class="comment"># gromacs安装路径</span></span><br><span class="line">make install -j8</span><br></pre></td></tr></table></figure>
</li>
<li><p>最新<a href="https://manual.gromacs.org/documentation/current/install-guide/index.html">快速安装</a>：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar xfz gromacs-2023.2.tar.gz</span><br><span class="line"><span class="built_in">cd</span> gromacs-2023.2</span><br><span class="line"><span class="built_in">mkdir</span> build</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line"><span class="comment"># 这里自动build一个fftw</span></span><br><span class="line">cmake .. -DGMX_BUILD_OWN_FFTW=ON -DREGRESSIONTEST_DOWNLOAD=ON -DCMAKE_INSTALL_PREFIX=~/softwares/gromacs</span><br><span class="line">make</span><br><span class="line">make check</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>
</li>
<li><p>如果使用的是 Ubuntu 操作系统，只需在终端执行以下命令即可：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install gromacs</span><br></pre></td></tr></table></figure>


</li>
<li><p>环境变量设置：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/softwares/gromacs/bin</span><br><span class="line"><span class="built_in">pwd</span> <span class="comment"># 查看路径，并复制</span></span><br><span class="line">sudo vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;~/softwares/gromacs/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="comment"># esc</span></span><br><span class="line"><span class="comment"># :</span></span><br><span class="line"><span class="comment"># wq</span></span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gmx -version</span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># Executable:   ~/softwares/gromacs/bin/gmx</span></span><br><span class="line"><span class="comment"># Data prefix:  ~/softwares/gromacs</span></span><br><span class="line"><span class="comment"># Working dir:  ~/softwares/gromacs</span></span><br><span class="line"><span class="comment"># Command line:</span></span><br><span class="line"><span class="comment">#   gmx -version</span></span><br><span class="line"><span class="comment"># </span></span><br><span class="line"><span class="comment"># GROMACS version:    2023-dev</span></span><br><span class="line"><span class="comment"># Precision:          mixed</span></span><br><span class="line"><span class="comment"># Memory model:       64 bit</span></span><br><span class="line"><span class="comment"># MPI library:        thread_mpi</span></span><br><span class="line"><span class="comment"># OpenMP support:     enabled (GMX_OPENMP_MAX_THREADS = 128)</span></span><br><span class="line"><span class="comment"># GPU support:        disabled</span></span><br><span class="line"><span class="comment"># SIMD instructions:  AVX2_256</span></span><br><span class="line"><span class="comment"># CPU FFT library:    fftw-3.3.10</span></span><br><span class="line"><span class="comment"># GPU FFT library:    none</span></span><br><span class="line"><span class="comment"># Multi-GPU FFT:      none</span></span><br><span class="line"><span class="comment"># RDTSCP usage:       enabled</span></span><br><span class="line"><span class="comment"># TNG support:        enabled</span></span><br><span class="line"><span class="comment"># Hwloc support:      disabled</span></span><br><span class="line"><span class="comment"># Tracing support:    disabled</span></span><br><span class="line"><span class="comment"># C compiler:         /usr/bin/cc GNU 9.4.0</span></span><br><span class="line"><span class="comment"># C compiler flags:   -Wno-array-bounds -fexcess-precision=fast -funroll-all-loops -mavx2 -mfma -Wall -Wno-unused -Wunused-value -Wunused-parameter -Wextra -Wno-sign-compare -Wpointer-arith -Wundef -Werror=stringop-truncation -Wno-missing-field-initializers -O3 -DNDEBUG</span></span><br><span class="line"><span class="comment"># C++ compiler:       /usr/bin/c++ GNU 9.4.0</span></span><br><span class="line"><span class="comment"># C++ compiler flags: -Wno-array-bounds -fexcess-precision=fast -funroll-all-loops -mavx2 -mfma -Wall -Wextra -Wpointer-arith -Wmissing-declarations -Wundef -Wstringop-truncation -Wno-missing-field-initializers -Wno-cast-function-type-strict -fopenmp -O3 -DNDEBUG</span></span><br><span class="line"><span class="comment"># BLAS library:       External - detected on the system</span></span><br><span class="line"><span class="comment"># LAPACK library:     External - detected on the system</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>参考：</p>
<ul>
<li><p><a href="http://www.gromacs.org/">[1]  Gromacs</a>官网</p>
</li>
<li><p><a href="http://sobereva.com/457">[2] GROMACS的安装方法</a></p>
</li>
</ul>
</li>
</ul>
<h2 id="运行GROMACS"><a href="#运行GROMACS" class="headerlink" title="运行GROMACS"></a>运行GROMACS</h2><h3 id="运行GROMACS-所需文件"><a href="#运行GROMACS-所需文件" class="headerlink" title="运行GROMACS 所需文件"></a>运行GROMACS 所需文件</h3><ul>
<li>初始构型文件：<code>x.gro x.pdb</code></li>
<li>参数控制文件：<code>x.mdp</code></li>
<li>力场文件：<code>x.top x.itp</code></li>
<li>索引文件：<code>x.ndx</code></li>
</ul>
<h3 id="相关力场："><a href="#相关力场：" class="headerlink" title="相关力场："></a>相关力场：</h3><ul>
<li><blockquote>
<p><a href="http://md.chem.rug.nl/">Martini</a>粗粒化力场</p>
</blockquote>
</li>
<li><blockquote>
<p>AMBER、CHARMM、OPLS-AA、GROMOS</p>
</blockquote>
</li>
</ul>
<h3 id="力场文件相关工具："><a href="#力场文件相关工具：" class="headerlink" title="力场文件相关工具："></a>力场文件相关工具：</h3><ul>
<li>pdb2gmx、AMBER Tool、tppmktop、x2top、martini.py、ATB&#x2F;PRODRG……</li>
</ul>
<h3 id="后处理工具："><a href="#后处理工具：" class="headerlink" title="后处理工具："></a>后处理工具：</h3><ul>
<li>gmx msd</li>
<li>gmx rdf</li>
<li>gmx totcf (旋转自相关函数)</li>
<li>gmx potential (静电势)</li>
<li>gmx helix ($\alpha$螺旋结构的基本性质)</li>
<li>MD_Analysis、VMD</li>
<li>自编程</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>GROMACS</category>
      </categories>
      <tags>
        <tag>GROMACS</tag>
        <tag>GROMACS入门</tag>
      </tags>
  </entry>
  <entry>
    <title>FLUENT 笔记-01</title>
    <url>/MyWiki/wiki/2022/04/02/softwares/fluent/Fluent_%E7%AC%94%E8%AE%B0/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="FLUENT-入门"><a href="#FLUENT-入门" class="headerlink" title="FLUENT 入门"></a>FLUENT 入门</h3><ul>
<li><input checked="" disabled="" type="checkbox"> 学习Fluent<blockquote>
<ul>
<li>几何建模（Design Modeler、SolidWorks、）</li>
<li>前处理：绘制网格（Gamit、ICEM、ANSYS MESH）</li>
<li>仿真计算：仿真计算（Fluent）</li>
<li>后处理：处理结果（Fluent、Tecplot、CFDpost）</li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="几何建模"><a href="#几何建模" class="headerlink" title="几何建模"></a>几何建模</h4><ul>
<li>add material是添加材料,建立的模型合并到已建立的模型上组成一体,</li>
<li>add frozen是冻结体作为单独的几何体存在</li>
</ul>
<h4 id="网格"><a href="#网格" class="headerlink" title="网格"></a>网格</h4><ul>
<li>结构化网格</li>
<li>非结构化网格<br><img src="https://img2020.cnblogs.com/blog/647470/202009/647470-20200908101402597-1253365984.png"></li>
</ul>
<h4 id="边界条件设置"><a href="#边界条件设置" class="headerlink" title="边界条件设置"></a>边界条件设置</h4><ul>
<li><a href="https://www.bilibili.com/read/cv16313672">Fluent边界条件湍流参数设置详解</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/528542823">ANSYS Fluent 边界条件（二）之outflow自由出口</a></li>
</ul>
<h4 id="热-流-固耦合关键"><a href="#热-流-固耦合关键" class="headerlink" title="热-流-固耦合关键"></a>热-流-固耦合关键</h4><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/fluent/fluent-1.md/36803219220963.png"></p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>FLUENT</category>
      </categories>
      <tags>
        <tag>FLUENT</tag>
      </tags>
  </entry>
  <entry>
    <title>Lammps Command</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/lammps/LammpsCommond/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="neighbor-2-0-multi"><a href="#neighbor-2-0-multi" class="headerlink" title="neighbor 2.0 multi "></a><code>neighbor 2.0 multi </code></h2><ul>
<li>neighbor skin style</li>
<li>此命令用于设置cutoff distance;</li>
<li>3种style代表不同的算法去构建list,<code>bin nsq multi</code></li>
<li>一般使用<code>bin</code>较多；</li>
<li><code>nsq</code>没有用过，手册上讲，在计算非周期性的盒子里的未溶解的小分子可能会更快；</li>
<li><code>multi</code>多用于一些cutoff distance 差别大的体系，例如，聚合物与离子共存的体系。</li>
</ul>
<h2 id="group"><a href="#group" class="headerlink" title="group"></a><code>group</code></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">group	g_ID	region	reg_ID</span><br><span class="line"># or</span><br><span class="line">group   g_ID    type 1 2  # atom type</span><br></pre></td></tr></table></figure>
<ul>
<li>所分的组的个数不能大于32个。</li>
</ul>
<h2 id="meam势函数"><a href="#meam势函数" class="headerlink" title="meam势函数"></a><code>meam</code>势函数</h2><ul>
<li>meam 势函数，data很多重复元素的原子的时候，library那个文件后面只需要写元素，另一个需要写全原子类型。</li>
</ul>
<h2 id="LJ-交互-mix"><a href="#LJ-交互-mix" class="headerlink" title="LJ 交互 mix"></a>LJ 交互 mix</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pair_modify mix geometric</span><br></pre></td></tr></table></figure>
<ul>
<li>如果需要交互LJ势参数时，可以使用此命令</li>
</ul>
<h2 id="Berendsen控温"><a href="#Berendsen控温" class="headerlink" title="Berendsen控温"></a>Berendsen控温</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fix ID group-ID temp/berendsen Tstart Tstop Tdamp</span><br><span class="line">fix 1  all      temp/berendsen 300.0  300.0 100.0</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>Tdamp 温度阻尼参数，时间单位（例如ps，fs）</li>
<li>使用Berendsen恒温器重新设置一组原子的温度，Berendsen每一步都会调整原子的速度。<br>温度不能为0</li>
</ul>
</blockquote>
<h2 id="LAMMPS中dihedral与improper具体有什么区别？"><a href="#LAMMPS中dihedral与improper具体有什么区别？" class="headerlink" title="LAMMPS中dihedral与improper具体有什么区别？"></a>LAMMPS中dihedral与improper具体有什么区别？</h2><blockquote>
<ul>
<li>这不是lammps问题，是力场问题。A dihedral angle potentials depends on four consecutive bonded atoms, whereas the improper torsion depends on three atoms centered around a fourth atom. … The main difference between both torsion potentials is the definition of the torsional angle and the functional form of the potential function.</li>
</ul>
</blockquote>
<ul>
<li>参考：<a href="http://muchong.com/t-12670230-1">http://muchong.com/t-12670230-1</a></li>
<li>这两个improper不用可以吗？</li>
</ul>
<h2 id="lj-x2F-cut-x2F-coul-x2F-long"><a href="#lj-x2F-cut-x2F-coul-x2F-long" class="headerlink" title="lj&#x2F;cut&#x2F;coul&#x2F;long"></a>lj&#x2F;cut&#x2F;coul&#x2F;long</h2><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">lj/cut/coul/long args <span class="operator">=</span> cutoff (cutoff2)</span><br><span class="line"><span class="attribute">cutoff</span> <span class="operator">=</span> global cutoff for LJ (and Coulombic if only <span class="number">1</span> arg) (distance units)</span><br><span class="line"><span class="attribute">cutoff2</span> <span class="operator">=</span> global cutoff for Coulombic (optional) (distance units)</span><br></pre></td></tr></table></figure>

<h2 id="SHAKE-vs-RATTLE"><a href="#SHAKE-vs-RATTLE" class="headerlink" title="SHAKE vs RATTLE"></a><code>SHAKE vs RATTLE</code></h2><h3 id="在LAMMPS模拟中，通过SHAKE或RATTLE算法对指定的键和角度应用键和角度约束。这通常会启用更长的时间步长。"><a href="#在LAMMPS模拟中，通过SHAKE或RATTLE算法对指定的键和角度应用键和角度约束。这通常会启用更长的时间步长。" class="headerlink" title="在LAMMPS模拟中，通过SHAKE或RATTLE算法对指定的键和角度应用键和角度约束。这通常会启用更长的时间步长。"></a>在LAMMPS模拟中，通过SHAKE或RATTLE算法对指定的键和角度应用键和角度约束。这通常会启用更长的时间步长。</h3><blockquote>
<ul>
<li><code>SHAKE</code></li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fix ID group-ID style tol iter N constraint values ... keyword value ...</span><br><span class="line">fix ID group-ID shake 0.0001 20 10 b 254 a 459</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>tol &#x3D; accuracy tolerance of SHAKE solution</li>
<li>iter &#x3D; max # of iterations in each SHAKE solution</li>
<li>N &#x3D; print SHAKE statistics every this many timesteps (0 &#x3D; never)</li>
<li>b values &#x3D; one or more bond types</li>
<li>a values &#x3D; one or more angle types</li>
<li>t values &#x3D; one or more atom types</li>
<li>m value &#x3D; one or more mass values</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><code>SHAKE</code>算法是为标准<code>Verlet timestepping</code>等方案而发明的，在这些方案中，只有坐标被积分，速度被近似为轨迹的有限差分；</li>
<li>如果速度被明确地积分，就像LAMMPS使用的<code>velocity Verlet</code>积分方法一样，为了消除沿着键的速度分量，就需要第二组约束力；</li>
<li><code>SHAKE and RATTLE</code>都是针对单个分子来设置的；</li>
<li>i原子和j原子的位移矢量为：r<sub>ij</sub><sup>n+1</sup> &#x3D; r<sub>j</sub><sup>n</sup>-r<sub>i</sub><sup>n</sup></li>
<li>约束条件为：① r<sub>ij</sub><sup>n+1</sup>.r<sub>ij</sub><sup>n+1</sup>&#x3D;d<sub>ij</sub><sup>2</sup> and ② v<sub>ij</sub><sup>n+1</sup>.r<sub>ij</sub><sup>n+1</sup>&#x3D;0</li>
<li>其中，<code>SHAKE</code>算法满足第一条件，如果强加第二条件，沿键方向的速度分量就会消失；</li>
<li>而<code>RATTLE</code>算法满足这两个条件；</li>
<li>fix <code>SHAKE</code>和<code>RATTLE</code>有着相同的设置和选项；</li>
<li>通过<code>SHAKE算法</code>每一步都指定键和角去重新设置它们的平衡长度和角度值<a href="https://www.sciencedirect.com/science/article/pii/0021999177900985">J of Comp Phys, 23, 327-341 (1977)</a>；这是通过施加额外的约束力来实现的，这样新的位置就保持了所需的原子分离。<code>小的delta值意味着SHAKE的很好</code>；</li>
<li>另外，由于<code>fix RATTLE</code>修改力和速度，因此<code>fix RATTLE</code>应该定义在所有其他<code>fix</code>的后面。</li>
<li>为了计算效率，在一个模拟中只能定义一个<code>SHAKE或RATTLE</code></li>
</ul>
</blockquote>
<h2 id="9-fix-npt"><a href="#9-fix-npt" class="headerlink" title="9. fix npt"></a>9. <code>fix npt</code></h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fix ID group-ID style_name keyword value</span><br><span class="line">fix 1  water    npt        temp    300.0 300.0 100.0 iso 0.0 0.0 1000.0</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>基于Nose-Hoover style对非哈密顿运动方程执行时间积分，在每个时间步更新组中原子的位置和速度。</li>
<li><strong>压力里是怎么给的？</strong></li>
<li>温度调节和压力调节是通过添加一些动态变量来实现的，这些动态变量与粒子速度(温度调节)和模拟域尺寸(压力调节)耦合。</li>
<li>除了基本的恒温和恒压调节外，这些修复还可以创建一个与粒子恒温器耦合的恒温器链，以及另一个与恒压调节变量耦合的恒温器链。该稳压器可以耦合到整体盒体积，或个别尺寸，包括xy, xz和yz倾斜尺寸。恒温器的外部压力可以指定为标量压力(等压系综)或对称应力张量的分量(恒应力系综)。当使用正确时，粒子的时间平均温度和应力张量将会和指定的Tstart&#x2F;Tstop和Pstart&#x2F;Pstop目标值匹配。</li>
</ul>
</blockquote>
<h2 id="定义一种计算一组原子温度的方法"><a href="#定义一种计算一组原子温度的方法" class="headerlink" title="定义一种计算一组原子温度的方法"></a>定义一种计算一组原子温度的方法</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">compute ID group-ID temp</span><br><span class="line">compute   temp_HeavyOil  HeavyOil temp</span><br><span class="line">compute   press_HeavyOil all pressure temp_HeavyOil</span><br><span class="line">thermo_style  custom step temp press pxx pyy pzz pe ke etotal epair ebond eangle edihed</span><br><span class="line">thermo_modify temp temp_HeavyOil format 3 %15.8g press press_HeavyOil</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>计算压力必须是对all进行。</li>
</ul>
</blockquote>
<h2 id="设置一组或多组原子刚体"><a href="#设置一组或多组原子刚体" class="headerlink" title="设置一组或多组原子刚体"></a>设置一组或多组原子刚体</h2><blockquote>
<ul>
<li>设置一组</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fix 1       Water  rigid   single</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>设置多组</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">fix 2       all  rigid   group 2 Water Quartz</span><br><span class="line"># 排除刚体组内原子之间的相互作用力</span><br><span class="line">neigh_modify    exclude group Water Water</span><br><span class="line">neigh_modify    exclude group Quartz Quartz</span><br></pre></td></tr></table></figure>

<h2 id="read-data"><a href="#read-data" class="headerlink" title="read_data"></a>read_data</h2><ul>
<li>该命令通过使用add、offset、shift关键字可以多次读取data文件，可以组件比较复杂的系统，比如：先读取一个流体结构，再读取一个壁面的结构，然后还可以再次读取第二个壁面结构，并可以通过<code>displace_atoms</code>命令对该结构进行旋转，以实现对面的另一个壁面。</li>
</ul>
<h3 id="读取单个data时"><a href="#读取单个data时" class="headerlink" title="读取单个data时"></a>读取单个data时</h3><figure class="highlight fortran"><table><tr><td class="code"><pre><span class="line">read_data <span class="keyword">file</span>.<span class="keyword">data</span></span><br></pre></td></tr></table></figure>
<h3 id="读取多个data时"><a href="#读取多个data时" class="headerlink" title="读取多个data时"></a>读取多个data时</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">read_data</span> file.data keyword args</span><br><span class="line"><span class="attribute">read_data</span> data.water add append offset <span class="number">3</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> shift <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">50</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>
<h4 id="keyword：add、offset、shift、extra、group"><a href="#keyword：add、offset、shift、extra、group" class="headerlink" title="keyword：add、offset、shift、extra、group"></a>keyword：add、offset、shift、extra、group</h4><h5 id="add-如果没有模拟盒子，不能用add，如果已经通过create-box命令或先前的read-data命令构建了盒子（也即是data中的xlo、xhi等）。"><a href="#add-如果没有模拟盒子，不能用add，如果已经通过create-box命令或先前的read-data命令构建了盒子（也即是data中的xlo、xhi等）。" class="headerlink" title="add:如果没有模拟盒子，不能用add，如果已经通过create_box命令或先前的read_data命令构建了盒子（也即是data中的xlo、xhi等）。"></a>add:如果没有模拟盒子，不能用<code>add</code>，如果已经通过<code>create_box</code>命令或先前的<code>read_data</code>命令构建了盒子（也即是data中的xlo、xhi等）。</h5><blockquote>
<ul>
<li>另外，<code>add</code>后面还跟着一个参数，有四个选择:<code>append;IDoffset;MOLoffset merge</code>分别表示：<br>（append）后面加上来的data中的原子id直接顺延，比如之前读取的data一共5个原子类型，后来加的data有2个原子id，那么合起来的原子id就是5+2；<br>（IDoffset）是指定一个具体数值代替前面的5，例如：IDoffset 10， 这里表示下一个data读取的原子id会从11开始；<br>（MOLoffset）与IDoffset相似，表示分子ID<br>（merge）表示不改变原子id直接合并</li>
</ul>
</blockquote>
<h5 id="offset在data文件中读取atom-bond-angle-…-types"><a href="#offset在data文件中读取atom-bond-angle-…-types" class="headerlink" title="offset在data文件中读取atom bond angle … types"></a>offset在data文件中读取atom bond angle … types</h5><blockquote>
<ul>
<li>offset后面跟五个参数</li>
</ul>
</blockquote>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">toff = <span class="keyword">offset</span> <span class="keyword">to</span> <span class="keyword">add</span> <span class="keyword">to</span> atom <span class="keyword">types</span></span><br><span class="line">boff = <span class="keyword">offset</span> <span class="keyword">to</span> <span class="keyword">add</span> <span class="keyword">to</span> bond <span class="keyword">types</span></span><br><span class="line">aoff = <span class="keyword">offset</span> <span class="keyword">to</span> <span class="keyword">add</span> <span class="keyword">to</span> angle <span class="keyword">types</span></span><br><span class="line">doff = <span class="keyword">offset</span> <span class="keyword">to</span> <span class="keyword">add</span> <span class="keyword">to</span> dihedral <span class="keyword">types</span></span><br><span class="line">ioff = <span class="keyword">offset</span> <span class="keyword">to</span> <span class="keyword">add</span> <span class="keyword">to</span> improper <span class="keyword">types</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>以第一个为例，如果toff&#x3D;2，添加的原子的原来id为1 2 3，那么添加后将会变为3 4 5；</li>
</ul>
</blockquote>
<h5 id="shift关键字可以改变加入系统data的位置"><a href="#shift关键字可以改变加入系统data的位置" class="headerlink" title="shift关键字可以改变加入系统data的位置"></a>shift关键字可以改变加入系统data的位置</h5><blockquote>
<ul>
<li>有三个参数分别代表在三个方向的原子偏移量;</li>
</ul>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">shift</span> Sx, Sy, Sz</span><br><span class="line"><span class="attribute">shift</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">20</span></span><br></pre></td></tr></table></figure>

<h5 id="extra关键字为稍后再次使用read-data命令添加新的atom、bond、angle等而准备"><a href="#extra关键字为稍后再次使用read-data命令添加新的atom、bond、angle等而准备" class="headerlink" title="extra关键字为稍后再次使用read_data命令添加新的atom、bond、angle等而准备"></a>extra关键字为稍后再次使用read_data命令添加新的atom、bond、angle等而准备</h5><blockquote>
<ul>
<li>该关键字只能在第一次读取data时使用；</li>
<li>当系统第一次初始化时，LAMMPS设置了允许的原子、键、角度等类型的最大数目;</li>
<li>如果不使用extra关键字，那么这些类型的数量将被限制在您读的第一个数据文件中出现的数量。</li>
<li>例如，如果第一个数据文件是Si的固体基底，它可能会指定一个单个原子类型；如果读取第二个数据文件而且是不同的材料(例如水分子)，位于基底上方，将需要使用不同的原子类型。<strong>只有在读取基底数据文件时将extra&#x2F;atom&#x2F;types关键字的值设置的足够大，才能做到</strong></li>
<li>注意，使用extra关键字还允许每个数据文件包含如下部分:Masses或Pair Coeffs或Bond Coeffs，其大小与数据文件中的类型数量相匹配</li>
</ul>
</blockquote>
<h5 id="group关键字是可以把新添加data设为一组"><a href="#group关键字是可以把新添加data设为一组" class="headerlink" title="group关键字是可以把新添加data设为一组"></a>group关键字是可以把新添加data设为一组</h5><h5 id="nocoeff关键字，顾名思义"><a href="#nocoeff关键字，顾名思义" class="headerlink" title="nocoeff关键字，顾名思义"></a>nocoeff关键字，顾名思义</h5><h2 id="LAMMPS-data盒子类型转换"><a href="#LAMMPS-data盒子类型转换" class="headerlink" title="LAMMPS data盒子类型转换"></a>LAMMPS data盒子类型转换</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">change_box all triclinic #正交转单斜</span><br><span class="line">change_box all ortho #单斜转正交</span><br></pre></td></tr></table></figure>

<h2 id="计算group和group原子之间相互能与力"><a href="#计算group和group原子之间相互能与力" class="headerlink" title="计算group和group原子之间相互能与力"></a><a href="https://docs.lammps.org/compute_group_group.html">计算group和group原子之间相互能与力</a></h2><ul>
<li><p>模板</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">compute ID group-ID group/group group2-ID keyword value ...</span><br></pre></td></tr></table></figure></li>
<li><p>例子</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">compute 1 lower group/group upper</span><br></pre></td></tr></table></figure>
</li>
<li><p>keyword</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">pair value = yes or no #默认yes, 相互作用能将包括一对分量，该分量被定义为所有原子对之间的成对能量，其中一对原子中的一个在第一组，另一个在第二组。</span><br><span class="line">kspace value = yes or no #默认为no,若为yes则计算的相互作用能将包括一个k空间分量，即长程库仑能</span><br><span class="line">boundary value = yes or no #默认yes,如果boundary关键字设置为yes(默认值)，并且包含了kspace贡献，那么这个能量修正项将被添加到总组-组能量中。这一修正项不影响力的计算，并将为零，如果一个或两个组是电荷中性。这个能量修正项与常规Ewald和PPPM例程中包含的能量修正项相同。</span><br><span class="line">molecule value = off or inter or intra #默认no,如果将molecule关键字设置为inter或intra，则在包括它们的相互作用能和力之前，将根据每对中的两个原子的分子id进行额外的检查。对于两个原子之间inter的相互作用，这两个原子必须处于不同的分子中。对于内部设置intra，这两个原子必须在同一个分子中.</span><br></pre></td></tr></table></figure></li>
<li><p>拓展：</p>
<blockquote>
<ul>
<li>是不是说，加了<code>kspace yes</code>后计算的是范德华力+库仑力；</li>
<li>进一步不加<code>kspace yes</code>，计算的是范德华力，这两项相减就可得到两个组之间的库仑力了？</li>
</ul>
</blockquote>
</li>
</ul>
<h2 id="LAMMPS-data删除原子"><a href="#LAMMPS-data删除原子" class="headerlink" title="LAMMPS data删除原子"></a>LAMMPS data删除原子</h2><ul>
<li>删除没有键角信息的data中组<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">delete_atoms    <span class="keyword">group</span>    <span class="title">Quartz</span></span><br></pre></td></tr></table></figure></li>
<li>删除带有键角信息的data中组<figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">delete_atoms    <span class="keyword">group</span>    <span class="title">Quartz</span></span><br><span class="line">reset_atom_ids <span class="comment">#需新版lammps</span></span><br></pre></td></tr></table></figure></li>
<li><a href="https://zhuanlan.zhihu.com/p/385515862#:~:text=%E4%BD%BF%E7%94%A8lammps%E8%87%AA%E5%B8%A6%E5%91%BD%E4%BB%A4%E5%BB%BA%E6%A8%A1%E6%97%B6%EF%BC%8C%E6%9C%89%E6%97%B6%E5%80%99%E4%BC%9A%E7%94%A8delete_atoms%E5%91%BD%E4%BB%A4%E5%88%A0%E9%99%A4%E9%83%A8%E5%88%86%E5%8E%9F%E5%AD%90%EF%BC%8C%E4%BD%86%E6%98%AF%E5%9C%A8%E5%88%A0%E9%99%A4%E5%8E%9F%E5%AD%90%E5%90%8E%EF%BC%8Clammps%E5%B9%B6%E4%B8%8D%E4%B8%80%E5%AE%9A%E4%BC%9A%E9%87%8D%E6%96%B0%E5%88%86%E9%85%8D%E5%8E%9F%E5%AD%90%E7%9A%84ID%EF%BC%8C%E9%80%A0%E6%88%90data%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%8E%9F%E5%AD%90ID%E5%BA%8F%E5%8F%B7%E4%B8%8D%E8%BF%9E%E7%BB%AD%E3%80%82%20%E4%BD%BF%E7%94%A8velocity%E5%91%BD%E4%BB%A4%E8%BF%9B%E8%A1%8C%E6%B8%A9%E5%BA%A6%E5%88%9D%E5%A7%8B%E5%8C%96%E6%97%B6%EF%BC%8C%E4%BC%9A%E6%8F%90%E7%A4%BA%E2%80%9CAtom%20IDs%20must,be%20consecutive%20for%20velocity%20create...%E2%80%9D%E9%94%99%E8%AF%AF%E3%80%82">ref</a></li>
</ul>
<h2 id="change-box"><a href="#change-box" class="headerlink" title="change_box"></a>change_box</h2><ul>
<li><a href="https://docs.lammps.org/change_box.html">change_box</a></li>
</ul>
<h3 id="LAMMPS-data盒子类型转换-1"><a href="#LAMMPS-data盒子类型转换-1" class="headerlink" title="LAMMPS data盒子类型转换"></a>LAMMPS data盒子类型转换</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">change_box all triclinic #正交转单斜</span><br><span class="line">change_box all ortho #单斜转正交</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>Lammps Command</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu环境下HTR：水合物分子模拟后处理程序</title>
    <url>/MyWiki/wiki/2023/08/23/softwares/hydrate/HTR_install/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Ubuntu安装JDK环境"><a href="#Ubuntu安装JDK环境" class="headerlink" title="Ubuntu安装JDK环境"></a><a href="https://www.cnblogs.com/kaishirenshi/p/10973613.html">Ubuntu安装JDK</a>环境</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install openjdk-8-jdk</span><br><span class="line">java -version</span><br><span class="line"></span><br><span class="line"><span class="comment"># output:</span></span><br><span class="line"><span class="comment"># openjdk version &quot;11.0.19&quot; 2023-04-18</span></span><br><span class="line"><span class="comment"># OpenJDK Runtime Environment (build 11.0.19+7-post-Ubuntu-0ubuntu120.04.1)</span></span><br><span class="line"><span class="comment"># OpenJDK 64-Bit Server VM (build 11.0.19+7-post-Ubuntu-0ubuntu120.04.1, mixed mode, sharing)</span></span><br></pre></td></tr></table></figure>

<h3 id="安装HTR"><a href="#安装HTR" class="headerlink" title="安装HTR"></a>安装HTR</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> git@github.com:XueerPiaoaPiao/HTR.git</span><br><span class="line"><span class="built_in">cd</span> HTR</span><br><span class="line">bash makefile.sh</span><br><span class="line">htr -h</span><br></pre></td></tr></table></figure>

<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><h4 id="WSL-Ubuntu测试"><a href="#WSL-Ubuntu测试" class="headerlink" title="WSL Ubuntu测试"></a>WSL Ubuntu测试</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 格式</span></span><br><span class="line">htr [track file path] [track file name] -o [O atom <span class="built_in">type</span>] -b [chunk number]  </span><br><span class="line"><span class="comment"># 测试</span></span><br><span class="line">htr /home/xxx/softwares/HTR/track-file/ 4600.lammpstrj -o 1 -b 10</span><br><span class="line"><span class="comment"># Total Time:1569</span></span><br></pre></td></tr></table></figure>



<h3 id="to-HTR-lammpstrj"><a href="#to-HTR-lammpstrj" class="headerlink" title="to HTR_lammpstrj"></a><a href="https://github.com/eastsheng/PyScripts/blob/main/scripts/to_HTR_lammpstrj.py">to HTR_lammpstrj</a></h3><ul>
<li>convert lammpstrj file to a trjfile of meet HTR: id type x y z</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>HTR</category>
      </categories>
      <tags>
        <tag>HTR</tag>
        <tag>Hydrate</tag>
      </tags>
  </entry>
  <entry>
    <title>Lammps Tutorials - 建模</title>
    <url>/MyWiki/wiki/2021/10/20/softwares/lammps/LammpsBuildModel/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Build-TOPO-LAMMPS-DATA"><a href="#Build-TOPO-LAMMPS-DATA" class="headerlink" title="Build TOPO LAMMPS DATA"></a>Build TOPO LAMMPS DATA</h2><h3 id="1-获得小分子pdb文件"><a href="#1-获得小分子pdb文件" class="headerlink" title="1. 获得小分子pdb文件"></a>1. 获得小分子pdb文件</h3><blockquote>
<ul>
<li>可以通过MS、<a href="https://www.ovito.org/">Ovito</a>、<a href="https://avogadro.cc/">Avogadro</a>……</li>
</ul>
</blockquote>
<h3 id="2-优化结构"><a href="#2-优化结构" class="headerlink" title="2. 优化结构"></a>2. 优化结构</h3><blockquote>
<ul>
<li>先使用<a href="https://avogadro.cc/">Avogadro</a>的<code>Extensions&lt;Optimize Geometry</code>优化；</li>
<li>然后，使用<a href="http://zarbi.chem.yale.edu/ligpargen/">Ligpargen</a>工具优化，获得<code>PDB</code>和<code>LAMMPS</code>，分别是优化后的pdb文件和lammpsdata文件；</li>
</ul>
</blockquote>
<h3 id="3-构建体系"><a href="#3-构建体系" class="headerlink" title="3. 构建体系"></a>3. 构建体系</h3><blockquote>
<ul>
<li>使用<a href="http://m3g.iqm.unicamp.br/packmol/">Packmol</a>+<a href="https://www.moltemplate.org/">Moltemplate</a>构建体系</li>
<li>首先，使用Packmol，将优化后的pdb文件，组合起来；</li>
<li>然后，通过Moltemplate生成LAMMPS data和inputfile；</li>
<li>在此之前，需要的文件：</li>
</ul>
</blockquote>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span> packmol组合后的pdb文件；</span><br><span class="line"><span class="symbol">$</span> 每个小分子对应的<span class="keyword">lt</span>文件；# 可以使用ltemplify.py通过lammpsdata和inputfile获得，具体参考手册</span><br><span class="line">例如：ltemplify.py -name <span class="string">&quot;Resin inherits OPLSAA&quot;</span> resin.data &gt;resin.<span class="keyword">lt</span></span><br><span class="line"><span class="symbol">$</span> <span class="keyword">system</span>.<span class="keyword">lt</span>文件 # 执行文件</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>执行以下命令即可获得lammpsdata和简单的inputfile</li>
</ul>
</blockquote>
<figure class="highlight vim"><table><tr><td class="code"><pre><span class="line">moltemplate.<span class="keyword">sh</span> -pdb <span class="built_in">system</span>.pdb -atomstyle <span class="string">&quot;full&quot;</span> <span class="built_in">system</span>.<span class="keyword">lt</span></span><br></pre></td></tr></table></figure>

<ul>
<li>指定某个原子顺序</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">moltemplate.sh -a <span class="string">&quot;@atom:Groupname/atomtype 2&quot;</span> system.lt</span><br></pre></td></tr></table></figure>



<h2 id="Enhanced-Monte-Carlo-EMC-建模"><a href="#Enhanced-Monte-Carlo-EMC-建模" class="headerlink" title="Enhanced Monte Carlo (EMC)建模"></a><a href="https://montecarlo.sourceforge.net/emc/Welcome.html">Enhanced Monte Carlo (EMC)</a>建模</h2><h3 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a><a href="https://montecarlo.sourceforge.net/emc/Download.html">下载</a>安装</h3><ul>
<li><p>跨平台、无需安装；</p>
</li>
<li><p>下载：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Linux x86</span></span><br><span class="line">wget http://sourceforge.net/projects/montecarlo/files/emc_linux_x86_64_v9.4.4_20230801.tgz</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加环境变量<code>sudo vim ~/.bashrc</code></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/home/xxx/softwares/build_model/emc/v9.4.4:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/home/xxx/softwares/build_model/emc/v9.4.4/bin:<span class="variable">$PATH</span>&quot;</span></span><br><span class="line"><span class="built_in">export</span> PATH=<span class="string">&quot;/home/xxx/softwares/build_model/emc/v9.4.4/scripts:<span class="variable">$PATH</span>&quot;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="使用例子"><a href="#使用例子" class="headerlink" title="使用例子"></a>使用例子</h3><ul>
<li><p>运行例子：</p>
<blockquote>
<p>v9.4.4&#x2F;examples&#x2F;setup&#x2F;chemistry&#x2F;polymer&#x2F;copolymer&#x2F;</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">emc_setup.pl polymer.esh <span class="comment"># 生成build.emc和polymer.in</span></span><br><span class="line">emc_linux_x86_64 build.emc <span class="comment"># 生成lammps data</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="Atomsk-晶体构建"><a href="#Atomsk-晶体构建" class="headerlink" title="Atomsk 晶体构建"></a><a href="https://atomsk.univ-lille.fr/index.php">Atomsk</a> 晶体构建</h2><ul>
<li>构建一个金属界面系统:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># run this can build a interface system between Au and Ti</span></span><br><span class="line"><span class="comment"># 1. build Au part face centered cubic</span></span><br><span class="line">atomsk --create fcc 4.08 Au -duplicate 40 40 16 Au_cell.cfg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. build Ti part Hexagonal close-packed</span></span><br><span class="line">atomsk --create hcp 2.95 4.686 Ti -duplicate 40 20 14 -orthogonal-cell  Ti_cell.cfg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. merge Au and Ti</span></span><br><span class="line">atomsk --merge Z 2 Au_cell.cfg Ti_cell.cfg Au_Ti_cell.cfg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4. cut</span></span><br><span class="line">atomsk Au_Ti_cell.cfg -<span class="built_in">cut</span> above 50 x -<span class="built_in">cut</span> above 50 y  Au_Ti_system.cfg</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5. convert lammps</span></span><br><span class="line">atomsk Au_Ti_system.cfg lammps</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6. Modify the box size in Au_Ti_system.lmp manually</span></span><br></pre></td></tr></table></figure>



<h2 id="clayff力场生成-lammps-data"><a href="#clayff力场生成-lammps-data" class="headerlink" title="clayff力场生成 lammps data"></a>clayff力场生成 lammps data</h2><blockquote>
<ul>
<li>在MS中识别clayff力场（根据原子类型，修改力场识别）</li>
<li>使用<code>msi2lmp.exe</code>工具生成data</li>
</ul>
</blockquote>
<figure class="highlight axapta"><table><tr><td class="code"><pre><span class="line">msi2lmp.exe quartz_alpha5x5 -i -<span class="keyword">class</span> <span class="title class_">I</span> -frc clayff.frc</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>对生成的data进行修改，使用<code>msi2clayff.py</code>工具</li>
<li>并根据需求手动修改。</li>
</ul>
</blockquote>
<h2 id="快速单斜转正交"><a href="#快速单斜转正交" class="headerlink" title="快速单斜转正交"></a>快速单斜转正交</h2><h3 id="Materials-Studio快速转换正交"><a href="#Materials-Studio快速转换正交" class="headerlink" title="Materials Studio快速转换正交"></a>Materials Studio快速转换正交</h3><blockquote>
<ul>
<li><p><img src="https://pic3.zhimg.com/80/v2-a97d6df5feb52f47bd51088d2203231e_720w.jpg"></p>
</li>
<li><p><code>Build &gt; Symmetry &gt; Redefine Lattice &gt; New Lattice</code></p>
<figure class="highlight tap"><table><tr><td class="code"><pre><span class="line">-1 <span class="number"> 1 </span><span class="number"> 0 </span></span><br><span class="line">-1 -1 <span class="number"> 0 </span></span><br><span class="line"><span class="number"> 0 </span><span class="number"> 0 </span><span class="number"> 1 </span></span><br></pre></td></tr></table></figure>

<figure class="highlight basic"><table><tr><td class="code"><pre><span class="line"><span class="symbol">2 </span> <span class="number">1</span>  <span class="number">0</span> </span><br><span class="line"><span class="symbol">0 </span> <span class="number">1</span>  <span class="number">0</span> </span><br><span class="line"><span class="symbol">0 </span> <span class="number">0</span>  <span class="number">1</span> </span><br></pre></td></tr></table></figure></li>
</ul>
</blockquote>
<h3 id="atmosk转换正交"><a href="#atmosk转换正交" class="headerlink" title="atmosk转换正交"></a>atmosk转换正交</h3><blockquote>
<ul>
<li>不论初始的夹角为多少度，都可以使用atomsk转为正交结构</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">atomsk Bi.cif -orthogonal-cell Bi.lmp</span><br></pre></td></tr></table></figure>



<ul>
<li>参考:<ul>
<li>[1] <a href="https://zhuanlan.zhihu.com/p/375225878">https://zhuanlan.zhihu.com/p/375225878</a></li>
<li>[2] <a href="https://zhuanlan.zhihu.com/p/626663825">https://zhuanlan.zhihu.com/p/626663825</a></li>
</ul>
</li>
</ul>
</blockquote>
<h2 id="Openbabel-GUI"><a href="#Openbabel-GUI" class="headerlink" title="Openbabel GUI"></a>Openbabel GUI</h2><p><img src="http://openbabel.org/w/images/f/fa/BookCover.png"></p>
<ul>
<li><a href="http://openbabel.org/wiki/Main_Page">http://openbabel.org/wiki/Main_Page</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps Tutorials</tag>
        <tag>Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>Lammps安装</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/lammps/LammpsInstall/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Windows下Lammps安装"><a href="#Windows下Lammps安装" class="headerlink" title="- Windows下Lammps安装"></a>- Windows下Lammps安装</h3><ol>
<li><a href="http://packages.lammps.org/windows.html">官网下载Windows版Lammps,和并行包mpich2</a>；<br>2.下载完成后，直接双击<code>LAMMPS-64bit-stable-MPI.exe</code>安装,可以自定义安装位置；</li>
<li>Similarly，接着安装MPICH2<code>mpich2-1.4.1p1-win-x86-64.msi</code>；</li>
<li>完了之后，进入到<code>Administrator</code>用户下操作，<code>win+R</code>输入<code>cmd</code>，调出cmd窗口；</li>
<li><code>cd</code>到MPICH2安装目录的<code>bin</code>下，也即是<code>D:\Program Files\MPICH2\bin</code>；</li>
<li>然后，输入命令：<code>smpd.exe -install -phrase behappy</code>；</li>
<li>别忘记设置环境变量，即是将对应的Lammps@MPICH2路径加入到path中：<code>D:\Program Files\LAMMPS 64-bit 7Aug2019-MPI\bin</code>，<code>D:\Program Files\MPICH2\bin</code></li>
<li>怎么设置环境变量：<blockquote>
<ul>
<li>鼠标右键<code>此电脑</code>；点开<code>高级系统设置</code>；找到<code>高级</code>；点开右下角<code>环境变量(N)</code>；</li>
<li>在系统变量下<code>path</code>中找找看，是否已经设置；若没有，点击新建，将路径复制过来，确定即可</li>
</ul>
</blockquote>
</li>
<li>至此，完成，可以进入lammps目录下<code>Examples</code>中测试一下并行；例如：<code>mpiexec -np 8 lmp_mpi -i inputfile.in</code>；具体看<a href="http://packages.lammps.org/windows.html">官网</a></li>
</ol>
<h3 id="Linux下Lammps并行安装"><a href="#Linux下Lammps并行安装" class="headerlink" title="- Linux下Lammps并行安装"></a>- Linux下Lammps并行安装</h3><h4 id="1-安装必要的编译器"><a href="#1-安装必要的编译器" class="headerlink" title="1. 安装必要的编译器"></a>1. 安装必要的编译器</h4><ul>
<li>安装&#x2F;更新必要的C&#x2F;C++编译器等：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get upgrade</span><br><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install gcc</span><br><span class="line">sudo apt-get install g++</span><br><span class="line">sudo apt-get install gfortran</span><br><span class="line">sudo apt-get install make</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="2-并行计算程序MIPCH安装"><a href="#2-并行计算程序MIPCH安装" class="headerlink" title="2. 并行计算程序MIPCH安装"></a>2. 并行计算程序MIPCH安装</h4><h5 id="本地安装"><a href="#本地安装" class="headerlink" title="本地安装"></a>本地安装</h5><ul>
<li>官网<a href="http://www.mpich.org/downloads/">MPICH安装包</a> ，或者<a href="https://src.fedoraproject.org/repo/pkgs/mpich/">https://src.fedoraproject.org/repo/pkgs/mpich/</a>下载并解压:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://www.mpich.org/static/downloads/4.1.1/mpich-4.1.1.tar.gz</span><br><span class="line">tar -zxvf mpich-4.1.1.tar.gz</span><br><span class="line"><span class="built_in">cd</span> mpich-4.1.1</span><br><span class="line">./configure --prefix=/opt/mpich 2&gt;&amp;1|<span class="built_in">tee</span> c.txt</span><br><span class="line">make 2&gt;&amp;1|<span class="built_in">tee</span> m.txt</span><br><span class="line">make install 2&gt;&amp;1|<span class="built_in">tee</span> mi.txt</span><br></pre></td></tr></table></figure></li>
<li>完成MPICH安装，接着把mpich的安装路径添加到环境变量中，参考<a href="https://eastsheng.cf/wiki/2022/03/08/linux/Linux_command/">这里</a></li>
</ul>
<h5 id="apt-安装"><a href="#apt-安装" class="headerlink" title="apt 安装"></a>apt 安装</h5><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install mpich</span><br></pre></td></tr></table></figure>

<ul>
<li>测试:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">which</span> mpirun <span class="comment"># 检查mpi是否添加路径到环境变量</span></span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>注：若已有mpich，请略过。</li>
</ul>
</blockquote>
<h4 id="3-FFTW3安装"><a href="#3-FFTW3安装" class="headerlink" title="3. FFTW3安装"></a>3. FFTW3安装</h4><ul>
<li><a href="http://www.fftw.org/download.html">Downloading FFTW</a></li>
<li><a href="http://www.fftw.org/fftw3_doc/Installation-on-Unix.html">Installation on Unix</a><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://www.fftw.org/fftw-3.3.10.tar.gz</span><br><span class="line">tar -zxvf fftw-3.3.10.tar.gz</span><br><span class="line"><span class="built_in">cd</span> fftw-3.3.10</span><br><span class="line">./configure <span class="comment"># --prefix=/home/xxx/fftw/fftw3310/include (默认/usr/local/include)不能使用相对路径/</span></span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="4-LAMMPS安装"><a href="#4-LAMMPS安装" class="headerlink" title="4. LAMMPS安装"></a>4. LAMMPS安装</h4><ul>
<li><a href="https://lammps.sandia.gov/download.html">下载安装包</a>， 解压:<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://download.lammps.org/tars/lammps-3Mar2020.tar.gz</span><br><span class="line">tar -zxvf lammps-3Mar2020.tar.gz</span><br></pre></td></tr></table></figure></li>
<li>进入解压文件夹内：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps-3Mar20/src</span><br></pre></td></tr></table></figure></li>
<li>修改src&#x2F;MAKE&#x2F;Makefile.mpi中FFTW路径（可选，若默认安装FFTW路径则无需修改）</li>
</ul>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">FFT_INC =  -DFFT_FFTW3 -I/home/xxx/fftw/fftw3310/<span class="keyword">include</span></span><br><span class="line">FFT_PATH = -L/home/xxx/fftw/fftw3310/lib</span><br><span class="line">FFT_LIB =  -lfftw3</span><br></pre></td></tr></table></figure>

<ul>
<li>输入：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make ps <span class="comment"># 或者</span></span><br><span class="line">make package-status <span class="comment">#查看扩展包安装状态</span></span><br></pre></td></tr></table></figure>

<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">ASPHERE</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="keyword">BODY</span></span><br><span class="line"><span class="title">Installed  NO: <span class="keyword">package</span> CLASS2</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">COLLOID</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">COMPRESS</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">CORESHELL</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">DIPOLE</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">GPU</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">GRANULAR</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">KIM</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">KOKKOS</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">KSPACE</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">LATTE</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">MANYBODY</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">MC</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">MESSAGE</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">M</span>ISC</span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">MOLECULE</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">MPIIO</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">MSCG</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">OPT</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">PERI</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">POEMS</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">PYTHON</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">QEQ</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">REPLICA</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">RIGID</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">SHOCK</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">SNAP</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">SPIN</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">SRD</span></span><br><span class="line">Installed  NO: <span class="keyword">package</span> <span class="title">VORONOI</span></span><br></pre></td></tr></table></figure>


<ul>
<li>输入：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># make yes-xxx #安装所需扩展包</span></span><br><span class="line"><span class="comment"># 常用包一次性安装</span></span><br><span class="line">make yes-BODY yes-MANYBODY yes-CLASS2 yes-KSPACE yes-MISC yes-MOLECULE yes-RIGID</span><br></pre></td></tr></table></figure>

<ul>
<li>完成后，输入:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make mpi </span><br><span class="line">make mpi -j8 <span class="comment"># 8核并行</span></span><br></pre></td></tr></table></figure>
<ul>
<li>待编译完成后，LAMMPS就安装成功了。<blockquote>
<ul>
<li>注意如果提示<code>mpicxx:command not found</code>的错误,是由于mpich的环境变量没有添加成功；</li>
<li>进入<code>lammps-stable/examples</code>中任意测试一个例子；</li>
<li>运行lammps，例如：</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mpirun -np 4 lmp_mpi -i in.atm</span><br><span class="line"><span class="comment">#或</span></span><br><span class="line">mpiexec -np 4 lmp_mpi -i in.atm</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li><strong>注意</strong>：记得在<code>~/.bashrc</code>中设置<code>/home/.../lammps-stable/src</code>环境变量</li>
</ul>
</blockquote>
</li>
</ul>
<p><a href="https://cloud.tencent.com/developer/article/1484595">[1]</a> <a href="https://cloud.tencent.com/developer/article/1484595">https://cloud.tencent.com/developer/article/1484595</a></p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>Lammps安装</tag>
      </tags>
  </entry>
  <entry>
    <title>Lammps 笔记</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/lammps/LammpsNotes/</url>
    <content><![CDATA[<p>[toc]</p>
<p><strong>11-17</strong></p>
<h3 id="使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等"><a href="#使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等" class="headerlink" title="使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等"></a>使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等</h3><ul>
<li>运行alm.in,生成<code>xxx.pattern_HARMONIC</code>和<code>xxx.pattern_ANHARM3</code><blockquote>
<ol>
<li>需要注意：<code>NORDER = 2  # 1: harmonic, 2: cubic, ..</code></li>
<li>其他信息修改参照官网</li>
</ol>
</blockquote>
</li>
<li>用alamode自带的displace.py，生成harm1.lammps和cubic1.lammps <blockquote>
<ol>
<li>如果harm和cubic文件很多的话，几百几千个，这里可能会出现harm0001.lammps这种文件名，会报错。</li>
</ol>
</blockquote>
</li>
<li>用脚本运行lammps,in.sw,使harm1.lammps和cubic1.lammps 分别生成XFSET.harm1和XFSET.cubic1</li>
<li>最后使用alamode自带的extract.py，从XFSET.harm和XFSET.cubic提取到DESET_harmonic中</li>
<li>修改alm.in中的MODE为optimize并添加一些信息，再次运行alm.in，会得到xxx.fcs和xxx.xml,</li>
<li>利用anphon通过xxx.xml会得到xxx.bands文件，然后通过自带的plotband.py可以计算声子色散；</li>
<li>同样获得pdos</li>
<li>具体参见官网</li>
</ul>
<h3 id="Nose-Hoover"><a href="#Nose-Hoover" class="headerlink" title="Nose-Hoover"></a>Nose-Hoover</h3><ul>
<li>Lammps默认NVT为Nose-Hoover</li>
<li>NEMD时使用此热库，其实就是在热源和冷源加 <em>nvt</em> ，</li>
<li>在跑非平衡分子动力学( <em>NEMD</em> )模拟时，由于Nose-Hoover具有演化的过程，但是NEMD也有演化，</li>
<li>所以在跑nve的时候，不仅要排除fixed的区域，还要排除热源冷源区域。</li>
</ul>
<h3 id="NPT时系统的边界条件必须为周期性边界条件"><a href="#NPT时系统的边界条件必须为周期性边界条件" class="headerlink" title="NPT时系统的边界条件必须为周期性边界条件"></a>NPT时系统的边界条件必须为周期性边界条件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">boundary	p p p</span><br></pre></td></tr></table></figure>

<h3 id="REBO-MoS2"><a href="#REBO-MoS2" class="headerlink" title="REBO MoS2"></a>REBO MoS2</h3><ul>
<li><a href="https://research.matse.psu.edu/sinnott/software">https://research.matse.psu.edu/sinnott/software</a></li>
<li>注意：</li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">0</span>.<span class="number">020</span>             epsilon_SS #对应<span class="number">300</span>K</span><br><span class="line"><span class="attribute">0</span>.<span class="number">01386</span>            epsilon_SS #对应<span class="number">0</span>K</span><br></pre></td></tr></table></figure>

<h3 id="原子间势函数库"><a href="#原子间势函数库" class="headerlink" title="原子间势函数库"></a>原子间势函数库</h3><ul>
<li>Interatomic Potentials (Force Fields)Repository</li>
<li><a href="https://www.ctcms.nist.gov/potentials/">https://www.ctcms.nist.gov/potentials/</a></li>
</ul>
<h3 id="LAMMPS-Online"><a href="#LAMMPS-Online" class="headerlink" title="LAMMPS Online"></a>LAMMPS Online</h3><ul>
<li>LAMMPS Online <a href="https://editor.lammps.org/">https://editor.lammps.org/</a></li>
</ul>
<h3 id="lammps国外社区"><a href="#lammps国外社区" class="headerlink" title="lammps国外社区"></a><a href="https://matsci.org/c/lammps/40">lammps国外社区</a></h3><h3 id="对于amorphous结构控压"><a href="#对于amorphous结构控压" class="headerlink" title="对于amorphous结构控压"></a>对于amorphous结构控压</h3><ul>
<li>应该先淬火、不能有真空层，不然不能控压，真空给不了压力</li>
</ul>
<h3 id="LAMMPS入门教程（2）——从in文件建立讲分子动力学模拟流程"><a href="#LAMMPS入门教程（2）——从in文件建立讲分子动力学模拟流程" class="headerlink" title="LAMMPS入门教程（2）——从in文件建立讲分子动力学模拟流程"></a>LAMMPS入门教程（2）——从in文件建立讲分子动力学模拟流程</h3><ul>
<li><a href="https://zhuanlan.zhihu.com/p/341613975">https://zhuanlan.zhihu.com/p/341613975</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>Lammps 笔记</tag>
      </tags>
  </entry>
  <entry>
    <title>VMD 基本操作</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/lammps/VMD_usages/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="VMD使用"><a href="#VMD使用" class="headerlink" title="VMD使用"></a>VMD使用</h2><h3 id="VMD-Linux-安装"><a href="#VMD-Linux-安装" class="headerlink" title="VMD Linux 安装"></a>VMD Linux 安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget http://www.ks.uiuc.edu/Research/vmd/vmd-1.9.3/files/final/vmd-1.9.3.bin.LINUXAMD64-CUDA8-OptiX4-OSPRay111p1.opengl.tar.gz</span><br><span class="line">tar -vxzf vmd-1.9.3.bin.LINUXAMD64-CUDA8-OptiX4-OSPRay111p1.opengl.tar.gz</span><br><span class="line"><span class="built_in">cd</span> vmd-1.9.3/</span><br><span class="line">./configure LINUXAMD64</span><br><span class="line">./configure</span><br><span class="line"><span class="built_in">cd</span> src</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>



<h3 id="VMD-TkConsole常用命令"><a href="#VMD-TkConsole常用命令" class="headerlink" title="VMD TkConsole常用命令"></a>VMD TkConsole常用命令</h3><ul>
<li>设定盒子边界类命令：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pbc box -style lines <span class="comment"># 显示box</span></span><br><span class="line">pbc box -width 2     <span class="comment"># 改变lines宽</span></span><br><span class="line">pbc box -color white <span class="comment"># 改变lines颜色</span></span><br><span class="line"><span class="built_in">set</span> cell [pbc <span class="built_in">set</span> &#123;10.0 10.0 10.0&#125; -all] <span class="comment"># 设置边界</span></span><br><span class="line">pbc box -center origin -shiftcenter &#123;-1 -1 0&#125; <span class="comment">#移动盒子</span></span><br><span class="line">pbc box -center origin -color black -width 1.0 -center com</span><br><span class="line">pbc box -on</span><br><span class="line">pbc wrap</span><br><span class="line">pbc wrap -shiftcenterrel &#123;0 0 0.95&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li>视角切换<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">rotate x by 90</span><br><span class="line">rotate y by 90</span><br><span class="line">rotate z by 90</span><br></pre></td></tr></table></figure></li>
<li>读取lammpsdata<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">topo readlammpsdata lammps.data</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="输出高清图片"><a href="#输出高清图片" class="headerlink" title="输出高清图片"></a>输出高清图片</h3><ul>
<li><code>File&gt;&gt;Render...&gt;&gt;Tachyon</code></li>
<li><code>Figure.bat</code>文件内内容：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;..\VMD\tachyon_WIN32.exe&quot;</span> vmdscene.dat -aasamples 100 -mediumshade -trans_vmd -res 1024 742 -format BMP -o Figure.bmp</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="输出透明图片"><a href="#输出透明图片" class="headerlink" title="输出透明图片"></a>输出透明图片</h3><ul>
<li><p>安装<a href="http://www.povray.org/download/">POV-Ray</a></p>
</li>
<li><p>linux: <a href="http://www.povray.org/redirect/www.povray.org/ftp/pub/povray/Old-Versions/Official-3.62/Linux/povlinux-3.6.tgz">POV-Ray</a></p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202312170028602.png" alt="image-20231217002804420"></p>
</li>
<li><p>windows:</p>
<figure class="highlight bat"><table><tr><td class="code"><pre><span class="line">pvengine64 vmdscene.pov +UA +A +W3000 +H2000</span><br></pre></td></tr></table></figure>
</li>
<li><p>linux:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">povray vmdscene.pov +UA +A +W3000 +H2000</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<p>如果出来背景还不是透明的， 把display里 depth cueing 取消选择。</p>
</blockquote>
<h3 id="输出Video"><a href="#输出Video" class="headerlink" title="输出Video"></a>输出Video</h3><ul>
<li>输出帧图片：<figure class="highlight mipsasm"><table><tr><td class="code"><pre><span class="line"><span class="keyword">Extensions&gt;&gt;Visualizations&gt;&gt;Movie </span>Maker</span><br></pre></td></tr></table></figure></li>
<li>组合图片成视频</li>
<li><blockquote>
<p><a href="http://gromada.com/videomach/">VideoMach</a></p>
</blockquote>
</li>
</ul>
<h2 id="TCL命令"><a href="#TCL命令" class="headerlink" title="TCL命令"></a>TCL命令</h2><h3 id="计算z方向的氢键Hbonds-cal-z-tcl"><a href="#计算z方向的氢键Hbonds-cal-z-tcl" class="headerlink" title="计算z方向的氢键Hbonds_cal_z.tcl"></a>计算z方向的氢键<code>Hbonds_cal_z.tcl</code></h3><figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line"><span class="comment">#TCL VMD script to calculate Avg No. of HBonds for given Acceptor and Donor groups in the z direction </span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#Authour : KAPAKAYALA ANJI BABU</span></span><br><span class="line"><span class="comment">#          IIT KANPUR, INDIA.</span></span><br><span class="line"><span class="comment">#Modified by : Dongsheng Chen</span></span><br><span class="line"><span class="comment">#USAGE   : Open VMD/Extensions - Tk console then execute script as &quot; source hbonds_direction_z.tcl&quot;</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#OUTPUT Files ::   hbonds-details_new.dat  ; which contains details of all given Donor &amp; Acceptor atoms.</span></span><br><span class="line"><span class="comment">#				   hbonds-z.dat			   ; which contains z position vs No.of Hbonds.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#set outfile [open &quot;hbonds-details-all.dat&quot; w]</span></span><br><span class="line"><span class="comment">#set hbzfile [open &quot;hbonds-all-z.dat&quot; w]</span></span><br><span class="line"><span class="comment">#set hbzfile [open &quot;hbonds-wat-wat-z.dat&quot; w]</span></span><br><span class="line"><span class="keyword">set</span> hbzfile [<span class="keyword">open</span> <span class="string">&quot;hbonds-wat-sdbs-z.dat&quot;</span> w]</span><br><span class="line"><span class="keyword">set</span> n [ molinfo top get numframes]</span><br><span class="line"><span class="keyword">set</span> sum <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> &#123;<span class="keyword">set</span> i <span class="number">901</span>&#125; &#123;<span class="variable">$i</span> &lt;= <span class="variable">$n</span>&#125; &#123;<span class="keyword">incr</span> i&#125; &#123;</span><br><span class="line"><span class="keyword">for</span> &#123;<span class="keyword">set</span> j <span class="number">-34</span>&#125; &#123;<span class="variable">$j</span> &lt;=<span class="number">94</span>&#125; &#123;<span class="keyword">incr</span> j&#125; &#123;</span><br><span class="line"><span class="keyword">set</span> k [<span class="keyword">expr</span> <span class="variable">$j</span>]</span><br><span class="line"><span class="comment">#set D [atomselect top &quot;all and z&lt;[expr $k+0.5] and z&gt;=$k&quot; frame $i] </span></span><br><span class="line"><span class="keyword">set</span> D [atomselect top <span class="string">&quot;type 411 to 412 and z&lt;[expr $k+0.5] and z&gt;=$k&quot;</span> frame <span class="variable">$i</span>] </span><br><span class="line"><span class="comment">#set A [atomselect top &quot;all&quot; frame $i]</span></span><br><span class="line"><span class="comment">#set A [atomselect top &quot;type 411 to 412&quot; frame $i]</span></span><br><span class="line"><span class="comment">#set A [atomselect top &quot;resid 1606 1607 3108 3109&quot; frame $i]</span></span><br><span class="line"><span class="comment">#set A [atomselect top &quot;resid 1606 1607 1608 1609 3110 3111 3112 3113&quot; frame $i]</span></span><br><span class="line"><span class="keyword">set</span> A [atomselect top <span class="string">&quot;resid 1606 1607 1608 1609 1610 1611 1612 1613 1614 1615 3116 3117 3118 3119 3120 3121 3122 3123 3124 3125&quot;</span> frame <span class="variable">$i</span>]</span><br><span class="line"><span class="keyword">set</span> D_list [<span class="variable">$D</span> get &#123;resname type serial &#125;]</span><br><span class="line"><span class="keyword">set</span> A_list [<span class="variable">$A</span> get &#123;resname type serial &#125;]</span><br><span class="line"><span class="keyword">set</span> lists [measure hbonds <span class="number">3.5</span> <span class="number">30</span> <span class="variable">$D</span> <span class="variable">$A</span>]</span><br><span class="line"><span class="keyword">set</span> atoms [<span class="keyword">lindex</span> <span class="variable">$lists</span> <span class="number">0</span>]</span><br><span class="line"><span class="keyword">set</span> Num [<span class="keyword">llength</span> <span class="variable">$atoms</span>]  </span><br><span class="line"></span><br><span class="line"><span class="comment">##---------Writing OUTPUT----------------------#</span></span><br><span class="line"><span class="comment">#puts $outfile  &quot;========================================&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile  &quot;Frame :: $i &quot;</span></span><br><span class="line"><span class="comment">#puts $outfile  &quot;DONARS_list ::\n$D_list&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile  &quot;&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile  &quot;Acceptors_list ::\n$A_list&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile  &quot;&quot;</span></span><br><span class="line"><span class="comment">##puts &quot;Hbonds List :: $lists&quot;</span></span><br><span class="line"><span class="comment">##set HBnum [llength $lists ]</span></span><br><span class="line"><span class="comment">#puts &quot;&quot;</span></span><br><span class="line"><span class="comment">##puts &quot;No. of Hbonds :: $HBnum&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile &quot;HB Atoms:: $atoms&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile &quot;&quot;</span></span><br><span class="line"><span class="comment">#puts $outfile &quot;No. of Hbonds::  $Num&quot;</span></span><br><span class="line"><span class="keyword">puts</span> <span class="variable">$hbzfile</span> <span class="string">&quot;$i $k [expr $k+0.5] $Num&quot;</span></span><br><span class="line"><span class="keyword">puts</span>  <span class="string">&quot;$i $k [expr $k+0.5] :: No. of Hbonds =  $Num&quot;</span></span><br><span class="line"><span class="comment">#------------------Calculating Avg HBonds--------#</span></span><br><span class="line"><span class="keyword">set</span> sum [<span class="keyword">expr</span> <span class="variable">$sum</span> + <span class="variable">$Num</span> ]</span><br><span class="line"><span class="comment">#puts &quot;Sum :: $sum&quot;</span></span><br><span class="line">&#125;&#125;</span><br><span class="line"><span class="keyword">set</span> Hbavg [<span class="keyword">expr</span> <span class="variable">$sum</span>/<span class="variable">$i</span>]</span><br><span class="line"><span class="comment">#puts $hbfile &quot;Ang Hbonds :: $Hbavg&quot;</span></span><br><span class="line"><span class="keyword">puts</span> <span class="string">&quot;====================================&quot;</span></span><br><span class="line"><span class="keyword">puts</span> <span class="string">&quot;Ang Hbonds :: $Hbavg&quot;</span></span><br><span class="line"><span class="keyword">puts</span> <span class="string">&quot;====================================&quot;</span></span><br><span class="line"><span class="variable">$D</span> delete</span><br><span class="line"><span class="variable">$A</span> delete</span><br><span class="line"><span class="comment">#close $outfile</span></span><br><span class="line"><span class="keyword">close</span> <span class="variable">$hbzfile</span></span><br><span class="line"><span class="comment">#lsort -unique [$sel get resname]</span></span><br><span class="line"><span class="comment">#==========================================================#</span></span><br><span class="line"><span class="comment">#       Written By ANJI BABU KAPAKAYALA                    #</span></span><br><span class="line"><span class="comment">#       Modifed By Dongsheng Chen                          #</span></span><br><span class="line"><span class="comment">#==========================================================#</span></span><br></pre></td></tr></table></figure>
<ul>
<li>导入轨迹后在<code>VMD TkConsole</code>中使用<code>source Hbonds_cal_z.tcl</code>命令执行该代码</li>
</ul>
<h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><h4 id="proc"><a href="#proc" class="headerlink" title="proc"></a>proc</h4><ul>
<li><code>proc</code>：<code>procedure</code>的简称，类似于<code>python</code>中的函数定义<code>def</code></li>
</ul>
<figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line"><span class="comment"># proc 函数名 &#123;参数x 参数y&#125;&#123;函数过程&#125;</span></span><br><span class="line"><span class="keyword">proc</span><span class="title"> add</span>   &#123;x y&#125; &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">expr</span> <span class="variable">$x</span>+<span class="variable">$y</span>] # <span class="keyword">expr</span>将参数做表达式处理 </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h4 id="incr"><a href="#incr" class="headerlink" title="incr"></a>incr</h4><figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span>  x <span class="number">5</span></span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"><span class="keyword">incr</span> x <span class="number">10</span> #相当于给x加<span class="number">10</span></span><br><span class="line"><span class="comment"># 15</span></span><br><span class="line"><span class="keyword">incr</span> x #相当于给x加<span class="number">1</span></span><br><span class="line"><span class="comment"># 16</span></span><br></pre></td></tr></table></figure>
<h4 id="puts"><a href="#puts" class="headerlink" title="puts"></a>puts</h4><ul>
<li>相当于<code>python</code>的<code>print</code></li>
</ul>
<figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">puts</span> <span class="string">&quot;welcome to TkConsole!&quot;</span></span><br></pre></td></tr></table></figure>
<h4 id="llength"><a href="#llength" class="headerlink" title="llength"></a>llength</h4><ul>
<li>相当于<code>python</code>的<code>len</code>，返回列表的元素个数<figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">llength</span> &#123;a b c d e&#125;</span><br><span class="line"><span class="comment"># 5</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="lindex"><a href="#lindex" class="headerlink" title="lindex"></a>lindex</h4><ul>
<li>从列表中获得元素<figure class="highlight tcl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">lindex</span> &#123;a b c d&#125;</span><br><span class="line"><span class="comment"># a b c d</span></span><br><span class="line"><span class="keyword">lindex</span> &#123;a b c d&#125; <span class="number">2</span></span><br><span class="line"><span class="comment"># c</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://blog.sciencenet.cn/blog-271338-729738.html">VMD安装</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/38146922">Linux软件安装④|VMD</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/24241276">Atomselect命令介绍</a></li>
<li><a href="http://sobereva.com/504">VMD里原子选择语句的语法和例子</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>VMD 基本操作</tag>
      </tags>
  </entry>
  <entry>
    <title>Lammps VORONOI Package安装</title>
    <url>/MyWiki/wiki/2023/04/29/softwares/lammps/VORONOI_package/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="Download-Voro"><a href="#Download-Voro" class="headerlink" title="Download Voro++"></a><a href="http://math.lbl.gov/voro++/download">Download Voro++</a></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~lammps/lib/voronoi/</span><br><span class="line">wget https://math.lbl.gov/voro++/download/dir/voro++-0.4.6.tar.gz</span><br></pre></td></tr></table></figure>

<h3 id="Compile-Voro"><a href="#Compile-Voro" class="headerlink" title="Compile Voro++"></a>Compile Voro++</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf voro++-0.4.6.tar.gz</span><br><span class="line"><span class="built_in">cd</span> voro++-0.4.6/</span><br><span class="line">make</span><br></pre></td></tr></table></figure>

<h3 id="Create-two-soft-links"><a href="#Create-two-soft-links" class="headerlink" title="Create two soft links"></a>Create two soft links</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> .. <span class="comment"># cd to /lib/voronoi</span></span><br><span class="line"><span class="built_in">ln</span> -s voro++-0.4.6/src includelink</span><br><span class="line"><span class="built_in">ln</span> -s voro++-0.4.6/src liblink</span><br></pre></td></tr></table></figure>

<h3 id="Installing-VORONOI-package"><a href="#Installing-VORONOI-package" class="headerlink" title="Installing VORONOI package"></a>Installing VORONOI package</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps/src</span><br><span class="line">make yes-voronoi</span><br><span class="line">make mpi -j8</span><br></pre></td></tr></table></figure>

<h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">compute 6 all voronoi/atom neighbors <span class="built_in">yes</span></span><br><span class="line">dump d2 all <span class="built_in">local</span> 1 dump.neighbors index c_6[1] c_6[2] c_6[3]</span><br></pre></td></tr></table></figure>

<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul>
<li>[1] <a href="https://math.lbl.gov/voro++">Voro++</a></li>
<li>[2] <a href="https://docs.lammps.org/compute_voronoi_atom.html">compute voronoi&#x2F;atom command</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>VORONOI package</tag>
      </tags>
  </entry>
  <entry>
    <title>eam_database生成合金势文件</title>
    <url>/MyWiki/wiki/2023/07/08/softwares/lammps/generate_EAM_alloy/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="compile-create-f"><a href="#compile-create-f" class="headerlink" title="compile create.f"></a>compile <code>create.f</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps/tools/eam_database/</span><br><span class="line">gfortran create.f</span><br><span class="line"><span class="comment"># generate a.out file</span></span><br></pre></td></tr></table></figure>

<h3 id="edit-EAM-input"><a href="#edit-EAM-input" class="headerlink" title="edit EAM.input"></a>edit <code>EAM.input</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">&amp;funccard</span><br><span class="line">atomtype=<span class="string">&#x27;Au&#x27;</span></span><br><span class="line">&amp;end</span><br><span class="line">&amp;funccard</span><br><span class="line">atomtype=<span class="string">&#x27;Ti&#x27;</span></span><br><span class="line">&amp;end</span><br><span class="line">&amp;funccard</span><br><span class="line">&amp;end</span><br></pre></td></tr></table></figure>

<h3 id="create-an-eam-alloy-potential-file"><a href="#create-an-eam-alloy-potential-file" class="headerlink" title="create an *.eam.alloy potential file"></a>create an <code>*.eam.alloy</code> potential file</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">./a.out &lt; EAM.input</span><br></pre></td></tr></table></figure>

<h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pair_style eam/alloy</span><br><span class="line">pair_coeff * * AuTi.eam.alloy Au Ti</span><br></pre></td></tr></table></figure>

<h3 id="References"><a href="#References" class="headerlink" title="References"></a>References</h3><ul>
<li>[1] <a href="https://docs.lammps.org/Tools.html#eamdb">https://docs.lammps.org/Tools.html#eamdb</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>EAM</tag>
      </tags>
  </entry>
  <entry>
    <title>Lammps error汇总</title>
    <url>/MyWiki/wiki/2019/01/22/softwares/lammps/error/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="1-跑MD结构散了"><a href="#1-跑MD结构散了" class="headerlink" title="1. 跑MD结构散了"></a>1. 跑MD结构散了</h3><p><strong>跑MD结构结构散了，常见原因总结：</strong></p>
<p>(1). 势函数的问题，调研一下该势函数是否有人模拟过成果过。<br>(2). 原子结构不稳定导致的，例如：</p>
<ul>
<li>模拟 <strong>缺陷</strong> 的时候，缺陷过多导致结构不稳定；</li>
<li>模拟 <strong>高温</strong> 或者 <strong>高压</strong> 环境下时，导致结构不稳定；</li>
<li>可以先低温弛豫（NPT或NVT），稳定后再升温。</li>
</ul>
<p>(3). 势参数设置出错，例如：</p>
<ul>
<li>data文件中原子类型与input文件中配置势参数时的原子类型顺序不一致；</li>
</ul>
<p>(4). 是否有足够的真空层</p>
<h3 id="2-温度分层多出一层"><a href="#2-温度分层多出一层" class="headerlink" title="2. 温度分层多出一层"></a>2. 温度分层多出一层</h3><ul>
<li>在跑NEMD时，我们要记录温度，通过给系统分层，记录每一层的温度；</li>
<li>诡异的来了，分的有些层数，输出的结果会多出一层；</li>
<li>比如，分了120层，输出的结果有121层；</li>
<li>但是，有些就很正常，比如分了200层；</li>
<li>猜测的原因</li>
</ul>
<ul>
<li>是边边上有多余的部分没有被分到？自动分了？</li>
</ul>
<h3 id="3-data文件格式问题"><a href="#3-data文件格式问题" class="headerlink" title="3. data文件格式问题"></a>3. data文件格式问题</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Incorrect atom format <span class="keyword">in</span> data file (../atom.cpp:853)</span><br></pre></td></tr></table></figure>

<ul>
<li>data文件的格式是 <em>full</em> ，却在inputfile中使用了 <em>atomic</em> 格式。</li>
</ul>
<h3 id="4-Lammps输入文件中变量”k”"><a href="#4-Lammps输入文件中变量”k”" class="headerlink" title="4. Lammps输入文件中变量”k”"></a>4. Lammps输入文件中变量”k”</h3><p>首先说一下，Lammps inputfile 的变量有很多，这里说的这个 <em>k</em> 是控制算几遍的那个变量。</p>
<p> <strong>问题？</strong></p>
<ul>
<li>按理说，如果按照下面来写的话，它应该是正常运行，并且会计算三遍。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">variable k  index 1 2 3 </span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">clear</span><br><span class="line">next k</span><br><span class="line">jump inputfile.in</span><br></pre></td></tr></table></figure>

<ul>
<li>事实上，它也会算三遍，但是，我发现有一种情况，它是不会jump到下一个case的。</li>
<li>这种情况：多个inputfile的时候，例如：驰豫(minimize,npt,nvt…)和记录结果分别用两个inputfile来表示。</li>
<li>也即是，先从驰豫jump到记录结果，再让记录结果的inputfile自己jump自己。</li>
<li>结果就是，记录结果的inputfile不会 next k  and  jump</li>
</ul>
<p><strong>已解决</strong></p>
<p><strong>把第一个inputfile里的<code>variable k equal 1</code>改为 <code>variable k index 1 2 3</code>即可</strong></p>
<h3 id="5-missing-an-entry"><a href="#5-missing-an-entry" class="headerlink" title="5. missing an entry"></a>5. missing an entry</h3><p>2020-07-25<br><strong>错误信息：</strong><br><code>“ERROR: Potential file is missing an entry (../pair_sw.cpp:500)”</code><br><strong>解决方法：</strong></p>
<ul>
<li>是由于势函数文件里少了一部分没给出来。</li>
<li>比如，以MoS<sub>2</sub>为例,要给的有，<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Mo S  S</span></span><br><span class="line"><span class="attribute">S  Mo Mo</span></span><br><span class="line"><span class="attribute">Mo Mo Mo</span></span><br><span class="line"><span class="attribute">Mo Mo S </span></span><br><span class="line"><span class="attribute">Mo S  Mo</span></span><br><span class="line"><span class="attribute">S  Mo S </span></span><br><span class="line"><span class="attribute">S  S  Mo</span></span><br><span class="line"><span class="attribute">S  S  S</span> </span><br></pre></td></tr></table></figure></li>
<li>但是，如果少给其中一个就会报此错误。</li>
</ul>
<h3 id="6-Pair-hybrid-sub-style-is-not-used"><a href="#6-Pair-hybrid-sub-style-is-not-used" class="headerlink" title="6. Pair hybrid sub-style is not used"></a>6. Pair hybrid sub-style is not used</h3><p>2021-03-19</p>
<ul>
<li>此错误字面意思时采用了<code>hybrid</code>之后，没有用到<code>sub-style</code>，也即是没有用到下面的<code>sw</code>或<code>tersoff</code>。<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#Force field</span></span><br><span class="line">pair_style       hybrid lj/cut 10.0  sw  tersoff </span><br><span class="line">pair_coeff  *  *  tersoff BNC.tersoff       C      NULL NULL</span><br><span class="line">pair_coeff  *  *  sw      mos2.sw           NULL   S    Mo   </span><br><span class="line"><span class="comment">#LJ-potential</span></span><br><span class="line"><span class="comment">#J. Am. Chem. Soc. 1992, 114, 10024-10035</span></span><br><span class="line"><span class="comment">#Dan Han et al 2019 Nanotechnology 30 075403</span></span><br><span class="line"><span class="comment">#RSC Adv.,2015, 5, 29193–29200</span></span><br><span class="line"><span class="comment">#*********LJ-potential parameters*********#</span></span><br><span class="line">pair_coeff   1 1 lj/cut 0.004560 3.431<span class="comment">#C-C #注释了此行即可解决</span></span><br><span class="line">pair_coeff   1 2 lj/cut 0.007355 3.219<span class="comment">#C-S</span></span><br><span class="line">pair_coeff   1 3 lj/cut 0.003325 2.818<span class="comment">#C-Mo</span></span><br></pre></td></tr></table></figure></li>
<li>这里可能主要是因为<code>pair_style</code>后面先执行了<code>lj/cut</code>，<code>C-C</code>的势函数就以LJ势已经被给了;</li>
<li>而接下来，使用<code>tersoff</code>的时候，就没有用到？</li>
<li>因此，把<code>C-C</code>的<code>LJ</code>注释就可以了。</li>
<li>但是，我这里算的是多层石墨烯和MoS<sub>2</sub>，因此，必须还要给石墨烯一个层间的<code>LJ</code></li>
<li>所以，还需要再具体修改每层<code>C</code>原子类型。</li>
</ul>
<h3 id="7-LAMMPSmsi2lmp-exe转换-car-mdf为LAMMPS-data文件时："><a href="#7-LAMMPSmsi2lmp-exe转换-car-mdf为LAMMPS-data文件时：" class="headerlink" title="7. LAMMPSmsi2lmp.exe转换.car .mdf为LAMMPS data文件时："></a>7. LAMMPS<code>msi2lmp.exe</code>转换<code>.car .mdf</code>为LAMMPS data文件时：</h3><blockquote>
<p>执行</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">msi2lmp.exe xxx -i -f cvff.frc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>错误信息</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Cannot open ../frc_files/cvff.frc</span><br></pre></td></tr></table></figure>
<blockquote>
<p>解决方法</p>
<ul>
<li>windows下，添加frc_files的路径为环境变量就好了</li>
<li>linux下，添加环境变量后还是一样的错误信息。</li>
</ul>
</blockquote>
<h3 id="8-Expected-floating-point-parameter-instead-of-39-C1-39-in-input-script-or-data-file-pair-lj-cut-coul-long-cpp-628"><a href="#8-Expected-floating-point-parameter-instead-of-39-C1-39-in-input-script-or-data-file-pair-lj-cut-coul-long-cpp-628" class="headerlink" title="8. Expected floating point parameter instead of &#39;C1&#39; in input script or data file (../pair_lj_cut_coul_long.cpp:628)"></a>8. <code>Expected floating point parameter instead of &#39;C1&#39; in input script or data file (../pair_lj_cut_coul_long.cpp:628)</code></h3><blockquote>
<p>在执行lammps时出现错误信息</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Expected floating point parameter instead of <span class="string">&#x27;C1&#x27;</span> <span class="keyword">in</span> input script or data file (../pair_lj_cut_coul_long.cpp:628)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>按照data file格式修改即可，这里是因为data里Pair Coeffs的格式不对</p>
</blockquote>
<h3 id="9-出现错误ERROR-Pair-style-requires-a-KSpace-style-pair-lj-cut-coul-long-cpp-687"><a href="#9-出现错误ERROR-Pair-style-requires-a-KSpace-style-pair-lj-cut-coul-long-cpp-687" class="headerlink" title="9. 出现错误ERROR: Pair style requires a KSpace style (../pair_lj_cut_coul_long.cpp:687)"></a>9. 出现错误<code>ERROR: Pair style requires a KSpace style (../pair_lj_cut_coul_long.cpp:687)</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ERROR: Pair style requires a KSpace style (../pair_lj_cut_coul_long.cpp:687)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>解决方法：</strong> in文件中缺少KSpace style,添加即可</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">kspace_style pppm 1e-4</span><br></pre></td></tr></table></figure>

<h3 id="10-出现错误Expected-floating-point-parameter-instead-of"><a href="#10-出现错误Expected-floating-point-parameter-instead-of" class="headerlink" title="10. 出现错误Expected floating point parameter instead of"></a>10. 出现错误<code>Expected floating point parameter instead of</code></h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Expected floating point parameter instead of <span class="string">&#x27;lj/cut/coul/long&#x27;</span> <span class="keyword">in</span> input script or data file (../pair_lj_cut_coul_long.cpp:628)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>解决方法</strong> </p>
<ul>
<li>pair_style 使用 hybrid</li>
<li>参考链接 <a href="http://blog.sciencenet.cn/blog-3388193-1235086.html">http://blog.sciencenet.cn/blog-3388193-1235086.html</a></li>
</ul>
</blockquote>
<h3 id="11-Out-of-range-atoms-cannot-compute-MSM"><a href="#11-Out-of-range-atoms-cannot-compute-MSM" class="headerlink" title="11. Out of range atoms - cannot compute MSM"></a>11. Out of range atoms - cannot compute MSM</h3><blockquote>
<p>修改</p>
<ul>
<li>neigh_modify delay 0 every 1 check yes</li>
<li>原子重叠、步长太大等</li>
</ul>
</blockquote>
<h3 id="12-ERROR-on-proc-10-Neighbor-list-overflow-boost-neigh-modify-one-x2F-npair-half-multi-newton-cpp-163"><a href="#12-ERROR-on-proc-10-Neighbor-list-overflow-boost-neigh-modify-one-x2F-npair-half-multi-newton-cpp-163" class="headerlink" title="12. ERROR on proc 10: Neighbor list overflow, boost neigh_modify one (..&#x2F;npair_half_multi_newton.cpp:163)"></a>12. ERROR on proc 10: Neighbor list overflow, boost neigh_modify one (..&#x2F;npair_half_multi_newton.cpp:163)</h3><blockquote>
<ul>
<li>官网解答：<code>There are too many neighbors of a single atom. Use the neigh_modify command to increase the max number of neighbors allowed for one atom. You may also want to boost the page size.</code></li>
<li></li>
</ul>
</blockquote>
<h3 id="13-ERROR-Incorrect-args-for-improper-coefficients-x2F-improper-harmonic-cpp-237"><a href="#13-ERROR-Incorrect-args-for-improper-coefficients-x2F-improper-harmonic-cpp-237" class="headerlink" title="13. ERROR: Incorrect args for improper coefficients (..&#x2F;improper_harmonic.cpp:237)"></a>13. ERROR: Incorrect args for improper coefficients (..&#x2F;improper_harmonic.cpp:237)</h3><blockquote>
<ul>
<li>实在找不出原因，我看以前有人把这一部分删除了，</li>
<li>跟dihedral一样，improper应该也是描述二面角力的，可以省略一个不？。待解决？？？</li>
<li><strong>解决方法</strong>： 需要安装该库 USER-MISC</li>
</ul>
</blockquote>
<figure class="highlight ada"><table><tr><td class="code"><pre><span class="line">This improper style can only be used <span class="keyword">if</span> LAMMPS was built <span class="keyword">with</span> the USER-MISC <span class="keyword">package</span>. See the Build <span class="keyword">package</span></span><br><span class="line"><span class="title">doc page for more info.</span></span><br></pre></td></tr></table></figure>


<h3 id="14-Out-of-range-atoms-cannot-compute-PPPM"><a href="#14-Out-of-range-atoms-cannot-compute-PPPM" class="headerlink" title="14. Out of range atoms - cannot compute PPPM"></a>14. Out of range atoms - cannot compute PPPM</h3><blockquote>
<ul>
<li>在平衡前不使用<code>kspace_style pppm 0.0001</code></li>
<li>参考：<a href="http://bbs.keinsci.com/thread-13244-1-1.html">http://bbs.keinsci.com/thread-13244-1-1.html</a></li>
<li>这样的话，会出现新的error:<code>ERROR: Pair style requires a KSpace style</code></li>
<li>然后，就想着先把能量最小化去掉，直接做NPT、nvt，平衡结构。</li>
<li>接着有出现新的error:<code>ERROR: Non-numeric pressure - simulation unstable</code></li>
<li>调不好，想着先不做npt，先做nvt。</li>
<li>又出现开始时的错误了0.0</li>
<li>把盒子扩大试试。</li>
<li>排查后，发现是使用moltemplate模型构建不合理，有原子重叠之类的</li>
</ul>
</blockquote>
<h3 id="15-Bond-atoms-1951-1952-missing-on-proc-13-at-step-1"><a href="#15-Bond-atoms-1951-1952-missing-on-proc-13-at-step-1" class="headerlink" title="15. Bond atoms 1951 1952 missing on proc 13 at step 1"></a>15. Bond atoms 1951 1952 missing on proc 13 at step 1</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">WARNING</span>: Inconsistent image flags (../domain.cpp:<span class="number">785</span>)</span><br><span class="line"><span class="attribute">Per</span> MPI rank memory allocation (min/avg/max) = <span class="number">20</span>.<span class="number">02</span> | <span class="number">20</span>.<span class="number">77</span> | <span class="number">21</span>.<span class="number">26</span> Mbytes</span><br><span class="line"><span class="attribute">Step</span> Temp Press Pxx Pyy Pzz PotEng KinEng TotEng E_pair E_bond E_angle E_dihed </span><br><span class="line">       <span class="attribute">0</span> <span class="number">6</span>.<span class="number">6068346</span>e+<span class="number">08</span> <span class="number">1</span>.<span class="number">5300993</span>e+<span class="number">09</span>    <span class="number">12965</span>.<span class="number">294</span>    <span class="number">2609</span>.<span class="number">4845</span> <span class="number">4</span>.<span class="number">5902822</span>e+<span class="number">09</span>   -<span class="number">1782420</span>.<span class="number">7</span> <span class="number">1</span>.<span class="number">0587343</span>e+<span class="number">10</span> <span class="number">1</span>.<span class="number">0585561</span>e+<span class="number">10</span>   -<span class="number">1822828</span>.<span class="number">3</span>    <span class="number">37029</span>.<span class="number">198</span>    <span class="number">2967</span>.<span class="number">9944</span>    <span class="number">410</span>.<span class="number">42917</span> </span><br><span class="line"><span class="attribute">ERROR</span> <span class="literal">on</span> proc <span class="number">7</span>: Bond atoms <span class="number">2213</span> <span class="number">2215</span> missing <span class="literal">on</span> proc <span class="number">7</span> at step <span class="number">2</span> (../ntopo_bond_all.cpp:<span class="number">63</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<ul>
<li>一般bond不会自动断裂的，只有lammps在更新粒子坐标时发现在其截断长度加上bin值小于两个粒子之间的距离时会显示missing。</li>
<li>从1.0到5.0试一下看是不是特定原子在特定的时间步missing。</li>
<li>结构有问题，有原子重叠之类的，采用能量最小化优化。</li>
<li>还是结构问题</li>
<li>ref:</li>
<li>[1] <a href="http://www.mdbbs.org/thread-19983-1-1.html">http://www.mdbbs.org/thread-19983-1-1.html</a></li>
<li>[2] <a href="http://muchong.com/html/201706/5624479.html">http://muchong.com/html/201706/5624479.html</a></li>
<li>[3] <a href="http://wap.sciencenet.cn/blog-3437453-1299919.html?mobile=1">http://wap.sciencenet.cn/blog-3437453-1299919.html?mobile=1</a></li>
</ul>
</blockquote>
<h3 id="16-Non-numeric-box-dimensions-simulation-unstable"><a href="#16-Non-numeric-box-dimensions-simulation-unstable" class="headerlink" title="16. Non-numeric box dimensions - simulation unstable"></a>16. Non-numeric box dimensions - simulation unstable</h3><h3 id="17-Non-numeric-pressure-simulation-unstable"><a href="#17-Non-numeric-pressure-simulation-unstable" class="headerlink" title="17. Non-numeric pressure - simulation unstable"></a>17. Non-numeric pressure - simulation unstable</h3><blockquote>
<ul>
<li>应该先控温，再控压</li>
<li>最后发现是电荷给的有问题。</li>
</ul>
</blockquote>
<h3 id="18-ERROR-All-pair-coeffs-are-not-set-x2F-pair-cpp-236"><a href="#18-ERROR-All-pair-coeffs-are-not-set-x2F-pair-cpp-236" class="headerlink" title="18 ERROR: All pair coeffs are not set (..&#x2F;pair.cpp:236)"></a>18 ERROR: All pair coeffs are not set (..&#x2F;pair.cpp:236)</h3><blockquote>
<ul>
<li>使用了<code>pair_modify mix geometric</code>为什么还有这个错误？</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>Lammps error</tag>
      </tags>
  </entry>
  <entry>
    <title>Python mdtraj库安装过程</title>
    <url>/MyWiki/wiki/2023/05/04/softwares/lammps/mdtraj/</url>
    <content><![CDATA[<h2 id="mdtraj库安装"><a href="#mdtraj库安装" class="headerlink" title="mdtraj库安装"></a>mdtraj库安装</h2><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a><a href="https://www.mdtraj.org/1.9.8.dev0/installation.html">Installation</a></h3><ul>
<li><p>官网推荐conda安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda install -c conda-forge mdtraj</span><br></pre></td></tr></table></figure>
</li>
<li><p>PIP安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install mdtraj</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="Windows环境python安装失败"><a href="#Windows环境python安装失败" class="headerlink" title="Windows环境python安装失败"></a>Windows环境python安装失败</h3><ul>
<li><p>不想装conda，直接<code>pip install mdtraj</code>报错：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Looking <span class="keyword">in</span> indexes: http://pypi.douban.com/simple/</span><br><span class="line">Collecting mdtraj</span><br><span class="line">  Downloading http://pypi.doubanio.com/packages/2f/03/c174bfb6471f796472ce1d8695f6c0d1a20ad6516cb789b70052df45b7a6/mdtraj-1.9.7.tar.gz (2.1 MB)</span><br><span class="line">     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 2.1/2.1 MB 3.7 MB/s eta 0:00:00</span><br><span class="line">  Installing build dependencies ... <span class="keyword">done</span></span><br><span class="line">  Getting requirements to build wheel ... error</span><br><span class="line">  error: subprocess-exited-with-error</span><br><span class="line"></span><br><span class="line">  × Getting requirements to build wheel did not run successfully.</span><br><span class="line">  │ <span class="built_in">exit</span> code: 1</span><br><span class="line">  ╰─&gt; [34 lines of output]</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
</li>
<li><p>直接源码安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/mdtraj/mdtraj</span><br><span class="line"><span class="built_in">cd</span> mdtraj</span><br><span class="line">pip install -e .</span><br></pre></td></tr></table></figure>

<ul>
<li>跟上面直接<code>pip</code>报同样的错误</li>
</ul>
</li>
<li><p>在<code>mdtraj</code>文件夹下直接<code>python .\setup.py install</code>出现了不同的错误：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">cc.initialize()</span><br><span class="line">  File <span class="string">&quot;D:\softwares\Python\Python311\Lib\site-packages\setuptools\_distutils\_msvccompiler.py&quot;</span>, line 253, <span class="keyword">in</span> initialize</span><br><span class="line">    vc_env = _get_vc_env(plat_spec)</span><br><span class="line">             ^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\softwares\Python\Python311\Lib\site-packages\setuptools\msvc.py&quot;</span>, line 214, <span class="keyword">in</span> msvc14_get_vc_env</span><br><span class="line">    <span class="built_in">return</span> _msvc14_get_vc_env(plat_spec)</span><br><span class="line">           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;D:\softwares\Python\Python311\Lib\site-packages\setuptools\msvc.py&quot;</span>, line 168, <span class="keyword">in</span> _msvc14_get_vc_env</span><br><span class="line">    raise distutils.errors.DistutilsPlatformError(</span><br><span class="line">distutils.errors.DistutilsPlatformError: Microsoft Visual C++ 14.0 or greater is required. Get it with <span class="string">&quot;Microsoft C++ Build Tools&quot;</span>: https://visualstudio.microsoft.com/visual-cpp-build-tools/</span><br></pre></td></tr></table></figure>

<ul>
<li>看样子需要安装：<a href="https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/">Microsoft C++ Build Tools</a></li>
</ul>
</li>
<li><p>下载安装 <a href="https://visualstudio.microsoft.com/zh-hans/visual-cpp-build-tools/">Microsoft C++ Build Tools</a> 后（默认安装），再次安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">python .\setup.py install</span><br></pre></td></tr></table></figure>
</li>
<li><p>成功一部分，显示<code>Cython</code>包未安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">C compiler:</span><br><span class="line">用于 x64 的 Microsoft (R) C/C++ 优化编译器 19.35.32217.1 版</span><br><span class="line">版权所有(C) Microsoft Corporation。保留所有权利。</span><br><span class="line"></span><br><span class="line">用法: cl [ 选项... ] 文件名... [ /link 链接选项... ]</span><br><span class="line">Attempting to autodetect OpenMP support... Compiler supports OpenMP</span><br><span class="line"></span><br><span class="line">mdtrajs setup depends on Cython (&gt;=0.29). Install it prior invoking setup.py</span><br><span class="line">No module named <span class="string">&#x27;Cython&#x27;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>安装<code>Cython</code>包后再次安装</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install cython</span><br><span class="line"> python .\setup.py install</span><br></pre></td></tr></table></figure>
</li>
<li><p>以为安装成功了，又报错：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">...</span><br><span class="line">...</span><br><span class="line">...</span><br><span class="line">mdtraj/formats/tng/src/lib/tng_io.c(32): fatal error C1083: 无法打开包括文件: “zlib.h”: No such file or directory</span><br><span class="line">error: <span class="built_in">command</span> <span class="string">&#x27;D:\\Program Files (x86)\\Microsoft Visual Studio\\2022\\BuildTools\\VC\\Tools\\MSVC\\14.35.32215\\bin\\HostX86\\x64\\cl.exe&#x27;</span> failed with <span class="built_in">exit</span> code 2</span><br></pre></td></tr></table></figure>
</li>
<li><p><a href="https://blog.csdn.net/Raink_LH/article/details/113612457">Windows下ZLib的编译（使用VS2019）</a></p>
</li>
<li><p><a href="https://blog.csdn.net/m0_64206188/article/details/129903489">Windows中zlib的安装与配置</a></p>
</li>
<li><p>安装zlib：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/madler/zlib.git</span><br></pre></td></tr></table></figure>

<ul>
<li><p>安装<a href="https://cmake.org/download/">cmake</a></p>
</li>
<li><p><a href="https://blog.csdn.net/Raink_LH/article/details/113612457">Windows下ZLib的编译（使用VS2019）</a></p>
</li>
<li><p><a href="https://blog.csdn.net/m0_64206188/article/details/129903489">Windows中zlib的安装与配置</a></p>
</li>
</ul>
</li>
<li><p>不想装vs，太臃肿了，所以这里我不尝试了（有机会再试），还是用Linux版的吧</p>
</li>
</ul>
<h3 id="Ubuntu环境python安装"><a href="#Ubuntu环境python安装" class="headerlink" title="Ubuntu环境python安装"></a>Ubuntu环境python安装</h3><ul>
<li><p>PIP安装成功：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install mdtraj</span><br></pre></td></tr></table></figure>

<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">Collecting mdtraj</span><br><span class="line">  Using cached mdtraj-<span class="number">1.9</span>.<span class="number">7</span>.tar.gz (<span class="number">2.1</span> MB)</span><br><span class="line">  Installing build <span class="keyword">dependencies</span> ... done</span><br><span class="line">  Getting requirements to build wheel ... done</span><br><span class="line">    Preparing wheel metadata ... done</span><br><span class="line">Requirement already satisfied: scipy in <span class="regexp">/home/</span>cup<span class="regexp">/.local/</span>lib<span class="regexp">/python3.8/</span>site-packages (<span class="keyword">from</span> mdtraj) (<span class="number">1.7</span>.<span class="number">3</span>)</span><br><span class="line">......</span><br><span class="line">Building wheels <span class="keyword">for</span> collected packages: mdtraj</span><br><span class="line">  Building wheel <span class="keyword">for</span> mdtraj (PEP <span class="number">517</span>) ... done</span><br><span class="line">  Created wheel <span class="keyword">for</span> mdtraj: filename=mdtraj-<span class="number">1.9</span>.<span class="number">7</span>-cp38-cp38-linux_x86_64.whl <span class="keyword">size</span>=<span class="number">8473679</span> sha256=<span class="number">31</span>b82b30935b14413c5d62fe126d29f8837dcc745bb46ba030902d8ba54facfc</span><br><span class="line">  Stored in directory: <span class="regexp">/home/</span>cup<span class="regexp">/.cache/</span>pip<span class="regexp">/wheels/</span><span class="number">68</span><span class="regexp">/ff/</span><span class="number">96</span>/<span class="number">5</span>d9a2efac5e5918e5c8fd799e8703e2f8b804a029bcbbd2431</span><br><span class="line">Successfully built mdtraj</span><br><span class="line">Installing collected packages: astunparse, mdtraj</span><br><span class="line">Successfully installed astunparse-<span class="number">1.6</span>.<span class="number">3</span> mdtraj-<span class="number">1.9</span>.<span class="number">7</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="mdtraj测试"><a href="#mdtraj测试" class="headerlink" title="mdtraj测试"></a>mdtraj测试</h3><ul>
<li><p>安装测试包</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pytest</span><br></pre></td></tr></table></figure>
</li>
<li><p>测试</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/mdtraj/mdtraj.git</span><br><span class="line"><span class="built_in">cd</span> mdtraj</span><br><span class="line"><span class="comment"># If using conda, make sure to have your conda environment active</span></span><br><span class="line">py.test</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps后处理</tag>
        <tag>mdtraj</tag>
        <tag>Python package</tag>
      </tags>
  </entry>
  <entry>
    <title>Ovito高质量图片渲染Python模块</title>
    <url>/MyWiki/wiki/2023/04/13/softwares/lammps/ovito_plot_rendering/</url>
    <content><![CDATA[<h2 id="安装ovito"><a href="#安装ovito" class="headerlink" title="安装ovito"></a>安装<a href="https://www.ovito.org/windows-downloads/">ovito</a></h2><h2 id="安装OVITO-Python-Module"><a href="#安装OVITO-Python-Module" class="headerlink" title="安装OVITO Python Module"></a>安装OVITO Python Module</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install -U ovito</span><br></pre></td></tr></table></figure>

<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ovito</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello, this is OVITO %i.%i.%i&quot;</span> % ovito.version)</span><br></pre></td></tr></table></figure>

<h2 id="渲染脚本"><a href="#渲染脚本" class="headerlink" title="渲染脚本"></a>渲染脚本</h2><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> ovito.io <span class="keyword">import</span> import_file</span><br><span class="line"><span class="keyword">from</span> ovito.vis <span class="keyword">import</span> Viewport,TachyonRenderer</span><br><span class="line"><span class="comment">#读入data文件</span></span><br><span class="line">d = <span class="string">&quot;1_nvt_-0.07&quot;</span></span><br><span class="line">pipeline = import_file(d+<span class="string">&#x27;.data&#x27;</span>)</span><br><span class="line">pipeline.add_to_scene()</span><br><span class="line">vp = Viewport(<span class="built_in">type</span> = Viewport.<span class="type">Type</span>.FRONT, camera_dir = (<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>)) <span class="comment">#(0, 1, 0))</span></span><br><span class="line">vp.zoom_all()</span><br><span class="line"><span class="comment">#配置输出</span></span><br><span class="line">vp.render_image(filename=d+<span class="string">&#x27;.png&#x27;</span>, </span><br><span class="line">                size=(<span class="number">3200</span>, <span class="number">2400</span>), </span><br><span class="line">                renderer=TachyonRenderer(shadows=<span class="literal">False</span>, direct_light_intensity=<span class="number">1.1</span>))</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/lammps/ovito_plot_rendering.md/420294515236747.png" alt="1_nvt_-0"></li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><ul>
<li><a href="https://www.ovito.org/docs/current/python/introduction/rendering.html#viewports">[1] Rendering &amp; visualization</a></li>
<li><a href="https://mp.weixin.qq.com/s?__biz=MzUxMjI1NTczMA==&mid=2247487922&idx=1&sn=064278c7c008679691b18b82ad1188b7&chksm=f966622fce11eb39c6eece38b5d1725a1e3a87b4e4ab5920e71818608605f15b22395ccb78fa&scene=126&sessionid=1681362030&subscene=227&key=5754df8c22b8427b68e284a42941473503ef54da8eb7831aeb611a5a74cd06e7c244ee99830ee6f90144d4b8597abaecde772f46a6a133eb3f65ddbaf1885edb92f2898917ba18c5271c11906e3b9754ed17a511588ce0deb55cdcff9f9b069c9cb60973d9d1386d03b3b56bd7959af0bd0881e78bb61da8a3041ca2f16e2f1b&ascene=7&uin=MjIxNjUxOTQzNA==&devicetype=Windows+10+x64&version=63090217&lang=zh_CN&countrycode=CN&exportkey=n_ChQIAhIQhhvjc5w7Lptr1sEB7aHwuhLgAQIE97dBBAEAAAAAAJ8MBWniDmQAAAAOpnltbLcz9gKNyK89dVj0BEM5cysFk6MNyD26L938zIaF3fpwDXQZoSrpVmtjTf4IClbytALMjS8mZZdrZn2+x2eJYjKbaTwB1kBJk1tz8c3QNADvxxI2vS6i94K5SRujimvi9vmJArI+dVGaAF7JcceZt0z+aJ6/BkJYokVOCKurDW1l6W1v5JnDcKWW8qldyypRkIVL6NBijhOQnAPxSOsqheexaPaRLJ3lNigYNDvMM7tfl8NgtrXrpdaj/fGKpwM6teC25OHq&acctmode=0&pass_ticket=9LppUSIThUFk3ioyybmb1VGMTeZ7yBHDmmigcW0ivQvWVkTHDjkuO2/Soso24wohJta52Es3WedLI8R6ndZZRg==&wx_header=1&fontgear=2">[2] lammps教程：ovito免费输出高清图片方法</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Ovito</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>Ovito图片渲染</tag>
      </tags>
  </entry>
  <entry>
    <title>LAMMPS计算相图</title>
    <url>/MyWiki/wiki/2024/06/17/softwares/lammps/phase_boundary_lammps/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="dCCI-method"><a href="#dCCI-method" class="headerlink" title="dCCI method"></a>dCCI method</h2><blockquote>
<p>dynamic Clausius–Clapeyron integration (dCCI) </p>
</blockquote>
<blockquote>
<p>dCCI方法的优点在于，它使用相对较短的单次非平衡模拟，提供了跨越大范围热力学状态的共存曲线</p>
</blockquote>
<h2 id="安装配置环境"><a href="#安装配置环境" class="headerlink" title="安装配置环境"></a>安装配置环境</h2><h3 id="Clone-DCCI库到src文件"><a href="#Clone-DCCI库到src文件" class="headerlink" title="Clone DCCI库到src文件"></a>Clone DCCI库到src文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./lammps-23Jun2022/src/</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/samuelcajahuaringa/dCCIforLAMMPS.git DCCI</span><br></pre></td></tr></table></figure>

<h3 id="Copy文件"><a href="#Copy文件" class="headerlink" title="Copy文件"></a>Copy文件</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./DCCI</span><br><span class="line"><span class="built_in">cp</span> fix.h fix_nh.* fix_adapt_dcci.* dcci.cpp dcci.h ../</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如何理解：the pair style modified to scale the forces such as pair lj. 需要做什么修改？</p>
<p>不做修改，make mpi未报错。</p>
</blockquote>
<h3 id="构建dcci和编译lammps"><a href="#构建dcci和编译lammps" class="headerlink" title="构建dcci和编译lammps"></a>构建dcci和编译lammps</h3><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">cd</span></span> ..</span><br><span class="line">make <span class="keyword">yes</span>-DCCI</span><br><span class="line">make mpi -j8</span><br></pre></td></tr></table></figure>

<blockquote>
<p>成功编译</p>
<p>LAMMPS版本：23Jun2022</p>
<p>测试环境：WSL Ubuntu20.04</p>
</blockquote>
<h2 id="Lennard-Jones固-液相边界例子"><a href="#Lennard-Jones固-液相边界例子" class="headerlink" title="Lennard-Jones固-液相边界例子"></a>Lennard-Jones固-液相边界例子</h2><h3 id="运行测试"><a href="#运行测试" class="headerlink" title="运行测试"></a>运行测试</h3><figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">cd lammps-<span class="number">23</span>Jun2022<span class="regexp">/src/</span>DCCI<span class="regexp">/example/</span>lj</span><br><span class="line">mpirun -np <span class="number">2</span> ~<span class="regexp">/softwares/</span>Lammps<span class="regexp">/lammps-23Jun2022/</span>src/lmp_mpi -partition <span class="number">2</span>x1 -<span class="keyword">in</span> <span class="keyword">in</span>.dcci</span><br></pre></td></tr></table></figure>

<h3 id="报错调试"><a href="#报错调试" class="headerlink" title="报错调试"></a>报错调试</h3><ul>
<li><p>2个处理器以上报错：<code>ERROR: Processor partitions do not match number of allocated processors (../lammps.cpp:449)</code></p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line"><span class="section">ERROR: Processor partitions do not match number of allocated processors (../lammps.cpp:449)</span></span><br><span class="line"><span class="section">--------------------------------------------------------------------------</span></span><br><span class="line">Primary job  terminated normally, but 1 process returned</span><br><span class="line"><span class="section">a non-zero exit code. Per user-direction, the job has been aborted.</span></span><br><span class="line"><span class="section">--------------------------------------------------------------------------</span></span><br><span class="line"><span class="code">--------------------------------------------------------------------------</span></span><br><span class="line"><span class="code">mpirun detected that one or more processes exited with non-zero status, thus causing</span></span><br><span class="line"><span class="code">the job to be terminated. The first process to do so was:</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">  Process name: [[25094,1],1]</span></span><br><span class="line"><span class="code">  Exit code:    1</span></span><br></pre></td></tr></table></figure>


</li>
<li><p>默认两个处理器跑也报错：</p>
<figure class="highlight asciidoc"><table><tr><td class="code"><pre><span class="line">LAMMPS (23 Jun 2022)</span><br><span class="line"><span class="section">Running on 2 partitions of processors</span></span><br><span class="line"><span class="section">--------------------------------------------------------------------------</span></span><br><span class="line">MPI_ABORT was invoked on rank 1 in communicator MPI_COMM_WORLD</span><br><span class="line">with errorcode 1.</span><br><span class="line"></span><br><span class="line"><span class="symbol">NOTE: </span>invoking MPI_ABORT causes Open MPI to kill all MPI processes.</span><br><span class="line">You may or may not see output from other processes, depending on</span><br><span class="line">exactly when Open MPI kills them.</span><br></pre></td></tr></table></figure>
</li>
<li><p>发现报错处理器数无关</p>
<ul>
<li><p><code>-partition 2x1 </code>参数表示采用两个处理器分区，每个处理器分区中都运行一个 MPI 进程</p>
</li>
<li><p>如果增加总进程为8，则需要修改为：<code>-partition 2x4</code></p>
<blockquote>
<p>采用两个处理器分区，每个处理器分区中都运行4个 MPI 进程</p>
</blockquote>
</li>
</ul>
</li>
<li><p>查看log文件发现还是报错：</p>
<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ERROR: </span>Thermo fix does not compute scalar (../thermo.cpp:1019)</span><br><span class="line">Last command: thermo_style custom step temp ke pe etotal press vol f_f3</span><br></pre></td></tr></table></figure>

<blockquote>
<p>f3是一个标量？</p>
<p>注释 f_f3后不报错了</p>
</blockquote>
</li>
</ul>
<h3 id="结果分析"><a href="#结果分析" class="headerlink" title="结果分析"></a>结果分析</h3><ul>
<li>结果在<code>log.lammps</code>中；</li>
<li>对比分析：<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406171826430.png" alt="test"></li>
<li><img src="https://raw.githubusercontent.com/samuelcajahuaringa/dCCIforLAMMPS/master/dcci_lj.png"></li>
</ul>
</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>[1] Cajahuaringa S, Antonelli A. Non-equilibrium free-energy calculation of phase-boundaries using LAMMPS[J]. Computational Materials Science, 2022, 207: 111275.</p>
<p>[2] <a href="https://github.com/samuelcajahuaringa/dCCIforLAMMPS">dCCIforLAMMPS</a>: Examples demonstrating how to reproduce the results in the paper [1].</p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>相图</tag>
      </tags>
  </entry>
  <entry>
    <title>LAMMPS 小技巧</title>
    <url>/MyWiki/wiki/2022/03/20/softwares/lammps/someSkills/</url>
    <content><![CDATA[<h2 id="PyLAT用法"><a href="#PyLAT用法" class="headerlink" title="PyLAT用法"></a>PyLAT用法</h2><ul>
<li><a href="https://github.com/MaginnGroup/PyLAT">PyLAT</a></li>
</ul>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">python /home/chends/softwares/PyLAT/PyLAT<span class="selector-class">.py</span> -g -d <span class="attr">--mol</span> Saturate <span class="attr">--mol</span> Aromatic <span class="attr">--mol</span> Resin <span class="attr">--mol</span> Asphaltene <span class="attr">--mol</span> water <span class="attr">--nummol</span> <span class="number">66</span> <span class="attr">--nummol</span> <span class="number">16</span> <span class="attr">--nummol</span> <span class="number">20</span> <span class="attr">--nummol</span> <span class="number">3</span> <span class="attr">--nummol</span> <span class="number">3000</span> -<span class="selector-tag">p</span> ./ -v <span class="number">2</span> log_interface<span class="selector-class">.lammps</span> <span class="number">1</span>_system_out_498<span class="selector-class">.data</span> traj_out_1<span class="selector-class">.lammpstrj</span> -f output.json</span><br></pre></td></tr></table></figure>
<h2 id="Units"><a href="#Units" class="headerlink" title="Units"></a>Units</h2><ul>
<li><input checked="" disabled="" type="checkbox"> 力单位转换</li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">1</span> kJ/mol-Angstrom = <span class="number">1</span>.<span class="number">66053892103219</span>×<span class="number">10</span>^−<span class="number">11</span>  J/m</span><br><span class="line"><span class="attribute">1</span> kcal/mol-Angstrom = <span class="number">1</span>.<span class="number">66053892103219</span>/<span class="number">0</span>.<span class="number">239006</span> ×<span class="number">10</span>^−<span class="number">11</span> J/m = <span class="number">6</span>.<span class="number">947687</span>×<span class="number">10</span>^−<span class="number">11</span> N</span><br><span class="line"><span class="attribute">1</span> kcal/mol-Angstrom = <span class="number">6</span>.<span class="number">947687</span>×<span class="number">10</span>^−<span class="number">11</span> N</span><br><span class="line"><span class="attribute">1</span> N = <span class="number">1</span>.<span class="number">4393279374848</span>x10^<span class="number">10</span> kcal/mol-Angstrom</span><br><span class="line">   </span><br></pre></td></tr></table></figure>

<h2 id="LAMMPS-PYTHON"><a href="#LAMMPS-PYTHON" class="headerlink" title="LAMMPS PYTHON"></a>LAMMPS PYTHON</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">make mpi mode=shlib</span><br><span class="line">make install-python</span><br></pre></td></tr></table></figure>

<h3 id="添加环境变量"><a href="#添加环境变量" class="headerlink" title="添加环境变量"></a>添加环境变量</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo vim ~/.bashrc</span><br><span class="line"><span class="built_in">export</span> PYTHONPATH=<span class="variable">$PYTHONPATH</span>:/home/.../lammps-3Mar20/python</span><br><span class="line"><span class="built_in">export</span>  LD_LIBRARY_PATH=<span class="variable">$LD_LIBRARY_PATH</span>:/home/.../lammps-3Mar20/src</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br></pre></td></tr></table></figure>

<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> lammps <span class="keyword">import</span> lammps</span><br><span class="line">lmp=lammps()</span><br></pre></td></tr></table></figure>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://zhuanlan.zhihu.com/p/344803376">https://zhuanlan.zhihu.com/p/344803376</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>LAMMPS 小技巧</tag>
      </tags>
  </entry>
  <entry>
    <title>Phonon package安装与使用</title>
    <url>/MyWiki/wiki/2023/04/22/softwares/lammps/phonon_package/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="1-安装phonon"><a href="#1-安装phonon" class="headerlink" title="1. 安装phonon"></a>1. 安装phonon</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps/src</span><br><span class="line">make ps <span class="comment"># 查看是否安装phonon</span></span><br><span class="line">make yes-USER-PHONON <span class="comment"># 安装phonon</span></span><br><span class="line"><span class="comment"># or make yes-PHONON # 安装phonon</span></span><br><span class="line">make clean</span><br><span class="line">make mpi -j8 <span class="comment"># 重新编译lammps</span></span><br></pre></td></tr></table></figure>

<h3 id="2-运行Graphene例子"><a href="#2-运行Graphene例子" class="headerlink" title="2. 运行Graphene例子"></a>2. 运行Graphene例子</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> lammps/examples/USER/phonon/4-Graphene <span class="comment"># LAMMPS 2020</span></span><br><span class="line"><span class="comment"># or</span></span><br><span class="line"><span class="built_in">cd</span> lammps/examples/PACKAGES/phonon/4-Graphene <span class="comment">#LAMMPS 2023</span></span><br><span class="line"><span class="comment"># RUN LAMMPS</span></span><br><span class="line">mpirun -np 8 lmp_mpi -i in.graphene</span><br><span class="line"><span class="comment"># auxiliary analysing code &quot;phana&quot; to obtain &quot;pdisp.dat&quot;</span></span><br><span class="line">phana Graphene.bin.6000000 &lt; in.disp</span><br></pre></td></tr></table></figure>

<h3 id="3-安装Phana"><a href="#3-安装Phana" class="headerlink" title="3. 安装Phana"></a>3. 安装Phana</h3><ul>
<li>phana</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/lingtikong/phana</span><br></pre></td></tr></table></figure>

<ul>
<li><p><a href="https://yuhldr.github.io/posts/db8c1b0a.html">lammps声子谱配置与计算 | 我是谁 (yuhldr.github.io)</a></p>
</li>
<li><p>可以直接使用编译好的文件 <code>precompiled/phana</code> </p>
</li>
<li><p>所需依赖，手动编译四个库clapack&#x2F;3.2.1<code>、</code>tricubic&#x2F;1.0<code>、</code>spglib&#x2F;1.9.7<code>、</code>fftw&#x2F;3.3.7</p>
</li>
</ul>
<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">.SUFFIXES : .o .cpp</span><br><span class="line"><span class="comment"># compiler and flags</span></span><br><span class="line">CC     = g++ -Wno-unused-result -fopenmp</span><br><span class="line">LINK   = <span class="variable">$(CC)</span> -static</span><br><span class="line">CFLAGS = -O3 <span class="variable">$(DEBUG)</span> <span class="variable">$(UFLAG)</span></span><br><span class="line"></span><br><span class="line">OFLAGS = -O3 <span class="variable">$(DEBUG)</span></span><br><span class="line">INC    = <span class="variable">$(LPKINC)</span> <span class="variable">$(TCINC)</span> <span class="variable">$(SPGINC)</span> <span class="variable">$(FFTINC)</span></span><br><span class="line">LIB    = <span class="variable">$(LPKLIB)</span> <span class="variable">$(TCLIB)</span> <span class="variable">$(SPGLIB)</span> <span class="variable">$(FFTLIB)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># cLapack library needed</span></span><br><span class="line">LPKINC = -I/opt/clapack/3.2.1/<span class="keyword">include</span></span><br><span class="line">LPKLIB = -L/opt/clapack/3.2.1/lib -lclapack -lblas -lf2c -lm</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tricubic library needed</span></span><br><span class="line">TCINC = -I/opt/tricubic/1.0/<span class="keyword">include</span></span><br><span class="line">TCLIB = -L/opt/tricubic/1.0/lib -ltricubic</span><br><span class="line"></span><br><span class="line"><span class="comment"># spglib, used to get the irreducible q-points</span></span><br><span class="line"><span class="comment"># if SFLAG is not set, spglib won&#x27;t be used.</span></span><br><span class="line"><span class="comment">#SFLAG  = -DUseSPG</span></span><br><span class="line"><span class="comment">#SPGINC = -I/opt/spglib/1.16.5/include</span></span><br><span class="line"><span class="comment">#SPGLIB = -L/opt/spglib/1.16.5/lib -lsymspg</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># FFTW 3， used to deduce the force constants in real space</span></span><br><span class="line"><span class="comment"># if FFLAG is not set, fftw won&#x27;t be used.</span></span><br><span class="line"><span class="comment">#FFLAG  = -DFFTW3</span></span><br><span class="line"><span class="comment">#FFTINC = -I/opt/fftw/3.3.7/include</span></span><br><span class="line"><span class="comment">#FFTLIB = -L/opt/fftw/3.3.7/lib -lfftw3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Debug flags</span></span><br><span class="line"><span class="comment"># DEBUG = -g -DDEBUG</span></span><br><span class="line">UFLAG = <span class="variable">$(SFLAG)</span> <span class="variable">$(FFLAG)</span></span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://zhuanlan.zhihu.com/p/439317149">spglib安装</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/</span><br><span class="line"><span class="built_in">mkdir</span> spglib</span><br><span class="line"><span class="built_in">cd</span> spglib</span><br><span class="line">wget https://zh.osdn.net/projects/sfnet_spglib/downloads/spglib/spglib-1.9/spglib-1.9.7.tar.gz</span><br><span class="line">tar -zxvf spglib-1.9.7.tar.gz</span><br><span class="line"><span class="built_in">cd</span> spglib-1.9.7</span><br><span class="line">./configure --prefix=/opt/spglib/1.9.7</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://blog.csdn.net/weixin_39591031/article/details/125023337?spm=1001.2101.3001.6650.4&utm_medium=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-125023337-blog-103234116.235%5Ev31%5Epc_relevant_default_base3&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~CTRLIST~Rate-4-125023337-blog-103234116.235%5Ev31%5Epc_relevant_default_base3&utm_relevant_index=5">Linux 下载&amp;使用 CLAPACK (CBLAS)</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt/</span><br><span class="line"><span class="built_in">mkdir</span> clapack</span><br><span class="line"><span class="built_in">cd</span> clapack</span><br><span class="line">wget www.netlib.org/clapack/clapack.tgz</span><br><span class="line">tar xvf clapack.tgz</span><br><span class="line"><span class="built_in">mv</span> CLAPACK-3.2.1 3.2.1</span><br><span class="line"><span class="built_in">cd</span> 3.2.1</span><br><span class="line"><span class="built_in">mv</span> make.inc.example make.inc</span><br><span class="line">make f2clib  <span class="comment"># get `./F2CLIBS/libf2c.a`</span></span><br><span class="line">make blaslib  <span class="comment"># get `./blas_LINUX.a`</span></span><br><span class="line">make  <span class="comment"># get `./tmglib_LINUX.a` and `./lapack_LINUX.a`</span></span><br><span class="line"><span class="comment"># 忽略TESTING报错</span></span><br><span class="line"><span class="built_in">mkdir</span> lib</span><br><span class="line"><span class="built_in">cp</span> ./F2CLIBS/libf2c.a ./lib</span><br><span class="line"><span class="built_in">cp</span> ./blas_LINUX.a ./lib</span><br><span class="line"><span class="built_in">cp</span> ./tmglib_LINUX.a ./lib</span><br><span class="line"><span class="built_in">cp</span> ./lapack_LINUX.a ./lib</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://github.com/nbigaouette/libtricubic/tree/master/tricubic-1.0">tricubic</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line"><span class="built_in">mkdir</span> tricubic</span><br><span class="line"><span class="built_in">cd</span> tricubic</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/nbigaouette/libtricubic.git</span><br><span class="line"><span class="built_in">cd</span> ./libtricubic/tricubic-1.0</span><br><span class="line">./configure --prefix=/opt/tricubic/1.0</span><br><span class="line">make</span><br><span class="line">sudo make install</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="http://www.fftw.org/fftw3_doc/Installation-on-Unix.html">fftw</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> /opt</span><br><span class="line"><span class="built_in">mkdir</span> fftw</span><br><span class="line"><span class="built_in">cd</span> fftw</span><br><span class="line">wget http://www.fftw.org/fftw-3.3.10.tar.gz</span><br><span class="line"><span class="built_in">cd</span> fftw-3.3.10</span><br><span class="line">./configure --prefix=/opt/fftw/3.3.10</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<ul>
<li>编译phana</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> phana</span><br><span class="line"><span class="comment"># 检查 Makefile 库路径</span></span><br><span class="line">sudo make</span><br></pre></td></tr></table></figure>

<h3 id="4-generate-pdisp-eps"><a href="#4-generate-pdisp-eps" class="headerlink" title="4. generate pdisp.eps"></a>4. generate pdisp.eps</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">gnuplot plot.pdisp</span><br></pre></td></tr></table></figure>

<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/lammps/phonon_package.md/44692219236756.png" alt="pdisp"></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>Lammps</category>
      </categories>
      <tags>
        <tag>Lammps</tag>
        <tag>phonon package</tag>
      </tags>
  </entry>
  <entry>
    <title>VASP安装与编译</title>
    <url>/MyWiki/wiki/2022/09/18/softwares/vasp/VASP%E5%AE%89%E8%A3%85%E4%B8%8E%E7%BC%96%E8%AF%91/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="VASP5-4-4安装"><a href="#VASP5-4-4安装" class="headerlink" title="VASP5.4.4安装"></a>VASP5.4.4安装</h2><h3 id="一、安装-Intel®-oneAPI-Base-Toolkit-和-Intel®-oneAPI-HPC来替代"><a href="#一、安装-Intel®-oneAPI-Base-Toolkit-和-Intel®-oneAPI-HPC来替代" class="headerlink" title="一、安装 Intel® oneAPI Base Toolkit 和 Intel® oneAPI HPC来替代"></a>一、安装 Intel® oneAPI Base Toolkit 和 Intel® oneAPI HPC来替代</h3><ul>
<li><p>在安装之前需要安装一系列依赖包:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libgtk-3-0 libxss1 libnss3 libgtk2.0 libpango-1.0-0 libasound2 </span><br><span class="line">sudo apt-get install xorg openbox</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/base-toolkit-download.html?operatingsystem=linux&distributions=webdownload&options=offline">intel® oneAPI Base Toolkit 安装</a>:</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://registrationcenter-download.intel.com/akdlm/irc_nas/18673/l_BaseKit_p_2022.2.0.262_offline.sh</span><br><span class="line">sudo sh ./l_BaseKit_p_2022.2.0.262_offline.sh</span><br></pre></td></tr></table></figure></li>
<li><p><a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/hpc-toolkit-download.html?operatingsystem=linux&distributions=webdownload&options=offline">Intel® oneAPI HPC 安装</a></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://registrationcenter-download.intel.com/akdlm/irc_nas/18679/l_HPCKit_p_2022.2.0.191_offline.sh</span><br><span class="line">sudo sh ./l_HPCKit_p_2022.2.0.191_offline.sh</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加环境变量并查看是否安装好：</p>
<blockquote>
<p>最好把<code>source /opt/intel/oneapi/setvars.sh intel64</code>写进~&#x2F;.bashrc中</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /opt/intel/oneapi/setvars.sh intel64</span><br><span class="line">icc -v</span><br><span class="line">ifort -v</span><br><span class="line">mpiicc -v</span><br><span class="line">mpiifort -v</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="二、编译"><a href="#二、编译" class="headerlink" title="二、编译"></a>二、编译</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tar -zxvf vasp.5.4.4.tar.gz</span><br><span class="line"><span class="built_in">cd</span> vasp.5.4.4</span><br><span class="line"><span class="built_in">cp</span> -r /opt/intel/oneapi/mkl/2022.1.0/interfaces/fftw3xf .     <span class="comment"># cp MKL中的fftw库到vasp文件夹中</span></span><br><span class="line"><span class="built_in">cd</span> fftw3xf/</span><br><span class="line">make libintel64</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"><span class="built_in">cp</span> <span class="built_in">arch</span>/makefile.include.linux_intel makefile.include         <span class="comment"># 修改makefile.include，在OFLAG后添加-xAVX，如：OFLAG      = -xAVX -O2</span></span><br><span class="line">make all</span><br></pre></td></tr></table></figure>
<ul>
<li><p>添加环境变量</p>
</li>
<li><p><a href="https://blog.csdn.net/Jasonkun_3/article/details/105411578">VASP安装参考</a></p>
</li>
<li><p><a href="https://blog.csdn.net/weixin_42487488/article/details/115066980">Intel®安装教程</a></p>
</li>
</ul>
<h2 id="VASP6-3-2安装"><a href="#VASP6-3-2安装" class="headerlink" title="VASP6.3.2安装"></a>VASP6.3.2安装</h2><h3 id="一、安装-Intel®-oneAPI-Base-Toolkit-和-Intel®-oneAPI-HPC来替代-1"><a href="#一、安装-Intel®-oneAPI-Base-Toolkit-和-Intel®-oneAPI-HPC来替代-1" class="headerlink" title="一、安装 Intel® oneAPI Base Toolkit 和 Intel® oneAPI HPC来替代"></a>一、安装 Intel® oneAPI Base Toolkit 和 Intel® oneAPI HPC来替代</h3><ul>
<li>在安装之前需要安装一系列依赖包:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install libgtk-3-0 libxss1 libnss3 libgtk2.0 libpango-1.0-0 libasound2 </span><br><span class="line">sudo apt-get install xorg openbox</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://www.intel.cn/content/www/cn/zh/developer/tools/oneapi/base-toolkit-download.html?operatingsystem=linux&distributions=webdownload&options=offline">intel® oneAPI Base Toolkit 安装</a>:</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://registrationcenter-download.intel.com/akdlm/IRC_NAS/e6ff8e9c-ee28-47fb-abd7-5c524c983e1c/l_BaseKit_p_2024.2.1.100_offline.sh</span><br></pre></td></tr></table></figure>

<ul>
<li><a href="https://www.intel.com/content/www/us/en/developer/tools/oneapi/hpc-toolkit-download.html?operatingsystem=linux&distributions=webdownload&options=offline">Intel® oneAPI HPC 安装</a></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://registrationcenter-download.intel.com/akdlm/IRC_NAS/d461a695-6481-426f-a22f-b5644cd1fa8b/l_HPCKit_p_2024.2.1.79_offline.sh</span><br></pre></td></tr></table></figure>

<ul>
<li><p>添加环境变量并查看是否安装好：</p>
<blockquote>
<p>最好把<code>source /opt/intel/oneapi/setvars.sh intel64</code>写进~&#x2F;.bashrc中</p>
</blockquote>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">source</span> /opt/intel/oneapi/setvars.sh intel64</span><br><span class="line">icx -v</span><br><span class="line">icpx -v</span><br><span class="line">ifort -v</span><br><span class="line">mpiicc -v</span><br><span class="line">mpiifort -v</span><br></pre></td></tr></table></figure>

<h3 id="二、编译-1"><a href="#二、编译-1" class="headerlink" title="二、编译"></a>二、编译</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">unzip vasp.6.3.2.zip</span><br><span class="line"><span class="built_in">cd</span> vasp.6.3.2</span><br><span class="line"><span class="built_in">cp</span> -r /opt/intel/oneapi/mkl/2024.2/share/mkl/interfaces/fftw3xf .     <span class="comment"># cp MKL中的fftw库到vasp文件夹中</span></span><br><span class="line"><span class="built_in">cd</span> fftw3xf/</span><br><span class="line">make libintel64</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"><span class="built_in">cp</span> <span class="built_in">arch</span>/makefile.include.intel makefile.include         </span><br><span class="line">vim makefile.include</span><br><span class="line"><span class="comment"># 修改makefile.include,如下</span></span><br><span class="line"><span class="comment"># CC_LIB      = icx</span></span><br><span class="line"><span class="comment"># CXX_PARS    = icpx</span></span><br><span class="line">make all</span><br></pre></td></tr></table></figure>

<blockquote>
<p>make[2]: Leaving directory ‘&#x2F;home&#x2F;xxx&#x2F;softwares&#x2F;vasp&#x2F;vasp.6.3.2&#x2F;build&#x2F;ncl’<br>make[1]: Leaving directory ‘&#x2F;home&#x2F;xxx&#x2F;softwares&#x2F;vasp&#x2F;vasp.6.3.2&#x2F;build&#x2F;ncl’</p>
</blockquote>
<h3 id="三、环境变量"><a href="#三、环境变量" class="headerlink" title="三、环境变量"></a>三、环境变量</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> bin</span><br><span class="line"><span class="built_in">ls</span></span><br><span class="line"><span class="comment"># vasp_gam  vasp_ncl  vasp_std</span></span><br><span class="line">sudo vim ~/.bashrc</span><br><span class="line"><span class="comment"># export PATH=/home/xxx/softwares/vasp/vasp.6.3.2/bin:$PATH</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>







<h2 id="官网H2O例子"><a href="#官网H2O例子" class="headerlink" title="官网H2O例子"></a>官网H2O例子</h2><ul>
<li><a href="https://www.vasp.at/wiki/index.php/H2O">H2O VASP官网例子</a> <blockquote>
<ul>
<li>POSCAR</li>
</ul>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">H2O</span> _2</span><br><span class="line"><span class="attribute">0</span>.<span class="number">52918</span>   ! scaling parameter</span><br><span class="line"> <span class="attribute">15</span> <span class="number">0</span> <span class="number">0</span></span><br><span class="line"> <span class="attribute">0</span> <span class="number">15</span> <span class="number">0</span></span><br><span class="line"> <span class="attribute">0</span> <span class="number">0</span> <span class="number">15</span></span><br><span class="line"><span class="attribute">1</span> <span class="number">2</span></span><br><span class="line"><span class="attribute">select</span></span><br><span class="line"><span class="attribute">cart</span></span><br><span class="line">     <span class="attribute">0</span>.<span class="number">00</span>     <span class="number">0</span>.<span class="number">00</span>     <span class="number">0</span>.<span class="number">00</span> F F F</span><br><span class="line">     <span class="attribute">1</span>.<span class="number">10</span>    -<span class="number">1</span>.<span class="number">43</span>     <span class="number">0</span>.<span class="number">00</span> T T F</span><br><span class="line">     <span class="attribute">1</span>.<span class="number">10</span>     <span class="number">1</span>.<span class="number">43</span>     <span class="number">0</span>.<span class="number">00</span> T T F</span><br></pre></td></tr></table></figure></li>
</ul>
<blockquote>
<ul>
<li>INCAR</li>
</ul>
</blockquote>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">PREC</span> = Normal    ! standard precision </span><br><span class="line"><span class="attr">ENMAX</span> = <span class="number">400</span>      ! cut<span class="literal">off</span> should be set manually</span><br><span class="line"><span class="attr">ISMEAR</span> = <span class="number">0</span> <span class="comment">; SIGMA = 0.1</span></span><br><span class="line"><span class="attr">IBRION</span> = <span class="number">1</span>       ! use DIIS algorithm to converge</span><br><span class="line"><span class="attr">NFREE</span> = <span class="number">2</span>        ! <span class="number">2</span> independent degrees of freedom</span><br><span class="line"><span class="attr">NSW</span> = <span class="number">10</span>         ! <span class="number">10</span> ionic steps</span><br><span class="line"><span class="attr">EDIFFG</span> = -<span class="number">0.02</span>   ! forces smaller <span class="number">0.02</span> A/eV</span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>KPOINTS</li>
</ul>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Gamma</span>-point only</span><br><span class="line"> <span class="attribute">0</span></span><br><span class="line"><span class="attribute">Monkhorst</span> Pack</span><br><span class="line"> <span class="attribute">1</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"> <span class="attribute">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>POTCAR</li>
<li>官网自带的有，也可以从赝势库中自己手动生成：</li>
</ul>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/softwares/VASP/PAW_PBE/O/POTCAR ~/softwares/VASP/PAW_PBE/H/POTCAR &gt;POTCAR</span><br></pre></td></tr></table></figure>
<ul>
<li>运行命令：<code>mpirun -np 16 vasp_std</code></li>
</ul>
<h2 id="参考与可视化以及后处理程序资源："><a href="#参考与可视化以及后处理程序资源：" class="headerlink" title="参考与可视化以及后处理程序资源："></a>参考与可视化以及后处理程序资源：</h2><ul>
<li><p><a href="https://www.bilibili.com/video/BV1CL4y187i3?spm_id_from=333.337.search-card.all.click">DFT计算入门新手必备，VASP赝势库、态密度、能带、键长、声子谱及软件安装</a></p>
</li>
<li><p><a href="https://www.nsc.liu.se/~pla/vasptest/">VASPTEST</a></p>
</li>
<li><p><a href="https://www.vasp.at/wiki/index.php/The_VASP_Manual">The_VASP_Manual</a></p>
</li>
<li><p><a href="https://www.vasp.at/">VASP官网</a></p>
</li>
<li><p><a href="https://github.com/orest-d/p4vasp">p4vasp</a></p>
</li>
<li><p><a href="http://www.jp-minerals.org/vesta/en/">VESTA</a></p>
</li>
<li><p><a href="https://blog.csdn.net/yqhclytze/article/details/115426680">Linux运行报错：.&#x2F;vasp_std: error while loading shared libraries: libmkl_intel_lp64.so: cannot open</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>VASP</category>
      </categories>
      <tags>
        <tag>VASP</tag>
        <tag>VASP安装与编译</tag>
      </tags>
  </entry>
  <entry>
    <title>LAMMPS计算TIP4P/ICE水温度分布时，低于系统平均温度</title>
    <url>/MyWiki/wiki/2024/03/28/softwares/lammps/tip4p_water_compute_atom_temp/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="计算温度分布脚本"><a href="#计算温度分布脚本" class="headerlink" title="计算温度分布脚本"></a>计算温度分布脚本</h3><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">compute   ke  <span class="keyword">all</span> ke/atom</span><br><span class="line"></span><br><span class="line"><span class="keyword">variable</span>    kB <span class="comment">equal 1.3806504e-23    # [J</span>/K] Boltzmann</span><br><span class="line">variable    kcalpermol2J equal <span class="number">4186.0</span>/<span class="comment">6.02214e23</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">variable</span> <span class="comment">temp atom c_ke*$&#123;kcalpermol2J&#125;</span>/(<span class="number">1.5</span>*$&#123;kB&#125;)</span><br><span class="line"></span><br><span class="line">compute tt <span class="keyword">all</span> chunk/<span class="comment">atom bin</span>/<span class="number">1</span>d z lower <span class="number">0.1</span> units reduced</span><br><span class="line">fix out_temp <span class="keyword">all</span> ave/<span class="comment">chunk 10 100 1000 tt v_temp file temp.dat</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="TIP4P-x2F-ICE力场时温度分布低于thermo的平均温度"><a href="#TIP4P-x2F-ICE力场时温度分布低于thermo的平均温度" class="headerlink" title="TIP4P&#x2F;ICE力场时温度分布低于thermo的平均温度"></a>TIP4P&#x2F;ICE力场时温度分布低于thermo的平均温度</h3><ul>
<li>z方向温度分布~173 K</li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Chunk-averaged data for fix T_out_relax and group file</span></span><br><span class="line"><span class="comment"># Timestep Number-of-chunks Total-count</span></span><br><span class="line"><span class="comment"># Chunk Coord1 Ncount v_temp</span></span><br><span class="line"><span class="attribute">200000</span> <span class="number">10</span> <span class="number">1536</span></span><br><span class="line">  <span class="attribute">1</span> <span class="number">0</span>.<span class="number">05</span> <span class="number">154</span>.<span class="number">066</span> <span class="number">172</span>.<span class="number">915</span></span><br><span class="line">  <span class="attribute">2</span> <span class="number">0</span>.<span class="number">15</span> <span class="number">155</span>.<span class="number">458</span> <span class="number">172</span>.<span class="number">365</span></span><br><span class="line">  <span class="attribute">3</span> <span class="number">0</span>.<span class="number">25</span> <span class="number">145</span>.<span class="number">723</span> <span class="number">172</span>.<span class="number">41</span></span><br><span class="line">  <span class="attribute">4</span> <span class="number">0</span>.<span class="number">35</span> <span class="number">155</span>.<span class="number">457</span> <span class="number">172</span>.<span class="number">784</span></span><br><span class="line">  <span class="attribute">5</span> <span class="number">0</span>.<span class="number">45</span> <span class="number">154</span>.<span class="number">917</span> <span class="number">173</span>.<span class="number">494</span></span><br><span class="line">  <span class="attribute">6</span> <span class="number">0</span>.<span class="number">55</span> <span class="number">154</span>.<span class="number">212</span> <span class="number">173</span>.<span class="number">457</span></span><br><span class="line">  <span class="attribute">7</span> <span class="number">0</span>.<span class="number">65</span> <span class="number">156</span>.<span class="number">178</span> <span class="number">173</span>.<span class="number">831</span></span><br><span class="line">  <span class="attribute">8</span> <span class="number">0</span>.<span class="number">75</span> <span class="number">153</span>.<span class="number">307</span> <span class="number">174</span>.<span class="number">22</span></span><br><span class="line">  <span class="attribute">9</span> <span class="number">0</span>.<span class="number">85</span> <span class="number">155</span>.<span class="number">066</span> <span class="number">174</span>.<span class="number">519</span></span><br><span class="line">  <span class="attribute">10</span> <span class="number">0</span>.<span class="number">95</span> <span class="number">151</span>.<span class="number">616</span> <span class="number">173</span>.<span class="number">927</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>thermo温度~260 K</li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">Step</span> Density Temp Press Pxx Pyy Pzz PotEng KinEng TotEng </span><br><span class="line">       <span class="attribute">0</span>   <span class="number">0</span>.<span class="number">56728221</span>          <span class="number">260</span>   -<span class="number">1857</span>.<span class="number">7524</span>    <span class="number">1720</span>.<span class="number">1132</span>   -<span class="number">2612</span>.<span class="number">0574</span>    -<span class="number">4681</span>.<span class="number">313</span>   -<span class="number">6692</span>.<span class="number">1318</span>    <span class="number">792</span>.<span class="number">83586</span>   -<span class="number">5899</span>.<span class="number">2959</span> </span><br><span class="line">    <span class="attribute">1000</span>    <span class="number">0</span>.<span class="number">7154115</span>    <span class="number">246</span>.<span class="number">54399</span>   -<span class="number">734</span>.<span class="number">00106</span>   -<span class="number">1037</span>.<span class="number">3156</span>   -<span class="number">1329</span>.<span class="number">2594</span>    <span class="number">164</span>.<span class="number">57188</span>   -<span class="number">6160</span>.<span class="number">1241</span>    <span class="number">751</span>.<span class="number">80353</span>   -<span class="number">5408</span>.<span class="number">3206</span> </span><br><span class="line">    <span class="attribute">2000</span>    <span class="number">0</span>.<span class="number">8533722</span>    <span class="number">266</span>.<span class="number">16031</span>   -<span class="number">79</span>.<span class="number">064947</span>   -<span class="number">267</span>.<span class="number">96115</span>    <span class="number">108</span>.<span class="number">42078</span>   -<span class="number">77</span>.<span class="number">654467</span>   -<span class="number">6469</span>.<span class="number">8195</span>     <span class="number">811</span>.<span class="number">6209</span>   -<span class="number">5658</span>.<span class="number">1986</span> </span><br><span class="line">    <span class="attribute">3000</span>   <span class="number">0</span>.<span class="number">96464464</span>    <span class="number">260</span>.<span class="number">20011</span>    <span class="number">1225</span>.<span class="number">1164</span>    <span class="number">296</span>.<span class="number">83731</span>    <span class="number">1470</span>.<span class="number">1031</span>    <span class="number">1908</span>.<span class="number">4087</span>   -<span class="number">6652</span>.<span class="number">5907</span>    <span class="number">793</span>.<span class="number">44607</span>   -<span class="number">5859</span>.<span class="number">1446</span> </span><br></pre></td></tr></table></figure>

<h3 id="计算其他体系时温度分布正常"><a href="#计算其他体系时温度分布正常" class="headerlink" title="计算其他体系时温度分布正常"></a>计算其他体系时温度分布正常</h3><ul>
<li>如300K下甲烷气体</li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Chunk-averaged data for fix T_out_relax and group file</span></span><br><span class="line"><span class="comment"># Timestep Number-of-chunks Total-count</span></span><br><span class="line"><span class="comment"># Chunk Coord1 Ncount v_temp</span></span><br><span class="line"><span class="attribute">200000</span> <span class="number">10</span> <span class="number">5000</span></span><br><span class="line">  <span class="attribute">1</span> <span class="number">0</span>.<span class="number">05</span> <span class="number">501</span>.<span class="number">048</span> <span class="number">301</span>.<span class="number">611</span></span><br><span class="line">  <span class="attribute">2</span> <span class="number">0</span>.<span class="number">15</span> <span class="number">507</span>.<span class="number">387</span> <span class="number">298</span>.<span class="number">271</span></span><br><span class="line">  <span class="attribute">3</span> <span class="number">0</span>.<span class="number">25</span> <span class="number">500</span>.<span class="number">772</span> <span class="number">299</span>.<span class="number">352</span></span><br><span class="line">  <span class="attribute">4</span> <span class="number">0</span>.<span class="number">35</span> <span class="number">495</span>.<span class="number">566</span> <span class="number">295</span>.<span class="number">747</span></span><br><span class="line">  <span class="attribute">5</span> <span class="number">0</span>.<span class="number">45</span> <span class="number">499</span>.<span class="number">28</span> <span class="number">298</span>.<span class="number">474</span></span><br><span class="line">  <span class="attribute">6</span> <span class="number">0</span>.<span class="number">55</span> <span class="number">497</span>.<span class="number">176</span> <span class="number">303</span>.<span class="number">487</span></span><br><span class="line">  <span class="attribute">7</span> <span class="number">0</span>.<span class="number">65</span> <span class="number">495</span>.<span class="number">479</span> <span class="number">303</span>.<span class="number">706</span></span><br><span class="line">  <span class="attribute">8</span> <span class="number">0</span>.<span class="number">75</span> <span class="number">497</span>.<span class="number">552</span> <span class="number">300</span>.<span class="number">502</span></span><br><span class="line">  <span class="attribute">9</span> <span class="number">0</span>.<span class="number">85</span> <span class="number">500</span>.<span class="number">8</span> <span class="number">299</span>.<span class="number">323</span></span><br><span class="line">  <span class="attribute">10</span> <span class="number">0</span>.<span class="number">95</span> <span class="number">504</span>.<span class="number">94</span> <span class="number">300</span>.<span class="number">134</span></span><br></pre></td></tr></table></figure>

<h3 id="可能原因排除"><a href="#可能原因排除" class="headerlink" title="可能原因排除"></a>可能原因排除</h3><ul>
<li><p><del>是TIP4P&#x2F;ICE力场的原因？</del></p>
</li>
<li><p>是shake的原因？√</p>
<ul>
<li><p>shake导致计算的温度分布低于平均温度</p>
</li>
<li><p>取消掉fix shake后：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Chunk-averaged data for fix T_out_relax and group file</span></span><br><span class="line"><span class="comment"># Timestep Number-of-chunks Total-count</span></span><br><span class="line"><span class="comment"># Chunk Coord1 Ncount v_temp</span></span><br><span class="line"><span class="attribute">200000</span> <span class="number">10</span> <span class="number">1536</span></span><br><span class="line">  <span class="attribute">1</span> <span class="number">0</span>.<span class="number">05</span> <span class="number">157</span>.<span class="number">316</span> <span class="number">258</span>.<span class="number">756</span></span><br><span class="line">  <span class="attribute">2</span> <span class="number">0</span>.<span class="number">15</span> <span class="number">155</span>.<span class="number">085</span> <span class="number">259</span>.<span class="number">871</span></span><br><span class="line">  <span class="attribute">3</span> <span class="number">0</span>.<span class="number">25</span> <span class="number">157</span>.<span class="number">547</span> <span class="number">261</span>.<span class="number">236</span></span><br><span class="line">  <span class="attribute">4</span> <span class="number">0</span>.<span class="number">35</span> <span class="number">141</span>.<span class="number">184</span> <span class="number">260</span>.<span class="number">59</span></span><br><span class="line">  <span class="attribute">5</span> <span class="number">0</span>.<span class="number">45</span> <span class="number">162</span>.<span class="number">571</span> <span class="number">260</span>.<span class="number">871</span></span><br><span class="line">  <span class="attribute">6</span> <span class="number">0</span>.<span class="number">55</span> <span class="number">147</span>.<span class="number">449</span> <span class="number">259</span>.<span class="number">799</span></span><br><span class="line">  <span class="attribute">7</span> <span class="number">0</span>.<span class="number">65</span> <span class="number">150</span>.<span class="number">527</span> <span class="number">258</span>.<span class="number">551</span></span><br><span class="line">  <span class="attribute">8</span> <span class="number">0</span>.<span class="number">75</span> <span class="number">160</span>.<span class="number">536</span> <span class="number">259</span>.<span class="number">461</span></span><br><span class="line">  <span class="attribute">9</span> <span class="number">0</span>.<span class="number">85</span> <span class="number">146</span>.<span class="number">207</span> <span class="number">259</span>.<span class="number">575</span></span><br><span class="line">  <span class="attribute">10</span> <span class="number">0</span>.<span class="number">95</span> <span class="number">157</span>.<span class="number">578</span> <span class="number">259</span>.<span class="number">584</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>但是，SPC、SPCE、TIP4P、TIP4P&#x2F;ICE等都是刚性模型</p>
</li>
</ul>
</li>
</ul>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><h4 id="采用temp-x2F-chunk"><a href="#采用temp-x2F-chunk" class="headerlink" title="采用temp&#x2F;chunk"></a>采用temp&#x2F;chunk</h4><ul>
<li><p>If spatially binned chunks contain some number of water molecules and <a href="https://docs.lammps.org/fix_shake.html">fix shake</a> is used to make each molecule rigid, then you could calculate a temperature with six degrees of freedom (DOF) (three translational, three rotational) per molecule by setting <em>adof</em> to 2.0.</p>
</li>
<li><p>修改后脚本</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">compute</span> tt <span class="literal">all</span> chunk/atom bin/<span class="number">1</span>d z lower <span class="number">0</span>.<span class="number">05</span> units reduced</span><br><span class="line"><span class="attribute">compute</span> myChunk <span class="literal">all</span> temp/chunk tt temp adof <span class="number">2</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">fix</span> out_temp <span class="literal">all</span> ave/chunk <span class="number">100</span> <span class="number">1</span> <span class="number">100</span> c_myChunk[<span class="number">1</span>] file temp.dat mode vector</span><br></pre></td></tr></table></figure>
</li>
<li><p>300K的水温度分布结果：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># TimeStep Number-of-rows</span></span><br><span class="line"><span class="comment"># Row c_tts[1]</span></span><br><span class="line"><span class="attribute">10000</span> <span class="number">20</span></span><br><span class="line"><span class="attribute">1</span> <span class="number">299</span>.<span class="number">841</span></span><br><span class="line"><span class="attribute">2</span> <span class="number">299</span>.<span class="number">94</span></span><br><span class="line"><span class="attribute">3</span> <span class="number">297</span>.<span class="number">445</span></span><br><span class="line"><span class="attribute">4</span> <span class="number">297</span>.<span class="number">264</span></span><br><span class="line"><span class="attribute">5</span> <span class="number">299</span>.<span class="number">993</span></span><br><span class="line"><span class="attribute">6</span> <span class="number">295</span>.<span class="number">925</span></span><br><span class="line"><span class="attribute">7</span> <span class="number">294</span>.<span class="number">42</span></span><br><span class="line"><span class="attribute">8</span> <span class="number">300</span>.<span class="number">127</span></span><br><span class="line"><span class="attribute">9</span> <span class="number">294</span>.<span class="number">811</span></span><br><span class="line"><span class="attribute">10</span> <span class="number">296</span>.<span class="number">218</span></span><br><span class="line"><span class="attribute">11</span> <span class="number">289</span>.<span class="number">603</span></span><br><span class="line"><span class="attribute">12</span> <span class="number">297</span>.<span class="number">217</span></span><br><span class="line"><span class="attribute">13</span> <span class="number">295</span>.<span class="number">78</span></span><br><span class="line"><span class="attribute">14</span> <span class="number">294</span>.<span class="number">731</span></span><br><span class="line"><span class="attribute">15</span> <span class="number">305</span>.<span class="number">435</span></span><br><span class="line"><span class="attribute">16</span> <span class="number">302</span>.<span class="number">281</span></span><br><span class="line"><span class="attribute">17</span> <span class="number">300</span>.<span class="number">403</span></span><br><span class="line"><span class="attribute">18</span> <span class="number">303</span>.<span class="number">721</span></span><br><span class="line"><span class="attribute">19</span> <span class="number">305</span>.<span class="number">458</span></span><br><span class="line"><span class="attribute">20</span> <span class="number">306</span>.<span class="number">914</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="直接在计算温度时修改自由度的影响"><a href="#直接在计算温度时修改自由度的影响" class="headerlink" title="直接在计算温度时修改自由度的影响"></a>直接在计算温度时修改自由度的影响</h4><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line">compute   ke  <span class="keyword">all</span> ke/atom</span><br><span class="line"></span><br><span class="line"><span class="keyword">variable</span>    kB <span class="comment">equal 1.3806504e-23    # [J</span>/K] Boltzmann</span><br><span class="line">variable    kcalpermol2J equal <span class="number">4186.0</span>/<span class="comment">6.02214e23</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">variable</span> <span class="comment">temp atom c_ke*$&#123;kcalpermol2J&#125;</span>/($&#123;kB&#125;)</span><br><span class="line"></span><br><span class="line">compute tt <span class="keyword">all</span> chunk/<span class="comment">atom bin</span>/<span class="number">1</span>d z lower <span class="number">0.1</span> units reduced</span><br><span class="line">fix out_temp <span class="keyword">all</span> ave/<span class="comment">chunk 10 100 1000 tt v_temp file temp.dat</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="延申问题"><a href="#延申问题" class="headerlink" title="延申问题"></a>延申问题</h3><ul>
<li>对于水&#x2F;固体的温度分布仍然有问题（保持shake时）：<ul>
<li>如果采用<code>compute ke/atom</code>，并正常计算，则会低估水温度、固体正常；</li>
<li>采用<code>compute ke/atom</code>，分别计算固体和水部分温度，并在计算水温度时修改自由度影响，。</li>
<li>如果采用<code>compute temp/chunk</code>则会高估固体温度、水正常；</li>
</ul>
</li>
<li>可能的解决方法：选用柔性水分子力场；</li>
<li>输出两个温度分布，一个采用<code>compute ke/atom</code>固体温度，一个采用<code>compute temp/chunk</code>输出水温度</li>
</ul>
<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ul>
<li><p>[1] <a href="https://matsci.org/t/fix-shake-vs-fix-rigid/49193">https://matsci.org/t/fix-shake-vs-fix-rigid/49193</a></p>
</li>
<li><p>[2] <a href="https://matsci.org/t/fix-shake-destroy-temperature-gradient/13709">https://matsci.org/t/fix-shake-destroy-temperature-gradient/13709</a></p>
</li>
<li><p>[3] <a href="https://zhuanlan.zhihu.com/p/370186845">https://zhuanlan.zhihu.com/p/370186845</a></p>
</li>
<li><p>[4] <a href="https://matsci.org/t/energy-conservation-problem-with-fix-heat-fix-shake-spc-e-water/19817/17">https://matsci.org/t/energy-conservation-problem-with-fix-heat-fix-shake-spc-e-water/19817/17</a></p>
</li>
<li><p>[5] <a href="https://docs.lammps.org/compute_temp_chunk.html">https://docs.lammps.org/compute_temp_chunk.html</a></p>
</li>
<li><p>[6] <a href="https://docs.lammps.org/compute_temp.html">https://docs.lammps.org/compute_temp.html</a></p>
</li>
<li><p>[7] <a href="https://matsci.org/t/lammps-users-how-to-output-temp-chunk-data/35475/3">https://matsci.org/t/lammps-users-how-to-output-temp-chunk-data/35475/3</a></p>
</li>
<li><p>[8] <a href="https://matsci.org/t/question-about-compute-temp/49422">https://matsci.org/t/question-about-compute-temp/49422</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>LAMMPS</category>
      </categories>
      <tags>
        <tag>LAMMPS</tag>
        <tag>TIP4P</tag>
        <tag>温度分布</tag>
      </tags>
  </entry>
  <entry>
    <title>Pandas 基本操作</title>
    <url>/MyWiki/wiki/2021/11/05/codes/python/pandas_1/</url>
    <content><![CDATA[<p>[toc]</p>
<hr>
<h3 id="将DataFrame保存为MySQL"><a href="#将DataFrame保存为MySQL" class="headerlink" title="将DataFrame保存为MySQL"></a>将DataFrame保存为MySQL</h3><ul>
<li><p>要将pandas DataFrame保存到MySQL数据库中，可以使用Python的SQLAlchemy库来实现。下面是一系列的步骤来完成这个过程：</p>
</li>
<li><ol>
<li>安装所需的库：确保已经安装了pandas、SQLAlchemy和MySQL驱动程序（如pymysql）。</li>
<li>导入所需的库：在代码中导入必要的库。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>创建一个MySQL连接：使用SQLAlchemy创建一个MySQL连接。你需要根据你的数据库设置来修改下面的代码。确保将 <code>username</code>、<code>password</code>、<code>localhost</code>、<code>port</code> 和 <code>database_name</code> 替换为你自己的MySQL连接参数。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">engine = create_engine(<span class="string">&#x27;mysql+pymysql://username:password@localhost:port/database_name&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>将DataFrame保存到数据库：使用 <code>to_sql</code> 函数将DataFrame保存到数据库中。确保将 <code>df</code> 替换成你要保存的DataFrame，<code>table_name</code> 替换成你想要在数据库中创建的表的名称。<code>if_exists</code> 参数可以设置为以下几个选项之一： - “fail”：如果表已经存在，则抛出一个异常（默认） - “replace”：如果表已经存在，则替换掉原有的表 - “append”：如果表已经存在，则将数据追加到表中<code>index</code> 参数设置为 <code>False</code> 可以在保存数据时避免将DataFrame的索引作为一个额外的列。</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df.to_sql(<span class="string">&#x27;table_name&#x27;</span>, con=engine, if_exists=<span class="string">&#x27;replace&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>整体的代码示例如下：</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">from</span> sqlalchemy <span class="keyword">import</span> create_engine</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建一个MySQL连接</span></span><br><span class="line">engine = create_engine(<span class="string">&#x27;mysql+pymysql://username:password@localhost:port/database_name&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将DataFrame保存到数据库</span></span><br><span class="line">df.to_sql(<span class="string">&#x27;table_name&#x27;</span>, con=engine, if_exists=<span class="string">&#x27;replace&#x27;</span>, index=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="DataFrame-基本操作"><a href="#DataFrame-基本操作" class="headerlink" title="DataFrame 基本操作"></a>DataFrame 基本操作</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">data = &#123;<span class="string">&#x27;state&#x27;</span>: [<span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Nevada&#x27;</span>, <span class="string">&#x27;Nevada&#x27;</span>, <span class="string">&#x27;Nevada&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;year&#x27;</span>: [<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2003</span>],</span><br><span class="line">        <span class="string">&#x27;pop&#x27;</span>: [<span class="number">1.5</span>, <span class="number">1.7</span>, <span class="number">3.6</span>, <span class="number">2.4</span>, <span class="number">2.9</span>, <span class="number">3.2</span>]&#125;</span><br><span class="line">fm = pd.DataFrame(data)</span><br><span class="line"><span class="built_in">print</span>(fm)</span><br><span class="line"><span class="comment"># out</span></span><br><span class="line">    state  year  pop</span><br><span class="line"><span class="number">0</span>    Ohio  <span class="number">2000</span>  <span class="number">1.5</span></span><br><span class="line"><span class="number">1</span>    Ohio  <span class="number">2001</span>  <span class="number">1.7</span></span><br><span class="line"><span class="number">2</span>    Ohio  <span class="number">2002</span>  <span class="number">3.6</span></span><br><span class="line"><span class="number">3</span>  Nevada  <span class="number">2001</span>  <span class="number">2.4</span></span><br><span class="line"><span class="number">4</span>  Nevada  <span class="number">2002</span>  <span class="number">2.9</span></span><br><span class="line"><span class="number">5</span>  Nevada  <span class="number">2003</span>  <span class="number">3.2</span></span><br><span class="line">[Finished <span class="keyword">in</span> <span class="number">1.2</span>s]</span><br><span class="line"></span><br><span class="line"><span class="comment"># slice</span></span><br><span class="line"><span class="comment"># 读取列</span></span><br><span class="line"><span class="built_in">print</span>(fm[<span class="string">&quot;state&quot;</span>]) <span class="comment">#使用列标签</span></span><br><span class="line"><span class="built_in">print</span>(fm.state) <span class="comment">#使用列标签</span></span><br><span class="line"><span class="built_in">print</span>(fm.iloc[:,<span class="number">0</span>]) <span class="comment">#切片</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取行</span></span><br><span class="line"><span class="built_in">print</span>(fm[<span class="number">0</span>:<span class="number">2</span>])</span><br><span class="line"><span class="built_in">print</span>(fm.loc[<span class="number">0</span>:<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete column</span></span><br><span class="line">fm = fm.drop([<span class="string">&quot;state&quot;</span>],axis=<span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(fm)</span><br><span class="line"><span class="comment"># out</span></span><br><span class="line">   year  pop</span><br><span class="line"><span class="number">0</span>  <span class="number">2000</span>  <span class="number">1.5</span></span><br><span class="line"><span class="number">1</span>  <span class="number">2001</span>  <span class="number">1.7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">2002</span>  <span class="number">3.6</span></span><br><span class="line"><span class="number">3</span>  <span class="number">2001</span>  <span class="number">2.4</span></span><br><span class="line"><span class="number">4</span>  <span class="number">2002</span>  <span class="number">2.9</span></span><br><span class="line"><span class="number">5</span>  <span class="number">2003</span>  <span class="number">3.2</span></span><br><span class="line">[Finished <span class="keyword">in</span> <span class="number">4.8</span>s]</span><br><span class="line"></span><br><span class="line"><span class="comment"># delete row</span></span><br><span class="line">fm = fm.drop([<span class="number">0</span>],axis=<span class="number">0</span>)</span><br><span class="line"><span class="built_in">print</span>(fm)</span><br><span class="line"><span class="comment"># out</span></span><br><span class="line">   year  pop</span><br><span class="line"><span class="number">1</span>  <span class="number">2001</span>  <span class="number">1.7</span></span><br><span class="line"><span class="number">2</span>  <span class="number">2002</span>  <span class="number">3.6</span></span><br><span class="line"><span class="number">3</span>  <span class="number">2001</span>  <span class="number">2.4</span></span><br><span class="line"><span class="number">4</span>  <span class="number">2002</span>  <span class="number">2.9</span></span><br><span class="line"><span class="number">5</span>  <span class="number">2003</span>  <span class="number">3.2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="DataFrame-plot"><a href="#DataFrame-plot" class="headerlink" title="DataFrame.plot"></a><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.plot.html">DataFrame.plot</a></h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = &#123;<span class="string">&#x27;state&#x27;</span>: [<span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Ohio&#x27;</span>, <span class="string">&#x27;Nevada&#x27;</span>, <span class="string">&#x27;Nevada&#x27;</span>, <span class="string">&#x27;Nevada&#x27;</span>],</span><br><span class="line">        <span class="string">&#x27;year&#x27;</span>: [<span class="number">2000</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2003</span>],</span><br><span class="line">        <span class="string">&#x27;pop&#x27;</span>: [<span class="number">1.5</span>, <span class="number">1.7</span>, <span class="number">3.6</span>, <span class="number">2.4</span>, <span class="number">2.9</span>, <span class="number">3.2</span>]&#125;</span><br><span class="line">fm = pd.DataFrame(data)</span><br><span class="line"><span class="built_in">print</span>(fm)</span><br><span class="line">fm.plot(x=<span class="string">&quot;state&quot;</span>,y=<span class="string">&quot;pop&quot;</span>,figsize=(<span class="number">16</span>,<span class="number">8</span>),</span><br><span class="line">		kind=<span class="string">&#x27;scatter&#x27;</span>,</span><br><span class="line">		<span class="comment"># logx=True,</span></span><br><span class="line">		<span class="comment"># logy=True,</span></span><br><span class="line">		<span class="comment"># grid=True,</span></span><br><span class="line">		<span class="comment"># legend=True,</span></span><br><span class="line">		<span class="comment"># xlim=[0,100000],</span></span><br><span class="line">		<span class="comment"># ylim=[-4000,4000],</span></span><br><span class="line">		<span class="comment"># xlabel=&quot;Time(fs)&quot;,</span></span><br><span class="line">		<span class="comment"># ylabel=&quot;Pressure(Pa)&quot;,</span></span><br><span class="line">		<span class="comment"># fontsize=22,</span></span><br><span class="line">        )</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="DataFrame表格-列-拼接"><a href="#DataFrame表格-列-拼接" class="headerlink" title="DataFrame表格(列)拼接"></a>DataFrame表格(列)拼接</h3><h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">concat(objs, axis=<span class="number">0</span>, join=‘outer’, join_axes=<span class="literal">None</span>, ignore_index=<span class="literal">False</span>, keys=<span class="literal">None</span>, levels=<span class="literal">None</span>, names=<span class="literal">None</span>, verify_integrity=<span class="literal">False</span>,copy=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>部分参数说明：<br>axis：拼接轴方向，默认为0，沿行拼接；若为1，沿列拼接<br>join：默认外联’outer’，拼接另一轴所有的label，缺失值用NaN填充；内联’inner’，只拼接另一轴相同的label；<br>join_axes: 指定需要拼接的轴的labels，可在join既不内联又不外联的时候使用<br>ignore_index：对index进行重新排序<br>keys：多重索引</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line">df_aa = pd.DataFrame(&#123;<span class="string">&#x27;zh&#x27;</span>:[<span class="string">&#x27;zhang&#x27;</span>,<span class="string">&#x27;li&#x27;</span>,<span class="string">&#x27;wang&#x27;</span>,<span class="string">&#x27;zhao&#x27;</span>],</span><br><span class="line">                      <span class="string">&#x27;hero&#x27;</span>:[<span class="string">&#x27;达摩&#x27;</span>,<span class="string">&#x27;典韦&#x27;</span>,<span class="string">&#x27;曹操&#x27;</span>,<span class="string">&#x27;李白&#x27;</span>],</span><br><span class="line">                      <span class="string">&#x27;score&#x27;</span>:[<span class="string">&#x27;85&#x27;</span>,<span class="string">&#x27;73&#x27;</span>,<span class="string">&#x27;66&#x27;</span>,<span class="string">&#x27;81&#x27;</span>]&#125;)</span><br><span class="line">df_zz = pd.DataFrame(&#123;<span class="string">&#x27;en&#x27;</span>:[<span class="string">&#x27;wang&#x27;</span>,<span class="string">&#x27;zhao&#x27;</span>,<span class="string">&#x27;Trump&#x27;</span>,<span class="string">&#x27;Obama&#x27;</span>],</span><br><span class="line">                      <span class="string">&#x27;hero&#x27;</span>:[<span class="string">&#x27;曹操&#x27;</span>,<span class="string">&#x27;墨子&#x27;</span>,<span class="string">&#x27;曹操&#x27;</span>,<span class="string">&#x27;李白&#x27;</span>],</span><br><span class="line">                      <span class="string">&#x27;level&#x27;</span>:[<span class="string">&#x27;青铜&#x27;</span>,<span class="string">&#x27;白银&#x27;</span>,<span class="string">&#x27;黄金&#x27;</span>,<span class="string">&#x27;钻石&#x27;</span>]&#125;)</span><br><span class="line">df_concat = pd.concat([df_aa,df_zz])         <span class="comment"># 默认沿axis=0，join=‘out’的方式进行concat</span></span><br><span class="line">df_igno_idx = pd.concat([df_aa,df_zz], ignore_index=<span class="literal">True</span>)</span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string"># 重新设定index(效果类似于pd.concat([df1,df2]).reset_index(drop=True))</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line">df_col = pd.concat([df_aa,df_zz], axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>参考：<a href="https://blog.csdn.net/wsp_1138886114/article/details/101015664">https://blog.csdn.net/wsp_1138886114/article/details/101015664</a></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
        <category>Pandas</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Pandas</tag>
        <tag>Pandas基础</tag>
      </tags>
  </entry>
  <entry>
    <title>Hueman主题</title>
    <url>/MyWiki/wiki/2020/07/07/others/2020/Hexo-hueman/</url>
    <content><![CDATA[<p>这个主题挺不错的，不过在配置的时候有些波折，记录一下。</p>
<h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/ppoffice/hexo-theme-hueman.git themes/hueman</span><br></pre></td></tr></table></figure>
<p><strong>注：</strong></p>
<ul>
<li>这里说一下与这个主题无关的bug，<code>git clone</code>命令后面的目录<code>theme/hueman</code>,这个下载路径这么写的话是正常的<code>clone</code>到博客目录下的<code>theme</code>文件夹中，但是，如果这么写<code>/theme/hueman</code>, 那就会<code>clone</code>到<code>git</code>安装路径下的<code>theme</code>文件夹下。</li>
</ul>
<h4 id="2-配置-config-yml"><a href="#2-配置-config-yml" class="headerlink" title="2. 配置_config.yml"></a>2. 配置<code>_config.yml</code></h4><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">hueman</span></span><br></pre></td></tr></table></figure>
<p><strong>注：</strong></p>
<ul>
<li>此处是在博客目录下的<code>_config.yml</code>修改，不是主题下的。</li>
<li>也别忘了把主题目录下的<code>config.yml.example</code>名字改成<code>config.yml</code></li>
</ul>
<h4 id="3-进入主题下的-config-yml"><a href="#3-进入主题下的-config-yml" class="headerlink" title="3. 进入主题下的_config.yml"></a>3. 进入主题下的<code>_config.yml</code></h4><ul>
<li>第一个坑</li>
</ul>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Menus</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">    <span class="attr">Home:</span> <span class="string">/</span></span><br><span class="line">    <span class="comment"># Delete this row if you don&#x27;t want categories in your header nav bar</span></span><br><span class="line">    <span class="attr">Categories:</span></span><br><span class="line">    <span class="attr">About:</span> <span class="string">/about/index.html</span></span><br></pre></td></tr></table></figure>

<ol>
<li>首先，按照以往的经验，直接在<code>menu</code>下添加菜单就可以，并在<code>git bash</code>下创建page，例如：<code>hexo new page people</code><figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Menus</span></span><br><span class="line"><span class="attr">menu:</span></span><br><span class="line">    <span class="attr">Home:</span> <span class="string">/</span></span><br><span class="line">    <span class="comment"># Delete this row if you don&#x27;t want categories in your header nav bar</span></span><br><span class="line">    <span class="attr">Categories:</span>  </span><br><span class="line">    <span class="attr">People:</span> <span class="string">/people</span></span><br><span class="line">    <span class="attr">About:</span> <span class="string">/about/index.html</span></span><br></pre></td></tr></table></figure></li>
<li>但是，经过<code>hexo s</code> 预览<code>http://localhost:4000/</code>会发现，在菜单栏下面的people没有显示<code>People</code>,而是显示了<code>index.people</code>。</li>
<li>解决方法—找到主题下的<code>languages</code>文件夹，比如打开en.yml,在相应位置添加<code>people: &quot;People&quot;</code>就可以了。</li>
</ol>
<ul>
<li>第二个坑</li>
</ul>
<ol>
<li><p>在heuman主题预览的菜单栏里，注意到有个<code>Technology</code>是有下拉菜单栏的，搞了好久没搞懂怎么搞。<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/UkmuFO.png"></p>
</li>
<li><p>最后，终于搞定了，原来是这么回事啊，都怪自己没有仔细看mamual. 也是因为测试主题的时候没有分类的post，没法一眼看出来。</p>
</li>
<li><p>之前，没有注意到下面menu有个<code>Categories:</code>,应该是在新建post里添加Categories就会在菜单栏里显示分类，而这个主题的下拉菜单并不是真正的下拉菜单，而是分类放到了菜单栏里。</p>
</li>
<li><p>比如下面的配置，就会显示<code>Technology</code>下拉菜单是<code>Github</code></p>
</li>
</ol>
<figure class="highlight yml"><table><tr><td class="code"><pre><span class="line"><span class="attr">title:</span>  </span><br><span class="line"><span class="attr">categories:</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Technology</span></span><br><span class="line"><span class="bullet">-</span> <span class="string">Github</span></span><br></pre></td></tr></table></figure>

<ol start="8">
<li>还可以通过删除<code>Categories:</code>,不在菜单栏里显示分类；而且那个<code>Categories:</code>在哪放着，你的分类菜单栏就会在哪显示，合理配置。</li>
</ol>
<h4 id="3-总结"><a href="#3-总结" class="headerlink" title="3. 总结"></a>3. 总结</h4><p><strong>与其去google@baidu,不如好好看manual，不然费时又费精力，最后还得看manual……手动滑稽</strong></p>
<ul>
<li><a href="https://github.com/ppoffice/hexo-theme-hueman">附上主题源码</a></li>
</ul>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hueman</tag>
      </tags>
  </entry>
  <entry>
    <title>给icarus主题换背景图片</title>
    <url>/MyWiki/wiki/2020/06/29/others/2020/Hexo-icarus/</url>
    <content><![CDATA[<h4 id="在-x2F-themes-x2F-x2F-source-x2F-css-x2F-style-styl添加如下代码"><a href="#在-x2F-themes-x2F-x2F-source-x2F-css-x2F-style-styl添加如下代码" class="headerlink" title="在.&#x2F;themes&#x2F;..&#x2F;source&#x2F;css&#x2F;style.styl添加如下代码"></a>在.&#x2F;themes&#x2F;..&#x2F;source&#x2F;css&#x2F;style.styl添加如下代码</h4><figure class="highlight styl"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Custom styles.</span></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"> 	<span class="attribute">background</span>:<span class="built_in">url</span>(https://source.unsplash.com/random/<span class="number">1600</span>x900?wallpapers);</span><br><span class="line"> 	<span class="attribute">background-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">background-attachment</span>:fixed;</span><br><span class="line">    <span class="attribute">background-position</span>:<span class="number">50%</span> <span class="number">50%</span>;</span><br><span class="line">	<span class="attribute">background-size</span>: cover</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol>
<li>如果想要自定义背景图片，直接给图片路径就可以，或者图床的url</li>
<li>这里使用的是unsplash，刷新后自动更换美图。</li>
</ol>
<p>注：是添加不是替换，不然以前的布局将丢失。</p>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Icarus</tag>
      </tags>
  </entry>
  <entry>
    <title>Common Commands of Hexo</title>
    <url>/MyWiki/wiki/2020/06/18/others/2020/Hexo-command/</url>
    <content><![CDATA[<h3 id="1-Create-a-new-post"><a href="#1-Create-a-new-post" class="headerlink" title="1. Create a new post"></a>1. Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new [layout] <span class="string">&quot;My New Post&quot;</span></span><br><span class="line"><span class="built_in">where</span> layout: post; page; draft</span><br><span class="line">default layout==post</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="2-Run-server"><a href="#2-Run-server" class="headerlink" title="2. Run server"></a>2. Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br><span class="line">or</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="3-Generate-static-files"><a href="#3-Generate-static-files" class="headerlink" title="3. Generate static files"></a>3. Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br><span class="line">or</span><br><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="4-Deploy-to-remote-sites"><a href="#4-Deploy-to-remote-sites" class="headerlink" title="4. Deploy to remote sites"></a>4. Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br><span class="line">or</span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>
<h3 id="5-Generate-static-files-and-Deploy-to-remote-sites-simultaneously"><a href="#5-Generate-static-files-and-Deploy-to-remote-sites-simultaneously" class="headerlink" title="5. Generate static files and Deploy to remote sites simultaneously"></a>5. Generate static files and Deploy to remote sites simultaneously</h3><figure class="highlight sas"><table><tr><td class="code"><pre><span class="line">$ hexo g -d</span><br><span class="line">hexo clean <span class="variable">&amp;&amp;</span> hexo douban -bgm <span class="variable">&amp;&amp;</span> hexo g <span class="variable">&amp;&amp;</span> hexo d</span><br></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
<h3 id="6-参考链接"><a href="#6-参考链接" class="headerlink" title="6. 参考链接"></a>6. 参考链接</h3><ul>
<li><a href="https://juejin.im/post/5c976dbfe51d4534a068e3be">建站参考链接</a></li>
<li><a href="https://www.jianshu.com/p/79bd6fb15790">Hexo同时部署在GitHub、Coding、Gitee</a></li>
<li><a href="https://www.jianshu.com/p/7d3d87b52ad7">Hexo博客提交百度和Google收录参考链接</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/111796666">Hexo 双线部署到 Coding 和 GitHub 提升访问速度</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/149843912">完全小白教程：使用Coding Pages和Gridea搭建个人博客</a></li>
<li>自定义一个不使用主题模板渲染的独立页面 <a href="https://www.cnblogs.com/TRHX/archive/2004/01/13/11699990.html">https://www.cnblogs.com/TRHX/archive/2004/01/13/11699990.html</a></li>
<li>自动部署Gitee上：<blockquote>
<p>[1] <a href="https://github.com/yanglbme/gitee-pages-action">https://github.com/yanglbme/gitee-pages-action</a><br>[2] <a href="https://blog.csdn.net/qq_35977139/article/details/113764322">https://blog.csdn.net/qq_35977139/article/details/113764322</a></p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>Hexo</category>
      </categories>
      <tags>
        <tag>Hexo command</tag>
      </tags>
  </entry>
  <entry>
    <title>控制Tecplot里的原子间距</title>
    <url>/MyWiki/wiki/2020/05/08/others/2020/Tecplot-1/</url>
    <content><![CDATA[<h4 id="1-Plot-lt-Axis-lt-独立操作x-y-z的Size-Factors"><a href="#1-Plot-lt-Axis-lt-独立操作x-y-z的Size-Factors" class="headerlink" title="1. Plot&lt;Axis&lt;独立操作x,y,z的Size Factors"></a>1. Plot&lt;Axis&lt;独立操作x,y,z的Size Factors</h4><ul>
<li><p>Plot&lt;Axis</p>
<img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/tecplot_1.png" alt="Plot<Axis" border="0" />  

</li>
<li><p>独立操作x,y,z的Size Factors</p>
<img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/tecplot_2.png" alt="Size Factors" border="0" />
</li>
<li><p>调原子间距效果</p>
</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/tecplot_3.png" alt="Energy" border="0" width="60%" />

<h4 id="2-x-y-z方向的视角调整"><a href="#2-x-y-z方向的视角调整" class="headerlink" title="2. x,y,z方向的视角调整"></a>2. x,y,z方向的视角调整</h4><ul>
<li>可以手动调，但正视图、侧视图、俯视图手动调可能不太好调</li>
<li>一般这种可视化软件，不应该都在很明显的位置嘛？</li>
<li>这个就不明显，藏在这里：<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>View&gt;Rotate</td>
<td>3D Rotate</td>
</tr>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/tecplot_4.png" alt="View>Rotate" border="0" width="50%" /></td>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/tecplot_5.png" alt="3D Rotate" border="0" width="200%" /></td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="3-很奇怪，也非常便捷的一个操作"><a href="#3-很奇怪，也非常便捷的一个操作" class="headerlink" title="3. 很奇怪，也非常便捷的一个操作"></a>3. 很奇怪，也非常便捷的一个操作</h4><ul>
<li>采用Tecplot画能量图的时候，只要把之前画过的.lay文件，直接复制到另一个要画的文件夹里，就可以直接画出来。</li>
<li>注意：这个.lay文件要与要画图的文件夹里你要画的那个文件名要一样，</li>
<li>这样，直接复制粘贴过去，就可以直接画出来，里面的设置不变，很奇怪，但很便捷。</li>
</ul>
]]></content>
      <categories>
        <category>科研学习</category>
        <category>Tecplot</category>
      </categories>
      <tags>
        <tag>Tecplot</tag>
      </tags>
  </entry>
  <entry>
    <title>Origin 画双y轴</title>
    <url>/MyWiki/wiki/2020/06/22/others/2020/Origin-1/</url>
    <content><![CDATA[<h5 id="1-首先画一个单y轴"><a href="#1-首先画一个单y轴" class="headerlink" title="1. 首先画一个单y轴"></a>1. 首先画一个单y轴</h5><ul>
<li>选中数据并，plot&gt;line 画出图</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>figure1</td>
<td>figure2</td>
</tr>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/figure1.JPG" width="100%"></td>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/figure2.JPG" width="80%"></td>
</tr>
</tbody></table>
<h5 id="2-然后插入另一个坐标轴"><a href="#2-然后插入另一个坐标轴" class="headerlink" title="2. 然后插入另一个坐标轴"></a>2. 然后插入另一个坐标轴</h5><ul>
<li>如图figure3,可以得到figure4–双y轴</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>figure3</td>
<td>figure4</td>
</tr>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/figure3.jpg" width="80%"></td>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/figure4.JPG" width="100%"></td>
</tr>
</tbody></table>
<h5 id="3-插入数据，并调格式得到完美的双y轴图片"><a href="#3-插入数据，并调格式得到完美的双y轴图片" class="headerlink" title="3. 插入数据，并调格式得到完美的双y轴图片"></a>3. 插入数据，并调格式得到完美的双y轴图片</h5><ul>
<li>右键，选中figure5中的 Layer Contents,选择要画的数据</li>
<li>调一下格式就可以得到最后的图片</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>figure5</td>
<td>figure6</td>
</tr>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/figure5.JPG" width="100%"></td>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/figure6.JPG" width="100%"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>科研学习</category>
        <category>Origin</category>
      </categories>
      <tags>
        <tag>origin</tag>
      </tags>
  </entry>
  <entry>
    <title>Ovito</title>
    <url>/MyWiki/wiki/2020/05/09/others/2020/Ovito/</url>
    <content><![CDATA[<h4 id="1-去掉盒子"><a href="#1-去掉盒子" class="headerlink" title="1. 去掉盒子"></a>1. 去掉盒子</h4><ul>
<li>直接把<code>Display</code>下的<code>Simulation Cell</code>前的框框里的<code>√</code>去掉即可。</li>
</ul>
<img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/OVITO-1.png" alt="Display" border="0" />

]]></content>
      <categories>
        <category>科研学习</category>
        <category>Ovito</category>
      </categories>
      <tags>
        <tag>Ovito</tag>
      </tags>
  </entry>
  <entry>
    <title>Origin Integrate</title>
    <url>/MyWiki/wiki/2020/06/22/others/2020/Origin-2/</url>
    <content><![CDATA[<h5 id="积分"><a href="#积分" class="headerlink" title="积分"></a>积分</h5><ul>
<li>选中数据，并按照figure2找到 Integrate</li>
<li>操作完之后，就会在figure1中E(Y2)列出现积分后的数据</li>
<li>接下来就是画图，plot&gt;line</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>figure1</td>
<td>figure2</td>
</tr>
<tr>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/ORIGIN-F7.png" width="100%"></td>
<td><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/ORIGIN-F8.png" width="100%"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>科研学习</category>
        <category>Origin</category>
      </categories>
      <tags>
        <tag>origin</tag>
      </tags>
  </entry>
  <entry>
    <title>无法将“mklink”项识别为 cmdlet</title>
    <url>/MyWiki/wiki/2020/06/30/others/2020/windows-mklink/</url>
    <content><![CDATA[<h4 id="1-目的"><a href="#1-目的" class="headerlink" title="1. 目的"></a>1. 目的</h4><ul>
<li>目的是要把C盘的一个文件夹链接到E盘，</li>
<li>这里我是为了要把VScode安装的插件位置从C盘link到E盘，在PowerShell（因为使用cmd的话没有权限）使用命令如下：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink /d <span class="string">&quot;C:\Users\yourcomputername\.vscode\extensions&quot;</span> <span class="string">&quot;E:\VScodePlug\extensions\extensions&quot;</span></span><br></pre></td></tr></table></figure>

<h4 id="2-错误信息"><a href="#2-错误信息" class="headerlink" title="2. 错误信息"></a>2. 错误信息</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink : 无法将“mklink”项识别为 cmdlet、函数、脚本文件或可运行程序的名称。请检查名称的拼写，如果包括路径，请确保路径</span><br><span class="line">正确，然后再试一次。</span><br><span class="line">所在位置 行:1 字符: 1</span><br><span class="line">+ mklink /d <span class="string">&quot;C:\Users\yourcomputername\.vscode\extensions&quot;</span> <span class="string">&quot;E:\VScodePlug ...</span></span><br><span class="line"><span class="string">+ ~~~~~~</span></span><br><span class="line"><span class="string">    + Cat##egoryInfo          : ObjectNotFound: (mklink:String) [], CommandNotFoundException</span></span><br><span class="line"><span class="string">    + FullyQualifiedErrorId : CommandNotFoundException</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>

<h4 id="3-错误原因"><a href="#3-错误原因" class="headerlink" title="3. 错误原因"></a>3. 错误原因</h4><ul>
<li>因为PowerShell中没有mklink命令</li>
</ul>
<h4 id="4-解决方法"><a href="#4-解决方法" class="headerlink" title="4. 解决方法"></a>4. 解决方法</h4><ul>
<li>在进入PowerShell后先输出 <strong>cmd</strong>,在执行：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">mklink /d <span class="string">&quot;C:\Users\yourcomputername\.vscode\extensions&quot;</span> <span class="string">&quot;E:\VScodePlug\extensions\extensions&quot;</span></span><br></pre></td></tr></table></figure>


<h4 id="5-成功提示"><a href="#5-成功提示" class="headerlink" title="5. 成功提示"></a>5. 成功提示</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">为 C:\Users\yourcomputername\.vscode\extensions &lt;&lt;===&gt;&gt; E:\VScodePlug\extensions 创建的符号链接</span><br></pre></td></tr></table></figure>


<p><a href="https://cloud.tencent.com/developer/article/1341325">参考链接</a></p>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>mklink</tag>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>Vscode常用</title>
    <url>/MyWiki/wiki/2020/06/30/others/2020/Vscode1/</url>
    <content><![CDATA[<ol>
<li><code>Ctrl+Shift+P</code>或<code>F1</code>打开命令面板，例如输入<code>Configure Display Language</code>可以换语言，如选择<code>zh-cn</code>，切换为中文。</li>
<li><code>F11</code>全屏模式。</li>
</ol>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>杂记</category>
      </categories>
      <tags>
        <tag>VScode</tag>
      </tags>
  </entry>
  <entry>
    <title>Alamode</title>
    <url>/MyWiki/wiki/2020/11/21/others/2020/alamode-1/</url>
    <content><![CDATA[<h3 id="1-alamode安装参考"><a href="#1-alamode安装参考" class="headerlink" title="1. alamode安装参考"></a><strong>1. alamode安装参考</strong></h3><p><a href="https://zhuanlan.zhihu.com/p/145873368">https://zhuanlan.zhihu.com/p/145873368</a></p>
<p>Alamode 运行</p>
<ul>
<li>执行alm<br><code>alm alm.in &gt; alm.log</code><blockquote>
<p>MODE &#x3D; suggest的时候可以获得一个包含笛卡尔坐标的displacement patterns<br>MODE &#x3D; optimize的时候需要一个数据集（DFSET）,且得到xx.fcs(力常数),xx.xml(必要的信息)</p>
</blockquote>
</li>
<li>执行anphon<br><code>anphon anphon.in &gt; anphon.log</code><br>or<br><code>mpirun -np 16 anphon anphon.in &gt; anphon.log</code><blockquote>
<p>MODE &#x3D; phonons的时候perform (harmonic) phonon calculations<br>MODE &#x3D; RTA的时候conduct thermal conductivity calculations</p>
</blockquote>
</li>
<li>plot</li>
</ul>
<h3 id="2-使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等流程："><a href="#2-使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等流程：" class="headerlink" title="2. 使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等流程："></a><strong>2. 使用LAMMPS和Alamode计算热导率、PDOS、弛豫时间等流程：</strong></h3><ul>
<li>运行alm.in,生成<code>xxx.pattern_HARMONIC</code>和<code>xxx.pattern_ANHARM3</code><blockquote>
<ol>
<li>需要注意：<code>NORDER = 2  # 1: harmonic, 2: cubic, ..</code></li>
<li>其他信息修改参照官网</li>
</ol>
</blockquote>
</li>
<li>用alamode自带的displace.py，生成harm1.lammps和cubic1.lammps <blockquote>
<ol>
<li>如果harm和cubic文件很多的话，几百几千个，这里可能会出现harm0001.lammps这种文件名，会报错。</li>
</ol>
</blockquote>
</li>
<li>用脚本运行lammps,in.sw,使harm1.lammps和cubic1.lammps 分别生成XFSET.harm1和XFSET.cubic1</li>
<li>最后使用alamode自带的extract.py，从XFSET.harm（XFSET.cubic）提取到DESET_harmonic（DFSET_cubic）中</li>
<li>修改alm.in中的MODE为optimize并添加一些信息，再次运行alm.in，会得到xxx.fcs和xxx.xml,</li>
<li>利用anphon通过xxx.xml会得到xxx.bands文件，然后通过自带的plotband.py可以计算声子色散；</li>
<li>同样获得pdos</li>
<li>具体参见官网<br><strong>注意：</strong></li>
<li>cutoff 的值可以从log中查看</li>
</ul>
<h3 id="3-Alamode在训练的时候出现的错误："><a href="#3-Alamode在训练的时候出现的错误：" class="headerlink" title="3. Alamode在训练的时候出现的错误："></a><strong>3. Alamode在训练的时候出现的错误：</strong></h3><figure class="highlight smali"><table><tr><td class="code"><pre><span class="line">terminate called after throwing an<span class="built_in"> instance </span>of &#x27;std::bad_alloc&#x27;</span><br><span class="line">  what():  std::bad_alloc</span><br><span class="line">Aborted (core dumped)</span><br></pre></td></tr></table></figure>
<ul>
<li><ol>
<li>主要是由于运行内存不足；</li>
</ol>
</li>
<li><ol start="2">
<li>总结两种原因，一种是运行的task太多导致，另一种是一个task的数据量太大了（比如这里选的截断半径太大）</li>
</ol>
</li>
</ul>
<h3 id="4-Alamode中拟合力常数的时候-Fitting-error-100-找不到原因"><a href="#4-Alamode中拟合力常数的时候-Fitting-error-100-找不到原因" class="headerlink" title="4. Alamode中拟合力常数的时候  Fitting error (%) : 100,找不到原因"></a><strong>4. Alamode中拟合力常数的时候<code>  Fitting error (%) : 100</code>,找不到原因</strong></h3><ul>
<li>截断半径的原因？怎么设置cutoff?</li>
<li>运行lammps的时候，只run了0步，因为例子力也是0步，会不会是这里的原因？</li>
</ul>
]]></content>
      <categories>
        <category>科研学习</category>
        <category>Alamode</category>
      </categories>
      <tags>
        <tag>Alamode</tag>
      </tags>
  </entry>
  <entry>
    <title>WORD中MathType一些问题</title>
    <url>/MyWiki/wiki/2022/10/30/others/2022/MathType_number_gray/</url>
    <content><![CDATA[<h3 id="WORD中MathType不显示"><a href="#WORD中MathType不显示" class="headerlink" title="WORD中MathType不显示"></a>WORD中MathType不显示</h3><ul>
<li><a href="https://jingyan.baidu.com/article/eb9f7b6d69d084869264e876.html">https://jingyan.baidu.com/article/eb9f7b6d69d084869264e876.html</a></li>
</ul>
<h3 id="WORD中MathType（1）插入序号是灰色的"><a href="#WORD中MathType（1）插入序号是灰色的" class="headerlink" title="WORD中MathType（1）插入序号是灰色的"></a>WORD中MathType（1）插入序号是灰色的</h3><ul>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/figs.md/594872420221071.png" alt="灰色的插入序号"></p>
</li>
<li><p>激活MathType</p>
</li>
<li><p>打开MathType，点击帮助，解锁注册MathType。输入密匙</p>
<figure class="highlight avrasm"><table><tr><td class="code"><pre><span class="line"><span class="symbol">FirstName:</span> llion</span><br><span class="line"><span class="symbol">Lastname:</span> mecssi</span><br><span class="line"><span class="symbol">Organization:</span> llionmecssi</span><br><span class="line"><span class="symbol">Key:</span> MTWE691<span class="number">-011084</span>-r0xyl</span><br></pre></td></tr></table></figure>
</li>
<li><p>但是只能临时解决，一段时间后，又会回到原来的样子。</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>MathType</tag>
      </tags>
  </entry>
  <entry>
    <title>删除过期远程桌面连接记录</title>
    <url>/MyWiki/wiki/2023/03/22/others/2023/del_win_remote_connect_records/</url>
    <content><![CDATA[<h2 id="打开注册表编辑器"><a href="#打开注册表编辑器" class="headerlink" title="打开注册表编辑器"></a>打开注册表编辑器</h2><ul>
<li><code>WIN + R</code> 打开运行</li>
<li>输入<code>regedit</code>打开注册表</li>
</ul>
<h2 id="打开路径："><a href="#打开路径：" class="headerlink" title="打开路径："></a>打开路径：</h2><figure class="highlight moonscript"><table><tr><td class="code"><pre><span class="line">计算机\HKEY_CURRENT_USER\SOFTWARE\Microsoft\Terminal Server Client\Default</span><br></pre></td></tr></table></figure>

<h2 id="删除多余的MRU"><a href="#删除多余的MRU" class="headerlink" title="删除多余的MRU"></a>删除多余的MRU</h2><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/figs.md/440891012230364.png"></p>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>远程桌面连接</tag>
        <tag>删除远程桌面连接</tag>
      </tags>
  </entry>
  <entry>
    <title>解决本地可以用但是Hexo不能用的gitee图床</title>
    <url>/MyWiki/wiki/2022/10/31/others/2022/hexo_gitee_pictures/</url>
    <content><![CDATA[<h3 id="例如，kaze主题"><a href="#例如，kaze主题" class="headerlink" title="例如，kaze主题"></a>例如，kaze主题</h3><ul>
<li><p>修改<code>head.ejs文件</code>，路径：</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">.<span class="regexp">/themes/</span>kaze<span class="regexp">/layout/</span>_partial/head.ejs</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加meta信息：</p>
<figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line">&lt;meta name<span class="operator">=</span><span class="string">&quot;referrer&quot;</span> content<span class="operator">=</span><span class="string">&quot;no-referrer&quot;</span> /&gt;</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>gitee图床</tag>
      </tags>
  </entry>
  <entry>
    <title>水合物笼子</title>
    <url>/MyWiki/wiki/2022/12/23/others/2023/hydrate_cages/</url>
    <content><![CDATA[<h2 id="水合物笼子"><a href="#水合物笼子" class="headerlink" title="水合物笼子"></a>水合物笼子</h2><h3 id="环：4、5、6"><a href="#环：4、5、6" class="headerlink" title="环：4、5、6"></a>环：4、5、6</h3><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202312231506319.png" alt="image-20231223150609070"></p>
<h3 id="半笼子"><a href="#半笼子" class="headerlink" title="半笼子"></a>半笼子</h3><h4 id="以4-环为底的半笼子"><a href="#以4-环为底的半笼子" class="headerlink" title="以4-环为底的半笼子"></a>以4-环为底的半笼子</h4><p>$4^15^4$、$4^15^36^1$、$4^15^16^3$、$4^15^26^2$(6和5环之间是否相邻，可分为两种笼子)</p>
<h4 id="以5-环为底的半笼子"><a href="#以5-环为底的半笼子" class="headerlink" title="以5-环为底的半笼子"></a>以5-环为底的半笼子</h4><p>$5^6$</p>
<h4 id="以6-环为底的半笼子"><a href="#以6-环为底的半笼子" class="headerlink" title="以6-环为底的半笼子"></a>以6-环为底的半笼子</h4><p>$6^15^6$</p>
<h3 id="待更新"><a href="#待更新" class="headerlink" title="待更新"></a>待更新</h3>]]></content>
      <categories>
        <category>知识</category>
      </categories>
      <tags>
        <tag>Hydrate</tag>
        <tag>Hydrate cages</tag>
      </tags>
  </entry>
  <entry>
    <title>Windows相关</title>
    <url>/MyWiki/wiki/2020/06/24/others/2020/windows-problems/</url>
    <content><![CDATA[<h4 id="1-自动获取-ip-地址，获取了-169-开头的ip地址？"><a href="#1-自动获取-ip-地址，获取了-169-开头的ip地址？" class="headerlink" title="1. 自动获取 ip 地址，获取了 169 开头的ip地址？"></a>1. 自动获取 ip 地址，获取了 169 开头的ip地址？</h4><p>自从家里来到学校之后，就连接不上校网，自动获取的ip地址老是169开头，但，电脑是可以连上路由器无线和网线的，就是在直接连校网的网线(需要登录账号密码)出现的这种问题。</p>
<h4 id="2-windows定时关机"><a href="#2-windows定时关机" class="headerlink" title="2. windows定时关机"></a>2. windows定时关机</h4><p>定时3600s后关机：<code>shutdown -s -t 3600</code><br>取消：<code>shutdown -a</code></p>
<h4 id="3-win10系统在重分析点缓冲区中的标记无效-的解决方法"><a href="#3-win10系统在重分析点缓冲区中的标记无效-的解决方法" class="headerlink" title="3. win10系统在重分析点缓冲区中的标记无效 的解决方法"></a>3. win10系统在重分析点缓冲区中的标记无效 的解决方法</h4><p><a href="https://blog.csdn.net/COCO56/article/details/108634554">https://blog.csdn.net/COCO56/article/details/108634554</a> </p>
<h4 id="4-若在计算机管理中找不到解禁管理员时"><a href="#4-若在计算机管理中找不到解禁管理员时" class="headerlink" title="4. 若在计算机管理中找不到解禁管理员时"></a>4. 若在计算机管理中找不到解禁管理员时</h4><ul>
<li>打开命令提示符（管理员）</li>
<li>执行：<code>net user administrator /active:yes</code> 后回车即可解禁管理员账户</li>
<li>也可以关闭：<code>net user administrator /active:no</code></li>
</ul>
<h4 id="5-重装系统后经典属性界面找回"><a href="#5-重装系统后经典属性界面找回" class="headerlink" title="5. 重装系统后经典属性界面找回"></a>5. 重装系统后经典属性界面找回</h4><ul>
<li>参考：<br><a href="https://www.bilibili.com/read/cv8197364/">最新WIN10 20H2系统找回经典系统属性界面的几种方法</a></li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
      </tags>
  </entry>
  <entry>
    <title>WIN10蓝屏，终止代码:VIDEO_MEMORY_MANAGEMENT_INTERNAL</title>
    <url>/MyWiki/wiki/2022/02/19/others/2022/windows_VIDEO_MEMORY_MANAGEMENT_INTERNAL/</url>
    <content><![CDATA[<h3 id="WIN10蓝屏"><a href="#WIN10蓝屏" class="headerlink" title="WIN10蓝屏"></a>WIN10蓝屏</h3><ul>
<li>终止代码:<code>VIDEO_MEMORY_MANAGEMENT_INTERNAL</code></li>
<li>只要在谷歌浏览器打开视频，WIN10就蓝屏；</li>
<li>所以应该是谷歌的问题。<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/VIDEO_MEMORY_MANAGEMENT_INTERNAL.jpg"></li>
</ul>
<h3 id="解决办法："><a href="#解决办法：" class="headerlink" title="解决办法："></a>解决办法：</h3><ul>
<li>谷歌设置&gt;高级&gt;系统&gt;关闭使用硬件加速模式<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/Blog/VIDEO_MEMORY_MANAGEMENT_INTERNAL_1.jpg"></li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Windows 蓝屏</tag>
        <tag>VIDEO_MEMORY_MANAGEMENT_INTERNAL</tag>
      </tags>
  </entry>
  <entry>
    <title>connect to host github.com timed out</title>
    <url>/MyWiki/wiki/2024/01/22/others/2024/git_push_Connection_timed_out/</url>
    <content><![CDATA[<h3 id="报错信息："><a href="#报错信息：" class="headerlink" title="报错信息："></a>报错信息：</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh: connect to host github.com port 22: Connection timed out</span><br><span class="line">fatal: Could not <span class="built_in">read</span> from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></table></figure>



<h3 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h3><ul>
<li>测试：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line"><span class="comment"># ssh: connect to host github.com port 22: Connection timed out</span></span><br><span class="line">ssh -T -p 443 git@ssh.github.com</span><br><span class="line"><span class="comment"># Hi eastsheng! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure>

<ul>
<li>解决：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vim ~/.ssh/config</span><br></pre></td></tr></table></figure>

<ul>
<li>粘贴下面内容到config：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  Port 443</span><br></pre></td></tr></table></figure>

<ul>
<li>再次测试：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"> ssh -T git@github.com</span><br><span class="line"><span class="comment">#  The authenticity of host &#x27;[ssh.github.com]:443 ([20.205.243.160]:443)&#x27; can&#x27;t be established.</span></span><br><span class="line"><span class="comment"># xxxxx9 key fingerprint is xxxx:+xxxxxx/xxxxxxxxx.</span></span><br><span class="line"><span class="comment"># This host key is known by the following other names/addresses:</span></span><br><span class="line"><span class="comment">#     ~/.ssh/known_hosts:1: [hashed name]</span></span><br><span class="line"><span class="comment"># Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span></span><br><span class="line"><span class="comment"># Warning: Permanently added &#x27;[ssh.github.com]:443&#x27; (ED25519) to the list of known hosts.</span></span><br><span class="line"><span class="comment"># Hi xxxxx! You&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure>

<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><p><a href="https://gist.github.com/Tamal/1cc77f88ef3e900aeae65f0e5e504794?permalink_comment_id=4211380">[1] Solution for ‘ssh: connect to host github.com port 22: Connection timed out’ error</a></p>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>git push</tag>
        <tag>Connection timed out</tag>
      </tags>
  </entry>
  <entry>
    <title>远程计算机或设备将不接受连接</title>
    <url>/MyWiki/wiki/2021/10/06/others/2021/windows-internet/</url>
    <content><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/others/win_internet.PNG"></p>
<h3 id="远程计算机或设备将不接受连接？"><a href="#远程计算机或设备将不接受连接？" class="headerlink" title="远程计算机或设备将不接受连接？"></a>远程计算机或设备将不接受连接？</h3><blockquote>
<ul>
<li>QQ、微信有网，浏览器没网</li>
</ul>
</blockquote>
<h3 id="解决方法-：-找到上图设置-gt-代理，关掉代理就好了。"><a href="#解决方法-：-找到上图设置-gt-代理，关掉代理就好了。" class="headerlink" title="解决方法 ： 找到上图设置&gt;代理，关掉代理就好了。"></a>解决方法 ： 找到上图设置&gt;代理，关掉代理就好了。</h3>]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>远程计算机或设备将不接受连接</tag>
      </tags>
  </entry>
  <entry>
    <title>Hotmail邮箱和Gmail邮箱在Foxmail登录失败</title>
    <url>/MyWiki/wiki/2021/08/19/others/2021/foxmail/</url>
    <content><![CDATA[<h3 id="把接收服务器类型改为IMAP后Hotmail就可以登陆了"><a href="#把接收服务器类型改为IMAP后Hotmail就可以登陆了" class="headerlink" title="把接收服务器类型改为IMAP后Hotmail就可以登陆了"></a>把接收服务器类型改为IMAP后Hotmail就可以登陆了</h3><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/others/foxmail.png"></p>
<h3 id="Gmail还是登录不了"><a href="#Gmail还是登录不了" class="headerlink" title="Gmail还是登录不了"></a>Gmail还是登录不了</h3><ul>
<li>但是从Foxmail登录Gmail，会收到<code>登录尝试已被阻止</code>的邮件，所以应该可以登录，只不过安全性高一些</li>
<li>暂时不登陆了。</li>
</ul>
<h3 id="Hotmail发不了邮件解决"><a href="#Hotmail发不了邮件解决" class="headerlink" title="Hotmail发不了邮件解决"></a>Hotmail发不了邮件解决</h3><ul>
<li>部分服务器需要在“服务器”页下方的“高级”中勾选“如果服务器支持，就使用STARTTLS加密传输”，例如vip163账户、hotmail账户（包含@hotmail.com、@live.com和@live.cn）等。</li>
<li><a href="https://help.foxmail.com/cgi-bin/help?subtype=1&no=1000848&id=20037">https://help.foxmail.com/cgi-bin/help?subtype=1&amp;no=1000848&amp;id=20037</a></li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Foxmail</tag>
      </tags>
  </entry>
  <entry>
    <title>向日葵远程连接键盘鼠标失灵</title>
    <url>/MyWiki/wiki/2024/06/04/others/2024/oray_keyboard_and_mouse_out_of_control/</url>
    <content><![CDATA[<h3 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h3><ul>
<li>向日葵远程连接时，ctrl键或者其他键失控，导致滚动变成了缩放等问题。</li>
</ul>
<h3 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h3><ul>
<li>（1）按住 Alt 键3秒左右松开，键盘就会恢复正常;</li>
<li>（2）Ctrl+Alt+Delete 启动任务管理器，键盘就会恢复正常;</li>
</ul>
<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><p><a href="https://blog.csdn.net/qq_41340996/article/details/124327450">[1] 工具向日葵远程控制之后键盘失效、自动锁定按住Alt键</a></p>
<p><a href="https://blog.csdn.net/qq_49182328/article/details/121130104">[2] 向日葵远程连接时，控制端或被控端键盘按键失灵</a></p>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>向日葵远程</tag>
        <tag>向日葵远程远程连接键盘鼠标失控</tag>
      </tags>
  </entry>
  <entry>
    <title>PowerPoint上次启动失败。安全模式可以帮助您解决问题。</title>
    <url>/MyWiki/wiki/2021/07/31/others/2021/windows-office/</url>
    <content><![CDATA[<h3 id="运行PPT出现以下错误信息："><a href="#运行PPT出现以下错误信息：" class="headerlink" title="运行PPT出现以下错误信息："></a>运行PPT出现以下错误信息：</h3><ul>
<li><blockquote>
<p>PowerPoint上次启动失败。安全模式可以帮助您解决问题，但是部分功能在此模式下可能不可用。是否要在安全模式中启动。</p>
</blockquote>
</li>
</ul>
<h3 id="解决过程："><a href="#解决过程：" class="headerlink" title="解决过程："></a>解决过程：</h3><ul>
<li><blockquote>
<p>找了很多方法都不行。</p>
</blockquote>
</li>
<li><blockquote>
<p>重装应该能解决，但是重装了很多次，也还是一样。</p>
</blockquote>
</li>
</ul>
<h3 id="最后解决方法："><a href="#最后解决方法：" class="headerlink" title="最后解决方法："></a>最后解决方法：</h3><ul>
<li><blockquote>
<p>最后，使用工具<a href="https://otp.landian.vip/zh-cn/download.html">Office Tool Puls</a>中工具箱的移除Office，彻底卸载Office后再重装就好了。<br><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Office/2.PNG"></p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>Office2019</tag>
      </tags>
  </entry>
  <entry>
    <title>远程控制软件“向日葵”更新后，不自动保存验证码了？</title>
    <url>/MyWiki/wiki/2021/07/10/others/2021/windows-sunlogin/</url>
    <content><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/xrk.png"></p>
<h3 id="远程控制软件“向日葵”更新后，不自动保存验证码了？"><a href="#远程控制软件“向日葵”更新后，不自动保存验证码了？" class="headerlink" title="远程控制软件“向日葵”更新后，不自动保存验证码了？"></a>远程控制软件“<a href="https://sunlogin.oray.com/download/">向日葵</a>”更新后，不自动保存验证码了？</h3><ul>
<li>自从更新了”向日葵 12 for Windows”，每次使用远程桌面后，验证码总是空的？</li>
<li>每次还需要再重新输入验证码，对于控制自己不同地点的电脑时，很不方便。</li>
</ul>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><ul>
<li>未解决……</li>
</ul>
]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>向日葵</tag>
        <tag>远程控制</tag>
      </tags>
  </entry>
  <entry>
    <title>U盘突然出现错误“文件或目录损坏且无法读取”？</title>
    <url>/MyWiki/wiki/2021/08/30/others/2021/windows-usb/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2016/03/19/23/08/memory-stick-1267620_960_720.jpg"></p>
<h3 id="U盘突然出现错误“文件或目录损坏且无法读取”？"><a href="#U盘突然出现错误“文件或目录损坏且无法读取”？" class="headerlink" title="U盘突然出现错误“文件或目录损坏且无法读取”？"></a>U盘突然出现错误“文件或目录损坏且无法读取”？</h3><h3 id="解决方法-：-如果里面没有重要的文件，直接格式化就好了"><a href="#解决方法-：-如果里面没有重要的文件，直接格式化就好了" class="headerlink" title="解决方法 ： 如果里面没有重要的文件，直接格式化就好了"></a>解决方法 ： 如果里面没有重要的文件，直接格式化就好了</h3>]]></content>
      <categories>
        <category>Windows</category>
      </categories>
      <tags>
        <tag>Windows</tag>
        <tag>U盘</tag>
        <tag>文件或目录损坏且无法读取</tag>
      </tags>
  </entry>
  <entry>
    <title>Python写APP</title>
    <url>/MyWiki/wiki/2022/06/16/codes/python/app/app_coding/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="PyWebIO"><a href="#PyWebIO" class="headerlink" title="PyWebIO"></a>PyWebIO</h2><ul>
<li><p><a href="https://github.com/pywebio/PyWebIO">https://github.com/pywebio/PyWebIO</a></p>
</li>
<li><p><a href="https://pywebio.readthedocs.io/zh_CN/latest/">https://pywebio.readthedocs.io/zh_CN/latest/</a></p>
</li>
<li><p>pyqtgraph绘图库</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pyqtgraph <span class="comment">#安装</span></span><br><span class="line">import pyqtgraph as pg <span class="comment"># 引入</span></span><br><span class="line">python -m pyqtgraph.examples <span class="comment">#例子</span></span><br></pre></td></tr></table></figure></li>
<li><p>多线程，<a href="https://www.pythonguis.com/tutorials/multithreading-pyqt-applications-qthreadpool/">https://www.pythonguis.com/tutorials/multithreading-pyqt-applications-qthreadpool/</a></p>
</li>
</ul>
<h2 id="Electron"><a href="#Electron" class="headerlink" title="Electron"></a>Electron</h2><ul>
<li><a href="https://www.electronjs.org/">https://www.electronjs.org/</a></li>
<li><a href="https://www.w3cschool.cn/electronmanual/">https://www.w3cschool.cn/electronmanual/</a></li>
<li><a href="https://www.w3cschool.cn/electronmanual/##">https://www.w3cschool.cn/electronmanual/##</a> PyWebIO</li>
</ul>
<h2 id="PyQt5-总结"><a href="#PyQt5-总结" class="headerlink" title="PyQt5 总结"></a>PyQt5 总结</h2><h3 id="PyQt5基础"><a href="#PyQt5基础" class="headerlink" title="PyQt5基础"></a>PyQt5基础</h3><ul>
<li><a href="https://zmister.com/archives/category/guidevelop/pyqt5_basic/">https://zmister.com/archives/category/guidevelop/pyqt5_basic/</a></li>
<li>Qt设计师 ui转py：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pyuic5 -x -o MDDP.py MDDP.ui</span><br></pre></td></tr></table></figure></li>
<li>打包：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install pyinstaller <span class="comment">#install</span></span><br><span class="line">pyinstaller -F -w -i ./imgs/fig.ico MDDP.py</span><br><span class="line"><span class="comment"># -F (-onefile)代表产生单个可执行文件；</span></span><br><span class="line"><span class="comment"># -D (--onedir)产生一个目录（包含多个文件）作为可执行程序</span></span><br><span class="line"><span class="comment"># -a (--ascii)不包含 Unicode 字符集支持</span></span><br><span class="line"><span class="comment"># -d (--debug)产生 debug 版本的可执行文件</span></span><br><span class="line"><span class="comment"># -w (-windowed，--noconsolc) 指定程序运行时不显示命令行窗口（仅对 Windows 有效）</span></span><br><span class="line"><span class="comment"># -c (--nowindowed，--console)指定使用命令行窗口运行程序（仅对 Windows 有效）</span></span><br><span class="line"><span class="comment"># -o (DIR，--out=DIR)指定 spec 文件的生成目录。如果没有指定，则默认使用当前目录来生成 spec 文件</span></span><br><span class="line"><span class="comment"># -p (DIR，--path=DIR)设置 Python 导入模块的路径（和设置 PYTHONPATH 环境变量的作用相似）。也可使用路径分隔符（Windows 使用分号，Linux 使用冒号）来分隔多个路径</span></span><br><span class="line"><span class="comment"># -n (NAME, --name=NAME)指定项目（产生的 spec）名字。如果省略该选项，那么第一个脚本的主文件名将作为 spec 的名字</span></span><br></pre></td></tr></table></figure>


<h3 id="打开文件-x2F-夹"><a href="#打开文件-x2F-夹" class="headerlink" title="打开文件&#x2F;夹"></a>打开文件&#x2F;夹</h3><ul>
<li>参考：<a href="https://blog.csdn.net/AI414010/article/details/107559281">https://blog.csdn.net/AI414010/article/details/107559281</a></li>
<li>例子：</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtWidgets</span><br><span class="line"><span class="keyword">from</span> PyQt5.QtWidgets <span class="keyword">import</span> QFileDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyWindow</span>(QtWidgets.QWidget):</span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="built_in">super</span>(MyWindow,self).__init__()</span><br><span class="line">    self.myButton = QtWidgets.QPushButton(self)</span><br><span class="line">    self.myButton.setObjectName(<span class="string">&quot;myButton&quot;</span>)</span><br><span class="line">    self.myButton.setText(<span class="string">&quot;Test&quot;</span>)</span><br><span class="line">    self.myButton.clicked.connect(self.msg)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">def</span> <span class="title function_">msg</span>(<span class="params">self</span>):</span><br><span class="line">    <span class="comment"># directory1 = QFileDialog.getExistingDirectory(self, #当窗口非继承QtWidgets.QDialog时，self需替换成 None</span></span><br><span class="line">    <span class="comment">#               &quot;选取文件夹&quot;,</span></span><br><span class="line">    <span class="comment">#               &quot;./&quot;)                 #起始路径</span></span><br><span class="line">    <span class="comment"># print(directory1)</span></span><br><span class="line">    fileName1, filetype = QFileDialog.getOpenFileName(self, <span class="comment">#当窗口非继承QtWidgets.QDialog时，self需替换成 None</span></span><br><span class="line">                  <span class="string">&quot;选取文件&quot;</span>,</span><br><span class="line">                  <span class="string">&quot;./&quot;</span>,</span><br><span class="line">                  <span class="string">&quot;All Files (*);;Text Files (*.txt)&quot;</span>)  <span class="comment">#设置文件扩展名过滤,注意用双分号间隔</span></span><br><span class="line">    <span class="built_in">print</span>(fileName1,filetype)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># files, ok1 = QFileDialog.getOpenFileNames(self, #当窗口非继承QtWidgets.QDialog时，self需替换成 None</span></span><br><span class="line">    <span class="comment">#               &quot;多文件选择&quot;,</span></span><br><span class="line">    <span class="comment">#               &quot;./&quot;,</span></span><br><span class="line">    <span class="comment">#               &quot;All Files (*);;Text Files (*.txt)&quot;)</span></span><br><span class="line">    <span class="comment"># print(files,ok1)</span></span><br><span class="line"></span><br><span class="line">    fileName2, ok2 = QFileDialog.getSaveFileName(self, <span class="comment">#当窗口非继承QtWidgets.QDialog时，self需替换成 None</span></span><br><span class="line">                  <span class="string">&quot;文件保存&quot;</span>,</span><br><span class="line">                  <span class="string">&quot;./&quot;</span>,</span><br><span class="line">                  <span class="string">&quot;All Files (*);;Text Files (*.txt)&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">  <span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">  app=QtWidgets.QApplication(sys.argv)</span><br><span class="line">  myshow=MyWindow()</span><br><span class="line">  myshow.show()</span><br><span class="line">  sys.exit(app.exec_())</span><br></pre></td></tr></table></figure>

<h3 id="设置QlineEdit不可编辑"><a href="#设置QlineEdit不可编辑" class="headerlink" title="设置QlineEdit不可编辑"></a>设置QlineEdit不可编辑</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">self.density_ui.outputFolder.setEnabled(<span class="literal">False</span>)</span><br></pre></td></tr></table></figure>


]]></content>
      <categories>
        <category>程序学习</category>
        <category>Python</category>
        <category>APP</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Tutorials</tag>
      </tags>
  </entry>
  <entry>
    <title>Origin突然打不开？任务栏显示“已挂起”</title>
    <url>/MyWiki/wiki/2021/08/01/others/2021/windows-origin-error/</url>
    <content><![CDATA[<p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/OriginLab/1.png"></p>
<h3 id="科研绘图软件“Origin”打不开，任务栏显示已挂起，就自动关闭了？"><a href="#科研绘图软件“Origin”打不开，任务栏显示已挂起，就自动关闭了？" class="headerlink" title="科研绘图软件“Origin”打不开，任务栏显示已挂起，就自动关闭了？"></a>科研绘图软件“<a href="https://www.originlab.com/">Origin</a>”打不开，任务栏显示已挂起，就自动关闭了？</h3><blockquote>
<ul>
<li>重装了很多次，还是一样。</li>
</ul>
</blockquote>
<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><blockquote>
<ul>
<li>想想把上次能打开时是什么时候，这之后是否安装过字体；</li>
<li>把这个字体删除就可以了。</li>
<li>字体文件夹C:\Windows\Fonts</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>科研绘图</category>
      </categories>
      <tags>
        <tag>Origin</tag>
      </tags>
  </entry>
  <entry>
    <title>LBM/PALABOS：PALABOS代码风格与开发扩展方法</title>
    <url>/MyWiki/wiki/2024/04/28/softwares/LBM/PALABOS/LBM_PALABOS-2/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="代码风格"><a href="#代码风格" class="headerlink" title="代码风格"></a>代码风格</h2><h3 id="基本数据类型"><a href="#基本数据类型" class="headerlink" title="基本数据类型"></a>基本数据类型</h3><ul>
<li><p>采用<code>plint</code>和<code>pluint</code>代替<code>int</code>和<code>unsigned int</code> </p>
<blockquote>
<p>为了64位的兼容性；</p>
</blockquote>
</li>
<li><p>采用<code>pcout</code>代替<code>cout</code>；采用<code>pcerr</code>代替<code>cerr</code>；采用<code>pclog</code>代替<code>clog</code>；采用<code>ofstream</code>代替<code>ofstream</code>；</p>
<blockquote>
<p>In an MPI-parallel program each thread writes to the terminal through cout. To avoid this and observe a consistent behavior between sequential and parallel programs.</p>
</blockquote>
</li>
</ul>
<h3 id="内存"><a href="#内存" class="headerlink" title="内存"></a>内存</h3><ul>
<li><p>所有的Palabos类(或者至少那些使用继承的类)都有一个方法clone:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">A* object1 = <span class="keyword">new</span> A;</span><br><span class="line">A* object2 = object1-&gt;<span class="built_in">clone</span>();</span><br></pre></td></tr></table></figure>
</li>
<li><p>在编写继承了Palabos类型的类时，需要实现这个方法。幸运的是，方法克隆总是具有完全相同的形状:</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="function">A* <span class="title">A::clone</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">A</span>(*<span class="keyword">this</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h3><ul>
<li><p>大数据集采用<code>Palabos</code>的<code>BlockLattice</code>类型</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Instantiate a nx*ny*nz D3Q19 lattice with double-precision</span></span><br><span class="line"><span class="comment">// floating point numbers.</span></span><br><span class="line"><span class="function">MultiBlockLattice3D&lt;<span class="type">double</span>,D3Q19descriptor&gt; <span class="title">lattice</span><span class="params">(nx,ny,nz)</span></span>;</span><br><span class="line"><span class="comment">// Instantiate a nx*ny*nz matrix of double-precision floating</span></span><br><span class="line"><span class="comment">// point scalars.</span></span><br><span class="line"><span class="function">MultiScalarField3D&lt;<span class="type">double</span>&gt; <span class="title">field</span><span class="params">(nx,ny,nz)</span></span>;</span><br></pre></td></tr></table></figure>


</li>
<li><p>小的、非并行化的数组可以使用C++内置的<code>vector</code>类型</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line">plint numspecies = <span class="number">5</span>;</span><br><span class="line"><span class="comment">// Instantiate a vector of double-precision floating point</span></span><br><span class="line"><span class="comment">// numbers with 5 elements.</span></span><br><span class="line"><span class="function">vector&lt;<span class="type">double</span>&gt; <span class="title">viscosities</span><span class="params">(numSpecies)</span></span>;</span><br><span class="line">viscosities[<span class="number">3</span>] = <span class="number">0.63</span>;</span><br></pre></td></tr></table></figure>


</li>
<li><p>对于非常小的，非并行的和固定大小的数组，<code>Palabos</code>定义了<code>Array</code>类型</p>
<figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Instantiate a fixed-size array of type double and with</span></span><br><span class="line"><span class="comment">// 3 elements. The values can be initialized directly in</span></span><br><span class="line"><span class="comment">// the constructor for arrays of size 2 and 3.</span></span><br><span class="line"><span class="function">Array&lt;<span class="type">double</span>,3&gt; <span class="title">velocity</span><span class="params">(<span class="number">0.</span>, <span class="number">0.</span>, <span class="number">0.5</span>)</span></span>;</span><br><span class="line">velocity[<span class="number">0</span>] = <span class="number">0.1</span>;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="并行方法"><a href="#并行方法" class="headerlink" title="并行方法"></a>并行方法</h3><ul>
<li>Palabos采用单程序多数据（SPMD）并行计算，指的是在多个处理器或线程上同时运行相同的程序，但每个处理器或线程处理不同的数据；</li>
<li>这意味着程序在串行或并行执行时看起来是一样的；</li>
</ul>
<h2 id="使用Palabos进行非侵入式程序开发"><a href="#使用Palabos进行非侵入式程序开发" class="headerlink" title="使用Palabos进行非侵入式程序开发"></a>使用Palabos进行非侵入式程序开发</h2><ul>
<li><p>不建议试图直接修改源码原因：</p>
<ul>
<li><p>Palabos源码多于5万多行耗时耗力；</p>
</li>
<li><p>修改源码后的Palabos可能无法与后续的新版本兼容；</p>
</li>
</ul>
</li>
<li><p>基于Palabos官方版本交换两个代码文件相对简单，其中一个为您自己的LB模型实现了一个新的动态类，另一个是一个示例应用程序。</p>
</li>
</ul>
<h3 id="不修改源码的扩展方法"><a href="#不修改源码的扩展方法" class="headerlink" title="不修改源码的扩展方法"></a>不修改源码的扩展方法</h3><ul>
<li>假设您想要编写一个类似于BGK的LB模型，但差异很小；</li>
<li>首先要做的是检查“实现的流体模型”部分，并确保它尚未在Palabos中实现；<ul>
<li>如果存在的话，你可以从文件<code>src/basicDynamics/isothermalDynamics.h and .hh</code>中可以发现<code>BGKdynamics</code>继承自<code>IsoThermalBulkDynamics</code>，实现了<code>clone()</code>、<code>collision()</code>和<code>computeEquilibrium()</code>三个方法。</li>
<li>不能直接修改<code>BGKdynamics</code>中的<code>collision()</code>,因为(在许多其他原因中)您将失去在应用程序中同时使用原始BGK动态和新模型的能力。</li>
</ul>
</li>
<li>你需要创建两个新文件<code>myNewModel.h</code>和<code>myNewModel.hh</code>，包含一个类<code>MyNewDynamics</code>，它继承自<code>IsoThermalBulkDynamics</code>，并定义了与<code>BGKdynamics</code>相同的三个方法，适合您的情况。<ul>
<li>这个实现很简洁:它不会与更新的Palabos版本的更新冲突，并且您可以通过交换两个文件与同事共享它;</li>
<li>新文件可以位于任何本地目录中，独立于Palabos目录树。只要确保在Makefile的关键字includePaths下添加这个目录，这样就可以在编译过程中找到它。</li>
</ul>
</li>
</ul>
<h3 id="Palabos的哪些部分是可扩展的"><a href="#Palabos的哪些部分是可扩展的" class="headerlink" title="Palabos的哪些部分是可扩展的?"></a>Palabos的哪些部分是可扩展的?</h3><ul>
<li><p>粗略地说，有三种扩展Palabos的方法;</p>
<ul>
<li>写一个新的动力学类;</li>
<li>写一个新的数据处理器;</li>
<li>写一个新的晶格描述符。</li>
</ul>
<blockquote>
<p>动力学类用于定义新的局部碰撞步骤，而新的晶格描述符意味着新的晶格拓扑(离散速度，权重等)，而数据处理器用于其他一切。</p>
</blockquote>
</li>
<li><p>好消息是，Palabos的可扩展部分提供了很大的灵活性。以单组分多相非混相多组分流体二维Shan&#x2F;Chen模型实现和三维Shan&#x2F;Chen模型实现为例。这只是通过编写一个新的晶格描述符和一个新的数据处理器来实现的，而不需要修改Palabos的任何结构部分。而且，生成的源代码的大小只占整个项目的1%。</p>
</li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>PALABOS</category>
      </categories>
      <tags>
        <tag>PALABOS</tag>
        <tag>LBM</tag>
      </tags>
  </entry>
  <entry>
    <title>LBM/PALABOS：shanChenMultiPhase例子</title>
    <url>/MyWiki/wiki/2024/05/28/softwares/LBM/PALABOS/LBM_PALABOS-3/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="ShanChen模型"><a href="#ShanChen模型" class="headerlink" title="ShanChen模型"></a>ShanChen模型</h2><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406161513199.png" alt="image-20240616151314055"></p>
<ul>
<li>Shan-Chen模型是一种常用的多相流模型，它可以很好地描述流体中的相变现象和界面运动。</li>
<li>Shan&#x2F;Chen模型在Palabos中实现了2D和3D，广泛用于非混相多组分流体和单组分多相流体的。</li>
<li>可以有效地模拟多相流体系统中的各种复杂现象，比如气液两相流、固液两相流等</li>
<li>Shan-Chen模型在空气动力学仿真、燃料电池、宇宙暗能量等领域得到了广泛应用;</li>
</ul>
<h3 id="算法的步骤和原理"><a href="#算法的步骤和原理" class="headerlink" title="算法的步骤和原理"></a>算法的步骤和原理</h3><ul>
<li><p>对流体系统进行离散化处理，将其分解成一个个小的格子;</p>
</li>
<li><p>利用格子玻尔兹曼方法来模拟流体在格子上的运动和相互作用;</p>
</li>
<li><p>在Shan-Chen模型中，需要引入一个<strong>色散力场</strong>来描述流体分子之间的相互作用，这样可以很好地模拟出流体中的相变现象和界面运动；</p>
</li>
<li><p>利用格子玻尔兹曼方法中的碰撞步骤来模拟流体分子之间的碰撞和能量转移，<strong>在碰撞步骤中，</strong>根据色散力场的作用来更新流体分子的速度和密度分布；</p>
</li>
<li><p>最后，利用格子玻尔兹曼方法中的流动步骤来模拟流体在格子中的流动和扩散，<strong>在流动步骤中，</strong>根据色散力场的作用来更新流体分子的速度和密度分布，从而模拟出流体在格子中的流动和扩散行为。</p>
</li>
<li><p>总的来说，基于格子玻尔兹曼方法模拟Shan-Chen模型的两相流算法步骤包括离散化处理、碰撞步骤和流动步骤。</p>
</li>
</ul>
<h2 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h2><h3 id="代码位置"><a href="#代码位置" class="headerlink" title="代码位置"></a>代码位置</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">palabos/examples/codesByTopic/shanChenMultiPhase</span><br><span class="line">├── build</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">├── segregation2D.cpp</span><br><span class="line">├── <span class="built_in">test</span></span><br><span class="line">│   └── ref.dat</span><br><span class="line">└── tmp</span><br></pre></td></tr></table></figure>

<h3 id="具体代码"><a href="#具体代码" class="headerlink" title="具体代码"></a>具体代码</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.hh&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> plb;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将 double 类型定义为一个新的类型别名 T。可以使用 T 代替 double，从而提高代码的可读性和可维护性。</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> T; </span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DESCRIPTOR descriptors::ShanChenD2Q9Descriptor <span class="comment">//定义二维9速度ShanChen描述符</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 定义一个模板类，该模板有两个参数，T 是一个类型参数。Descriptor 是一个模板类，需要一个类型参数 U。</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T, <span class="keyword">template</span> &lt;<span class="keyword">typename</span> U&gt; <span class="keyword">class</span> <span class="title class_">Descriptor</span>&gt; </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">RandomInitializer</span> : <span class="keyword">public</span> BoxProcessingFunctional2D_L&lt;T, Descriptor&gt; &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">RandomInitializer</span>(T rho0_, T maxRho_, Box2D <span class="type">const</span> &amp;boundingBox_, <span class="type">uint32_t</span> <span class="type">const</span> *seed_) : <span class="comment">// 初始化函数</span></span><br><span class="line">        <span class="built_in">rho0</span>(rho0_), <span class="built_in">maxRho</span>(maxRho_), <span class="built_in">nY</span>(boundingBox_.<span class="built_in">getNy</span>()), <span class="built_in">seed</span>(seed_) &#123;&#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">process</span><span class="params">(Box2D domain, BlockLattice2D&lt;T, Descriptor&gt; &amp;lattice)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        Dot2D location = lattice.<span class="built_in">getLocation</span>();</span><br><span class="line">        <span class="function">sitmo::prng_engine <span class="title">eng</span><span class="params">(*seed)</span></span>;</span><br><span class="line">        plint rng_index = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (plint iX = domain.x0; iX &lt;= domain.x1; ++iX) &#123;</span><br><span class="line">            plint globalX = nY * (iX + location.x);</span><br><span class="line">            <span class="keyword">for</span> (plint iY = domain.y0; iY &lt;= domain.y1; ++iY) &#123;</span><br><span class="line">                plint globalY = iY + location.y + globalX;</span><br><span class="line">                <span class="built_in">PLB_ASSERT</span>(globalY &gt;= rng_index);</span><br><span class="line">                <span class="keyword">if</span> (globalY &gt; rng_index) &#123;</span><br><span class="line">                    eng.<span class="built_in">discard</span>(globalY - rng_index);</span><br><span class="line">                    rng_index = globalY;</span><br><span class="line">                &#125;</span><br><span class="line">                T randNumber = (T)<span class="built_in">eng</span>() / (T)sitmo::prng_engine::<span class="built_in">max</span>();</span><br><span class="line">                ++rng_index;</span><br><span class="line"></span><br><span class="line">                T rho = rho0 + randNumber * maxRho;</span><br><span class="line">                <span class="function">Array&lt;T, 2&gt; <span class="title">zeroVelocity</span><span class="params">(<span class="number">0.</span>, <span class="number">0.</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">                <span class="built_in">iniCellAtEquilibrium</span>(lattice.<span class="built_in">get</span>(iX, iY), rho, zeroVelocity); <span class="comment">// 随机二维密度</span></span><br><span class="line"></span><br><span class="line">                lattice.<span class="built_in">get</span>(iX, iY).<span class="built_in">setExternalField</span>(</span><br><span class="line">                    Descriptor&lt;T&gt;::ExternalField::densityBeginsAt,</span><br><span class="line">                    Descriptor&lt;T&gt;::ExternalField::sizeOfDensity, &amp;rho);</span><br><span class="line">                lattice.<span class="built_in">get</span>(iX, iY).<span class="built_in">setExternalField</span>(</span><br><span class="line">                    Descriptor&lt;T&gt;::ExternalField::momentumBeginsAt,</span><br><span class="line">                    Descriptor&lt;T&gt;::ExternalField::sizeOfMomentum, &amp;zeroVelocity[<span class="number">0</span>]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> RandomInitializer&lt;T, Descriptor&gt; *<span class="title">clone</span><span class="params">()</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">RandomInitializer</span>&lt;T, Descriptor&gt;(*<span class="keyword">this</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> <span class="type">void</span> <span class="title">getTypeOfModification</span><span class="params">(std::vector&lt;modif::ModifT&gt; &amp;modified)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        modified[<span class="number">0</span>] = modif::staticVariables;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    T rho0, maxRho;</span><br><span class="line">    plint nY;</span><br><span class="line">    <span class="type">uint32_t</span> <span class="type">const</span> *seed;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span> <span class="comment">// 主程序</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">plbInit</span>(&amp;argc, &amp;argv); <span class="comment">// 初始化函数，用于设置和配置 Palabos 环境</span></span><br><span class="line">    global::<span class="built_in">directories</span>().<span class="built_in">setOutputDir</span>(<span class="string">&quot;./tmp/&quot;</span>); <span class="comment">// 设置输出文件夹</span></span><br><span class="line"></span><br><span class="line">    <span class="type">uint32_t</span> seed = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// For the choice of the parameters G, rho0, and psi0, we refer to the book</span></span><br><span class="line">    <span class="comment">//   Michael C. Sukop and Daniel T. Thorne (2006),</span></span><br><span class="line">    <span class="comment">//   Lattice Boltzmann Modeling; an Introduction for Geoscientists and Engineers.</span></span><br><span class="line">    <span class="comment">//   Springer-Verlag Berlin/Heidelberg.</span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> T omega = <span class="number">1.0</span>; <span class="comment">// 松弛参数？</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> nx = <span class="number">400</span>; <span class="comment">// x方向格子数目</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> ny = <span class="number">400</span>; <span class="comment">// y方向格子数目</span></span><br><span class="line">    <span class="type">const</span> T G = <span class="number">-120</span>; <span class="comment">// G为相互作用强度</span></span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> PLB_REGRESSION</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> maxIter = <span class="number">100001</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> saveIter = <span class="number">100</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">else</span></span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> maxIter = <span class="number">1001</span>;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> statIter = <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> T rho0 = <span class="number">200.0</span>; <span class="comment">// 初始密度</span></span><br><span class="line">    <span class="type">const</span> T deltaRho = <span class="number">1.0</span>; <span class="comment">// 用在了随机初始化密度上的参数</span></span><br><span class="line">    <span class="type">const</span> T psi0 = <span class="number">4.0</span>; <span class="comment">// 粒子间势初始值</span></span><br><span class="line"></span><br><span class="line">    <span class="function">MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; <span class="title">lattice</span><span class="params">( <span class="comment">// 拥有外力（色散力？）的BGKdynamics 二维晶格</span></span></span></span><br><span class="line"><span class="params"><span class="function">        nx, ny, <span class="keyword">new</span> ExternalMomentBGKdynamics&lt;T, DESCRIPTOR&gt;(omega))</span></span>; <span class="comment">// 为了避免计算变量两次，确保在碰撞过程中从外部标量中读取宏观变量</span></span><br><span class="line"></span><br><span class="line">    lattice.<span class="built_in">periodicity</span>().<span class="built_in">toggleAll</span>(<span class="literal">true</span>); <span class="comment">// 所有方向采用周期性边界</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 使用随机初始条件，激活相分离。</span></span><br><span class="line">    <span class="built_in">applyProcessingFunctional</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">RandomInitializer</span>&lt;T, DESCRIPTOR&gt;(rho0, deltaRho, lattice.<span class="built_in">getBoundingBox</span>(), &amp;seed),</span><br><span class="line">        lattice.<span class="built_in">getBoundingBox</span>(), lattice);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 添加数据处理器，实现Shan/Chen相互作用势。</span></span><br><span class="line">    plint processorLevel = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">integrateProcessingFunctional</span>(</span><br><span class="line">        <span class="keyword">new</span> <span class="built_in">ShanChenSingleComponentProcessor2D</span>&lt;T, DESCRIPTOR&gt;( <span class="comment">// 二维单相ShanChen</span></span><br><span class="line">            G, <span class="keyword">new</span> interparticlePotential::<span class="built_in">PsiShanChen94</span>&lt;T&gt;(psi0, rho0)), <span class="comment">// 采用PsiShanChen94(Psi0,rho0)粒子间势</span></span><br><span class="line">        lattice.<span class="built_in">getBoundingBox</span>(), lattice, processorLevel);</span><br><span class="line"></span><br><span class="line">    lattice.<span class="built_in">initialize</span>(); <span class="comment">// 初始化格子</span></span><br><span class="line"></span><br><span class="line">    pcout &lt;&lt; <span class="string">&quot;Starting simulation&quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> iT = <span class="number">0</span>; iT &lt; maxIter; ++iT) &#123;</span><br><span class="line">        <span class="keyword">if</span> (iT % statIter == <span class="number">0</span>) &#123; <span class="comment">// 输出到屏幕</span></span><br><span class="line">            std::unique_ptr&lt;MultiScalarField2D&lt;T&gt; &gt; <span class="built_in">rho</span>(<span class="built_in">computeDensity</span>(lattice)); <span class="comment">// 计算密度场</span></span><br><span class="line">            pcout &lt;&lt; iT &lt;&lt; <span class="string">&quot;: Average rho fluid one = &quot;</span> &lt;&lt; <span class="built_in">computeAverage</span>(*rho) &lt;&lt; endl; <span class="comment">// 平均密度</span></span><br><span class="line">            pcout &lt;&lt; <span class="string">&quot;Minimum density: &quot;</span> &lt;&lt; <span class="built_in">computeMin</span>(*rho) &lt;&lt; endl; <span class="comment">// 最小密度</span></span><br><span class="line">            pcout &lt;&lt; <span class="string">&quot;Maximum density: &quot;</span> &lt;&lt; <span class="built_in">computeMax</span>(*rho) &lt;&lt; endl; <span class="comment">// 最大密度</span></span><br><span class="line">        &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">ifndef</span> PLB_REGRESSION</span></span><br><span class="line">        <span class="keyword">if</span> (iT % saveIter == <span class="number">0</span>) &#123; <span class="comment">// 保存图片</span></span><br><span class="line">            <span class="built_in">ImageWriter</span>&lt;T&gt;(<span class="string">&quot;leeloo&quot;</span>).<span class="built_in">writeScaledGif</span>(</span><br><span class="line">                <span class="built_in">createFileName</span>(<span class="string">&quot;rho&quot;</span>, iT, <span class="number">6</span>), *<span class="built_in">computeDensity</span>(lattice));</span><br><span class="line">        &#125;</span><br><span class="line"><span class="meta">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">        lattice.<span class="built_in">collideAndStream</span>(); <span class="comment">// 每个算例里都会有这一行代码, 碰撞和流动</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="模拟与结果"><a href="#模拟与结果" class="headerlink" title="模拟与结果"></a>模拟与结果</h2><h3 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">mpirun -np 4 ./segregation2D</span><br></pre></td></tr></table></figure>

<h3 id="密度结果"><a href="#密度结果" class="headerlink" title="密度结果"></a>密度结果</h3><table>
<thead>
<tr>
<th>rho000000</th>
<th>rho001000</th>
<th>rho010000</th>
<th>rho050000</th>
<th>rho100000</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406161557129.gif" alt="rho000000"></td>
<td><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406161557494.gif" alt="rho001000"></td>
<td><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406161557081.gif" alt="rho010000"></td>
<td><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406161557756.gif" alt="rho050000"></td>
<td><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202406161557530.gif" alt="rho100000"></td>
</tr>
</tbody></table>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/qq_59747472/article/details/134302514">[1]【热力学】基于格子玻尔兹曼方法模拟Shan-Chen模型的两相流附matlab代码</a></p>
<p><a href="https://blog.csdn.net/qq_28632981/article/details/106661589">[2] 使用Palabos的自由表面流模型仿复杂多孔介质中的液滴渗透</a></p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>PALABOS</category>
      </categories>
      <tags>
        <tag>PALABOS</tag>
        <tag>LBM</tag>
      </tags>
  </entry>
  <entry>
    <title>LBM/PALABOS：userInput</title>
    <url>/MyWiki/wiki/2024/05/29/softwares/LBM/PALABOS/LBM_PALABOS-4/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="userInput主要读取参数"><a href="#userInput主要读取参数" class="headerlink" title="userInput主要读取参数"></a>userInput主要读取参数</h2><h3 id="代码位置"><a href="#代码位置" class="headerlink" title="代码位置"></a>代码位置</h3><figure class="highlight crmsh"><table><tr><td class="code"><pre><span class="line">palabos/examples/codesByTopic/userInput</span><br><span class="line">├── build</span><br><span class="line">├── CMakeLists.txt</span><br><span class="line">├── demo.<span class="keyword">xml</span></span><br><span class="line"><span class="title">├── readParameters</span>.cpp</span><br><span class="line">└── tmp</span><br></pre></td></tr></table></figure>

<h3 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h3><figure class="highlight c++"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.hh&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> plb;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> T;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">plbInit</span>(&amp;argc, &amp;argv);</span><br><span class="line">    global::<span class="built_in">directories</span>().<span class="built_in">setOutputDir</span>(<span class="string">&quot;./tmp/&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// 1. 从命令行读取参数。</span></span><br><span class="line">        <span class="type">int</span> value = <span class="number">27</span>;</span><br><span class="line">        global::<span class="built_in">argv</span>(<span class="number">1</span>).<span class="built_in">readNoThrow</span>(value);</span><br><span class="line">        pcout &lt;&lt; value &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2. 从XML文件中读取参数。</span></span><br><span class="line">        <span class="function">string <span class="title">fName</span><span class="params">(<span class="string">&quot;demo.xml&quot;</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">        <span class="function">XMLreader <span class="title">document</span><span class="params">(fName)</span></span>; <span class="comment">// 读取xml文件</span></span><br><span class="line"></span><br><span class="line">        string text;</span><br><span class="line">        document[<span class="string">&quot;MyApp&quot;</span>][<span class="string">&quot;Messages&quot;</span>][<span class="string">&quot;Welcome&quot;</span>].<span class="built_in">read</span>(text);</span><br><span class="line">        pcout &lt;&lt; <span class="string">&quot;TEXT:&quot;</span> &lt;&lt; text &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> number;</span><br><span class="line">        <span class="type">bool</span> boolVal;</span><br><span class="line">        T someFloat;</span><br><span class="line">        std::vector&lt;<span class="type">int</span>&gt; numbers;</span><br><span class="line"></span><br><span class="line">        document[<span class="string">&quot;MyApp&quot;</span>][<span class="string">&quot;Value&quot;</span>][<span class="string">&quot;OneNumber&quot;</span>].<span class="built_in">read</span>(number); <span class="comment">// 读取整数</span></span><br><span class="line">        pcout &lt;&lt; <span class="string">&quot;ONE NUMBER:&quot;</span> &lt;&lt; number &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        document[<span class="string">&quot;MyApp&quot;</span>][<span class="string">&quot;OneBool&quot;</span>].<span class="built_in">read</span>(boolVal); <span class="comment">// 读取布尔值</span></span><br><span class="line">        pcout &lt;&lt; <span class="string">&quot;ONE BOOL:&quot;</span> &lt;&lt; boolVal &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        document[<span class="string">&quot;MyApp&quot;</span>][<span class="string">&quot;OneFloat&quot;</span>].<span class="built_in">read</span>(someFloat); <span class="comment">// 读取双精度浮点数</span></span><br><span class="line">        pcout &lt;&lt; <span class="string">&quot;ONE FLOAT:&quot;</span> &lt;&lt; someFloat &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        document[<span class="string">&quot;MyApp&quot;</span>][<span class="string">&quot;TwoNumbers&quot;</span>].<span class="built_in">read</span>(numbers); <span class="comment">// 读取矢量</span></span><br><span class="line">        pcout &lt;&lt; <span class="string">&quot;TWO NUMBERS:&quot;</span> &lt;&lt; numbers[<span class="number">0</span>] &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; numbers[<span class="number">1</span>] &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">        <span class="type">double</span> nestedVal;</span><br><span class="line">        XMLreaderProxy nested = document[<span class="string">&quot;MyApp&quot;</span>][<span class="string">&quot;Nested&quot;</span>]; <span class="comment">// 读取内嵌数据：id和变量值</span></span><br><span class="line">        <span class="keyword">for</span> (; nested.<span class="built_in">isValid</span>(); nested = nested.<span class="built_in">iterId</span>()) &#123;</span><br><span class="line">            nested[<span class="string">&quot;NestedData&quot;</span>].<span class="built_in">read</span>(nestedVal);</span><br><span class="line">            pcout &lt;&lt; <span class="string">&quot;Nested value at id &quot;</span> &lt;&lt; nested.<span class="built_in">getId</span>() &lt;&lt; <span class="string">&quot;: &quot;</span> &lt;&lt; nestedVal &lt;&lt; endl;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3. 将数据写入XML文件</span></span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        XMLwriter demo2; <span class="comment">// 实例化一个demo2对象</span></span><br><span class="line">        XMLwriter &amp;myApp = demo2[<span class="string">&quot;MyApp&quot;</span>]; <span class="comment">// 应该类似字典或者dataframe之类的</span></span><br><span class="line"></span><br><span class="line">        XMLwriter &amp;messages = myApp[<span class="string">&quot;Messages&quot;</span>]; <span class="comment">// 二级变量</span></span><br><span class="line">        messages.<span class="built_in">setString</span>(<span class="string">&quot;Text of message&quot;</span>); <span class="comment">// 设置字符串值，默认id为0</span></span><br><span class="line">        messages[<span class="string">&quot;Welcome&quot;</span>].<span class="built_in">setString</span>(<span class="string">&quot;Welcome to MyApp&quot;</span>);</span><br><span class="line">        messages[<span class="string">&quot;FareWell&quot;</span>].<span class="built_in">setString</span>(<span class="string">&quot;Good bye&quot;</span>);</span><br><span class="line">        XMLwriter &amp;messages2 = myApp[<span class="string">&quot;Messages&quot;</span>][<span class="number">2</span>]; <span class="comment">// 指定id为2</span></span><br><span class="line">        messages2[<span class="string">&quot;Welcome&quot;</span>].<span class="built_in">setString</span>(<span class="string">&quot;Welcome again&quot;</span>); <span class="comment">// 设置id 2字符串值</span></span><br><span class="line"></span><br><span class="line">        vector&lt;<span class="type">int</span>&gt; twoNumbers;</span><br><span class="line">        twoNumbers.<span class="built_in">push_back</span>(<span class="number">12</span>);</span><br><span class="line">        twoNumbers.<span class="built_in">push_back</span>(<span class="number">24</span>);</span><br><span class="line">        myApp[<span class="string">&quot;Windows&quot;</span>][<span class="string">&quot;Window&quot;</span>];</span><br><span class="line">        myApp[<span class="string">&quot;OneNumber&quot;</span>][<span class="number">3</span>].<span class="built_in">set</span>(<span class="number">12</span>); <span class="comment">// 设置id=3的值</span></span><br><span class="line">        myApp[<span class="string">&quot;OneNumber&quot;</span>][<span class="number">2</span>].<span class="built_in">set</span>(<span class="number">2</span>); <span class="comment">// 设置id=2的值</span></span><br><span class="line">        myApp[<span class="string">&quot;OneNumber&quot;</span>][<span class="number">20</span>].<span class="built_in">set</span>(<span class="number">20</span>); <span class="comment">// 设置id=20的值</span></span><br><span class="line">        myApp[<span class="string">&quot;TwoNumbers&quot;</span>].<span class="built_in">set</span>(twoNumbers); <span class="comment">// 设置vector值</span></span><br><span class="line">        myApp[<span class="string">&quot;OneFloat&quot;</span>].<span class="built_in">set</span>(<span class="number">12.34</span>); <span class="comment">// 设置浮点数值</span></span><br><span class="line"></span><br><span class="line">        demo2.<span class="built_in">print</span>(<span class="string">&quot;demo2.xml&quot;</span>); <span class="comment">// 写入文件</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">	<span class="comment">// 捕获和处理PALABOS输入输入出异常，并输出异常信息</span></span><br><span class="line">    <span class="built_in">catch</span> (PlbIOException &amp;exception)</span><br><span class="line">    &#123;</span><br><span class="line">        pcout &lt;&lt; exception.<span class="built_in">what</span>() &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="demo-xml文件"><a href="#demo-xml文件" class="headerlink" title="demo.xml文件"></a>demo.xml文件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="line">&lt;MyApp&gt;</span><br><span class="line">    &lt;!-- Settings for MyApp --&gt;</span><br><span class="line">    &lt;Messages&gt;</span><br><span class="line">        Text of the message</span><br><span class="line">        &lt;Welcome&gt;Welcome to MyApp&lt;/Welcome&gt;</span><br><span class="line">        &lt;Farewell id=&quot;2&quot;&gt;Thank you for using MyApp&lt;/Farewell&gt;</span><br><span class="line">    &lt;/Messages&gt;</span><br><span class="line">    &lt;Windows&gt;</span><br><span class="line">        &lt;Window name=&quot;MainFrame&quot; x=&quot;5&quot; y=&quot;15&quot; w=&quot;400&quot; h=&quot;250&quot; /&gt;</span><br><span class="line">    &lt;/Windows&gt;</span><br><span class="line">    &lt;Connection ip=&quot;192.168.0.1&quot; timeout=&quot;123.456000&quot; /&gt;</span><br><span class="line">    &lt;Value&gt;</span><br><span class="line">        &lt;OneNumber&gt; 12 &lt;/OneNumber&gt;</span><br><span class="line">    &lt;/Value&gt;</span><br><span class="line">    &lt;Nested id=&quot;4&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            2</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TwoNumbers&gt; 12 24 &lt;/TwoNumbers&gt;</span><br><span class="line">    &lt;OneBool id=&quot;3&quot;&gt; true &lt;/OneBool&gt;</span><br><span class="line"></span><br><span class="line">    &lt;OneFloat&gt; 12.34 &lt;/OneFloat&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Nested id=&quot;2&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            3.142</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line">    &lt;Nested id=&quot;-1&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            -1</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line">    &lt;Nested id=&quot;300&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            300</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line">&lt;/MyApp&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="demo2-xml文件"><a href="#demo2-xml文件" class="headerlink" title="demo2.xml文件"></a>demo2.xml文件</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; ?&gt;</span><br><span class="line">&lt;MyApp&gt;</span><br><span class="line">    &lt;!-- Settings for MyApp --&gt;</span><br><span class="line">    &lt;Messages&gt;</span><br><span class="line">        Text of the message</span><br><span class="line">        &lt;Welcome&gt;Welcome to MyApp&lt;/Welcome&gt;</span><br><span class="line">        &lt;Farewell id=&quot;2&quot;&gt;Thank you for using MyApp&lt;/Farewell&gt;</span><br><span class="line">    &lt;/Messages&gt;</span><br><span class="line">    &lt;Windows&gt;</span><br><span class="line">        &lt;Window name=&quot;MainFrame&quot; x=&quot;5&quot; y=&quot;15&quot; w=&quot;400&quot; h=&quot;250&quot; /&gt;</span><br><span class="line">    &lt;/Windows&gt;</span><br><span class="line">    &lt;Connection ip=&quot;192.168.0.1&quot; timeout=&quot;123.456000&quot; /&gt;</span><br><span class="line">    &lt;Value&gt;</span><br><span class="line">        &lt;OneNumber&gt; 12 &lt;/OneNumber&gt;</span><br><span class="line">    &lt;/Value&gt;</span><br><span class="line">    &lt;Nested id=&quot;4&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            2</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TwoNumbers&gt; 12 24 &lt;/TwoNumbers&gt;</span><br><span class="line">    &lt;OneBool id=&quot;3&quot;&gt; true &lt;/OneBool&gt;</span><br><span class="line"></span><br><span class="line">    &lt;OneFloat&gt; 12.34 &lt;/OneFloat&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Nested id=&quot;2&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            3.142</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line">    &lt;Nested id=&quot;-1&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            -1</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line">    &lt;Nested id=&quot;300&quot;&gt;</span><br><span class="line">        &lt;NestedData id=&quot;-1&quot;&gt;</span><br><span class="line">            300</span><br><span class="line">        &lt;/NestedData&gt;</span><br><span class="line">    &lt;/Nested&gt;</span><br><span class="line">&lt;/MyApp&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="执行"><a href="#执行" class="headerlink" title="执行"></a>执行</h2><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">cd</span> build &amp;&amp; cmake .. &amp;&amp; make &amp;&amp; cd ..</span><br><span class="line"><span class="attribute">mpirun</span> -np <span class="number">8</span> ./readParameters <span class="number">20</span></span><br><span class="line"><span class="comment"># ----------------------------------- output -----------------------------------</span></span><br><span class="line"><span class="attribute">20</span></span><br><span class="line"><span class="attribute">TEXT</span>:Welcome to MyApp</span><br><span class="line"><span class="attribute">ONE</span> NUMBER:<span class="number">12</span></span><br><span class="line"><span class="attribute">ONE</span> BOOL:<span class="number">1</span></span><br><span class="line"><span class="attribute">ONE</span> FLOAT:<span class="number">12</span>.<span class="number">34</span></span><br><span class="line"><span class="attribute">TWO</span> NUMBERS:<span class="number">12</span> <span class="number">24</span></span><br><span class="line"><span class="attribute">Nested</span> value at id -<span class="number">1</span>: -<span class="number">1</span></span><br><span class="line"><span class="attribute">Nested</span> value at id <span class="number">2</span>: <span class="number">3</span>.<span class="number">142</span></span><br><span class="line"><span class="attribute">Nested</span> value at id <span class="number">4</span>: <span class="number">2</span></span><br><span class="line"><span class="attribute">Nested</span> value at id <span class="number">300</span>: <span class="number">300</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>软件学习</category>
        <category>PALABOS</category>
      </categories>
      <tags>
        <tag>PALABOS</tag>
        <tag>LBM</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2021-08</title>
    <url>/MyWiki/wiki/2021/08/01/notes/PaperReadNote202108/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="2021-08-01"><a href="#2021-08-01" class="headerlink" title="2021-08-01"></a>2021-08-01</h2><h3 id="润湿"><a href="#润湿" class="headerlink" title="润湿"></a>润湿</h3><blockquote>
<ul>
<li>润湿是指一种流体在某一固体表面被另一种流体置换现象。</li>
<li>润湿包括三相，其中至少有两相是流体。固体之外的液体、气体都属于流体。</li>
</ul>
</blockquote>
<h3 id="岩石表面润湿性"><a href="#岩石表面润湿性" class="headerlink" title="岩石表面润湿性"></a>岩石表面润湿性</h3><blockquote>
<ul>
<li>岩石表面润湿性是影响油、水在岩石孔隙中分布、流动的一个主要因素;</li>
<li>岩石润湿性直接制约着油、水两相相对渗透率、毛细管力以及石油采收率。</li>
<li>按照油藏岩石表面微观结构、表面原子、分子、化学基团分布的不同，润湿可分为<strong>均匀润湿</strong>和<strong>非均匀润湿</strong>。</li>
<li><strong>均匀润湿</strong>是指岩石表面结构、化学基团完全一致，岩石表面的润湿性处处相同。<strong>均匀润湿是一种理想情况</strong>，实际的岩石都是非均匀润湿的。</li>
<li>润湿从<strong>强水润湿</strong>渐变到<strong>中间润湿</strong>直到<strong>强油润湿</strong>，<strong>非均匀润湿</strong>包括<strong>斑点润湿</strong>、<strong>混合润湿</strong>。</li>
</ul>
</blockquote>
<h3 id="相对渗透率曲线法"><a href="#相对渗透率曲线法" class="headerlink" title="相对渗透率曲线法"></a>相对渗透率曲线法</h3><blockquote>
<ul>
<li>相对渗透率曲线法是在大量实验的基础上提出的评定润湿性的方法</li>
</ul>
</blockquote>
<h3 id="表征润湿性参数"><a href="#表征润湿性参数" class="headerlink" title="表征润湿性参数"></a>表征润湿性参数</h3><blockquote>
<ul>
<li>接触角</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/angle.PNG" alt="接触角"></li>
</ul>
</blockquote>
<h3 id="分子模拟"><a href="#分子模拟" class="headerlink" title="分子模拟"></a>分子模拟</h3><blockquote>
<ul>
<li>分子模拟一般会被分为两大类</li>
<li><strong>分子动力学（Molecular dynamics, MD）</strong></li>
<li>分子动力学方法的理论基础是牛顿力学力学方程，使用经验势函数描述相互作用，根据粒子的受力情况计算粒子的轨迹，计算体系的物理化学性质。</li>
<li>分子动力学模拟的一般步骤依次是，构建模型；给定合适的初始条件和模拟参数；平衡体系；基于平衡体系计算宏观物理量，分析构型。</li>
<li><strong>蒙特卡洛方法（Monte Carlo, MC）</strong></li>
<li>蒙特卡洛模拟的理论基础是统计热力学。在模拟过程中根据一定的规则随机地产生很多尝试构象。对于各个尝试构象，软件会计算其能量，保留合理的构象。</li>
<li>分子模拟根据模拟尺度的不同，又可以分为介观模拟、粗粒化模拟、原子模拟等。</li>
</ul>
</blockquote>
<h2 id="2021-08-01-1"><a href="#2021-08-01-1" class="headerlink" title="2021-08-01"></a>2021-08-01</h2><h3 id="格子Boltzmann方法（LBM）"><a href="#格子Boltzmann方法（LBM）" class="headerlink" title="格子Boltzmann方法（LBM）"></a>格子Boltzmann方法（LBM）</h3><blockquote>
<ul>
<li>诞生于上世纪80-90年代，是一种介观尺度数值模拟；</li>
<li>由于该方法在格子空间求解Boltzmann方程，因此称为格子Boltzmann方法。</li>
<li>可以模拟多种输运现象，包括流动、扩散、导热等。</li>
</ul>
</blockquote>
<h3 id="导热微分方程"><a href="#导热微分方程" class="headerlink" title="导热微分方程"></a>导热微分方程</h3><blockquote>
<ul>
<li><strong>物理意义：</strong> 反映了物体的温度随时间和空间的变化关系。</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/HeatTransport/1.PNG" alt="导热微分方程"></li>
<li>不含内热源时</li>
<li>$\rho c_p \frac {\partial T} {\partial t}$ &#x3D; $\Delta \cdot (\lambda \Delta T)$</li>
<li><strong>$\rho$为密度，$\lambda$为热导率，$c_p$为比热容。</strong></li>
<li>一维导热过程：$\rho c_p \frac {\partial T} {\partial t}$ &#x3D; $\frac \partial {\partial x} (\lambda \frac {\partial T} {\partial x} )$</li>
</ul>
</blockquote>
<h3 id="热扩散率（Thermal-diffusivity）"><a href="#热扩散率（Thermal-diffusivity）" class="headerlink" title="热扩散率（Thermal diffusivity）"></a>热扩散率（Thermal diffusivity）</h3><blockquote>
<ul>
<li>$a&#x3D;\frac \lambda {\rho c}$ </li>
<li>单位 ($m^2&#x2F;s$)</li>
<li><strong>物理意义：</strong> 热扩散率$a$反应了导热过程中材料的导热能力（$\lambda$）与沿途物质储热能力（$\rho c$）之间的关系。</li>
<li>表征物体被加热或冷却时，物体内各部分温度趋于均匀一致的能力。</li>
</ul>
</blockquote>
<h2 id="2021-08-04"><a href="#2021-08-04" class="headerlink" title="2021-08-04"></a>2021-08-04</h2><h3 id="流固耦合"><a href="#流固耦合" class="headerlink" title="流固耦合"></a>流固耦合</h3><blockquote>
<ul>
<li>一般而言，流固耦合过程中只有一种流体（单相）起主导作用，称为单相流固耦合。</li>
<li>准确计算流体对固体施加的作用力是流固耦合模拟的基础和前提，只有流固作用力计算得准才能保证后续流固耦合过程的真实有效。</li>
<li>另外，对于一些特殊的流固耦合过程会涉及两相流体与固体相互作用，因此称为两相流固耦合。</li>
<li>对于流固耦合模型，最重要的是，如何将固体求解器与流体求解器进行耦合，也即，<strong>保证固体附近流体的无滑移边界条件以及准确计算流体对固体施加的作用力。</strong></li>
<li></li>
</ul>
</blockquote>
<h2 id="2021-08-18"><a href="#2021-08-18" class="headerlink" title="2021-08-18"></a>2021-08-18</h2><h3 id="油水前缘"><a href="#油水前缘" class="headerlink" title="油水前缘"></a><a href="https://baike.baidu.com/item/%E6%B2%B9%E6%B0%B4%E5%89%8D%E7%BC%98/22080689?fr=aladdin">油水前缘</a></h3><blockquote>
<ul>
<li>油水<strong>前缘</strong>是指水驱过程中，分隔油区与油水两相区的界面。油水前缘的形状会严重影响体积波及效率。</li>
</ul>
</blockquote>
<h3 id="EOR-Enhanced-Oil-Recovery-提高石油采收率"><a href="#EOR-Enhanced-Oil-Recovery-提高石油采收率" class="headerlink" title="EOR(Enhanced Oil Recovery):提高石油采收率"></a>EOR(Enhanced Oil Recovery):提高石油采收率</h3><h2 id="2021-08-22"><a href="#2021-08-22" class="headerlink" title="2021-08-22"></a>2021-08-22</h2><h3 id="二氧化硅-SiO2"><a href="#二氧化硅-SiO2" class="headerlink" title="二氧化硅(SiO2)"></a><a href="https://zh.wikipedia.org/wiki/%E4%BA%8C%E6%B0%A7%E5%8C%96%E7%A1%85">二氧化硅(SiO<sub>2</sub>)</a></h3><blockquote>
<ul>
<li>是一种酸性氧化物</li>
<li>约占地壳质量的12%</li>
<li>自然界中二氧化硅的存在形态有结晶形和无定形两大类</li>
<li>石英部分分类：</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>形式</th>
<th>晶体对称性(皮尔逊符号, 组号)</th>
<th>ρ(g&#x2F;cm<sup>3</sup>)</th>
<th>注释</th>
<th>结构</th>
</tr>
</thead>
<tbody><tr>
<td>α-石英</td>
<td>六方晶系 (三角形)hP9, P3221 No.154</td>
<td>2.648</td>
<td>使单个单晶具有光学活性的螺旋链; α-石英在846K下转化为β-石英</td>
<td><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/A-quartz.png"></td>
</tr>
<tr>
<td>β-石英</td>
<td>六方晶系hP18, P6222, No. 180[7]</td>
<td>2.533</td>
<td>与α-石英密切相关（具有155°的Si-O-Si角）和光学活性; β-石英在1140K转化为β-鳞石英</td>
<td><img src="https://upload.wikimedia.org/wikipedia/commons/1/12/B-quartz.png"></td>
</tr>
<tr>
<td>α-方石英</td>
<td>四方晶系tP12, P41212, No. 92[9]</td>
<td>2.334</td>
<td>正常压力下的稳定形式</td>
<td><img src="https://upload.wikimedia.org/wikipedia/commons/5/56/A-cristobalite.png"></td>
</tr>
<tr>
<td>β-方石英</td>
<td>立方晶系cF104, Fd3m, No.227[10]</td>
<td></td>
<td>与α-方石英密切相关; 在1978 K熔化</td>
<td><img src="https://upload.wikimedia.org/wikipedia/commons/a/a3/B-cristobalite.png"></td>
</tr>
</tbody></table>
<h3 id="密勒指数-Miller-indices"><a href="#密勒指数-Miller-indices" class="headerlink" title="密勒指数(Miller indices)"></a><a href="https://baike.baidu.com/item/%E5%AF%86%E5%8B%92%E6%8C%87%E6%95%B0/3385323?fr=aladdin">密勒指数(Miller indices)</a></h3><blockquote>
<ul>
<li>是一种用来描述某一种晶格点阵(布拉菲格子)中某一晶面族的数组。</li>
</ul>
</blockquote>
<h2 id="2021-08-24"><a href="#2021-08-24" class="headerlink" title="2021-08-24"></a>2021-08-24</h2><h3 id="羟基（oxhydryl）"><a href="#羟基（oxhydryl）" class="headerlink" title="羟基（oxhydryl）"></a>羟基（oxhydryl）</h3><blockquote>
<ul>
<li>是一种常见的极性基团，化学式为-OH</li>
<li>羟基与水有某些相似的性质，羟基是典型的极性基团，与水可形成氢键，在无机化合物水溶液中以带负电荷的离子形式存在（OH -），称为氢氧根。 羟基主要分为醇羟基，酚羟基等。</li>
</ul>
</blockquote>
<h3 id="烷烃"><a href="#烷烃" class="headerlink" title="烷烃"></a><a href="https://baike.baidu.com/item/%E7%83%B7%E7%83%83/1138261">烷烃</a></h3><blockquote>
<ul>
<li>烷烃是一类有机化合物，分子中的碳原子都以碳碳单键相连，其余的价键都与氢结合而成的化合物，分为环烷烃和链烷烃两类。 链烷烃的通式为C<sub>n</sub>H<sub>2n+2</sub>，环烷烃的通式为C<sub>n</sub>H<sub>2n</sub>，是最简单的一类有机化合物。烷烃的主要来源是石油和天然气，是重要的化工原料和能源物资。</li>
</ul>
</blockquote>
</div><table log-set-param="table_view" data-sort="sortDisabled"><caption>一些链烷烃和环烷烃的物理常数</caption><tr><th align="center" width="159"><div class="para" label-module="para">名称</div></th><th align="center" width="144"><div class="para" label-module="para">分子式</div></th><th align="center" width="134"><div class="para" label-module="para">沸点/℃</div></th><th align="center" width="145"><div class="para" label-module="para">熔点/℃</div></th><th align="center" width="165"><div class="para" label-module="para">相对密度</div></th></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E7%94%B2%E7%83%B7/634659" data-lemmaid="634659">甲烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">CH<sub>4</sub></div></td><td align="center" width="134"><div class="para" label-module="para">-161.7</div></td><td align="center" width="145"><div class="para" label-module="para">-182.6</div></td><td align="center" width="165"><div class="para" label-module="para">——</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E4%B9%99%E7%83%B7/2518917" data-lemmaid="2518917">乙烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>2</sub>H<sub>6</sub></div></td><td align="center" width="134"><div class="para" label-module="para">-88.6</div></td><td align="center" width="145"><div class="para" label-module="para">-182.8</div></td><td align="center" width="165"><div class="para" label-module="para">——</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E4%B8%99%E7%83%B7/2276587" data-lemmaid="2276587">丙烷</a>（<a target=_blank href="https://baike.baidu.com/item/%E7%8E%AF%E4%B8%99%E7%83%B7/2283184" data-lemmaid="2283184">环丙烷</a>）</div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>3</sub>H<sub>8</sub>(C<sub>3</sub>H<sub>6</sub>)</div></td><td align="center" width="134"><div class="para" label-module="para">-42.2(-32.7)</div></td><td align="center" width="145"><div class="para" label-module="para">-187.1(-127.6)</div></td><td align="center" width="165"><div class="para" label-module="para">0.5005</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E4%B8%81%E7%83%B7/16148" data-lemmaid="16148">丁烷</a>（<a target=_blank href="https://baike.baidu.com/item/%E7%8E%AF%E4%B8%81%E7%83%B7/1094770" data-lemmaid="1094770">环丁烷</a>）</div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>4</sub>H<sub>10</sub>(C<sub>4</sub>H<sub>8</sub>)</div></td><td align="center" width="134"><div class="para" label-module="para">-0.5(12.5)</div></td><td align="center" width="145"><div class="para" label-module="para">-138.4(-80)</div></td><td align="center" width="165"><div class="para" label-module="para">0.5788</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E6%88%8A%E7%83%B7/16218" data-lemmaid="16218">戊烷</a>（<a target=_blank href="https://baike.baidu.com/item/%E7%8E%AF%E6%88%8A%E7%83%B7/2283575" data-lemmaid="2283575">环戊烷</a>）</div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>5</sub>H<sub>12</sub>(C<sub>5</sub>H<sub>10</sub>)</div></td><td align="center" width="134"><div class="para" label-module="para">36.1(49.3)</div></td><td align="center" width="145"><div class="para" label-module="para">-129.3(-93.9)</div></td><td align="center" width="165"><div class="para" label-module="para">0.6264(0.7457)</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%B7%B1%E7%83%B7/67751" data-lemmaid="67751">己烷</a>（<a target=_blank href="https://baike.baidu.com/item/%E7%8E%AF%E5%B7%B1%E7%83%B7/2283421" data-lemmaid="2283421">环己烷</a>）</div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>6</sub>H<sub>14</sub>(C<sub>6</sub>H<sub>12</sub>)</div></td><td align="center" width="134"><div class="para" label-module="para">68.7(80.7)</div></td><td align="center" width="145"><div class="para" label-module="para">-94.0(6.6)</div></td><td align="center" width="165"><div class="para" label-module="para">0.6594(0.7786)</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%BA%9A%E7%83%B7/67752" data-lemmaid="67752">庚烷</a>（<a target=_blank href="https://baike.baidu.com/item/%E7%8E%AF%E5%BA%9A%E7%83%B7/2283298" data-lemmaid="2283298">环庚烷</a>）</div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>7</sub>H<sub>16</sub>(C<sub>7</sub>H<sub>14</sub>)</div></td><td align="center" width="134"><div class="para" label-module="para">98.4(118.5)</div></td><td align="center" width="145"><div class="para" label-module="para">-90.5(-12.0)</div></td><td align="center" width="165"><div class="para" label-module="para">0.6837(0.8098)</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E8%BE%9B%E7%83%B7/53485069" data-lemmaid="53485069">辛烷</a>（<a target=_blank href="https://baike.baidu.com/item/%E7%8E%AF%E8%BE%9B%E7%83%B7/2283629" data-lemmaid="2283629">环辛烷</a>）</div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>8</sub>H<sub>18</sub>(C<sub>8</sub>H<sub>16</sub>)</div></td><td align="center" width="134"><div class="para" label-module="para">125.6(150)</div></td><td align="center" width="145"><div class="para" label-module="para">-56.8(14.3)</div></td><td align="center" width="165"><div class="para" label-module="para">0.7028(0.8349)</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%A3%AC%E7%83%B7/2278510" data-lemmaid="2278510">壬烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>9</sub>H<sub>20</sub></div></td><td align="center" width="134"><div class="para" label-module="para">150.7</div></td><td align="center" width="145"><div class="para" label-module="para">-53.7</div></td><td align="center" width="165"><div class="para" label-module="para">0.7179</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E7%99%B8%E7%83%B7/2277942" data-lemmaid="2277942">癸烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>10</sub>H<sub>22</sub></div></td><td align="center" width="134"><div class="para" label-module="para">174.0</div></td><td align="center" width="145"><div class="para" label-module="para">-29.7</div></td><td align="center" width="165"><div class="para" label-module="para">0.7298</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E4%B8%80%E7%83%B7/2202828" data-lemmaid="2202828">十一烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>11</sub>H<sub>24</sub></div></td><td align="center" width="134"><div class="para" label-module="para">195.8</div></td><td align="center" width="145"><div class="para" label-module="para">-25.6</div></td><td align="center" width="165"><div class="para" label-module="para">0.7404</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E4%BA%8C%E7%83%B7/8030427" data-lemmaid="8030427">十二烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>12</sub>H<sub>26</sub></div></td><td align="center" width="134"><div class="para" label-module="para">216.3</div></td><td align="center" width="145"><div class="para" label-module="para">-9.6</div></td><td align="center" width="165"><div class="para" label-module="para">0.7493</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E4%B8%89%E7%83%B7/2202502" data-lemmaid="2202502">十三烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>13</sub>H<sub>28</sub></div></td><td align="center" width="134"><div class="para" label-module="para">245.4</div></td><td align="center" width="145"><div class="para" label-module="para">-6</div></td><td align="center" width="165"><div class="para" label-module="para">0.7568</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E5%9B%9B%E7%83%B7/2202706" data-lemmaid="2202706">十四烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>14</sub>H<sub>30</sub></div></td><td align="center" width="134"><div class="para" label-module="para">251</div></td><td align="center" width="145"><div class="para" label-module="para">5.5</div></td><td align="center" width="165"><div class="para" label-module="para">0.7636</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E4%BA%94%E7%83%B7/9731541" data-lemmaid="9731541">十五烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>15</sub>H<sub>32</sub></div></td><td align="center" width="134"><div class="para" label-module="para">268</div></td><td align="center" width="145"><div class="para" label-module="para">10</div></td><td align="center" width="165"><div class="para" label-module="para">0.7688</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E5%85%AD%E7%83%B7/2202136" data-lemmaid="2202136">十六烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>16</sub>H<sub>34</sub></div></td><td align="center" width="134"><div class="para" label-module="para">280</div></td><td align="center" width="145"><div class="para" label-module="para">18.1</div></td><td align="center" width="165"><div class="para" label-module="para">0.7749</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E4%B8%83%E7%83%B7/10582157" data-lemmaid="10582157">十七烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>17</sub>H<sub>36</sub></div></td><td align="center" width="134"><div class="para" label-module="para">303</div></td><td align="center" width="145"><div class="para" label-module="para">22.0</div></td><td align="center" width="165"><div class="para" label-module="para">0.7767</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E5%85%AB%E7%83%B7/2221838" data-lemmaid="2221838">十八烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>18</sub>H<sub>38</sub></div></td><td align="center" width="134"><div class="para" label-module="para">308</div></td><td align="center" width="145"><div class="para" label-module="para">28.0</div></td><td align="center" width="165"><div class="para" label-module="para">0.7767</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%8D%81%E4%B9%9D%E7%83%B7/2201712" data-lemmaid="2201712">十九烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>19</sub>H<sub>40</sub></div></td><td align="center" width="134"><div class="para" label-module="para">330</div></td><td align="center" width="145"><div class="para" label-module="para">32.0</div></td><td align="center" width="165"><div class="para" label-module="para">0.7776</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E4%BA%8C%E5%8D%81%E7%83%B7/9535207" data-lemmaid="9535207">二十烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>20</sub>H<sub>42</sub></div></td><td align="center" width="134"><div class="para" label-module="para">343</div></td><td align="center" width="145"><div class="para" label-module="para">36.4</div></td><td align="center" width="165"><div class="para" label-module="para">0.7886</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E4%B8%89%E5%8D%81%E7%83%B7/3036509" data-lemmaid="3036509">三十烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>30</sub>H<sub>62</sub></div></td><td align="center" width="134"><div class="para" label-module="para">449.7</div></td><td align="center" width="145"><div class="para" label-module="para">66</div></td><td align="center" width="165"><div class="para" label-module="para">0.7750</div></td></tr><tr><td align="center" width="159"><div class="para" label-module="para"><a target=_blank href="https://baike.baidu.com/item/%E5%9B%9B%E5%8D%81%E7%83%B7/585616" data-lemmaid="585616">四十烷</a></div></td><td align="center" width="144"><div class="para" label-module="para">C<sub>40</sub>H<sub>82</sub></div></td><td align="center" width="134"><div class="para" label-module="para">——</div></td><td align="center" width="145"><div class="para" label-module="para">81</div></td><td align="center" width="165"><div class="para" label-module="para">——</div></td></tr></table><div class="para" label-module="para"><sup class="sup--normal" data-sup="2" data-ctrmap=":2,">

<h2 id="2021-08-29"><a href="#2021-08-29" class="headerlink" title="2021-08-29"></a>2021-08-29</h2><h3 id="精细化力场"><a href="#精细化力场" class="headerlink" title="精细化力场"></a>精细化力场</h3><blockquote>
<ul>
<li>精细化力场对分子的描述是超原子级别的，力场中所包含的位点个数多于分子中的原子数，可以更加细致地描述分子的相互作用，如水分子力场中就存在质荷与电荷分开的情况。</li>
</ul>
</blockquote>
<h3 id="全-x2F-联合原子力场"><a href="#全-x2F-联合原子力场" class="headerlink" title="全&#x2F;联合原子力场"></a>全&#x2F;联合原子力场</h3><blockquote>
<ul>
<li>原子力场对分子的描述是（准）原子级别的，若考虑分子中的所有原子并为其定义力场参数，则称为全原子力场(OPLS-AA).</li>
<li>若忽略分子中的一些原子（如非极性H原子），将相互作用整合到相邻原子上，则称为联合原子力场(OPLS-UA)。</li>
</ul>
</blockquote>
<h3 id="粗粒化力场"><a href="#粗粒化力场" class="headerlink" title="粗粒化力场"></a>粗粒化力场</h3><blockquote>
<ul>
<li>粗粒化力场对分子的描述是亚原子级别的，它进一步抽象分子结构，将更大的基团视为一个位点，从而简化分子的拓扑形态。</li>
</ul>
</blockquote>
<h3 id="水分子"><a href="#水分子" class="headerlink" title="水分子"></a>水分子</h3><blockquote>
<ul>
<li>水分子是<a href="https://baike.baidu.com/item/%E6%9E%81%E6%80%A7%E5%88%86%E5%AD%90/391574">极性分子</a></li>
<li>SPC（Simple Point Charge）模型</li>
</ul>
</blockquote>
<h2 id="2021-08-30"><a href="#2021-08-30" class="headerlink" title="2021-08-30"></a>2021-08-30</h2><h3 id="There-are-three-major-types-of-EOR"><a href="#There-are-three-major-types-of-EOR" class="headerlink" title="There are three major types of EOR :"></a>There are three major types of EOR :</h3><blockquote>
<ul>
<li>miscible displacement</li>
<li>chemical flooding</li>
<li>and thermal recovery.</li>
</ul>
</blockquote>
<h3 id="稠油"><a href="#稠油" class="headerlink" title="稠油"></a>稠油</h3><blockquote>
<ul>
<li>稠油四组分：沥青质、胶质、饱和烃和芳香烃（剩余分）</li>
<li>一般认为，稠油具有粘度高，密度大的特性，其内所含有的沥青质、胶质含量远远高于普通原油。</li>
<li>中国稠油油藏与国外相差较大，表现在高黏度、低密度、沥青质含量较低、胶质含量较高以及金属含量较低等方面。</li>
<li><strong>胶质</strong>中含有较多的－ＯＲ、－ＯＨ、－ＣＯＯＲ、－ＳＨ等活性基团。因此，胶质的热稳定性较差，在中高温条件下易发生化学反应，向沥青质进行转化。</li>
<li><strong>沥青质</strong>是原油中分子量最大的一类组分，相对密度大于１，主要由多环含氧和含硫化合物组成。沥青质不溶于正戊烷但可溶于甲苯。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyDocs/Oil/china_petroleum.PNG" alt="中国稠油分类标准"></li>
<li>渤海油田所蕴含的油藏中，85%为稠油油藏;且较为分散，开采时出砂现象较为严重，有一定的开采困难。</li>
</ul>
</blockquote>
<h3 id="海上油藏"><a href="#海上油藏" class="headerlink" title="海上油藏"></a>海上油藏</h3><blockquote>
<ul>
<li>我国海上油田稠油储量占总地质储量的 70%左右,开采方式主要有两种</li>
<li>一种是常规的注水开采，即普通的水驱采油</li>
<li>一种开采方式为冷采-蒸汽吞吐-蒸汽或热水驱的一系列连续操作流程的热力采油开采方式</li>
</ul>
</blockquote>
<h3 id="渤海油田特点："><a href="#渤海油田特点：" class="headerlink" title="渤海油田特点："></a>渤海油田特点：</h3><blockquote>
<ul>
<li>油区分布零散,油藏区块小而多</li>
<li>油藏储层大多数为疏松的砂岩结构,开采过程中出砂情况比较严重</li>
<li></li>
</ul>
</blockquote>
<h2 id="2021-08-31"><a href="#2021-08-31" class="headerlink" title="2021-08-31"></a>2021-08-31</h2><h3 id="蒸汽吞吐（CyclicSteamStimulation，CSS）"><a href="#蒸汽吞吐（CyclicSteamStimulation，CSS）" class="headerlink" title="蒸汽吞吐（CyclicSteamStimulation，CSS）"></a><a href="https://baike.baidu.com/item/%E8%92%B8%E6%B1%BD%E5%90%9E%E5%90%90/8461120">蒸汽吞吐（CyclicSteamStimulation，CSS）</a></h3><blockquote>
<ul>
<li>汽吞吐就是先向油井注入一定量的蒸汽，关井一段时间，待蒸汽的热能向油层扩散后，再开井生产的一种开采重油的增产方法。蒸汽吞吐作业的过程可分为三个阶段，即注汽、焖井及回采。</li>
<li>具体步骤为：①将高温蒸汽快速注入到油层中；②焖井，通常2～5天；③开井生产。要根据井深、油层性质、黏度等因素来确定蒸汽注入量以及焖井时间。</li>
</ul>
</blockquote>
<h3 id="蒸汽干度"><a href="#蒸汽干度" class="headerlink" title="蒸汽干度"></a><a href="https://baike.baidu.com/item/%E8%92%B8%E6%B1%BD%E5%B9%B2%E5%BA%A6/159536?fr=aladdin">蒸汽干度</a></h3><blockquote>
<ul>
<li>每千克湿蒸汽中含有干饱和蒸汽的质量百分数。蒸汽干度 是油田注汽锅炉安全运行中的一个重要参数，也是影响稠油热采效果的一个重要指标。</li>
<li>湿蒸汽中气相质量与湿蒸汽总质量（气相+液相）的比值。它是衡量蒸汽质量的重要指标。</li>
</ul>
</blockquote>
<h3 id="我国稠油开发的难点"><a href="#我国稠油开发的难点" class="headerlink" title="我国稠油开发的难点"></a>我国稠油开发的难点</h3><blockquote>
<ul>
<li>我国目前已在12个盆地发现了70多个稠油油田，探明储量40亿吨。储量最多的是辽河油田，然后依次是胜利油田、克拉玛依油田和河南油田。海上稠油集中分布在渤海地区，渤海已探明原油地质储量45亿立方米，其中62％为稠油。</li>
<li>难点1：黏度大、流动性差</li>
<li>难点2：埋藏深、储层差：与国外稠油油田相比，我国的稠油埋藏深（集中在1000～1500米），又因为储集在疏松的砂岩层中，在开发过程中容易出砂，所以综合开发成本较高。</li>
</ul>
</blockquote>
<h3 id="稠油开发方式"><a href="#稠油开发方式" class="headerlink" title="稠油开发方式"></a><a href="http://www.cnpc.com.cn/syzs/ktkf/201609/91d90f92948b4c099598c66d120d7527.shtml">稠油开发方式</a></h3><blockquote>
<ul>
<li>1．露天开采（SurfaceMining）</li>
<li>2．注入降黏剂（InjectionViscosityReducingAgent）</li>
<li>3．蒸汽吞吐法（CyclicSteamStimulation，CSS）</li>
<li>4．蒸汽驱油（SteamFlooding）</li>
<li>5．火烧油层法（InSituCombustion）</li>
<li>6．蒸汽辅助重力泄油（SteamAssistedGravityDrainage，SAGD）</li>
<li>7．水平段注空气技术（ToetoHeelAirInjection，THAI）</li>
<li>8．稠油出砂冷采技术（ColdHeavyOilProductionwithSand，CHOPS）</li>
<li></li>
</ul>
</blockquote>
<h3 id="稠油屈服力"><a href="#稠油屈服力" class="headerlink" title="稠油屈服力"></a>稠油屈服力</h3><blockquote>
<ul>
<li>稠油流变性中一个非常重要的特征就是其具<br>有宾汉流体特征，即为屈服应力值。</li>
<li>稠油的屈服应力值表征了稠油塑性的大小，体现了稠油具有<br>一定固体类物质的特性。</li>
<li>稠油屈服值的大小同样也可以反映稠油在管内流动或在地层中渗流时其<br>初始启动压力值的大小，屈服应力值越大，表明稠油的初始启动压力值越大。</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2021</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
        <tag>2021-08</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2022-春</title>
    <url>/MyWiki/wiki/2022/01/01/notes/PaperReadNote202201/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Paper-Notes-2022"><a href="#Paper-Notes-2022" class="headerlink" title="Paper Notes 2022"></a>Paper Notes 2022</h2><h3 id="2022-05"><a href="#2022-05" class="headerlink" title="2022-05"></a>2022-05</h3><h4 id="05-19"><a href="#05-19" class="headerlink" title="05-19"></a>05-19</h4><ol>
<li>Carboxyl n. 羧基</li>
<li>In most conditions在大多数情况下</li>
<li>deprotonated  adj. 去质子化的</li>
<li></li>
</ol>
<h4 id="05-19-1"><a href="#05-19-1" class="headerlink" title="05-19"></a>05-19</h4><ol>
<li>substrate wettability alteration 基底润湿性改变</li>
<li>calcite 方解石</li>
<li>salinity  n. 盐度；盐分；盐性</li>
<li>but the underlying mechanism remains unclear especially for carbonate reservoirs</li>
<li>a nano-pore comprised of neutral calcite surfaces<blockquote>
<ul>
<li>A comprised of B</li>
</ul>
</blockquote>
</li>
<li>at <mark>elevated</mark> salt concentrations 盐浓度升高时</li>
<li>aqueous electrolyte 含水电解质</li>
<li>intervening volume element 中间体积元</li>
<li>neutral non-polar n-decane (C10H22) was used as the representative non-polar oil phase. Decane is a typical component of petroleum and has been presented frequently in the literature as a kerosene(煤油) surrogate or as the main component of diesel (柴油) surrogates(替代).</li>
<li>All the ions were initially randomly inserted into the aqueous region to avoid biased adsorption. </li>
<li></li>
</ol>
<h4 id="05-06"><a href="#05-06" class="headerlink" title="05-06"></a>05-06</h4><ol>
<li>capillary pressure 毛细管（血）压</li>
<li>its flow behavior are <mark>profoundly affected</mark> by the potential field from quartz walls and adsorption layers if the nanopore width w becomes less than 50 Å</li>
</ol>
<h4 id="05-04"><a href="#05-04" class="headerlink" title="05-04"></a>05-04</h4><ol>
<li>bimodal 双峰的</li>
<li>Compared to the saturated heptane molecules, the π electrons of the aromatic ring and heteroatoms (such as N, O, S atoms) causes a nonuniform molecular charge distribution and uneven molecular electrostatic potential <a href="https://doi:10.1016/j.fuel.2020.119252">[57]</a>, which directly leads to an increase in molecular polarity<a href="https://doi:10.1007/s00214-002-0363-9">[58]</a></li>
<li>The molecular polarity indexes of the crude oil fractions used in this study, as reported by Lian et al. <a href="https://doi:10.1016/j.fuel.2020.119252">[57]</a>, are 2.28446, 6.98565, 6.12492, and 9.54517 kcal&#x2F;mol for heptane, toluene, resin, and asphaltene, respectively. <blockquote>
<ul>
<li>分子极性指标怎么计算？</li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/MPI.png"></li>
</ul>
</blockquote>
</li>
<li>Notably, the heteroatoms in oil molecules form hydrogen bonds with water molecules <a href="https://doi:10.1021/acs.energyfuels.8b03258">[60]</a>, which trap water molecules at the oil-water interface, inhibiting them from contacting the iron surface. </li>
<li>a <strong>compact</strong> adhesion layer is gradually formed 逐渐形成<strong>致密</strong>的粘着层</li>
<li>complexation n. 络合；络合作用（complex 的名词）<blockquote>
<ul>
<li><img src="https://ars.els-cdn.com/content/image/3-s2.0-B9780128200421000158-f08-04-9780128200421.jpg" alt="磁性生物炭表面含氧官能团与金属离子的络合情况"></li>
<li>络合作用分为外层络合作用和内层络合作用;</li>
<li>这一过程涉及到特定金属-配体相互作用下多原子结构(即配合物)的形成;</li>
<li>在吸附过程中，金属离子与生物炭表面官能团的络合作用是重要的吸附机理;</li>
</ul>
</blockquote>
</li>
<li><mark>facilitating</mark> the aggregation and adhesion between asphaltene molecules and the iron surface.<mark> 促进</mark>沥青质分子与铁表面的聚集和粘附。</li>
<li>it may be inferred that 可以推断</li>
<li><mark>In the view of thermodynamics,</mark> the resin and asphaltene are the solvent and solute, respectively., <mark>从热力学的角度来看，</mark></li>
<li>peptizing agents 胶溶剂</li>
<li>To represent the stability of asphaltene in heavy oil, the colloidal instability coefficient (CII) <a href="https://pubs.acs.org/doi/pdf/10.1021/ef101033p?src=getftr">[69]</a> was introduced, as follows:<blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/CII.png"></li>
<li>当稠油CII为&gt; 0.95时，会发生沥青质沉淀和粘附;否则，沥青质沉淀和粘附的风险是最小的</li>
</ul>
</blockquote>
</li>
<li>It is worth noting that </li>
<li>In a previous study</li>
<li>the distance of dimers of asphaltene molecules is 3.55–3.70 Å. Therefore, the intermolecular distances of asphaltene aggregates are considered to be within 3.55–3.70 Å <a href="https://pubs.acs.org/doi/pdf/10.1021/ef049911a?src=getftr">[70]</a>.</li>
</ol>
<h4 id="05-03"><a href="#05-03" class="headerlink" title="05-03"></a>05-03</h4><ol>
<li><p>To make up for the shortcomings of hydraulic calculation methods for crude oil cold transportation</p>
<blockquote>
<ul>
<li>to make up for the shortcomings of xx 为了弥补xx的不足</li>
</ul>
</blockquote>
</li>
<li><p>elaborate on 阐述了；详细说明</p>
</li>
<li><p>endow them with ‘anti-sticking’ ability. 赋予他们“防粘”的能力。</p>
</li>
<li><p>electric double layer (EDL)双电层 <a href="https://zhuanlan.zhihu.com/p/27155545">https://zhuanlan.zhihu.com/p/27155545</a></p>
<blockquote>
<ul>
<li>任何两个不同的物相接触都会在两相间产生电势，这是因电荷分离引起的。两相各有过剩的电荷，电量相等，正负号相反，相互吸引，形成双电层。</li>
<li><img src="https://pic1.zhimg.com/80/v2-8bbca1466cbaf1500cbdcd87aa8b0794_720w.png" alt="Helmholtz模型"></li>
<li><img src="https://pic3.zhimg.com/80/v2-1778f078228ca6a92b4bdc6286027f3e_720w.png" alt="Gouy-Chapman模型"></li>
<li><img src="https://pic3.zhimg.com/80/v2-c556fc1f8f258cc2185c166aac5697f6_720w.png" alt="Gouy-Chapman-Stern模型"></li>
</ul>
</blockquote>
</li>
<li><p>aforementioned</p>
<blockquote>
<ul>
<li>Through comprehensive consideration of the <strong>aforementioned</strong> influencing factors,通过综合考虑<strong>上述</strong>影响因素</li>
<li>The aforementioned studies show that……上述研究表明……</li>
</ul>
</blockquote>
</li>
<li><p>Against this backdrop在这样的背景下 ；在此种情况下</p>
</li>
<li><p>Prior to experiments,在实验之前,</p>
</li>
<li><p>syringe（n. （皮下）注射器；吸管；（园艺或烹饪中的）喷射器 v. 用注射器清洗（耳朵）；用喷射器（在植物上）喷洒（液体）</p>
</li>
<li><p><strong><mark>On the premise of</mark></strong> ensuring accurate calculation，<strong>在保证</strong>计算准确的<strong>前提下</strong></p>
</li>
<li><p>From this由此</p>
</li>
<li><p>work of adhesion 黏附功<a href="https://pubs.acs.org/doi/pdf/10.1021/la00009a049">[1]</a></p>
</li>
<li><p>It is also worth noting that。。。同样值得注意的是。。。</p>
</li>
<li><p>adhere v. 黏附，附着；遵守，遵循（规定或协议）；拥护，持有（观点或信仰）</p>
</li>
<li><p>in the absence of asphaltene molecules 在没有沥青质分子的情况下</p>
</li>
<li><p>Due to the presence of 400 heptane, 400 toluene, and 105 resin molecules in each oil droplet</p>
</li>
<li><p>the solubility of asphaltenes in the oil phase remains unchanged, as, asphaltenes are soluble in aromatic rich solvents such as toluene and resin and insoluble in aliphatic solvents such as heptane</p>
<blockquote>
<ul>
<li><mark>沥青质溶于芳香烃和胶质，不溶于饱和烃？</mark></li>
</ul>
</blockquote>
</li>
<li><p>reversible work[物] 可逆功</p>
</li>
</ol>
<h3 id="2022-04"><a href="#2022-04" class="headerlink" title="2022-04"></a>2022-04</h3><h4 id="04-28"><a href="#04-28" class="headerlink" title="04-28"></a>04-28</h4><ol>
<li>understanding adhesion behavior in heavy oil&#x2F;water&#x2F;pipeline wall systems has greatly gained in importance. </li>
<li>不同沥青质浓度的研究</li>
<li>severely impedes heavy oil flow assurance 严重影响稠油流动保障</li>
<li>trillion 万亿，兆</li>
<li>billion 十亿</li>
<li>million 百万</li>
</ol>
<h4 id="04-24"><a href="#04-24" class="headerlink" title="04-24"></a>04-24</h4><ol>
<li>油层物理：<a href="https://video.cup.edu.cn/jingpin/ycwl/kcxx/ch10/se3/01.html">https://video.cup.edu.cn/jingpin/ycwl/kcxx/ch10/se3/01.html</a></li>
</ol>
<h4 id="04-23"><a href="#04-23" class="headerlink" title="04-23"></a>04-23</h4><ol>
<li>溶液表面吸附<blockquote>
<ul>
<li>一瓶溶液中，其表面上一层溶液的浓度与内部总是不同的，通常把物质在界面上富集的现象叫做吸附（adsorption）</li>
<li>1876年Gibbs用热力学方法导出了表面张力，溶液内部浓度和表面浓度三者的关系式——Gibbs公式。</li>
<li>(<strong>表面过剩（surface excess）</strong>)</li>
<li><strong>实验证明</strong>：当两种不完全混溶的两相在接触时，交界处并非有一界线分明的几何面将两相分开，而是存在一界线不很清楚的薄薄一层。此层只有几个分子厚，其成分和性质皆不均匀，与两体相的性质也不同——<strong>表面相</strong>$σ$ </li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/gibbs_1.png"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/gibbs_2.png"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/gibbs_3.png"></li>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/gibbs_4.png"></li>
</ul>
</blockquote>
</li>
</ol>
<blockquote>
<ul>
<li>参考：<a href="https://www.chem.pku.edu.cn/huangjb/docs/20200210115242977483.pdf">https://www.chem.pku.edu.cn/huangjb/docs/20200210115242977483.pdf</a></li>
</ul>
</blockquote>
<h4 id="04-22"><a href="#04-22" class="headerlink" title="04-22"></a>04-22</h4><ol>
<li>误差函数erf<blockquote>
<ul>
<li>erf的定义：函数erf(x)在数学中为误差函数（也称之为高斯误差函数，error function or Gauss error function），是一个非基本函数（即不是初等函数），其在概率论、统计学以及偏微分方程和半导体物理中都有广泛的应用。</li>
<li><img src="https://img2020.cnblogs.com/blog/1015018/202109/1015018-20210910114347927-512178345.png"></li>
<li><img src="https://img2020.cnblogs.com/blog/1015018/202109/1015018-20210910114414069-356400172.png"></li>
</ul>
</blockquote>
</li>
</ol>
<blockquote>
<ul>
<li><a href="https://www.cnblogs.com/jiangkejie/p/15250760.html#:~:text=%E5%87%BD%E6%95%B0erf%20%28x%29%E5%9C%A8%E6%95%B0%E5%AD%A6%E4%B8%AD%E4%B8%BA%E8%AF%AF%E5%B7%AE%E5%87%BD%E6%95%B0%EF%BC%88%E4%B9%9F%E7%A7%B0%E4%B9%8B%E4%B8%BA%E9%AB%98%E6%96%AF%E8%AF%AF%E5%B7%AE%E5%87%BD%E6%95%B0%EF%BC%8Cerror%20function%20or%20Gauss,error%20function%EF%BC%89%EF%BC%8C%E6%98%AF%E4%B8%80%E4%B8%AA%E9%9D%9E%E5%9F%BA%E6%9C%AC%E5%87%BD%E6%95%B0%EF%BC%88%E5%8D%B3%E4%B8%8D%E6%98%AF%E5%88%9D%E7%AD%89%E5%87%BD%E6%95%B0%EF%BC%89%EF%BC%8C%E5%85%B6%E5%9C%A8%E6%A6%82%E7%8E%87%E8%AE%BA%E3%80%81%E7%BB%9F%E8%AE%A1%E5%AD%A6%E4%BB%A5%E5%8F%8A%E5%81%8F%E5%BE%AE%E5%88%86%E6%96%B9%E7%A8%8B%E5%92%8C%E5%8D%8A%E5%AF%BC%E4%BD%93%E7%89%A9%E7%90%86%E4%B8%AD%E9%83%BD%E6%9C%89%E5%B9%BF%E6%B3%9B%E7%9A%84%E5%BA%94%E7%94%A8%E3%80%82%20erf%E8%AF%AF%E5%B7%AE%E5%87%BD%E6%95%B0%E7%9A%84%E5%80%BC%E5%9F%9F%E4%B8%BA%20%5B-1%2C1%5D%E3%80%82%20erf%E8%A2%AB%E7%94%A8%E4%BA%8E%E5%BD%92%E4%B8%80%E5%8C%96%E7%A6%BB%E7%BE%A4%E5%80%BC%E5%BE%97%E5%88%86%EF%BC%8C%E5%B0%86%E7%A6%BB%E7%BE%A4%E5%80%BC%E5%BE%97%E5%88%86%E5%85%B6%E8%BD%AC%E5%8C%96%E4%B8%BA%E7%BB%9F%E4%B8%80%E7%9A%84%E5%BC%82%E5%B8%B8%E6%A6%82%E7%8E%87%E3%80%82">参考1</a></li>
</ul>
</blockquote>
<h4 id="04-20"><a href="#04-20" class="headerlink" title="04-20"></a>04-20</h4><ol>
<li>气体润湿性<blockquote>
<ul>
<li>某种液体能否润湿固体，总是相对于另一相气体或液体而言的: 如果其中一相能够润湿固体，那么 另一相则不能润湿该固体。</li>
<li>例如：用导管将某种气体通入 处于液体中的岩屑周围，若液体相对于该气体对岩 屑选择性润湿，则气泡会因为浮力作用上升至液面 直至消失; 若气体相对于液体对岩屑选择性润湿，则 大部分气泡会克服浮力作用而在岩屑表面铺展开， 如肉眼常见的液体在固体表面铺展的润湿现象。</li>
<li>气体对固体的润湿性，认为这种气体的润湿性与液体恰好相反：固体液体润湿性越好，气体润湿性就越差；反之，固体液体润湿性越差，气体润湿性就越好。</li>
</ul>
</blockquote>
</li>
<li>不同润湿<blockquote>
<ul>
<li>在石油工业研究领域，通常认为在气&#x2F;液&#x2F;岩石体体系中<strong>液体为强润湿相</strong>，<strong>气体被视为非润湿相</strong>，因此 将油气储层岩石表面的润湿性划分为<strong>水润湿、油润湿 和中性润湿</strong>。</li>
</ul>
</blockquote>
</li>
<li>大量的理论和实验现象证实，这种气体所具有的润湿性或气体对固体的选择性润湿能力并不能被忽视。</li>
<li>气&#x2F;液&#x2F;固”体系中，液体相对于 气体并不总是能够完全润湿固体表面，气体对固体的 润湿能力在不同的体系中存在较大的差异。</li>
<li><a href="https://www.docin.com/p-663340109.html">https://www.docin.com/p-663340109.html</a></li>
<li></li>
</ol>
<h4 id="04-17"><a href="#04-17" class="headerlink" title="04-17"></a>04-17</h4><ol>
<li><a href="https://old.iupac.org/reports/2001/colloid_2001/manual_of_s_and_t/node18.html#:~:text=Gibbs%20dividing%20surface%28or%20Gibbs%0Asurface10%29%20is%20a%20geometrical%20surface,of%20adsorption%2C%20and%20of%20other%20surface%20excess%20properties.">Gibbs dividing surface</a><blockquote>
<ul>
<li><img src="https://old.iupac.org/reports/2001/colloid_2001/manual_of_s_and_t/img24.png"></li>
</ul>
</blockquote>
</li>
</ol>
<blockquote>
<ul>
<li><a href="http://rkt.chem.ox.ac.uk/lectures/liqsolns/liquid_surfaces.html">http://rkt.chem.ox.ac.uk/lectures/liqsolns/liquid_surfaces.html</a></li>
</ul>
<ol start="2">
<li><a href="https://www.chem.pku.edu.cn/huangjb/docs/20200210115242977483.pdf">https://www.chem.pku.edu.cn/huangjb/docs/20200210115242977483.pdf</a></li>
<li><a href="http://www.chm.bris.ac.uk/eastoe/Surf_Chem_Chinese/2%20adsorption.pdf">http://www.chm.bris.ac.uk/eastoe/Surf_Chem_Chinese/2%20adsorption.pdf</a></li>
</ol>
</blockquote>
<h4 id="04-14"><a href="#04-14" class="headerlink" title="04-14"></a>04-14</h4><ol>
<li><p>水解度(Hydrolysis degree)</p>
<blockquote>
<ul>
<li>是指盐类的水解达到平衡时，<strong>已水解的盐的分子数</strong>与<strong>溶解在溶液中的盐的分子总数之比</strong>叫盐的水解度，经常用$h$表示。</li>
</ul>
</blockquote>
</li>
<li><p>水解</p>
<blockquote>
<ul>
<li><strong>水解</strong>是一种化工单元过程，是<strong>利用水将物质分解形成新的物质的过程</strong>。通常是指盐类的水解平衡。</li>
<li>盐类的水解就是<strong>指盐中的弱碱阳离子或者酸根离子与水电离产生的氢离子或者氢氧根离子结合，生成弱电解质的过程</strong>。</li>
<li><strong>水解反应就是盐在溶液中和水作用而改变溶液酸度的反应</strong>，需要在一定温度条件下进行。</li>
</ul>
</blockquote>
</li>
<li><p>聚合度（DP、X n）(Degree of Polymerization) ：</p>
<blockquote>
<ul>
<li>衡量聚合物分子大小的指标。</li>
<li>以重复单元数为基准，即聚合物大分子链上所含重复单元数目的平均值，以n表示；</li>
<li>以结构单元数为基准，即聚合物大分子链上所含单个结构单元数目。</li>
</ul>
</blockquote>
</li>
</ol>
<h4 id="04-14-1"><a href="#04-14-1" class="headerlink" title="04-14"></a>04-14</h4><ol>
<li>油水乳状液(oilwater emulsion)<blockquote>
<ul>
<li>又称乳化液，指油和水所形成的乳状液。</li>
<li>油(或水)以液珠的形式均匀分散于与之不相溶的水(或油)中，液珠的直径一般大于0.1μm。</li>
<li>油珠分散在水中称水包油型乳状液，常用O&#x2F;W表示，反之为油包水型乳状液(W&#x2F;O)。</li>
<li>乳状液的形成和稳定有一定的条件。</li>
<li>油水混合物从井底采出过程中，随着压力的降低，伴生气不断从油中析出，产生急剧的紊流搅动，以及原油中含有的沥青质、胶质、环烷酸等天然乳化剂的存在，均会使油水形成稳定的乳状液。</li>
<li>一般情况下，<strong>含水小于50%时，集输过程中形成的多是油包水型</strong>，随着含水量的增大，其表观粘度愈来愈大。<strong>当含水量超过某值(50%～70%)时，出现游离水，部分乳状液反相成为水包油型</strong>，表观粘度急剧下降。</li>
</ul>
</blockquote>
</li>
</ol>
<h4 id="04-12"><a href="#04-12" class="headerlink" title="04-12"></a>04-12</h4><ol>
<li><strong>氢键</strong><blockquote>
<ul>
<li>氢键是指<strong>强极性键上的氢</strong>，与电负性很大、含孤对电子的 并带有部分负电荷的原子之间的吸引力作用。</li>
<li>氢键为区别化学键，用虚线表示。</li>
<li>强极性键上的氢是氢键供体，给出的是缺少电子的近似于裸露的氢核，而原子Y是氢键的受体，可以是富有电子的分子、离子或分子片段。</li>
<li>参考 <a href="https://zhuanlan.zhihu.com/p/340065176">https://zhuanlan.zhihu.com/p/340065176</a></li>
</ul>
</blockquote>
</li>
<li><strong>形成氢键的必要条件</strong><blockquote>
<ul>
<li>(1) 与N O F形成极性共价键的H</li>
<li>(2) 带部分电荷的N O F</li>
</ul>
</blockquote>
</li>
<li>氢键的能量约在10~30kJ·mol-1，比共价键、离子键的能量都小得多，还不能算作严格意义上的化学键，但比一般分子间作用力要大。</li>
<li>因此，液体在沸腾时，分子要逃脱氢键的束缚，就需要升高温度以吸收更多的能量，这就是分子间氢键的存在造成液体沸点升高的根本原因。</li>
<li>VMD计算氢键 <a href="https://mp.weixin.qq.com/s/P8Mt3BeKYNcOS12UmI0TCg">https://mp.weixin.qq.com/s/P8Mt3BeKYNcOS12UmI0TCg</a></li>
</ol>
<h3 id="2022-03"><a href="#2022-03" class="headerlink" title="2022-03"></a>2022-03</h3><h4 id="03-27"><a href="#03-27" class="headerlink" title="03-27"></a>03-27</h4><h4 id="03-23"><a href="#03-23" class="headerlink" title="03-23"></a>03-23</h4><ol>
<li>To the best of our knowledge 据我们所知</li>
<li>In conventional cases, 在常规情况下,</li>
<li>The main reasons may be listed as follows: 主要原因如下:</li>
<li>As mentioned before， 如上所述</li>
</ol>
<h4 id="03-22"><a href="#03-22" class="headerlink" title="03-22"></a>03-22</h4><ol>
<li>molten salts  熔融盐<blockquote>
<ul>
<li>molten carbonates 碳酸岩融烧（除二氧化硫）</li>
<li>molten nitrate 硝酸熔盐</li>
</ul>
</blockquote>
</li>
<li>corrosive adj. 腐蚀的；侵蚀性的 n. 腐蚀物<blockquote>
<ul>
<li>anticorrosive adj. [化工] 防蚀的 n. [助剂] 防腐剂</li>
</ul>
</blockquote>
</li>
<li>In the present study</li>
<li>a sputtering apparatus 一个溅射装置</li>
<li>calibrate v. 校准，标定（测量仪器等）；精确测量，准确估量；调整（实验结果），调节<blockquote>
<ul>
<li>Using such a calibrated probe 使用这种校准过的探头</li>
<li>calibrations n. 校准（calibration 的复数）；[仪]刻度</li>
<li>Through these calibrations</li>
</ul>
</blockquote>
</li>
<li>From this point of view 从这个观点来看</li>
<li>simultaneously adv. 同时地</li>
</ol>
<h4 id="03-10"><a href="#03-10" class="headerlink" title="03-10"></a>03-10</h4><ol>
<li><strong>Interfacial tension</strong>:<blockquote>
<ul>
<li><strong>Interfacial tension</strong> is the force of attraction between the molecules at the interface of two fluids. </li>
<li>At the air–liquid interface, this force is often referred to as surface tension. </li>
<li>The SI units for interfacial tension are milli-Newtons per meter (mN&#x2F;m). </li>
<li>These are equivalent to the former units of dynes per centimeter (dyne&#x2F;cm).</li>
</ul>
</blockquote>
</li>
</ol>
<h4 id="03-09"><a href="#03-09" class="headerlink" title="03-09"></a>03-09</h4><ol>
<li>According to the structure of the asphaltene, there are two different configurations: <strong>Archipelago</strong> and <strong>Island</strong>.<blockquote>
<p><img src="https://tse1-mm.cn.bing.net/th/id/R-C.068883d0bf2b58122df1518f186193f3?rik=8nHwsqVbR1xYfw&riu=http://pubs.rsc.org/services/images/RSCpubs.ePlatform.Service.FreeContent.ImageService.svc/ImageService/Articleimage/2015/OB/c5ob00836k/c5ob00836k-f1_hi-res.gif&ehk=eGvuaMzRhaBsdRbD1WqrBhqg1iUxl7/rtamOmg+AmKU=&risl=&pid=ImgRaw&r=0"><br>The <strong>archipelago</strong> architecture comprises several aromatic sheets attached through alkyl chains.<br>The <strong>Island</strong> (continental) architecture is a centered condensed aromatic sheet inside the asphaltene molecules attached to several alkyl chains.</p>
</blockquote>
</li>
<li>It is worth highlighting that the asphaltene stability index, the ratio of asphaltene + saturates to aromatics + resins, of a bitumen sample in this paper is almost 0.54, which means that the asphaltene molecules are stable in the oil phase<blockquote>
<p>$$沥青质稳定指数&#x3D;\frac{沥青质+饱和烃(比例)} {芳香烃+胶质(比例)}$$<br><em>(Scientific Reports | (2021) 11:19660)</em><br><em>(HeatTransfer Engineering, 21:10±16, 2000)</em><br><em>(RSC Adv., 2017, 7, 50786-50793)</em></p>
</blockquote>
</li>
</ol>
<h4 id="03-08"><a href="#03-08" class="headerlink" title="03-08"></a>03-08</h4><ol>
<li><p>蒸汽驱稠油模拟，可用分析方法</p>
<blockquote>
<p><em>(Scientific Reports | (2021) 11:19660)</em><br>1.1 radius of gyration<br>1.2 solvent accessible surface area<br>1.3 interfacial thickness<br>1.4 interaction energies<br>1.5 RDFs<br>1.6 MSD<br>1.7 self-diffusion coefficient<br><em>(Journal of Petroleum Science and Engineering 212 (2022) 110259)</em><br>1.8 Dipole moment of the polar molecules<br>1.9 interfacial tension</p>
</blockquote>
</li>
<li><p><strong>surfactants</strong> can significantly improve steam <strong>emulsification</strong> capability <strong>by decreasing the interfacial tension</strong> (IFT) between bitumen and the steam phase. </p>
<blockquote>
<p>降黏剂可以通过减少界面张力改善乳化能力</p>
</blockquote>
</li>
<li><p>surfactant&#x3D;&#x3D;surface active agent</p>
</li>
<li><p>physicochemical characteristics 物理化学特性</p>
</li>
<li><p>However, many unanswered fundamental questions remain</p>
</li>
<li><p>常见的<strong>surfactants</strong>：</p>
<blockquote>
<p>cationic;<br><a href="https://pubchem.ncbi.nlm.nih.gov/compound/Dodecyltrimethylammonium-bromide">dodecyl tri-methyl-ammonium bromide</a>(C15H34BrN)<br><img src="https://pubchem.ncbi.nlm.nih.gov/image/imgsrv.fcgi?cid=14249&t=l"><br>anionic<br><a href="https://pubchem.ncbi.nlm.nih.gov/compound/Sodium-dodecyl-benzenesulfonate">Sodium Dodecyl Benzene Sulfonate (SDBS)</a><br><img src="https://pubchem.ncbi.nlm.nih.gov/image/imgsrv.fcgi?cid=57371080&t=l"><br>According to their results they gained from MD simulation, the headgroup’s tendency to form hydrogen bonds with water as an anionic surfactant was higher than the cationic one<br>这意味着，在注入阴离子表面活性剂的情况下，油从砂层表面剥离的速度比注入阳离子表面活性剂要快。</p>
</blockquote>
</li>
</ol>
<blockquote>
<p><a href="https://pubchem.ncbi.nlm.nih.gov/compound/Sodium-dodecyl-sulfate">Sodium dodecyl sulfate (SDS)</a><br><img src="https://pubchem.ncbi.nlm.nih.gov/image/imgsrv.fcgi?cid=3423265&t=l"></p>
</blockquote>
<ol start="7">
<li>与carbon dioxide、methane和一些solvents相比，methane的降黏作用更好；</li>
<li>copolymer增加，asphlatene的氢键减少，黏度较少</li>
<li>scenarios</li>
<li>To the best of our knowledge</li>
<li>For this purpose</li>
<li>Nose–Hoover–Langevin (NHL) thermostat是个什么热浴法？？？</li>
<li></li>
</ol>
<h3 id="2022-02"><a href="#2022-02" class="headerlink" title="2022-02"></a>2022-02</h3><h3 id="2022-01"><a href="#2022-01" class="headerlink" title="2022-01"></a>2022-01</h3><h4 id="01-02-04"><a href="#01-02-04" class="headerlink" title="01-02~04"></a>01-02~04</h4><p><em>(Fuel 310 (2022) 122270)</em></p>
<ol>
<li>稠油降黏两大方法：物理（加热、注汽，所需设备昂贵和能耗大）、化学（添加剂，一般三种，水溶性乳化剂、纳米颗粒、油溶性降黏剂）</li>
</ol>
<pre class="mermaid">graph LR
A[稠油降黏两大方法]==>B(物理)
A==>C(化学)
B==>B1(注汽)
B==>B2(加热)
B1==>B3(所需设备昂贵和能耗大)
B2==>B3(所需设备昂贵和能耗大)
C==>C1(化学添加剂)
C1==>D1(水溶性乳化剂)
D1==>E1(在后处理中难以移除注入水和保持乳化剂稳定性)
C1==>D2(纳米颗粒)
D2==>E2(后期难以移除纳米颗粒 高的花费)
C1==>D3(油溶性降黏剂)
D3==>E3(不需要后处理 有很大优势)
style A fill:#ffff</pre>

<ol start="2">
<li>emulsifier 乳化剂：一种表面活性剂（surfactant）。<br><img src="https://bkimg.cdn.bcebos.com/pic/c8ea15ce36d3d53930e9f6673287e950342ab0ba?x-bce-process=image/watermark,image_d2F0ZXIvYmFpa2U4MA==,g_7,xp_5,yp_5/format,f_auto"></li>
</ol>
<ul>
<li>乳化剂是能<strong>使</strong>两种或<strong>两种以上互不相溶的组分的混合液体</strong>形成<strong>稳定的乳状液</strong>的一类物质</li>
<li>原理是在乳化过程中，分散相以微滴（微米级）的形式分散在连续相中，乳化剂<strong>降低了</strong>混合体系中各组分的<strong>界面张力</strong></li>
<li>并在微滴表面<strong>形成较坚固的薄膜</strong>或由于乳化剂给出的电荷而在<strong>微滴表面形成双电层</strong>，阻止微滴彼此聚集，而<strong>保持均匀的乳状液</strong></li>
</ul>
<ol start="3">
<li><strong>水包油（oil-in-water）比油包水（water-inoil）的稠油黏度低;</strong></li>
<li>emulsification viscosity reduction乳化降黏</li>
<li>in post-processing在后加工过程</li>
<li>In order to design oil-soluble viscosity reducers reasonably, it is of significant to explore interaction mechanism in the process of viscosity reduction of heavy oil.</li>
<li><strong>沥青质</strong>被认为是导致稠油黏度较高的一个重要组分，主要是因为沥青质可以<strong>通过极性基团</strong>和<strong>烷烃链</strong>形成<strong>聚集和团簇</strong>。<blockquote>
<ul>
<li>含有苯和酯基团的聚合物可以溶解沥青质<a href="https://www.sciencedirect.com/science/article/abs/pii/S0920410517310367">[ref]</a>；</li>
</ul>
</blockquote>
</li>
<li>Pour point depressants: Additives used in small amounts to enable the oil to flow at very low temperatures.<blockquote>
<ul>
<li>降凝剂是一种油品添加剂，少量加入即可大大改变油品中石蜡的结晶形态，改变体系的界面状态和流变性能，降低原油和油品的凝点和黏度，改善原油在采油、集储、储存等作业中的质量和效率。</li>
</ul>
</blockquote>
</li>
<li>put forward 提出</li>
<li>drawback 缺点</li>
<li>the Infrared Spectra 红外光谱</li>
<li>kerosene n. 煤油，火油</li>
<li>团簇分析，分子间距小于某个值时，就是一个团簇，平均团簇尺寸：沥青质数量&#x2F;团簇数量<blockquote>
<ul>
<li><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/2022-0104-1.png"></li>
<li>the molecules were considered as one cluster if the minimum distance among molecules was less than 0.35 nm </li>
<li>And the average cluster size, a new descriptor, is defined as the ratio of the number of asphaltenes (30) to the number of clusters.</li>
<li>团簇尺寸可以通过GROMACS里的the gmx_clustsize utility来算。</li>
</ul>
</blockquote>
</li>
<li><strong>The larger</strong> the value of average cluster size, <strong>the higher</strong> is the aggregation degree of asphaltenes.</li>
</ol>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2022</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2024-A</title>
    <url>/MyWiki/wiki/2024/01/01/notes/PaperReadNote2024_A/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/08/18/18/42/emotions-3615255_1280.jpg"></p>
<h2 id="Paper-Notes-2024"><a href="#Paper-Notes-2024" class="headerlink" title="Paper Notes 2024"></a>Paper Notes 2024</h2><h3 id="2024-1月-6月"><a href="#2024-1月-6月" class="headerlink" title="2024-1月~6月"></a>2024-1月~6月</h3><h4 id="Good-phrases"><a href="#Good-phrases" class="headerlink" title="Good phrases"></a>Good phrases</h4><ul>
<li>excellent biodegradability  良好的生物降解性</li>
<li><strong>Whether</strong> AFPs can <strong>play a dual role</strong> in anti-agglomeration and inhibition in pipeline transportation <strong>remains to be studied</strong>.</li>
<li>In this article, we <strong>employed</strong> MD simulation and <strong>selected</strong> wf-AFP to <strong>investigate</strong> its anti-aggregation effect <strong>through</strong> contact angle measurement and <strong>carry out detailed mechanism analysis.</strong></li>
<li><strong>As far as we know</strong>, <strong>this is the first time to investigate</strong> the anti-aggregation mechanism of AFPs on hydrates using the MD simulation.</li>
<li>To study the influences of wf-AFP on the surface wettability <strong>under various practical scenarios</strong></li>
<li>Before the formal simulation;</li>
<li>A wide range of applications of gas hydrates in storing natural gas in the form of artificially created solid hydrates, known as <strong>solidified natural gas technology</strong>, <strong>gas separation processes</strong>, and <strong>seawater desalination technology</strong>, has attracted great interest in scientific and practical studies.</li>
<li>It is noteworthy to mention that the SNG technology focuses on the use of methane gas due to the availability of this gas.</li>
<li>In the following,在接下来的：表示在接下来的时间、事件或列举中。</li>
<li>In this regard,在这方面；在这一点上</li>
<li><strong>The same goes true for</strong> the multi-salts systems 多盐体系也是如此</li>
<li><strong>It is always probable that</strong> incorrect data creep into the reported database for several reasons such as errors in the devices or human error in recording. </li>
<li>As is obvious,</li>
<li>As was mentioned in section 3.4,</li>
<li>Most of the time,</li>
<li>With these applications in mind, 考虑到这些应用，</li>
<li>Density functional theory works best for atomic-level, static properties, while molecular dynamics <strong>lends itself to</strong> more dynamical, larger-scale processes</li>
<li>in the hydrate research community 在水合物研究界</li>
<li>this work seeks to address that. 这项工作试图解决这个问题。</li>
<li>The <strong>premise</strong> of their application is that </li>
<li>The explanation <strong>set forth</strong> was that  提出的解释是这样的</li>
<li>Ergo: <ul>
<li>Therefore, </li>
<li>hence, </li>
<li>thus, </li>
<li>accordingly,</li>
<li>consequently. </li>
<li>On this account,</li>
</ul>
</li>
<li><mark>housing</mark> massive quantities of organic carbon</li>
<li>a complex network with <mark>miscellaneous</mark> pore structures,</li>
<li>terrestrial permafrost regions</li>
<li>due to the <strong>intricate</strong> dissociation mechanisms</li>
</ul>
<h3 id="水层厚度"><a href="#水层厚度" class="headerlink" title="水层厚度"></a>水层厚度</h3><blockquote>
<p> <a href="https://doi.org/10.1002/2015GC005811">https://doi.org/10.1002/2015GC005811</a></p>
</blockquote>
<ul>
<li>在石英颗粒和天然气水合物之间通常可以观察到水层；</li>
<li>石英表面覆盖着一层厚度可变的水层。</li>
</ul>
<h3 id="矿物颗粒表面结构对孔隙空间中水合物平衡条件没有显著影响"><a href="#矿物颗粒表面结构对孔隙空间中水合物平衡条件没有显著影响" class="headerlink" title="矿物颗粒表面结构对孔隙空间中水合物平衡条件没有显著影响"></a>矿物颗粒表面结构对孔隙空间中水合物平衡条件没有显著影响</h3><ul>
<li><p>矿物颗粒表面结构的变化，特别是沙子、粘土和玻璃珠表面结构的差异，对颗粒之间孔隙空间中形成的天然气水合物的平衡条件没有显著影响。因此，玻璃微珠有望成为一种有用的、表征良好的材料，用于研究具有小水膨胀能力的自然沉积物的平衡条件。</p>
</li>
<li><p>但是：材料组成的差异似乎影响了平衡温度变化对孔径的依赖关系。高岭土对孔隙大小的依赖性最敏感，多孔玻璃对孔隙大小的依赖性最弱。这种差异可能是由于水分子与粘土矿物之间的相互作用比水分子与硅玻璃之间的相互作用更强。</p>
<blockquote>
<p><a href="https://doi.org/10.1029/2003JB002771">https://doi.org/10.1029/2003JB002771</a></p>
</blockquote>
</li>
</ul>
<h3 id="孔径越大越利于水合物的形成？"><a href="#孔径越大越利于水合物的形成？" class="headerlink" title="孔径越大越利于水合物的形成？"></a>孔径越大越利于水合物的形成？</h3><blockquote>
<p>只有蒙脱石是这样？由于离子的作用？</p>
</blockquote>
<ul>
<li><p>It is found that larger pore size is more favorable for hydrate formation, no matter which surface contact is presented, as more bulk water molecules locate in the middle regions of the nanopores.</p>
</li>
<li><p>CH4 hydrate formation is prohibited in the 1.6-nm nanopores, but occurs in the larger nanopores with a layer spacing of 3.2 and 4.8 nm. </p>
<blockquote>
<p>Fuel 311 (2022) 122607</p>
</blockquote>
</li>
<li><p>It is mainly due to the larger effect of ions on the hydrate formation in the <strong>montmorillonite</strong> with the smaller pore size. When the pore size increases, this effect of ions reduces. Therefore, it is easier to form hydrate in the montmorillonite with the larger pore size</p>
<blockquote>
<p>Chinese Journal of Chemical Engineering 27 (2019) 1212–1218</p>
</blockquote>
</li>
<li><p>These results indicate that hydrate crystal growth in the aqueous solution system with small pore size clay is faster than that in the pure system. This implies that the hydroxylated edge sites of the surface of small pore size clay can promote hydrate growth. </p>
<blockquote>
<p>小孔径内水合物要比纯水体系生长快</p>
<p><em>Langmuir</em> 2016, 32, 31, 7975–7984</p>
</blockquote>
</li>
<li><p>These results indicate that the ability to promote hydrate growth on the surface of clay is weakened by the effect of diffusion for clay with a larger pore size. The speed of hydrate growth in the aqueous solution region of the clay system with a large pore size is slower than that in the pure water system.</p>
<blockquote>
<p>对于孔径较大的粘土，扩散效应削弱了粘土表面促进水合物生长的能力。</p>
<p><em>Langmuir</em> 2016, 32, 31, 7975–7984</p>
</blockquote>
</li>
<li><p>Hydrate growth is inhibited when the growth occurs in small pores with the smaller the pore, the greater the inhibition. </p>
<blockquote>
<p>当水合物生长发生在小孔隙中时，水合物生长受到抑制，孔隙越小，抑制作用越大。</p>
<p><a href="https://doi.org/10.1029/2003JB002771">https://doi.org/10.1029/2003JB002771</a></p>
</blockquote>
</li>
</ul>
<h3 id="油水乳化的五种命运"><a href="#油水乳化的五种命运" class="headerlink" title="油水乳化的五种命运"></a>油水乳化的五种命运</h3><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202405091649745.jpeg" alt="Image"></p>
<h3 id="Shan-Chen模型"><a href="#Shan-Chen模型" class="headerlink" title="Shan-Chen模型"></a>Shan-Chen模型</h3><ul>
<li>Shan-Chen 模型是一种在格子 Boltzmann 方法 (Lattice Boltzmann Method, LBM) 中使用的多相流模型。它最初由 Shan 和 Chen 在1993年提出，用于模拟流体动力学中的相分离和多孔介质流动等现象。</li>
<li>Shan-Chen 模型是基于格子 Boltzmann 方法的离散速度模型，其核心思想是在单一的离散速度上引入一个额外的色散势场，以模拟相互作用流体粒子之间的复杂性。这个色散势场的存在使得模型能够捕捉到流体微观尺度上的相分离、表面张力等效应，从而模拟出宏观上的多相流动行为。</li>
<li>Shan-Chen 模型通常被用于模拟包括多孔介质流动、界面运动、气液两相流等在内的复杂多相流现象。其相比于传统的 LBM 模型，具有较高的数值稳定性和模拟效率，在多相流领域得到了广泛的应用和研究。</li>
</ul>
<h3 id="在有限的区域内传热对水合物结构演化的影响有限"><a href="#在有限的区域内传热对水合物结构演化的影响有限" class="headerlink" title="在有限的区域内传热对水合物结构演化的影响有限"></a>在有限的区域内传热对水合物结构演化的影响有限</h3><blockquote>
<p>The Innovation Energy 1(1): 100015, February 26, 2024</p>
</blockquote>
<ul>
<li>Consequently, the uniform temperature distribution across the domain does not result in substantial regional variations in hydrate dissociation, indicating that heat transfer processes exert a negligible impact on hydrate structural evolution within a limited reservoir framework.</li>
</ul>
<h3 id="支撑水合物沉积物三相共存分布"><a href="#支撑水合物沉积物三相共存分布" class="headerlink" title="支撑水合物沉积物三相共存分布"></a>支撑水合物沉积物三相共存分布</h3><blockquote>
<p>Journal of Geophysical Research: Solid Earth, 1999, 104(B10): 22985-23003.</p>
</blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404221633362.png" alt="image-20240422163337275"></p>
<h3 id="PVP对水合物成核生长的影响："><a href="#PVP对水合物成核生长的影响：" class="headerlink" title="PVP对水合物成核生长的影响："></a>PVP对水合物成核生长的影响：</h3><ul>
<li>Under certain conditions, PVP affects only hydrate growth and not nucleation.<ul>
<li><a href="https://doi.org/10.1016/j.jngse.2016.06.035">https://doi.org/10.1016/j.jngse.2016.06.035</a></li>
</ul>
</li>
</ul>
<h3 id="孔隙水合物CT图像"><a href="#孔隙水合物CT图像" class="headerlink" title="孔隙水合物CT图像"></a>孔隙水合物CT图像</h3><ul>
<li><p><img src="https://agupubs.onlinelibrary.wiley.com/cms/asset/b16875ba-e77b-49fd-8b3b-b09d4c080cc0/ggge20735-fig-0001-m.png"></p>
<ul>
<li>(样品1,Ws &#x3D; 20%)气-水界面GH薄膜成核:(a) GH开始形成前的CT图像，(b)反应时间70 s (tR &#x3D; 70 s)后的CT图像。白色为天然气水合物(GH)，灰色为水(W)和氙(Xe)，浅灰色为石英、砂(Qz)。气体和幼年水的对比几乎相同，只能通过半月板将两相分开来区分。</li>
</ul>
</li>
<li><p><img src="https://agupubs.onlinelibrary.wiley.com/cms/asset/9e5ad9ae-69e0-4060-a334-cd5661c85180/ggge20735-fig-0007-m.png"></p>
<ul>
<li>(a)层析成像显示沉积物颗粒和GH之间的剩余流体相(很可能是水);蓝色圈圈区域表示靠近粒间接触的水桥，红色圈圈区域表示颗粒表面较大的水袋。(b)在[Priest et al.， 2006]之后修改的喷射流概念模型，其中石英为灰色，水为蓝色，GH为黄色，显示了水桥和水袋，后者可能位于GH晶体之间的晶界。</li>
</ul>
</li>
</ul>
<h3 id="Peng-Robinson-Equation-of-State-PR-EOS"><a href="#Peng-Robinson-Equation-of-State-PR-EOS" class="headerlink" title="Peng Robinson Equation of State(PR EOS)"></a><a href="https://www.studysmarter.co.uk/explanations/engineering/engineering-thermodynamics/peng-robinson-equation-of-state/">Peng Robinson Equation of State(PR EOS)</a></h3><ul>
<li><p>Peng Robinson Equation of State是热力学领域的一个重要概念，在各个工程学科中发挥着重要作用。这个方程经常用于化学过程的模拟和优化，特别是那些涉及碳氢化合物的过程。这是理解真实流体行为、相平衡和热力学性质(如焓和熵)的关键方面。</p>
</li>
<li><p>本质上是一个数学模型，用于计算和预测纯组分和混合物在气体、液体和超临界流体状态下的行为。</p>
</li>
<li><p>这个状态方程是一个三次形式，类似于Van der Waals和Redlich-Kwong早期的方程，只是增加了一个额外的项来更好地描述非理想流体的行为。它的有效性，特别是对于含碳氢化合物的体系，使其在工业和学术界得到了广泛的应用。</p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404061905522.png" alt="image-20240406190543455"></p>
</li>
<li><p>Peng-Robinson状态方程提供了碳氢化合物体系相行为的准确描述，并合理地表示了密度和压缩系数。这使其成为石油工业中烃类系统模拟的理想选择。</p>
</li>
<li></li>
</ul>
<h3 id="水合物形成速率公式（实验）"><a href="#水合物形成速率公式（实验）" class="headerlink" title="水合物形成速率公式（实验）"></a>水合物形成速率公式（实验）</h3><ul>
<li><p>$r(t)&#x3D;\frac {(n_{CH_{4,i-1}}-n_{CH_{4,i+1}})} {(t_{i+1}-t_{i-1})n_{wo}}$</p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202404061849236.png" alt="image-20240406184948065"></p>
</li>
</ul>
<h3 id="水合物形成和分解实验步骤"><a href="#水合物形成和分解实验步骤" class="headerlink" title="水合物形成和分解实验步骤"></a>水合物形成和分解实验步骤</h3><blockquote>
<p><em>Fuel 356 (2024) 129651</em></p>
</blockquote>
<h4 id="形成"><a href="#形成" class="headerlink" title="形成"></a>形成</h4><ol>
<li>清洗反应器，至少三次；</li>
<li>添加一定量（比例）的去离子水（抑制剂）；</li>
<li>缓慢通入甲烷气体，排出反应器内空气；</li>
<li>控制水浴温度，保持温度约2小时；</li>
<li>然后将反应器迅速加压到水合物形成的实验压力；</li>
<li>水合物反应在（未）搅拌的罐式反应器中进行；</li>
<li>当反应器内压力保持恒定值至少5小时时，反应终止。</li>
</ol>
<h4 id="分解"><a href="#分解" class="headerlink" title="分解"></a>分解</h4><ol start="8">
<li>以5.0 K的速度递增温度；</li>
<li>每个温度保持约10小时，使系统达到平衡状态；</li>
</ol>
<h4 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h4><ul>
<li><p>环戊烷存在的时候，生成的水合物是sII型水合物？</p>
<blockquote>
<p>Sloan Jr ED. Koh CA. Koh C. Clathrate hydrates of natural gases: CRC Press; 2007.</p>
<p><em>Fuel 356 (2024) 129651</em></p>
</blockquote>
</li>
<li><p>结构I(sI)纯CH4水合物在288.15 K下的水合物形成条件为11.85 MPa。</p>
<blockquote>
<p>Sloan Jr ED. Koh CA. Koh C. Clathrate hydrates of natural gases: CRC Press; 2007.</p>
</blockquote>
</li>
<li></li>
</ul>
<h3 id="collinearity-exclusion"><a href="#collinearity-exclusion" class="headerlink" title="collinearity exclusion"></a>collinearity exclusion</h3><ul>
<li><p>“collinearity exclusion”通常指的是在数据分析或建模中，通过排除共线性（collinearity）来改善模型的性能和稳定性。共线性是指两个或多个自变量之间存在高度线性相关性的情况，这可能会导致模型的不稳定性和解释性降低</p>
</li>
<li><p>在许多统计和机器学习模型中，共线性可能导致以下问题：</p>
<ol>
<li><strong>参数估计不准确</strong>：当自变量之间存在共线性时，参数估计可能变得不准确，使得模型的预测能力下降。</li>
<li><strong>模型解释困难</strong>：共线性使得模型中每个自变量的独立解释能力降低，使得解释模型的整体效果变得困难。</li>
<li><strong>过拟合</strong>：在存在共线性的情况下，模型可能会过度拟合训练数据，导致在新数据上的泛化能力不佳。</li>
</ol>
</li>
<li><p>为了解决这些问题，可以通过采取以下方法来排除共线性：</p>
<ol>
<li><strong>特征选择</strong>：选择对目标变量有较强影响而且彼此之间相关性较低的自变量。</li>
<li><strong>特征变换</strong>：对自变量进行变换，如PCA（Principal Component Analysis，主成分分析）等方法，降低它们之间的相关性。</li>
<li><strong>正则化</strong>：通过添加正则化项来惩罚模型中的高系数，从而减少共线性对模型的影响。</li>
</ol>
</li>
<li><p>通过排除共线性，可以改善模型的性能和稳定性，使得模型更适用于实际应用。</p>
<blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
</li>
</ul>
<h3 id="神经网络种类"><a href="#神经网络种类" class="headerlink" title="神经网络种类"></a>神经网络种类</h3><h4 id="Feedforward-neural-networks-（FNN）前馈神经网络"><a href="#Feedforward-neural-networks-（FNN）前馈神经网络" class="headerlink" title="Feedforward neural networks （FNN）前馈神经网络"></a>Feedforward neural networks （FNN）前馈神经网络</h4><ul>
<li>前馈神经网络（Feedforward Neural Network ,FNN），简称前馈网络。</li>
<li>整个网络中的信息是朝着一个方向传播的，即输入到输出方向，没有反向的信息传播（和误差反向传播不是一回事）,可用有向无环图表示</li>
<li>前馈神经网络包括**全连接前馈神经网络(FC)<strong>和</strong>卷积神经网络(CNN)**。</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202403271648643.png" alt="img"></li>
</ul>
<h4 id="反馈型神经神经网络"><a href="#反馈型神经神经网络" class="headerlink" title="反馈型神经神经网络"></a>反馈型神经神经网络</h4><ul>
<li><p>反馈神经网络中神经元不但可以接收其他神经元的信号，而且可以接收自己的反馈信号。</p>
</li>
<li><p>和前馈神经网络相比，反馈神经网络中的神经元具有记忆功能，在不同时刻具有不同的状态。反馈神经网络中的信息传播可以是单向也可以是双向传播</p>
</li>
<li><p>常见的反馈神经网络包括**循环神经网络(RNN)**、Hopfield网络和玻尔兹曼机</p>
</li>
<li></li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202403271650548.png" alt="img"></p>
</li>
</ul>
<h4 id="图网络"><a href="#图网络" class="headerlink" title="图网络"></a>图网络</h4><ul>
<li><p>前馈神经网络和反馈神经网络的输入都可表示为向量或者向量序列，但实际应用中很多数据都是图结构的数据，比如知识图谱、社交网络和分子网络等。这时就需要用到图网络来进行处理。</p>
</li>
<li><p>图网络是定义在图结构数据上的神经网络，图中每个结点都由一个或者一组神经元组成。结点之前的连接可以是有向的，也可以是无向的。每个结点可以收到来自相邻结点或自身的信息。</p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202403271651776.png" alt="img"></p>
</li>
</ul>
<h3 id="PVP-拉曼"><a href="#PVP-拉曼" class="headerlink" title="PVP 拉曼"></a>PVP 拉曼</h3><ul>
<li><img src="https://publicspectra.com/images/Raman/Polyvinylpyrrolidone.png"></li>
</ul>
<blockquote>
<p><a href="https://blog.csdn.net/weixin_40519315/article/details/104514507">https://blog.csdn.net/weixin_40519315/article/details/104514507</a></p>
</blockquote>
<h3 id="Viscous-temperature"><a href="#Viscous-temperature" class="headerlink" title="Viscous temperature"></a>Viscous temperature</h3><ul>
<li><p>“Viscous temperature” 通常是指在流体力学中，特别是液体流体力学中，用来描述粘性行为的一个概念。</p>
</li>
<li><p>在液体中，温度的影响会导致流体的粘性发生变化。当温度升高时，液体的粘度通常会降低，使得流体更容易流动。而 “viscous temperature” 是指在某个温度下，流体的粘度等于某个特定的值（通常是初始粘度的一半）。这个温度被称为 “viscous temperature”。</p>
</li>
<li><p>在流体力学中，了解 “viscous temperature” 对于预测流体行为和性能是非常重要的。它可以影响到许多液体流体的现象，如流动的稳定性、湍流的形成、热传导等。</p>
<blockquote>
<p>ChatGPT可能会犯错误。请考虑核实重要信息。</p>
</blockquote>
</li>
</ul>
<h3 id="电场控制水合物分解的电场范围"><a href="#电场控制水合物分解的电场范围" class="headerlink" title="电场控制水合物分解的电场范围"></a>电场控制水合物分解的电场范围</h3><ul>
<li><p>0.8, 1.2, 1.6 and 2.0 V&#x2F;nm</p>
</li>
<li><p>$m_i\vec{r_i}&#x3D;f_i+q_i\vec{E}(t)$</p>
<blockquote>
<p>J. Chem. Thermodynamics 117 (2018) 68–80</p>
</blockquote>
</li>
<li><p>0.9~1.4 V&#x2F;nm</p>
<blockquote>
<p>Fuel 307 (2022) 121866</p>
</blockquote>
</li>
<li><p>$E(t)&#x3D;A*\vec{u}*cos(2\pi vt+\varphi)$</p>
<ul>
<li>$A$ 电磁强度；</li>
<li>$v$ 频率</li>
<li>$\vec{u}、\varphi$ 极化方向（0,1,0）、相位</li>
</ul>
<blockquote>
<p><a href="https://doi.org/10.1021/acs.nanolett.4c00248">https://doi.org/10.1021/acs.nanolett.4c00248</a></p>
</blockquote>
</li>
<li><p>高频或低频电场对水合物的影响较小：155 or 80000GHz</p>
<blockquote>
<p>Fuel 321 (2022) 124014</p>
</blockquote>
</li>
</ul>
<h3 id="SPC模型低估水合物分解模型约60-K"><a href="#SPC模型低估水合物分解模型约60-K" class="headerlink" title="SPC模型低估水合物分解模型约60 K"></a>SPC模型低估水合物分解模型约60 K</h3><blockquote>
<p>J. Chem. Thermodynamics 117 (2018) 68–80</p>
<p>J. Chem. Phys. 138 (2013) 056101.</p>
</blockquote>
<h3 id="The-van-der-Waals-and-Platteeuw-vdW-P-model"><a href="#The-van-der-Waals-and-Platteeuw-vdW-P-model" class="headerlink" title="The van der Waals and Platteeuw (vdW-P) model"></a>The van der Waals and Platteeuw (vdW-P) model</h3><blockquote>
<p><em>Renewable and Sustainable Energy Reviews 173 (2023) 113103</em></p>
</blockquote>
<ul>
<li>是预测天然气水合物平衡条件最常用的热力学模型之一， 基于经典统计热力学。</li>
<li>局限性：<ul>
<li>calculating the Langmuir adsorption constants is complex </li>
<li>the vdW-P model has a high error in calculating the gas-hydrate equilibrium at low and high temperatures</li>
</ul>
</li>
</ul>
<h3 id="salts对甲烷水合物的热力学和动力学都有影响？"><a href="#salts对甲烷水合物的热力学和动力学都有影响？" class="headerlink" title="salts对甲烷水合物的热力学和动力学都有影响？"></a>salts对甲烷水合物的热力学和动力学都有影响？</h3><ul>
<li><p>Moreover, as salts have a significant effect on both the thermodynamics and kinetics of methane hydrates, much attention has recently been directed to the use of seawater in addition to pure water for the formation of methane hydrates</p>
<blockquote>
<p><em>Renewable and Sustainable Energy Reviews 173 (2023) 113103</em></p>
</blockquote>
</li>
</ul>
<h3 id="solidified-natural-gas-SNG-优势"><a href="#solidified-natural-gas-SNG-优势" class="headerlink" title="solidified natural gas (SNG)优势"></a>solidified natural gas (SNG)优势</h3><ul>
<li><p>high volume storage capacity, </p>
</li>
<li><p>environmental friendliness, </p>
</li>
<li><p>high safety,</p>
</li>
<li><p>cost-effectiveness, </p>
</li>
<li><p>large-scale natural gas storage</p>
<blockquote>
<p>Chem Eng J 2021;415:128927.</p>
</blockquote>
</li>
</ul>
<h3 id="能量最小化方法：最速下降法和共轭梯度法"><a href="#能量最小化方法：最速下降法和共轭梯度法" class="headerlink" title="能量最小化方法：最速下降法和共轭梯度法"></a>能量最小化方法：最速下降法和共轭梯度法</h3><ul>
<li><p>最速下降法是快速移除体系内应力的好方法, 但是接近能量极小点时收敛比较慢；</p>
</li>
<li><p>共轭梯度法在能量极小点附近收敛效率高一些；</p>
</li>
<li><p>一般做能量最小化时都是先利用最速下降法进行优化, 完成之后再对得到的构象利用共轭梯度法优化一次, 这样做能有效地保证后续模拟的进行</p>
</li>
</ul>
<h3 id="麦克斯韦-玻尔兹曼分布"><a href="#麦克斯韦-玻尔兹曼分布" class="headerlink" title="麦克斯韦-玻尔兹曼分布"></a>麦克斯韦-玻尔兹曼分布</h3><ul>
<li><p>The initial velocity distribution of all molecules follows the Maxwell-Boltzmann distribution</p>
</li>
<li><p><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/01/MaxwellBoltzmann-en.svg/360px-MaxwellBoltzmann-en.svg.png" alt="img"></p>
</li>
<li><p>在分子动力学模拟或统计力学中，麦克斯韦-玻尔兹曼分布描述了在热平衡状态下，理想气体中分子的速度分布。</p>
</li>
<li><p>麦克斯韦-玻尔兹曼分布的数学表达式取决于温度和分子质量。在一维情况下，其概率密度函数为：</p>
<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202401241644784.png" alt="image-20240124164422690"></li>
</ul>
</li>
<li><p>这个分布表明在热平衡状态下，更多的分子具有较低的速度，而较高速度的分子数量相对较少。这种分布在模拟和理解气体的热力学性质以及在分子动力学模拟中的初始条件设定时非常常见。</p>
</li>
</ul>
<h3 id="MD测接触角时为什么选择半圆柱形？"><a href="#MD测接触角时为什么选择半圆柱形？" class="headerlink" title="MD测接触角时为什么选择半圆柱形？"></a>MD测接触角时为什么选择半圆柱形？</h3><blockquote>
<p><em>Chemical Engineering Journal 481 (2024) 148387</em></p>
</blockquote>
<ul>
<li><p>Firstly, the use of semi-cylindrical geometry allows for a straight-line contact between the water droplet and the substrate, thereby reducing the curvature of the droplet.</p>
<blockquote>
<p>This decreases the nanoscale pressure difference at the water–oil&#x2F;gas interface, ensuring that the contact angle measured at the nanoscale is consistent with the<br>contact angle measured at the macroscopic scale</p>
</blockquote>
</li>
<li><p>Secondly, the semi-cylindrical shape eliminates the influence of three-phase line tension, which can significantly impact contact angle results at the molecular scale.</p>
</li>
</ul>
<h3 id="抗冻蛋白也属于动力学抑制剂？"><a href="#抗冻蛋白也属于动力学抑制剂？" class="headerlink" title="抗冻蛋白也属于动力学抑制剂？"></a>抗冻蛋白也属于动力学抑制剂？</h3><ul>
<li><p>Antifreeze proteins (AFPs), as the green KIs, are environmentally friendly</p>
</li>
<li><p>Besides, AFPs’ inhibitory performance on hydrates surpasses that of copolymers such as PVP&#x2F;PVCap</p>
</li>
<li><ul>
<li><blockquote>
<p><em>Chemical Engineering Journal 481 (2024) 148387</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="表面活性剂促进水合物成核、生长机理"><a href="#表面活性剂促进水合物成核、生长机理" class="headerlink" title="表面活性剂促进水合物成核、生长机理"></a>表面活性剂促进水合物成核、生长机理</h3><ul>
<li>疏水链吸附在水合物表面，亲水链暴露在液相。吸附作用稳定了成核，减少了成核屏障，缩短了诱导时间，提高了水合物的生长动力学；<ul>
<li>J. Phys. Chem. B 122 (2018) 6536–6542,</li>
</ul>
</li>
<li>一般来说，SDS是有毒的，并且具有很高的降解成本</li>
</ul>
<h3 id="什么是counterions？"><a href="#什么是counterions？" class="headerlink" title="什么是counterions？"></a>什么是counterions？</h3><blockquote>
<p>ChatGPT</p>
</blockquote>
<ul>
<li><p>counterions是指在溶液中与带电物质相反电荷的离子。</p>
</li>
<li><p>在化学和生物化学中，许多物质可以带有电荷，这些电荷可以是正电荷（阳离子）或负电荷（阴离子）。为了维持电中性，这些带电物质通常会被周围的离子所包围，这些离子的电荷与带电物质相反，从而抵消了电荷效应。</p>
</li>
<li><p>例如，如果一个分子带有正电荷，周围可能会有一些带有负电荷的离子围绕着它，以保持整体电中性。这些负电荷的离子被称为”counterions”，因为它们的电荷与原始带电物质相反。</p>
</li>
<li><p>Counterions 在溶液中起着重要作用，它们可以影响物质的溶解性、稳定性和化学反应。在生物体系中，例如蛋白质和核酸中，也经常涉及到counterions，它们对生物大分子的结构和功能有重要影响。</p>
</li>
<li><p>蒙脱石（montmorillonite）是一种属于硅酸盐矿物的粘土矿物，它通常包含有 counterions。蒙脱石的晶格结构中存在一些正电荷的金属离子，例如铝离子，这些金属离子可以吸引周围的负电荷离子，即 counterions。普通的 counterions 包括水分子、氢氧根离子（OH⁻）、以及其他一些带负电荷的离子。这些 counterions 可以与蒙脱石的结构中的正电荷部分相互作用，维持矿物的电中性，并影响蒙脱石的物理和化学性质。这些性质使蒙脱石在土壤科学、地球化学、以及一些工业应用中具有重要的作用。</p>
</li>
<li><p>水分子可以被认为是 counterions 的一种，尤其在某些情况下，这与水分子的极性和其在溶液中的行为有关。水分子（H₂O）是极性分子，其中氧原子具有更强的电负性，而氢原子带有正电荷。由于极性，水分子能够与带有相反电荷的离子相互作用，尤其是负电荷的部分与氢原子附近的正电荷形成氢键。在某些情况下，当溶液中存在带有正电荷的物质时，水分子可以围绕这些正电荷的物质形成氢键，从而在电荷上形成一种屏蔽作用。这种情况下，水分子可以被视为带有负电荷的 counterions，因为它们有助于抵消正电荷的效应，保持整个系统的电中性。</p>
<p>总体而言，水分子在溶液中的极性和氢键形成能力使其在很多情况下都可以充当 counterions，对维持溶液的电中性起到重要作用。</p>
</li>
</ul>
<h3 id="不同抑制剂优缺点"><a href="#不同抑制剂优缺点" class="headerlink" title="不同抑制剂优缺点"></a>不同抑制剂优缺点</h3><blockquote>
<p>Chemical Engineering Journal 481 (2024) 148387</p>
</blockquote>
<ul>
<li><p>PVCap可以吸附在水合物表面，但是不稳定；</p>
</li>
<li><p>聚合物、离子液体不是很环保，生物降解性小于30%，</p>
</li>
<li><p>聚合物、离子液体在高度过冷时，它们失去了抑制效果</p>
<blockquote>
<p>水合物分解抑制剂应该不会在高过冷环境吧？因为需要分解抑制剂的环境应该是水合物相平衡条件以外了。</p>
</blockquote>
</li>
<li><p>抗凝聚剂：尽管不会抑制水合物形成，但是会包裹水合物颗粒，防止水合物聚集；能够在高过冷条件下发挥作用。</p>
<ul>
<li>防止聚集原因：能够吸附在水合物表面；能够改变水合物表面的形态、润湿性以及颗粒间相互作用；</li>
</ul>
</li>
<li><p>有研究表明表面活性能够使水合物表面从水湿变油湿，防止水合物颗粒间黏附</p>
</li>
</ul>
<h3 id="为什么VMD获得的RMSD是弯曲的？噪音很大，其平均不等于MSD？"><a href="#为什么VMD获得的RMSD是弯曲的？噪音很大，其平均不等于MSD？" class="headerlink" title="为什么VMD获得的RMSD是弯曲的？噪音很大，其平均不等于MSD？"></a>为什么VMD获得的RMSD是弯曲的？噪音很大，其平均不等于MSD？</h3><h4 id="RMSD"><a href="#RMSD" class="headerlink" title="RMSD"></a>RMSD</h4><ul>
<li><p>RMSD（Root Mean Square Deviation）是一种用于比较两个结构（通常是蛋白质、分子等）之间的相似性的指标。它衡量的是两个结构中相应原子之间的平均距离。RMSD 是结构生物学和计算化学中常用的指标之一，通常用于分析模拟过程中的结构变化或比较实验结构与计算结构之间的差异。</p>
</li>
<li><p>RMSD 的计算步骤如下：</p>
<ul>
<li>对两个结构中的每个原子，计算它们的坐标之差（偏移量）。</li>
<li>将每个偏移量的平方相加，得到总的平方偏移量。</li>
<li>将总的平方偏移量除以原子数目，得到均方偏移量。</li>
<li>取均方偏移量的平方根，即 RMSD。</li>
</ul>
</li>
<li><p>RMSD 的公式表示为：</p>
<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202401122144065.png" alt="image-20240112214430000"></li>
</ul>
</li>
<li><p>RMSD 的值越小，表示两个结构越相似。在分子动力学模拟等领域，RMSD 被广泛用于评估模拟轨迹中的结构演变，以及比较模拟结果与实验结构之间的一致性。</p>
</li>
</ul>
<h4 id="MSD"><a href="#MSD" class="headerlink" title="MSD"></a>MSD</h4><ul>
<li><p>MSD，或均方位移（Mean Squared Displacement），是一种用于描述粒子在空间中运动轨迹的统计量。它量化了粒子相对于其初始位置的平均位移的平方随时间的演变。</p>
</li>
<li><p>在计算 MSD 时，通常考虑的是粒子在不同时间点的位置。公式如下：</p>
<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202401122146361.png" alt="image-20240112214654330"></li>
</ul>
</li>
<li><p>MSD 是研究粒子扩散、运动性质和空间漫步的重要工具。通过分析 MSD 随时间的变化，可以得知粒子的扩散性质，例如是否存在受限制的运动、扩散的速率等信息。在生物学、物理学、材料科学和化学等领域，MSD 的分析在理解微观粒子行为和材料性质方面具有广泛的应用。</p>
</li>
</ul>
<h4 id="RMSD和MSD的区别"><a href="#RMSD和MSD的区别" class="headerlink" title="RMSD和MSD的区别"></a>RMSD和MSD的区别</h4><ul>
<li>RMSD侧重于比较结构的相似性，而MSD侧重于揭示颗粒在空间中的运动特性。它们在不同领域和应用中有各自的意义。</li>
</ul>
<h4 id="为什么VMD获得的RMSD是弯曲的？"><a href="#为什么VMD获得的RMSD是弯曲的？" class="headerlink" title="为什么VMD获得的RMSD是弯曲的？"></a>为什么VMD获得的RMSD是弯曲的？</h4><ul>
<li>因为VMD中的MSD没有进行时间段的平均；</li>
<li>并且VMD中计算的RMSD平方不等于MSD；</li>
</ul>
<h3 id="如何获得线性比较好的MSD"><a href="#如何获得线性比较好的MSD" class="headerlink" title="如何获得线性比较好的MSD"></a>如何获得线性比较好的MSD</h3><ul>
<li>参考：<a href="https://blog.csdn.net/weixin_45896923/article/details/123018032">5种方法计算均方位移MSD</a></li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2024</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>机器学习基础-1</title>
    <url>/MyWiki/wiki/2022/09/22/notes/MachineLearning/MLPython-1/</url>
    <content><![CDATA[<p>[toc]</p>
<h1 id="Machine-Learning-with-Python"><a href="#Machine-Learning-with-Python" class="headerlink" title="Machine Learning with Python"></a>Machine Learning with Python</h1><h2 id="机器学习前期基础"><a href="#机器学习前期基础" class="headerlink" title="机器学习前期基础"></a>机器学习前期基础</h2><h3 id="监督-x2F-无监督学习算法"><a href="#监督-x2F-无监督学习算法" class="headerlink" title="监督&#x2F;无监督学习算法"></a>监督&#x2F;无监督学习算法</h3><ul>
<li>从输入&#x2F; 输出对中进行学习的机器学习算法叫作<strong>监督学习算法（supervised learning algorithm）</strong>；</li>
<li><strong>无监督学习算法（unsupervised learning algorithm）</strong>：在无监督学习中，只有输入数据是已知的，没有为算法提供输出数据。虽然这种算法有许多成功的应用，但理解和评估这些算法往往更加困难。<blockquote>
<ol>
<li>无论是监督学习任务还是无监督学习任务，将输入数据表征为计算机可以理解的形式都是十分重要的。</li>
<li>每当想要根据给定输入预测某个结果，并且还有输入&#x2F; 输出对的示例时，都应该使用监督学习。</li>
</ol>
</blockquote>
</li>
</ul>
<h3 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h3><ul>
<li>将数据想象成表格：每一行被称为一个样本（sample）或数据点；而每一列（用来描述这些实体的属性）则被称为特征（feature）。</li>
</ul>
<h3 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h3><ul>
<li><a href="https://scikit-learn.org/stable/">scikit-learn</a></li>
<li><a href="https://scikit-learn.org/stable/user_guide.html">scikit-learn user_guide</a></li>
<li>numpy; scipy; matplotlib; pandas</li>
<li>Jupyter Notebook</li>
</ul>
<h2 id="机器学习步骤"><a href="#机器学习步骤" class="headerlink" title="机器学习步骤"></a>机器学习步骤</h2><h3 id="构建一个机器学习模型"><a href="#构建一个机器学习模型" class="headerlink" title="构建一个机器学习模型"></a>构建一个机器学习模型</h3><ul>
<li>一部分数据用于构建机器学习模型，叫作<strong>训练数据（training data）</strong>或<strong>训练集（training set）</strong></li>
<li>其余的数据用来评估模型性能，叫作<strong>测试数据（test data）</strong>、<strong>测试集（test set）</strong>或<strong>留出集（hold-out set）</strong><blockquote>
<p>一般将75%的行数据及对应标签作为训练集，剩下25%的数据及其标签作为测试集。<br><code>scikit-learn</code> 中的<code>train_test_split</code> 函数</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line">iris_dataset = load_iris()</span><br><span class="line"><span class="comment"># 训练集、测试集划分函数</span></span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="comment"># train_test_split 函数利用伪随机数生成器将数据集打乱，确保测试集中包含所有类别的数据。</span></span><br><span class="line">X_train, X_test, y_train, y_test  = train_test_split(</span><br><span class="line">	iris_dataset[<span class="string">&quot;data&quot;</span>],iris_dataset[<span class="string">&quot;target&quot;</span>],random_state=<span class="number">0</span>) </span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="观测数据"><a href="#观测数据" class="headerlink" title="观测数据"></a>观测数据</h3><h3 id="算法"><a href="#算法" class="headerlink" title="算法"></a>算法</h3><ul>
<li>分类算法：如，k近邻算法<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 引入K近邻分类器，并实例化，给出近邻数目</span></span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line">knn = KNeighborsClassifier(n_neighbors = <span class="number">1</span>)</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="训练"><a href="#训练" class="headerlink" title="训练"></a>训练</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">knn.fit(X_train,y_train)</span><br></pre></td></tr></table></figure>
<h3 id="预测-评估"><a href="#预测-评估" class="headerlink" title="预测@评估"></a>预测@评估</h3><figure class="highlight py"><table><tr><td class="code"><pre><span class="line">y_pred = knn.predict(X_test)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;测试集预测：\n&#123;&#125;&quot;</span>.<span class="built_in">format</span>(y_pred))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;测试集精度：\n&#123;&#125;&quot;</span>.<span class="built_in">format</span>(np.mean(y_pred == y_test)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测某一朵花的数据</span></span><br><span class="line"><span class="comment"># sepal length (cm)&#x27;, &#x27;sepal width (cm)&#x27;, &#x27;petal length (cm)&#x27;, &#x27;petal width (cm)&#x27;</span></span><br><span class="line">X_new = np.array([<span class="number">5.6</span>,<span class="number">2.9</span>,<span class="number">1</span>,<span class="number">0.5</span>]).reshape(<span class="number">1</span>,-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">y_pred_new = knn.predict(X_new)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;预测：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(y_pred_new))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;预测花种类：&#123;&#125;&quot;</span>.<span class="built_in">format</span>(iris_dataset[<span class="string">&quot;target_names&quot;</span>][y_pred_new]))</span><br></pre></td></tr></table></figure>


<h2 id="监督学习"><a href="#监督学习" class="headerlink" title="监督学习"></a>监督学习</h2><ul>
<li>监督机器学习问题主要有两种，分别叫作<strong>分类（classification）</strong>与<strong>回归（regression）</strong>。<blockquote>
<p>如果在可能的结果之间具有连续性，那么它就是一个回归问题</p>
</blockquote>
</li>
</ul>
<pre class="mermaid">graph LR
A[监督学习]==>B(分类)
A==>C(回归)
B==>D(二分类/多分类:目标是预测类别标签)
D==>E1(正类)
D==>E2(反类)
C==>F(回归任务的目标是预测一个连续值)
style A fill:#ffff</pre>


<h3 id="过拟合-x2F-欠拟合"><a href="#过拟合-x2F-欠拟合" class="headerlink" title="过拟合&#x2F;欠拟合"></a>过拟合&#x2F;欠拟合</h3><ul>
<li><p>如果你在拟合模型时过分关注训练集的细节，得到了一个在训练集上表现很好、但不能泛化到新数据上的模型，那么就存在<strong>过拟合（overfitting）</strong>。</p>
</li>
<li><p>选择过于简单的模型被称为<strong>欠拟合（underfitting）</strong>。</p>
<blockquote>
<p>我们的模型越复杂，在训练数据上的预测结果就越好。但是，如果我们的模型过于复杂，我们开始过多关注训练集中每个单独的数据点，模型就不能很好地泛化到新数据上。</p>
</blockquote>
</li>
<li><p><strong>正则化方法</strong>：在训练数据不够多时，或者overtraining时，常常会导致过拟合（overfitting）。正则化方法即为在此时向原始模型引入额外信息，以便防止过拟合和提高模型泛化性能的一类方法的统称。在实际的深度学习场景中我们几乎总是会发现，最好的拟合模型（从最小化泛化误差的意义上）是一个适当正则化的大型模型。</p>
</li>
</ul>
<h3 id="监督学习算法"><a href="#监督学习算法" class="headerlink" title="监督学习算法"></a>监督学习算法</h3><h4 id="KNN：KNeighbors"><a href="#KNN：KNeighbors" class="headerlink" title="KNN：KNeighbors"></a>KNN：KNeighbors</h4><pre><code>&gt; KNeighbors 分类器有2 个重要参数：邻居个数与数据点之间距离的度量方法;
&gt; 虽然k 近邻算法很容易理解，但由于预测速度慢且不能处理具有很多特征的数据集，所以
</code></pre>
<p>在实践中往往不会用到</p>
<ul>
<li>以n_neighbors 为自变量，对比训练集精度和测试集精度<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_breast_cancer</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.neighbors <span class="keyword">import</span> KNeighborsClassifier</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">cancer = load_breast_cancer()</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(</span><br><span class="line">cancer.data, cancer.target, stratify=cancer.target, random_state=<span class="number">66</span>)</span><br><span class="line">training_accuracy = []</span><br><span class="line">test_accuracy = []</span><br><span class="line"><span class="comment"># n_neighbors取值从1到10</span></span><br><span class="line">neighbors_settings = <span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>)</span><br><span class="line"><span class="keyword">for</span> n_neighbors <span class="keyword">in</span> neighbors_settings:</span><br><span class="line">    <span class="comment"># 构建模型</span></span><br><span class="line">    clf = KNeighborsClassifier(n_neighbors=n_neighbors)</span><br><span class="line">    clf.fit(X_train, y_train)</span><br><span class="line">    <span class="comment"># 记录训练集精度</span></span><br><span class="line">    training_accuracy.append(clf.score(X_train, y_train))</span><br><span class="line">    <span class="comment"># 记录泛化精度</span></span><br><span class="line">    test_accuracy.append(clf.score(X_test, y_test))</span><br><span class="line">plt.plot(neighbors_settings, training_accuracy, label=<span class="string">&quot;training accuracy&quot;</span>)</span><br><span class="line">plt.plot(neighbors_settings, test_accuracy, label=<span class="string">&quot;test accuracy&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Accuracy&quot;</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;n_neighbors&quot;</span>)</span><br><span class="line">plt.legend() </span><br><span class="line">plt.show()   </span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="线性模型"><a href="#线性模型" class="headerlink" title="线性模型"></a>线性模型</h4><ul>
<li>线性模型利用输入特征的线性函数（linear function）进行预测</li>
</ul>
<h5 id="用于回归的线性模型"><a href="#用于回归的线性模型" class="headerlink" title="用于回归的线性模型:"></a>用于回归的线性模型:</h5><pre><code>&gt; ![](https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/coding/python/machinelearning/mlpython-1.md/331633410220872.png)
&gt; 用于回归的线性模型可以表示为这样的回归模型：对单一特征的预测结果是一条直线，两
</code></pre>
<p>个特征时是一个平面，或者在更高维度（即更多特征）时是一个超平面。<br>    &gt; 有许多不同的线性回归模型。这些模型之间的区别在于如何从训练数据中学习参数w 和<br>b，以及如何控制模型复杂度</p>
<h5 id="线性回归-普通最小二乘法"><a href="#线性回归-普通最小二乘法" class="headerlink" title="线性回归(普通最小二乘法)"></a>线性回归(普通最小二乘法)</h5><pre><code>&gt; 线性回归，或者普通最小二乘法（ordinary least squares，OLS），是回归问题最简单也最经
</code></pre>
<p>典的线性方法。<br>    &gt; 线性回归没有参数，这是一个优点，但也因此无法控制模型的复杂度。<br>    &gt; 均方误差（mean squared error）是预测值与真实值之差的平方和除<br>以样本数<br>    &gt; 线性回归寻找参数w 和b，使得对训练集的预测值与真实的回归目标值y<br>之间的均方误差最小<br>    &gt; 训练集和测试集之间的性能差异是过拟合的明显标志</p>
<ul>
<li>线性回归使用例子：</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> mglearn</span><br><span class="line"></span><br><span class="line">X, y = mglearn.datasets.make_wave(n_samples=<span class="number">60</span>)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, random_state=<span class="number">42</span>)</span><br><span class="line">lr = LinearRegression().fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;scikit-learn</span></span><br><span class="line"><span class="string">总是将从训练数据中得出的值保存在以下划线结尾的属性中。这是为了将其</span></span><br><span class="line"><span class="string">与用户设置的参数区分开。&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;lr.coef_: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(lr.coef_)) <span class="comment"># 斜率</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;lr.intercept_: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(lr.intercept_)) <span class="comment"># 截距</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Training set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(lr.score(X_train, y_train)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Test set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(lr.score(X_test, y_test)))</span><br></pre></td></tr></table></figure>

<h5 id="岭回归-ridge-regression"><a href="#岭回归-ridge-regression" class="headerlink" title="岭回归(ridge regression)"></a>岭回归(ridge regression)</h5><ul>
<li><p>岭回归也是一种用于回归的线性模型，因此它的预测公式与普通最小二乘法相同</p>
<blockquote>
<p>但在岭回归中，对系数（w）的选择不仅要在训练数据上得到好的预测结果，而且还要<strong>拟合附加约束</strong>。我们还希望系数尽量小。换句话说，w 的所有元素都应接近于0。<br>这种约束是所谓<strong>正则化（regularization）</strong>的一个例子<br>岭回归用到的这种被称为L2 正则化<br>Ridge 是一种约束更强的模型，所以更不容易过拟合。
  </p>
</blockquote>
</li>
<li><p>岭回归使用例子：</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Ridge</span><br><span class="line">ridge = Ridge(alpha=<span class="number">1.0</span>).fit(X_train, y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Training set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(ridge.score(X_train, y_trai</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Ridge 模型在模型的简单性（系数都接近于0）与训练集性能之间做出权衡。简单性和训练<br>集性能二者对于模型的重要程度可以由用户通过设置alpha 参数来指定<br>默认alpha&#x3D;1.0<br>增大alpha 会使得系数更加趋向于0，从而降低训练集性能，但可能会提高泛化性能。</p>
</blockquote>
</li>
<li><p>如果数据点少，线性回归可能学不到任何内容。随着模型可用的数据越来越多，两个模型的性能都在提升，最终线性回归的性能追上了岭回归    </p>
</li>
<li><p>如果有足够多的训练数据，正则化变得不那么重要，并且岭回归和线性回归将具有相同的性能.</p>
</li>
</ul>
<h5 id="lasso"><a href="#lasso" class="headerlink" title="lasso"></a>lasso</h5><ul>
<li><p>除了Ridge，还有一种正则化的线性回归是Lasso。与岭回归相同，使用lasso 也是约束系数使其接近于0，但用到的方法不同，叫作L1 正则化。</p>
<blockquote>
<p>L1 正则化的结果是，使用lasso 时某些系数刚好为0。这说明某些特征被模型完全忽略。</p>
</blockquote>
</li>
<li><p>Lasso使用例子：</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> Lasso</span><br><span class="line">lasso = Lasso().fit(X_train, y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Training set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(lasso.score(X_train, y_train)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Test set score: &#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(lasso.score(X_test, y_test)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Number of features used: &#123;&#125;&quot;</span>.<span class="built_in">format</span>(np.<span class="built_in">sum</span>(lasso.coef_ != <span class="number">0</span>)))</span><br></pre></td></tr></table></figure></li>
<li><p>在两个模型中一般首选岭回归。但如果特征很多，你认为只有其中几个是重要的，那么选择Lasso 可能更好。</p>
</li>
<li><p>如果你想要一个容易解释的模型，Lasso 可以给出更容易理解的模型，因为它只选择了一部分输入特征</p>
</li>
</ul>
<h5 id="用于分类的线性模型"><a href="#用于分类的线性模型" class="headerlink" title="用于分类的线性模型"></a>用于分类的线性模型</h5><ul>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/coding/python/machinelearning/mlpython-1.md/476982710220942.png"></p>
<blockquote>
<p>对于用于回归的线性模型，输出ŷ 是特征的线性函数，是直线、平面或超平面（对于更高维的数据集）。对于用于分类的线性模型，决策边界是输入的线性函数。换句话说，（二元）<strong>线性分类器是利用直线、平面或超平面来分开两个类别的分类器</strong>。</p>
</blockquote>
</li>
<li><p>学习线性模型有很多种算法。这些算法的区别在于以下两点：</p>
<blockquote>
<p>系数和截距的特定组合对训练数据拟合好坏的度量方法；<br>是否使用正则化，以及使用哪种正则化方法。
  </p>
</blockquote>
</li>
<li><p>最常见的两种线性分类算法:</p>
<blockquote>
<p><strong>Logistic 回归（logistic regression）</strong>:<code>linear_model.LogisticRegression</code> 中实现，虽然<code>LogisticRegression</code>的名字中含有回归（<code>regression</code>）， 但它是一种分类算法， 并不是回归算法， 不应与<code>LinearRegression</code> 混淆。<br><strong>线性支持向量机（linear support vector machine， 线性SVM）</strong></p>
</blockquote>
</li>
</ul>
<h5 id="用于多分类的线性模型"><a href="#用于多分类的线性模型" class="headerlink" title="用于多分类的线性模型"></a>用于多分类的线性模型</h5><ul>
<li>许多线性分类模型只适用于二分类问题，不能轻易推广到多类别问题（除了Logistic 回归）。将二分类算法推广到多分类算法的一种常见方法是“一对其余”（one-vs.-rest）方法。</li>
</ul>
<h5 id="优点、缺点和参数"><a href="#优点、缺点和参数" class="headerlink" title="优点、缺点和参数"></a>优点、缺点和参数</h5><ul>
<li><p>线性模型的主要参数是<strong>正则化参数</strong>：</p>
<blockquote>
<p>回归模型中叫作alpha<br>alpha，在LinearSVC 和Logistic-Regression 中叫作C。<br>alpha 值较大或C 值较小，说明模型比较简单<br>通常在对数尺度上对C 和alpha 进行搜索
  </p>
</blockquote>
</li>
<li><p>正则化选择：</p>
<blockquote>
<p>如果你假定只有几个特征是真正重要的，那么你应该用L1 正则化，否则应默认使用L2 正则化
  </p>
</blockquote>
</li>
<li><p>优点和缺点：</p>
<blockquote>
<p>线性模型的训练速度非常快，预测速度也很快<br>这种模型可以推广到非常大的数据集，对稀疏数据也很有效。<br>如果你的数据包含数十万甚至上百万个样本，你可能需要研究如何使用LogisticRegression 和Ridge 模型的solver&#x3D;’sag’ 选项，在处理大型数据时，这一选项比默认值要更快。<br>线性模型的另一个优点在于，利用我们之间见过的用于回归和分类的公式，理解如何进行预测是相对比较容易的。不幸的是，往往并不完全清楚系数为什么是这样的。<br>如果特征数量大于样本数量，线性模型的表现通常都很好</p>
</blockquote>
</li>
</ul>
<h4 id="朴素贝叶斯分类器"><a href="#朴素贝叶斯分类器" class="headerlink" title="朴素贝叶斯分类器"></a>朴素贝叶斯分类器</h4><ul>
<li><code>sklearn</code>中一共三种朴素贝叶斯分类器：<code>GaussianNB</code>、<code>BernoulliNB</code> 和<code>MultinomialNB</code></li>
<li><code>GaussianNB</code> 可应用于任意连续数据， 而<code>BernoulliNB</code> 假定输入数据为二分类数据，<code>MultinomialNB</code> 假定输入数据为计数数据（即每个特征代表某个对象的整数计数，比如一个单词在句子里出现的次数）。<code>BernoulliNB</code> 和<code>MultinomialNB</code> 主要用于文本数据分类。</li>
</ul>
<h5 id="优缺点"><a href="#优缺点" class="headerlink" title="优缺点"></a>优缺点</h5><ul>
<li><blockquote>
<p>训练速度快；但是泛化能力差点儿</p>
</blockquote>
</li>
</ul>
<h4 id="决策树"><a href="#决策树" class="headerlink" title="决策树"></a>决策树</h4><blockquote>
<p>决策树是广泛用于分类和回归任务的模型，本质上，它从一层层的if&#x2F;else 问题中进行学习，并得出结论。</p>
</blockquote>
<ul>
<li>使用乳腺癌数据集进行决策树学习<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_breast_cancer</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">cancer = load_breast_cancer()</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(</span><br><span class="line">cancer.data, cancer.target, stratify=cancer.target, random_state=<span class="number">40</span>)</span><br><span class="line">tree = DecisionTreeClassifier(random_state=<span class="number">0</span>)</span><br><span class="line">tree.fit(X_train, y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy on training set: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(tree.score(X_train, y_train)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy on test set: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(tree.score(X_test, y_test)))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>未剪枝的树容易过拟合，对新数据的泛化性能不佳。</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_breast_cancer</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">cancer = load_breast_cancer()</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(</span><br><span class="line">cancer.data, cancer.target, stratify=cancer.target, random_state=<span class="number">40</span>)</span><br><span class="line"><span class="comment"># tree = DecisionTreeClassifier(random_state=0)</span></span><br><span class="line"><span class="comment"># tree.fit(X_train, y_train)</span></span><br><span class="line">tree = DecisionTreeClassifier(max_depth=<span class="number">4</span>,random_state=<span class="number">0</span>)</span><br><span class="line">tree.fit(X_train, y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy on training set: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(tree.score(X_train, y_train)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy on test set: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(tree.score(X_test, y_test)))</span><br></pre></td></tr></table></figure>
<blockquote>
<p>设置max_depth&#x3D;4，这意味着只可以连续问4 个问题;<br>限制树的深度可以减少过拟合;<br>会降低训练集的精度，但可以提高测试集的精度;<br>防止过拟合有两种常见的策略：一种是及早停止树的生长，也叫预剪枝（pre-pruning）；另一种是先构造树，但随后删除或折叠信息量很少的结点，也叫后剪枝（post-pruning）或剪枝（pruning）。预剪枝的限制条件可能包括限制树的最大深度、限制叶结点的最大数目，或者规定一个结点中数据点的最小数目来防止继续划分。</p>
<ul>
<li>scikit-learn 的决策树在DecisionTreeRegressor 类和DecisionTreeClassifier 类中实现。scikit-learn 只实现了预剪枝，没有实现后剪枝。</li>
</ul>
</blockquote>
</li>
</ul>
<h5 id="生成决策树png"><a href="#生成决策树png" class="headerlink" title="生成决策树png"></a>生成决策树png</h5><figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> DecisionTreeClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_breast_cancer</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.tree <span class="keyword">import</span> export_graphviz</span><br><span class="line"><span class="comment"># import graphviz</span></span><br><span class="line">cancer = load_breast_cancer()</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(</span><br><span class="line">cancer.data, cancer.target, stratify=cancer.target, random_state=<span class="number">42</span>)</span><br><span class="line"><span class="comment"># tree = DecisionTreeClassifier(random_state=0)</span></span><br><span class="line"><span class="comment"># tree.fit(X_train, y_train)</span></span><br><span class="line">tree = DecisionTreeClassifier(max_depth=<span class="number">4</span>,random_state=<span class="number">0</span>)</span><br><span class="line">tree.fit(X_train, y_train)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy on training set: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(tree.score(X_train, y_train)))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Accuracy on test set: &#123;:.3f&#125;&quot;</span>.<span class="built_in">format</span>(tree.score(X_test, y_test)))</span><br><span class="line">export_graphviz(tree, out_file=<span class="string">&quot;tree.dot&quot;</span>, class_names=[<span class="string">&quot;malignant&quot;</span>,<span class="string">&quot;benign&quot;</span>],</span><br><span class="line">feature_names=cancer.feature_names, impurity=<span class="literal">False</span>, filled=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># with open(&quot;tree.dot&quot;) as f:</span></span><br><span class="line"><span class="comment"># 	dot_graph = f.read()</span></span><br><span class="line"><span class="comment"># graphviz.Source(dot_graph)</span></span><br></pre></td></tr></table></figure>
<ul>
<li>安装<a href="http://graphviz.org/download/">graphviz</a></li>
<li>转换dot to png<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/coding/python/machinelearning/mlpython-1.md/107180511239381.png" alt="tree"></p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dot -Tpng tree.dot -o tree.png</span><br></pre></td></tr></table></figure>
~p53</li>
</ul>
<h4 id="决策树集成"><a href="#决策树集成" class="headerlink" title="决策树集成"></a>决策树集成</h4><blockquote>
<p>决策树的主要缺点在于，即使做了预剪枝，它也经常会过拟合，泛化性能很差。因此，在大多数应用中，往往使用集成方法来替代单棵决策树。<br>集成（ensemble）是合并多个机器学习模型来构建更强大模型的方法<br>有两种常用集成模型：分别是随机森林（random forest）和梯度提升决策树（gradient boosted decision tree）。</p>
</blockquote>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> RandomForestClassifier</span><br><span class="line">forest = RandomForestClassifier(n_estimators=<span class="number">100</span>, random_state=<span class="number">0</span>) <span class="comment"># n_estimators为随机森林树的数目</span></span><br><span class="line"><span class="keyword">from</span> sklearn.ensemble <span class="keyword">import</span> GradientBoostingClassifier</span><br><span class="line">gbrt = GradientBoostingClassifier(random_state=<span class="number">0</span>, max_depth=<span class="number">1</span>) <span class="comment"># 可以通过max_depth学习深度调控过拟合</span></span><br><span class="line">gbrt = GradientBoostingClassifier(random_state=<span class="number">0</span>, learning_rate=<span class="number">0.01</span>) <span class="comment"># learning_rate学习率，为纠正上一棵树的错误的强度</span></span><br></pre></td></tr></table></figure>
<ul>
<li>梯度提升决策树是监督学习中最强大也最常用的模型之一，主要缺点是需要仔细调参，而且训练时间可能会比较长</li>
<li>梯度提升树模型的主要参数包括树的数量n_estimators 和学习率learning_rate，后者用于控制每棵树对前一棵树的错误的纠正强度。这两个参数高度相关，因为learning_rate 越低，就需要更多的树来构建具有相似复杂度的模型</li>
<li>随机森林的n_estimators 值总是越大越好，但梯度提升不同，增大n_estimators 会导致模型更加复杂，进而可能导致过拟合。通常的做法是根据时间和内存的预算选择合适的n_estimators，然后对不同的learning_rate 进行遍历。</li>
<li>另一个重要参数是max_depth（或max_leaf_nodes），用于降低每棵树的复杂度。梯度提升模型的max_depth 通常都设置得很小，一般不超过5。</li>
</ul>
<h4 id="核支持向量机（kernelized-support-vector-machine）"><a href="#核支持向量机（kernelized-support-vector-machine）" class="headerlink" title="核支持向量机（kernelized support vector machine）"></a>核支持向量机（kernelized support vector machine）</h4><ul>
<li>这里需要记住的是，向数据表示中添加非线性特征，可以让线性模型变得更强大</li>
<li>核技巧（kernel trick），它的原理是直接计算扩展特征表示中数据点之间的距离（更准确地说是内积），而不用实际对扩展进行计算。</li>
<li>一种是多项式核，在一定阶数内计算原始特征所有可能的多项式（比如feature1 ** 2 * feature2 ** 5）；另一种是径向基函数（radial basis function，RBF）核，也叫高斯核。高斯核有点难以解释，因为它对应无限维的特征空间。一种对高斯核的解释是它考虑所有阶数的所有可能的多项式，但阶数越高，特征的重要性越小。</li>
</ul>
<h4 id="神经网络（深度学习）"><a href="#神经网络（深度学习）" class="headerlink" title="神经网络（深度学习）"></a>神经网络（深度学习）</h4><ul>
<li><p>虽然深度学习在许多机器学习应用中都有巨大的潜力，但深度学习算法往往经过精确调整，只适用于特定的使用场景。</p>
<blockquote>
<p>多层感知机（multilayer perceptron，MLP），它可以作为研究更复杂的深度学习方法的起点。MLP 也被称为（普通）前馈神经网络，有时也简称为神经网络。<br>MLP 可以被视为广义的线性模型，执行多层处理后得到结论。<br>$ŷ &#x3D; w[0] * x[0] + w[1] * x[1] + … + w[p] * x[p] + b$<br><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/machinelearning/mlpython-1.md/66930110227254.png"><br>图中，左边的每个结点代表一个输入特征，连线代表学到的系数，右边的结点代表输出，是输入的加权求和。<br>在MLP 中，多次重复这个计算加权求和的过程，首先计算代表中间过程的隐单元（hiddenunit），然后再计算这些隐单元的加权求和并得到最终结果<br><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/machinelearning/mlpython-1.md/377650310247420.png"><br>这个模型需要学习更多的系数（也叫作权重）：在每个输入与每个隐单元（隐单元组成了隐层）之间有一个系数，在每个隐单元与输出之间也有一个系数。<br><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/machinelearning/mlpython-1.md/398050910240089.png"><br>校正非线性（rectifying nonlinearity，也叫校正线性单元或relu）或正切双曲线（tangens hyperbolicus，tanh）有了这两种非线性函数，神经网络可以学习比线性模型复杂得多的函数。
  </p>
</blockquote>
</li>
<li><p>这些由许多计算层组成的大型神经网络，正是术语“深度学习”的灵感来源。</p>
</li>
<li><p>包含100 个隐单元的神经网络在two_moons 数据集上学到的决策边界</p>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.neural_network <span class="keyword">import</span> MLPClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_moons</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> mglearn</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line">X, y = make_moons(n_samples=<span class="number">100</span>, noise=<span class="number">0.25</span>, random_state=<span class="number">3</span>)</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, stratify=y,</span><br><span class="line">random_state=<span class="number">42</span>)</span><br><span class="line">mlp = MLPClassifier(solver=<span class="string">&#x27;lbfgs&#x27;</span>, hidden_layer_sizes=[<span class="number">100</span>],random_state=<span class="number">0</span>).fit(X_train, y_train)</span><br><span class="line">mglearn.plots.plot_2d_separator(mlp, X_train, fill=<span class="literal">True</span>, alpha=<span class="number">.3</span>)</span><br><span class="line">mglearn.discrete_scatter(X_train[:, <span class="number">0</span>], X_train[:, <span class="number">1</span>], y_train)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Feature 0&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Feature 1&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/notes/machinelearning/mlpython-1.md/447251410236644.png" alt="Figure_1"></p>
</li>
<li><p>控制神经网络复杂度的方法有很多种：<strong>隐层的个数</strong>、<strong>每个隐层中的单元个数</strong>与<strong>正则化（alpha）等</strong>。</p>
</li>
</ul>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><ul>
<li><p><strong>最近邻</strong></p>
<blockquote>
<p>适用于小型数据集，是很好的基准模型，很容易解释。
  </p>
</blockquote>
</li>
<li><p><strong>线性模型</strong></p>
<blockquote>
<p>非常可靠的首选算法，适用于非常大的数据集，也适用于高维数据。
  </p>
</blockquote>
</li>
<li><p><strong>朴素贝叶斯</strong>    </p>
<blockquote>
<p>只适用于分类问题。比线性模型速度还快，适用于非常大的数据集和高维数据。精度通常要低于线性模型。</p>
</blockquote>
</li>
<li><p><strong>决策树</strong></p>
<blockquote>
<p>速度很快，不需要数据缩放，可以可视化，很容易解释。
  </p>
</blockquote>
</li>
<li><p><strong>随机森林</strong></p>
<blockquote>
<p>几乎总是比单棵决策树的表现要好，鲁棒性很好，非常强大。不需要数据缩放。不适用于高维稀疏数据。</p>
</blockquote>
</li>
<li><p><strong>梯度提升决策树</strong></p>
<blockquote>
<p>精度通常比随机森林略高。与随机森林相比，训练速度更慢，但预测速度更快，需要的内存也更少。比随机森林需要更多的参数调节。
  </p>
</blockquote>
</li>
<li><p><strong>支持向量机</strong></p>
<blockquote>
<p>对于特征含义相似的中等大小的数据集很强大。需要数据缩放，对参数敏感。
  </p>
</blockquote>
</li>
<li><p><strong>神经网络</strong></p>
<blockquote>
<p>可以构建非常复杂的模型，特别是对于大型数据集而言。对数据缩放敏感，对参数选取敏感。大型网络需要很长的训练时间。
  </p>
</blockquote>
</li>
<li><p>面对新数据集，通常最好先从简单模型开始，比如线性模型、朴素贝叶斯或最近邻分类器，看能得到什么样的结果。对数据有了进一步了解之后，你可以考虑用于构建更复杂模型的算法，比如随机森林、梯度提升决策树、SVM 或神经网络。</p>
</li>
</ul>
<h2 id="无监督学习"><a href="#无监督学习" class="headerlink" title="无监督学习"></a>无监督学习</h2><ul>
<li>无监督学习的一个主要挑战就是评估算法是否学到了有用的东西</li>
<li>无监督算法的另一个常见应用是作为监督算法的预处理步骤</li>
</ul>
<h3 id="无监督学习类型"><a href="#无监督学习类型" class="headerlink" title="无监督学习类型"></a>无监督学习类型</h3><blockquote>
<p>无监督变换（降维）<br>聚类算法</p>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
      </tags>
  </entry>
  <entry>
    <title>LBM/PALABOS：PALABOS介绍与安装</title>
    <url>/MyWiki/wiki/2024/04/23/softwares/LBM/PALABOS/LBM_PALABOS-1/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="软件简介"><a href="#软件简介" class="headerlink" title="软件简介"></a>软件简介</h3><ul>
<li><a href="https://palabos.unige.ch/">Palabos</a> 库是通用计算流体动力学 (CFD) 的框架，其内核基于格子玻尔兹曼 (LB) 方法。 它既可用作研究工具，也可用作工程工具：其编程界面简单明了，可以相对轻松地设置流体流动模拟，或者，如果您了解格子玻尔兹曼方法，则可以使用自己的方法扩展该库 楷模。 Palabos 代表并行格子玻尔兹曼求解器。</li>
<li><a href="https://palabos.unige.ch/files/9515/6509/3036/Palabos_UserGuide.pdf">在线手册</a>、<a href="https://palabos.unige.ch/files/2515/9196/4302/palabos_tutorial.pdf">在线教程</a></li>
</ul>
<h4 id="什么是LBM？"><a href="#什么是LBM？" class="headerlink" title="什么是LBM？"></a>什么是LBM？</h4><h4 id="概况"><a href="#概况" class="headerlink" title="概况"></a>概况</h4><ul>
<li>晶格玻尔兹曼方法是计算流体力学中的一种现代方法。它通常用于求解不可压缩的、时变的Navier-Stokes方程。</li>
<li>它的优势在于能够很容易地表示复杂的物理现象，从多相流动到流体与周围环境之间的化学相互作用。</li>
<li>该方法起源于对流体的分子描述，并且可以直接纳入来自分子间相互作用知识的物理术语。</li>
<li>因此，它在基础研究中是一个宝贵的工具，因为它使理论的阐述和相应数值模型的制定之间的周期缩短。同时，它已被证明是一种高效和方便的替代传统的解决方案，为各种各样的工业问题。</li>
</ul>
<h4 id="起源"><a href="#起源" class="headerlink" title="起源"></a>起源</h4><ul>
<li><p>晶格玻尔兹曼通常被简单地认为是玻尔兹曼方程的数值解算器。玻尔兹曼方程是分子水平上的纳维-斯托克斯方程的类似物，它描述了一个被称为概率分布函数的统计量的时空动力学，它被定义在6维相空间中。</p>
</li>
<li><p>在分子水平的描述上，模型所涵盖的物理现象的数量比在Navier-Stokes方程的水动力水平上要大。这是因为玻尔兹曼方程不受时间尺度分离的影响，能够描述具有大分子平均自由路径的非水动力状态下的流体。</p>
</li>
<li><p>此外，该分子模型能够捕捉到摩擦、扩散和温度输运等输运现象，并推导出相应的输运系数。</p>
</li>
<li><p>从历史上看，晶格玻尔兹曼模型是从所谓的元胞自动机模型演变而来的，独立于上面展示的理论。元胞自动机（Cellular Automaton）是用整数值描述的离散状态演化的计算机模型(与晶格玻尔兹曼变量的浮点表示相反)。</p>
</li>
<li><p>在我们的例子中，这种状态代表了相互作用的伪分子，流体的“介观”粒子的位置和速度。为了更好地理解这种模型的连续介质物理学，可以将元胞自动机的玻尔兹曼方程写下来。这个方程作用于实值量，但它描述了离散相空间中的一些动力学，在下面我们称之为晶格。晶格玻尔兹曼模型是在首次尝试短路元胞自动机过程并直接模拟相应离散玻尔兹曼方程的动力学时诞生的。</p>
</li>
<li><p>虽然后来人们了解到晶格玻尔兹曼方程可以直接从连续玻尔兹曼方程推导出来，但记住它的真正起源是很有趣的。事实上，这揭示了其特别优雅的公式的一些原因，使相应的计算机程序能够直接实现。</p>
</li>
</ul>
<h4 id="为什么使用晶格玻尔兹曼"><a href="#为什么使用晶格玻尔兹曼" class="headerlink" title="为什么使用晶格玻尔兹曼?"></a>为什么使用晶格玻尔兹曼?</h4><ul>
<li><p>每个人都同意晶格玻尔兹曼在理论、代码实现和应用程序的外观和感觉层面上与经典CFD不同。但是为什么你会选择晶格玻尔兹曼而不是其他方法呢?</p>
</li>
<li><p>在这一点上意见分歧更大一些。然而，从我们发展Palabos的经验来看，我们认为晶格玻尔兹曼的根本优势是效率。该方法从一开始就设计为在高性能硬件上运行，并且它适应复杂的物理或复杂的算法。</p>
</li>
<li><p>当效率允许解决以前无法解决的问题，或者只是不够精确的问题时，就会带来全新的用户体验。</p>
</li>
<li><p>像PALABOS这样的晶格玻尔兹曼CODE的典型成就是</p>
<ul>
<li>数据预处理和网格生成的时间只占整个模拟的一小部分。</li>
<li>并行数据分析，后处理和评估。</li>
<li>完全解决多相流与小液滴和气泡。</li>
<li>完全解决流动通过复杂的几何形状和多孔介质。</li>
<li>具有传热和化学反应的复杂、耦合流动。</li>
</ul>
</li>
<li><p>晶格玻尔兹曼在建模方法的层面上也提供了优势。该方法在某种意义上是混合的，因为求解器是基于网格的(如CFD中通常的那样)，但也继承了基于粒子的方法的某些方面，因为它起源于细胞自动机。因此，很容易将其与嵌入粒子方法相结合，用于沉积物输运或其他现象。</p>
</li>
</ul>
<h4 id="晶格玻尔兹曼和高性能计算"><a href="#晶格玻尔兹曼和高性能计算" class="headerlink" title="晶格玻尔兹曼和高性能计算"></a>晶格玻尔兹曼和高性能计算</h4><ul>
<li><p>与经典CFD相比，晶格玻尔兹曼乍一看似乎相当消耗资源:该模型中使用的离散概率分布函数比Navier-Stokes方程的流体动力变量(每个节点9个实值，而二维不可压缩解算器为3个)需要更多的存储空间。</p>
</li>
<li><p>然而，这从来都不是一个真正的问题，特别是在现代计算机上，它被出色的计算效率大大补偿了。由于其明确的公式和精确的平流算子，晶格玻尔兹曼格式只涉及非常有限数量的每个计算节点的浮点运算。</p>
</li>
<li><p>此外，晶格玻尔兹曼方法特别适合于并行体系结构上的计算，即使具有缓慢的互连网络。这种优势也扩展到其他类型的高性能硬件，如通用图形处理单元(gpgpu)，这是晶格玻尔兹曼实现的目标。</p>
</li>
</ul>
<h3 id="下载安装"><a href="#下载安装" class="headerlink" title="下载安装"></a>下载安装</h3><ul>
<li><p>LINUX（windows子系统Ubuntu20.04测试）安装：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 安装必要依赖</span></span><br><span class="line">sudo apt install gcc clang clang-format cmake make</span><br><span class="line"><span class="comment"># 安装可选依赖，已有mpi 这里不安装</span></span><br><span class="line">sudo apt install imagemagick libhdf5-dev libhdf5-mpi-dev ccache</span><br><span class="line"><span class="comment"># 从gitlab clone palabos包</span></span><br><span class="line">git <span class="built_in">clone</span> https://gitlab.com/unigespc/palabos.git</span><br><span class="line"><span class="comment"># 或者下载、解压</span></span><br><span class="line">wget https://gitlab.com/unigespc/palabos/-/archive/v2.3.0/palabos-v2.3.0.tar.gz</span><br><span class="line">tar xzvf palabos-v2.3.0.tar.gz</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><ul>
<li><p>测试cavity2d例子</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> palabos/examples/showCases/cavity2d/build/</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line">./cavity2d</span><br><span class="line"><span class="comment"># 并行计算</span></span><br><span class="line">mpirun -np 4 ./cavity2d</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404232314844.gif" alt="uNorm128000"></p>
</li>
</ul>
<h3 id="预处理和后处理软件（开源）"><a href="#预处理和后处理软件（开源）" class="headerlink" title="预处理和后处理软件（开源）"></a>预处理和后处理软件（开源）</h3><ul>
<li><p><strong><a href="https://www.paraview.org/">ParaView</a></strong> ：Paraview为VTK库提供了一个图形用户界面，是一个很好的科学数据可视化工具。Palabos模拟的结果可以保存在一个VTK格式，然后用Paraview处理。</p>
</li>
<li><p><a href="https://octave.org/">Octave</a>：这个命令行解释器与Matlab非常相似。它对于处理由Palabos生成的ASCII数据非常有用，例如创建图形。</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt-get install octave</span><br></pre></td></tr></table></figure>


</li>
<li><p><a href="https://imagemagick.org/index.php">ImageMagick</a>：不需要外部库，Palabos就可以生成PPM格式的快照图像。如果安装了ImageMagick，这些图片可以自动转换成更常见的GIF格式。此外，ImageMagick可用于从一系列GIF图像中生成动画GIF。</p>
</li>
<li><p><a href="https://www.meshlab.net/">Meshlab</a>：Meshlab将表面网格文件从许多不同的格式转换为STL格式，Palabos需要它来设置几何图形。此外，Meshlab通常能够纠正STL文件中的错误，例如，删除零面积三角形或恢复表面法线。</p>
</li>
</ul>
<h3 id="教程"><a href="#教程" class="headerlink" title="教程"></a>教程</h3><h4 id="Tutorial-1"><a href="#Tutorial-1" class="headerlink" title="Tutorial 1"></a>Tutorial 1</h4><blockquote>
<p>为了说明Palabos中的编程概念，模拟了一个周期性的边界的没有边界条件的初值问题的时间演化；初始条件为零速度和恒定密度；在场的平方子域上，密度初始化为稍高的值，以产生扰动，然后产生流型。</p>
<blockquote>
<p> 应当特别指出，初始条件并不代表不可压缩流体的状态，因为零速度与非零密度是不相容的。</p>
<p>经过足够的迭代，流动自动收敛到与不可压缩或略可压缩流的物理相容的情况。</p>
</blockquote>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/palabos/examples/tutorial/tutorial_1</span><br><span class="line"><span class="built_in">cd</span> build</span><br><span class="line">cmake ..</span><br><span class="line">make</span><br><span class="line">./tutorial_1_1</span><br><span class="line"><span class="comment"># Writing GIF file at iT=0</span></span><br><span class="line"><span class="comment"># Writing GIF file at iT=40</span></span><br><span class="line"><span class="comment"># Writing GIF file at iT=80</span></span><br><span class="line"><span class="comment"># Writing GIF file at iT=120</span></span><br><span class="line"><span class="comment"># Writing GIF file at iT=160</span></span><br><span class="line"><span class="comment"># Writing GIF file at iT=200</span></span><br><span class="line"><span class="comment"># ...</span></span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404241138744.gif" alt="merged"></p>
<ul>
<li>代码解读</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* Code 1.1 in the Palabos tutorial</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.h&quot;</span> <span class="comment">// 允许访问Palabos项目中的所有声明</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.hh&quot;</span> <span class="comment">// 为了保证访问完整的模板代码，例如，使用不同于标准数据类型double的数据类型实例化模拟</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> plb; <span class="comment">// 保证了对Palabos代码中的名称的自动访问</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> T; <span class="comment">// 将在二维D2Q9晶格上使用双精度浮点数执行。</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DESCRIPTOR plb::descriptors::D2Q9Descriptor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize the lattice at zero velocity and constant density, except</span></span><br><span class="line"><span class="comment">//   for a slight density excess on a square sub-domain.</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">defineInitialDensityAtCenter</span><span class="params">(MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; &amp;lattice)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// The lattice is of size nx-by-ny</span></span><br><span class="line">    <span class="type">const</span> plint nx = lattice.<span class="built_in">getNx</span>();</span><br><span class="line">    <span class="type">const</span> plint ny = lattice.<span class="built_in">getNy</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create a Box2D which describes the location of cells with a slightly</span></span><br><span class="line">    <span class="comment">//   higher density. 子域高密度初始化</span></span><br><span class="line">    plint centralSquareRadius = nx / <span class="number">6</span>;</span><br><span class="line">    plint centerX = nx / <span class="number">3</span>;</span><br><span class="line">    plint centerY = ny / <span class="number">4</span>;</span><br><span class="line">    <span class="function">Box2D <span class="title">centralSquare</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        centerX - centralSquareRadius, centerX + centralSquareRadius, centerY - centralSquareRadius,</span></span></span><br><span class="line"><span class="params"><span class="function">        centerY + centralSquareRadius)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// All cells have initially density rho ...初始化所有晶格单元在密度恒定、速度为零的平衡分布</span></span><br><span class="line">    T rho0 = <span class="number">1.</span>;</span><br><span class="line">    <span class="comment">// .. except for those in the box &quot;centralSquare&quot; which have density</span></span><br><span class="line">    <span class="comment">//    rho+deltaRho</span></span><br><span class="line">    T deltaRho = <span class="number">1.e-4</span>;</span><br><span class="line">    <span class="function">Array&lt;T, 2&gt; <span class="title">u0</span><span class="params">((T)<span class="number">0</span>, (T)<span class="number">0</span>)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initialize constant density everywhere.</span></span><br><span class="line">    <span class="built_in">initializeAtEquilibrium</span>(lattice, lattice.<span class="built_in">getBoundingBox</span>(), rho0, u0);</span><br><span class="line">	<span class="comment">// 重新初始化子域高密度</span></span><br><span class="line">    <span class="comment">// And slightly higher density in the central box.</span></span><br><span class="line">    <span class="built_in">initializeAtEquilibrium</span>(lattice, centralSquare, rho0 + deltaRho, u0);</span><br><span class="line"></span><br><span class="line">    lattice.<span class="built_in">initialize</span>(); <span class="comment">// 初始化操作后调用initialize方法，为模拟准备晶格。</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 模拟过程主函数</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">plbInit</span>(&amp;argc, &amp;argv); <span class="comment">// 函数plbInit必须在程序的最开始强制调用，以保证顺序和并行程序运行之间的结果一致。</span></span><br><span class="line">    global::<span class="built_in">directories</span>().<span class="built_in">setOutputDir</span>(<span class="string">&quot;./tmp/&quot;</span>); <span class="comment">// 指定输出文件夹</span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> plint maxIter = <span class="number">1000</span>;  <span class="comment">// Iterate during 1000 steps.</span></span><br><span class="line">    <span class="type">const</span> plint nx = <span class="number">600</span>;        <span class="comment">// Choice of lattice dimensions.</span></span><br><span class="line">    <span class="type">const</span> plint ny = <span class="number">600</span>;</span><br><span class="line">    <span class="type">const</span> T omega = <span class="number">1.</span>;  <span class="comment">// Choice of the relaxation parameter</span></span><br><span class="line">	<span class="comment">// 在创建多块期间，默认动力学(在本例中为BGK)	</span></span><br><span class="line">    <span class="function">MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; <span class="title">lattice</span><span class="params">(nx, ny, <span class="keyword">new</span> BGKdynamics&lt;T, DESCRIPTOR&gt;(omega))</span></span>;</span><br><span class="line">	<span class="comment">// 在Palabos中，周期边界以一种特殊的方式处理。它们只能通过调用方法periodicperiodic()强加于块晶格的外部边界。</span></span><br><span class="line">    lattice.<span class="built_in">periodicity</span>().<span class="built_in">toggleAll</span>(<span class="literal">true</span>);  <span class="comment">// Use periodic boundaries.</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">defineInitialDensityAtCenter</span>(lattice);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Main loop over time iterations.</span></span><br><span class="line">    <span class="keyword">for</span> (plint iT = <span class="number">0</span>; iT &lt; maxIter; ++iT) &#123;</span><br><span class="line">        <span class="keyword">if</span> (iT % <span class="number">40</span> == <span class="number">0</span>) &#123;  <span class="comment">// Write an image every 40th time step.</span></span><br><span class="line">            pcout &lt;&lt; <span class="string">&quot;Writing GIF file at iT=&quot;</span> &lt;&lt; iT &lt;&lt; endl;</span><br><span class="line">            <span class="comment">// Instantiate an image writer with the color map &quot;leeloo&quot;.</span></span><br><span class="line">            <span class="function">ImageWriter&lt;T&gt; <span class="title">imageWriter</span><span class="params">(<span class="string">&quot;leeloo&quot;</span>)</span></span>;</span><br><span class="line">            <span class="comment">// Write a GIF file with colors rescaled to the range of values</span></span><br><span class="line">            <span class="comment">//   in the matrix</span></span><br><span class="line">            imageWriter.<span class="built_in">writeScaledGif</span>(<span class="built_in">createFileName</span>(<span class="string">&quot;u&quot;</span>, iT, <span class="number">6</span>), *<span class="built_in">computeVelocityNorm</span>(lattice));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Execute lattice Boltzmann iteration.</span></span><br><span class="line">        lattice.<span class="built_in">collideAndStream</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Tutorial-2"><a href="#Tutorial-2" class="headerlink" title="Tutorial 2"></a>Tutorial 2</h4><ul>
<li><p>修改CMakeList.txt内容：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">set</span><span class="params">(EXECUTABLE_NAME <span class="string">&quot;tutorial_1_2&quot;</span>)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译与运行：</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> build</span><br><span class="line">cmake <span class="string">..</span></span><br><span class="line">make</span><br><span class="line"><span class="string">./tutorial_1_2</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>结果：</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404241459830.gif" alt="merged_1_2"></p>
</li>
<li><p>与第一个例子的区别：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="type">const</span> plint maxIter = <span class="number">1000</span>;  <span class="comment">// Iterate during 1000 steps.</span></span><br><span class="line"><span class="type">const</span> plint nx = <span class="number">600</span>;        <span class="comment">// Choice of lattice dimensions.</span></span><br><span class="line"><span class="type">const</span> plint ny = <span class="number">600</span>;</span><br><span class="line"><span class="type">const</span> T omega = <span class="number">1.</span>;  <span class="comment">// Choice of the relaxation parameter</span></span><br><span class="line"></span><br><span class="line">T rho0 = <span class="number">1.</span>;  <span class="comment">// All cells have initially density rho ...</span></span><br><span class="line"><span class="comment">// .. except for those inside the disk which have density</span></span><br><span class="line"><span class="comment">//    rho+deltaRho</span></span><br><span class="line">T deltaRho = <span class="number">1.e-4</span>;</span><br><span class="line"><span class="function">Array&lt;T, 2&gt; <span class="title">u0</span><span class="params">(<span class="number">0</span>, <span class="number">0</span>)</span></span>;</span><br><span class="line"><span class="comment">// 为子域的每个单元分配恒定的密度，与之前的initializeAtEquilibrium具有相同效果</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initializeConstRho</span><span class="params">(plint, plint, T &amp;rho, Array&lt;T, <span class="number">2</span>&gt; &amp;u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    u = u0;</span><br><span class="line">    rho = rho0 + deltaRho;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 高密度区域改成圆盘</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initializeRhoOnDisk</span><span class="params">(plint iX, plint iY, T &amp;rho, Array&lt;T, <span class="number">2</span>&gt; &amp;u)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    plint radius = nx / <span class="number">6</span>;</span><br><span class="line">    plint centerX = nx / <span class="number">3</span>;</span><br><span class="line">    plint centerY = ny / <span class="number">4</span>;</span><br><span class="line">    u = u0;</span><br><span class="line">    <span class="keyword">if</span> ((iX - centerX) * (iX - centerX) + (iY - centerY) * (iY - centerY) &lt; radius * radius) &#123;</span><br><span class="line">        rho = rho0 + deltaRho;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        rho = rho0;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Initialize the lattice at zero velocity and constant density, except</span></span><br><span class="line"><span class="comment">//   for a slight density excess on a circular sub-domain.</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">defineInitialDensityAtCenter</span><span class="params">(MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; &amp;lattice)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Initialize constant density everywhere.</span></span><br><span class="line">    <span class="built_in">initializeAtEquilibrium</span>(lattice, lattice.<span class="built_in">getBoundingBox</span>(), rho0, u0);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// And slightly higher density in the central box.</span></span><br><span class="line">    <span class="built_in">initializeAtEquilibrium</span>(lattice, lattice.<span class="built_in">getBoundingBox</span>(), initializeRhoOnDisk);</span><br><span class="line"></span><br><span class="line">    lattice.<span class="built_in">initialize</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="Tutorial-3"><a href="#Tutorial-3" class="headerlink" title="Tutorial 3"></a>Tutorial 3</h4><ul>
<li>Compilation options</li>
</ul>
<h4 id="Tutorial-4"><a href="#Tutorial-4" class="headerlink" title="Tutorial 4"></a>Tutorial 4</h4><blockquote>
<p>Data analysis</p>
</blockquote>
<ul>
<li><p>主要在main函数里进行数据分析</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">plbInit</span>(&amp;argc, &amp;argv);</span><br><span class="line">    global::<span class="built_in">directories</span>().<span class="built_in">setOutputDir</span>(<span class="string">&quot;./tmp/&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function">MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; <span class="title">lattice</span><span class="params">(nx, ny, <span class="keyword">new</span> BGKdynamics&lt;T, DESCRIPTOR&gt;(omega))</span></span>;</span><br><span class="line"></span><br><span class="line">    lattice.<span class="built_in">periodicity</span>().<span class="built_in">toggleAll</span>(<span class="literal">true</span>);  <span class="comment">// Set periodic boundaries.</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">defineInitialDensityAtCenter</span>(lattice);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// First part: loop over time iterations.</span></span><br><span class="line">    <span class="keyword">for</span> (plint iT = <span class="number">0</span>; iT &lt; maxIter; ++iT) &#123;</span><br><span class="line">        lattice.<span class="built_in">collideAndStream</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Second part: Data analysis.</span></span><br><span class="line">    Array&lt;T, <span class="number">2</span>&gt; velocity;</span><br><span class="line">    lattice.<span class="built_in">get</span>(nx / <span class="number">2</span>, ny / <span class="number">2</span>).<span class="built_in">computeVelocity</span>(velocity); <span class="comment">// 方法get提供对晶格cell的访问。cell是一个对象，通过它不仅可以访问在cell上定义的实际变量，还可以执行有用的计算，例如计算宏观变量。在本例中，速度是在域中间的单元格上计算的</span></span><br><span class="line">    pcout &lt;&lt; <span class="string">&quot;Velocity in the middle of the lattice: (&quot;</span> &lt;&lt; velocity[<span class="number">0</span>] &lt;&lt; <span class="string">&quot;,&quot;</span> &lt;&lt; velocity[<span class="number">1</span>] &lt;&lt; <span class="string">&quot;)&quot;</span></span><br><span class="line">          &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    pcout &lt;&lt; <span class="string">&quot;Velocity norm along a horizontal line: &quot;</span> &lt;&lt; endl;</span><br><span class="line">    <span class="function">Box2D <span class="title">line</span><span class="params">(<span class="number">0</span>, <span class="number">100</span>, ny / <span class="number">2</span>, ny / <span class="number">2</span>)</span></span>;</span><br><span class="line">    pcout &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">3</span>) &lt;&lt; *<span class="built_in">computeVelocityNorm</span>(*<span class="built_in">extractSubDomain</span>(lattice, line)) &lt;&lt; endl; <span class="comment">// 在提取的域上计算速度范数并打印到终端。</span></span><br><span class="line"></span><br><span class="line">    <span class="function">plb_ofstream <span class="title">ofile</span><span class="params">(<span class="string">&quot;profile.dat&quot;</span>)</span></span>; <span class="comment">// 写入文件，确保使用数据类型plb_ofstream而不是ofstream来保证并行程序的工作条件</span></span><br><span class="line">    ofile &lt;&lt; <span class="built_in">setprecision</span>(<span class="number">3</span>) &lt;&lt; *<span class="built_in">computeVelocityNorm</span>(*<span class="built_in">extractSubDomain</span>(lattice, line)) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    pcout &lt;&lt; <span class="string">&quot;Average density in the domain: &quot;</span> &lt;&lt; <span class="built_in">computeAverageDensity</span>(lattice) &lt;&lt; endl; <span class="comment">// 计算平均密度</span></span><br><span class="line">    pcout &lt;&lt; <span class="string">&quot;Average energy in the domain: &quot;</span> &lt;&lt; <span class="built_in">computeAverageEnergy</span>(lattice) &lt;&lt; endl; <span class="comment">// 计算平均动能</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>octave画图</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">octave <span class="comment"># 进入octave</span></span><br><span class="line">load profile.dat</span><br><span class="line">plot(profile)</span><br><span class="line">xlabel (<span class="string">&quot;Time (s)&quot;</span>)</span><br><span class="line">ylabel (<span class="string">&quot;Velocity (m/s)&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(fig, <span class="string">&quot;velocity.png&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404241702385.png" alt="velocity"></p>
</li>
</ul>
<h4 id="Tutorial-5"><a href="#Tutorial-5" class="headerlink" title="Tutorial 5"></a>Tutorial 5</h4><blockquote>
<p>泊肃叶（Poiseuille）流例子：这种流动在无滑移壁面的通道中发展，并且流动速度处处平行于通道壁面</p>
<p>在仿真中，采用解析解实现了区域进出口速度的Dirichlet边界条件。</p>
<p>采用零速度场作为初始条件，开始向域内各点的Poiseuille解收敛。</p>
<p>注意，模拟在初始条件下的零速度和边界条件下的有限速度之间存在不连续，如果在处理参数时模拟在数值上变得不稳定，请尝试增加晶格分辨率或降低晶格单位的速度。</p>
</blockquote>
<ul>
<li><p>修改CMakeList.txt内容：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">set</span><span class="params">(EXECUTABLE_NAME <span class="string">&quot;tutorial_1_5&quot;</span>)</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>编译与运行：</p>
<figure class="highlight jboss-cli"><table><tr><td class="code"><pre><span class="line"><span class="keyword">cd</span> build</span><br><span class="line">cmake <span class="string">..</span></span><br><span class="line">make</span><br><span class="line"><span class="string">./tutorial_1_5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>结果：</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202404241706495.gif" alt="merged_1_5"></p>
</li>
<li><p>代码：</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iomanip&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;palabos2D.hh&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Code 1.5 in the Palabos tutorial</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> plb;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="type">double</span> T;</span><br><span class="line"><span class="meta">#<span class="keyword">define</span> DESCRIPTOR plb::descriptors::D2Q9Descriptor</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// Velocity on the parabolic Poiseuille profile</span></span><br><span class="line"><span class="function">T <span class="title">poiseuilleVelocity</span><span class="params">(plint iY, IncomprFlowParam&lt;T&gt; <span class="type">const</span> &amp;parameters)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    T y = (T)iY / parameters.<span class="built_in">getResolution</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">4.</span> * parameters.<span class="built_in">getLatticeU</span>() * (y - y * y);</span><br><span class="line">&#125; <span class="comment">//这个函数在给定高度的通道中，以给定的最大速度在通道中间计算抛物型泊泽维尔剖面</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/// A functional, used to initialize the velocity for the boundary conditions</span></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PoiseuilleVelocity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">PoiseuilleVelocity</span>(IncomprFlowParam&lt;T&gt; parameters_) : <span class="built_in">parameters</span>(parameters_) &#123; &#125;</span><br><span class="line">    <span class="comment">/// This version of the operator returns the velocity only,</span></span><br><span class="line">    <span class="comment">///    to instantiate the boundary condition.</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(plint, plint iY, Array&lt;T, <span class="number">2</span>&gt; &amp;u)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        u[<span class="number">0</span>] = <span class="built_in">poiseuilleVelocity</span>(iY, parameters);</span><br><span class="line">        u[<span class="number">1</span>] = <span class="built_in">T</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/// This version of the operator returns also a constant value for</span></span><br><span class="line">    <span class="comment">///    the density, to create the initial condition.</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">operator</span><span class="params">()</span><span class="params">(plint, plint iY, T &amp;rho, Array&lt;T, <span class="number">2</span>&gt; &amp;u)</span> <span class="type">const</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        u[<span class="number">0</span>] = <span class="built_in">poiseuilleVelocity</span>(iY, parameters);</span><br><span class="line">        u[<span class="number">1</span>] = <span class="built_in">T</span>();</span><br><span class="line">        rho = (T)<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    IncomprFlowParam&lt;T&gt; parameters;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">channelSetup</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; &amp;lattice, IncomprFlowParam&lt;T&gt; <span class="type">const</span> &amp;parameters,</span></span></span><br><span class="line"><span class="params"><span class="function">    OnLatticeBoundaryCondition2D&lt;T, DESCRIPTOR&gt; &amp;boundaryCondition)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Create Velocity boundary conditions.</span></span><br><span class="line">    boundaryCondition.<span class="built_in">setVelocityConditionOnBlockBoundaries</span>(lattice);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Specify the boundary velocity.</span></span><br><span class="line">    <span class="built_in">setBoundaryVelocity</span>(lattice, lattice.<span class="built_in">getBoundingBox</span>(), <span class="built_in">PoiseuilleVelocity</span>&lt;T&gt;(parameters));</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Create the initial condition.</span></span><br><span class="line">    <span class="built_in">initializeAtEquilibrium</span>(lattice, lattice.<span class="built_in">getBoundingBox</span>(), <span class="built_in">PoiseuilleVelocity</span>&lt;T&gt;(parameters));</span><br><span class="line"></span><br><span class="line">    lattice.<span class="built_in">initialize</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">writeGifs</span><span class="params">(MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; &amp;lattice, plint iter)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">const</span> plint imSize = <span class="number">600</span>;</span><br><span class="line">    <span class="function">ImageWriter&lt;T&gt; <span class="title">imageWriter</span><span class="params">(<span class="string">&quot;leeloo&quot;</span>)</span></span>;</span><br><span class="line">    imageWriter.<span class="built_in">writeScaledGif</span>(</span><br><span class="line">        <span class="built_in">createFileName</span>(<span class="string">&quot;u&quot;</span>, iter, <span class="number">6</span>), *<span class="built_in">computeVelocityNorm</span>(lattice), imSize, imSize);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc, <span class="type">char</span> *argv[])</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">plbInit</span>(&amp;argc, &amp;argv);</span><br><span class="line"></span><br><span class="line">    global::<span class="built_in">directories</span>().<span class="built_in">setOutputDir</span>(<span class="string">&quot;./tmp/&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use the class IncomprFlowParam to convert from</span></span><br><span class="line">    <span class="comment">//   dimensionless variables to lattice units, in the</span></span><br><span class="line">    <span class="comment">//   context of incompressible flows.</span></span><br><span class="line">    <span class="function">IncomprFlowParam&lt;T&gt; <span class="title">parameters</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        (T)<span class="number">1e-2</span>,  <span class="comment">// Reference velocity (the maximum velocity</span></span></span></span><br><span class="line"><span class="params"><span class="function">                  <span class="comment">//   in the Poiseuille profile) in lattice units.</span></span></span></span><br><span class="line"><span class="params"><span class="function">        (T)<span class="number">100.</span>,  <span class="comment">// Reynolds number</span></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="number">100</span>,      <span class="comment">// Resolution of the reference length (channel height).</span></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="number">2.</span>,       <span class="comment">// Channel length in dimensionless variables</span></span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="number">1.</span>        <span class="comment">// Channel height in dimensionless variables</span></span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>;</span><br><span class="line">    <span class="type">const</span> T imSave = (T)<span class="number">0.1</span>;  <span class="comment">// Time intervals at which to save GIF</span></span><br><span class="line">                              <span class="comment">//   images, in dimensionless time units.</span></span><br><span class="line">    <span class="type">const</span> T maxT = (T)<span class="number">3.1</span>;    <span class="comment">// Total simulation time, in dimensionless</span></span><br><span class="line">                              <span class="comment">//   time units.</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">writeLogFile</span>(parameters, <span class="string">&quot;Poiseuille flow&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="function">MultiBlockLattice2D&lt;T, DESCRIPTOR&gt; <span class="title">lattice</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        parameters.getNx(), parameters.getNy(),</span></span></span><br><span class="line"><span class="params"><span class="function">        <span class="keyword">new</span> BGKdynamics&lt;T, DESCRIPTOR&gt;(parameters.getOmega()))</span></span>;</span><br><span class="line"></span><br><span class="line">    OnLatticeBoundaryCondition2D&lt;T, DESCRIPTOR&gt; *boundaryCondition =</span><br><span class="line">        <span class="built_in">createLocalBoundaryCondition2D</span>&lt;T, DESCRIPTOR&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="built_in">channelSetup</span>(lattice, parameters, *boundaryCondition);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Main loop over time iterations.</span></span><br><span class="line">    <span class="keyword">for</span> (plint iT = <span class="number">0</span>; iT * parameters.<span class="built_in">getDeltaT</span>() &lt; maxT; ++iT) &#123;</span><br><span class="line">        <span class="keyword">if</span> (iT % parameters.<span class="built_in">nStep</span>(imSave) == <span class="number">0</span> &amp;&amp; iT &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            pcout &lt;&lt; <span class="string">&quot;Saving Gif at time step &quot;</span> &lt;&lt; iT &lt;&lt; endl;</span><br><span class="line">            <span class="built_in">writeGifs</span>(lattice, iT);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// Execute lattice Boltzmann iteration.</span></span><br><span class="line">        lattice.<span class="built_in">collideAndStream</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">delete</span> boundaryCondition;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>PALABOS</category>
      </categories>
      <tags>
        <tag>PALABOS</tag>
        <tag>LBM</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2021-09</title>
    <url>/MyWiki/wiki/2021/09/01/notes/PaperReadNote202109/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="2021-09-01"><a href="#2021-09-01" class="headerlink" title="2021-09-01"></a>2021-09-01</h2><h3 id="沥青：宏观-amp-微观论-1"><a href="#沥青：宏观-amp-微观论-1" class="headerlink" title="沥青：宏观&amp;微观论[1]"></a>沥青：宏观&amp;微观论<a href="https://www.sciencedirect.com/science/article/pii/S001623611300611X"><sup>[1]</sup></a></h3><blockquote>
<p>While asphalt physical failures and performance are observed on the macroscale, the asphalt chemistries, mechanical properties, reactions and phase changes occur at the microscale and nanoscale. </p>
</blockquote>
<h3 id="OPLS-AA是一个什么样的力场-1"><a href="#OPLS-AA是一个什么样的力场-1" class="headerlink" title="OPLS-AA是一个什么样的力场[1]"></a>OPLS-AA是一个什么样的力场<a href="https://www.sciencedirect.com/science/article/pii/S001623611300611X"><sup>[1]</sup></a></h3><blockquote>
<p>OPLS-AA force field is a Lennard-Jones force field which approximates the interaction between two molecules through repulsive and attractive forces.<br><a href="https://blog.csdn.net/qq_31346429/article/details/112478104">全原子力场中各参数的含义及其在LAMMPS中的应用</a></p>
</blockquote>
<h3 id="Resin-and-asphaltene"><a href="#Resin-and-asphaltene" class="headerlink" title="Resin and asphaltene"></a>Resin and asphaltene</h3><blockquote>
<p>Resin and asphaltene have similar chemical properties and structural shapes</p>
</blockquote>
<h3 id="什么是-A-partial-douuble-bond"><a href="#什么是-A-partial-douuble-bond" class="headerlink" title="什么是 A partial douuble bond"></a>什么是 A partial douuble bond</h3><blockquote>
<ul>
<li>部分双键是由结构中的共振引起的，共振是π电子(形成双键中的第二个键的电子)从一个位置转移到另一个位置.</li>
<li>它们“partial”的原因是，这种结构可以在两种或两种以上的构象之间共振或翻转。</li>
<li>在这些构象中，至少有一个具有所研究的两个原子之间的双键特征，至少有一个具有单键特征。</li>
<li>键会在单键和双键之间产生共鸣或翻转。事实上，它们存在于两者之间，状态之间没有交替，只是一个恒定的平均构型。</li>
</ul>
</blockquote>
<h3 id="微流控技术"><a href="#微流控技术" class="headerlink" title="微流控技术"></a>微流控技术</h3><blockquote>
<ul>
<li>通常把在微纳尺度空间里流动的流体称为微纳流<br>体，把在微纳尺度通道中对低雷诺数或层流条件下微<br>流体进行驱替控制的相关技术称为微流控技术</li>
<li>微流控技术能够在微米尺度空间对流体进行操控，将生物、<br>化学等实验室的基本功能微缩到一个几平方厘米的模<br>型上，承载这一功能的微流控模型又可称为芯片实验<br>室(Lab on a chip)</li>
</ul>
</blockquote>
<h2 id="2021-09-28"><a href="#2021-09-28" class="headerlink" title="2021-09-28"></a>2021-09-28</h2><h3 id="扩散系数"><a href="#扩散系数" class="headerlink" title="扩散系数"></a>扩散系数</h3><blockquote>
<ul>
<li>均方位移(mean square displacement)：<svg xmlns="http://www.w3.org/2000/svg" width="43.257ex" height="6.783ex" role="img" focusable="false" viewBox="0 -1749 19119.7 2998" style="vertical-align: -2.826ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="4D" d="M132 622Q125 629 121 631T105 634T62 637H29V683H135Q221 683 232 682T249 675Q250 674 354 398L458 124L562 398Q666 674 668 675Q671 681 683 682T781 683H887V637H854Q814 636 803 634T785 622V61Q791 51 802 49T854 46H887V0H876Q855 3 736 3Q605 3 596 0H585V46H618Q660 47 669 49T688 61V347Q688 424 688 461T688 546T688 613L687 632Q454 14 450 7Q446 1 430 1T410 7Q409 9 292 316L176 624V606Q175 588 175 543T175 463T175 356L176 86Q187 50 261 46H278V0H269Q254 3 154 3Q52 3 37 0H29V46H46Q78 48 98 56T122 69T132 86V622Z"></path></g><g data-mml-node="mi" transform="translate(917, 0)"><path data-c="53" d="M55 507Q55 590 112 647T243 704H257Q342 704 405 641L426 672Q431 679 436 687T446 700L449 704Q450 704 453 704T459 705H463Q466 705 472 699V462L466 456H448Q437 456 435 459T430 479Q413 605 329 646Q292 662 254 662Q201 662 168 626T135 542Q135 508 152 480T200 435Q210 431 286 412T370 389Q427 367 463 314T500 191Q500 110 448 45T301 -21Q245 -21 201 -4T140 27L122 41Q118 36 107 21T87 -7T78 -21Q76 -22 68 -22H64Q61 -22 55 -16V101Q55 220 56 222Q58 227 76 227H89Q95 221 95 214Q95 182 105 151T139 90T205 42T305 24Q352 24 386 62T420 155Q420 198 398 233T340 281Q284 295 266 300Q261 301 239 306T206 314T174 325T141 343T112 367T85 402Q55 451 55 507Z"></path></g><g data-mml-node="mi" transform="translate(1473, 0)"><path data-c="44" d="M130 622Q123 629 119 631T103 634T60 637H27V683H228Q399 682 419 682T461 676Q504 667 546 641T626 573T685 470T708 336Q708 210 634 116T442 3Q429 1 228 0H27V46H60Q102 47 111 49T130 61V622ZM593 338Q593 439 571 501T493 602Q439 637 355 637H322H294Q238 637 234 628Q231 624 231 344Q231 62 232 59Q233 49 248 48T339 46H350Q456 46 515 95Q561 133 577 191T593 338Z"></path></g></g><g data-mml-node="mo" transform="translate(2514.8, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(3570.6, 0)"><g data-mml-node="mn" transform="translate(414, 676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mi" transform="translate(220, -686)"><path data-c="4E" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g><rect width="1088" height="60" x="120" y="220"></rect></g><g data-mml-node="mrow" transform="translate(4898.6, 0)"><g data-mml-node="mo"><path data-c="27E8" d="M140 242V260L386 994Q633 1729 635 1732Q643 1745 657 1749Q658 1749 662 1749T668 1750Q682 1749 692 1740T702 1714V1705L214 251L703 -1204L702 -1213Q702 -1230 692 -1239T667 -1248H664Q647 -1248 635 -1231Q633 -1228 386 -493L140 242Z"></path></g><g data-mml-node="munderover" transform="translate(806, 0)"><g data-mml-node="mo"><path data-c="2211" d="M60 948Q63 950 665 950H1267L1325 815Q1384 677 1388 669H1348L1341 683Q1320 724 1285 761Q1235 809 1174 838T1033 881T882 898T699 902H574H543H251L259 891Q722 258 724 252Q725 250 724 246Q721 243 460 -56L196 -356Q196 -357 407 -357Q459 -357 548 -357T676 -358Q812 -358 896 -353T1063 -332T1204 -283T1307 -196Q1328 -170 1348 -124H1388Q1388 -125 1381 -145T1356 -210T1325 -294L1267 -449L666 -450Q64 -450 61 -448Q55 -446 55 -439Q55 -437 57 -433L590 177Q590 178 557 222T452 366T322 544L56 909L55 924Q55 945 60 948Z"></path></g><g data-mml-node="TeXAtom" transform="translate(148.2, -1087.9) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g><g data-mml-node="mo" transform="translate(345, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mn" transform="translate(1123, 0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(408, 1150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="4E" d="M234 637Q231 637 226 637Q201 637 196 638T191 649Q191 676 202 682Q204 683 299 683Q376 683 387 683T401 677Q612 181 616 168L670 381Q723 592 723 606Q723 633 659 637Q635 637 635 648Q635 650 637 660Q641 676 643 679T653 683Q656 683 684 682T767 680Q817 680 843 681T873 682Q888 682 888 672Q888 650 880 642Q878 637 858 637Q787 633 769 597L620 7Q618 0 599 0Q585 0 582 2Q579 5 453 305L326 604L261 344Q196 88 196 79Q201 46 268 46H278Q284 41 284 38T282 19Q278 6 272 0H259Q228 2 151 2Q123 2 100 2T63 2T46 1Q31 1 31 10Q31 14 34 26T39 40Q41 46 62 46Q130 49 150 85Q154 91 221 362L289 634Q287 635 234 637Z"></path></g></g></g><g data-mml-node="msup" transform="translate(2416.7, 0)"><g data-mml-node="mrow"><g data-mml-node="mo"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msubsup" transform="translate(278, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="72" d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, 413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, -247) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1108.2, 0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1497.2, 0)"><path data-c="74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mo" transform="translate(1858.2, 0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(2469.4, 0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msubsup" transform="translate(3469.6, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="72" d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, 413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, -247) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="mo" transform="translate(4299.8, 0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(4688.8, 0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(5188.8, 0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(5577.8, 0)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(5855.8, 477.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mo" transform="translate(8676, 0)"><path data-c="27E9" d="M103 1714Q103 1732 114 1741T137 1750Q157 1750 170 1732Q172 1729 419 994L665 260V242L419 -493Q172 -1228 170 -1231Q158 -1248 141 -1248H138Q123 -1248 113 -1239T103 -1213V-1204L591 251L103 1705V1714Z"></path></g></g><g data-mml-node="mo" transform="translate(14658.4, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mi" transform="translate(15714.1, 0)"><path data-c="394" d="M51 0Q46 4 46 7Q46 9 215 357T388 709Q391 716 416 716Q439 716 444 709Q447 705 616 357T786 7Q786 4 781 0H51ZM507 344L384 596L137 92L383 91H630Q630 93 507 344Z"></path></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(16547.1, 0)"><g data-mml-node="mo"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(16825.1, 0)"><g data-mml-node="mi"><path data-c="72" d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z"></path></g></g><g data-mml-node="mo" transform="translate(17299.1, 0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(17688.1, 0)"><path data-c="74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mo" transform="translate(18049.1, 0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="msup" transform="translate(18438.1, 0)"><g data-mml-node="mo"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="TeXAtom" transform="translate(278, 413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g></g></g></svg></li>
<li>扩散系数(diffusion coefficient)：<svg xmlns="http://www.w3.org/2000/svg" width="32.128ex" height="4.723ex" role="img" focusable="false" viewBox="0 -1370 14200.7 2087.4" style="vertical-align: -1.623ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="msub"><g data-mml-node="mi"><path data-c="44" d="M287 628Q287 635 230 637Q207 637 200 638T193 647Q193 655 197 667T204 682Q206 683 403 683Q570 682 590 682T630 676Q702 659 752 597T803 431Q803 275 696 151T444 3L430 1L236 0H125H72Q48 0 41 2T33 11Q33 13 36 25Q40 41 44 43T67 46Q94 46 127 49Q141 52 146 61Q149 65 218 339T287 628ZM703 469Q703 507 692 537T666 584T629 613T590 629T555 636Q553 636 541 636T512 636T479 637H436Q392 637 386 627Q384 623 313 339T242 52Q242 48 253 48T330 47Q335 47 349 47T373 46Q499 46 581 128Q617 164 640 212T683 339T703 469Z"></path></g><g data-mml-node="TeXAtom" transform="translate(828, -150) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1399.7, 0)"><path data-c="3D" d="M56 347Q56 360 70 367H707Q722 359 722 347Q722 336 708 328L390 327H72Q56 332 56 347ZM56 153Q56 168 72 173H708Q722 163 722 153Q722 140 707 133H70Q56 140 56 153Z"></path></g><g data-mml-node="mfrac" transform="translate(2455.5, 0)"><g data-mml-node="mn" transform="translate(220, 676)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z"></path></g><g data-mml-node="mn" transform="translate(220, -686)"><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z"></path></g><rect width="700" height="60" x="120" y="220"></rect></g><g data-mml-node="munder" transform="translate(3562.2, 0)"><g data-mml-node="mo" transform="translate(140.2, 0)"><path data-c="6C" d="M42 46H56Q95 46 103 60V68Q103 77 103 91T103 124T104 167T104 217T104 272T104 329Q104 366 104 407T104 482T104 542T103 586T103 603Q100 622 89 628T44 637H26V660Q26 683 28 683L38 684Q48 685 67 686T104 688Q121 689 141 690T171 693T182 694H185V379Q185 62 186 60Q190 52 198 49Q219 46 247 46H263V0H255L232 1Q209 2 183 2T145 3T107 3T57 1L34 0H26V46H42Z"></path><path data-c="69" d="M69 609Q69 637 87 653T131 669Q154 667 171 652T188 609Q188 579 171 564T129 549Q104 549 87 564T69 609ZM247 0Q232 3 143 3Q132 3 106 3T56 1L34 0H26V46H42Q70 46 91 49Q100 53 102 60T104 102V205V293Q104 345 102 359T88 378Q74 385 41 385H30V408Q30 431 32 431L42 432Q52 433 70 434T106 436Q123 437 142 438T171 441T182 442H185V62Q190 52 197 50T232 46H255V0H247Z" transform="translate(278, 0)"></path><path data-c="6D" d="M41 46H55Q94 46 102 60V68Q102 77 102 91T102 122T103 161T103 203Q103 234 103 269T102 328V351Q99 370 88 376T43 385H25V408Q25 431 27 431L37 432Q47 433 65 434T102 436Q119 437 138 438T167 441T178 442H181V402Q181 364 182 364T187 369T199 384T218 402T247 421T285 437Q305 442 336 442Q351 442 364 440T387 434T406 426T421 417T432 406T441 395T448 384T452 374T455 366L457 361L460 365Q463 369 466 373T475 384T488 397T503 410T523 422T546 432T572 439T603 442Q729 442 740 329Q741 322 741 190V104Q741 66 743 59T754 49Q775 46 803 46H819V0H811L788 1Q764 2 737 2T699 3Q596 3 587 0H579V46H595Q656 46 656 62Q657 64 657 200Q656 335 655 343Q649 371 635 385T611 402T585 404Q540 404 506 370Q479 343 472 315T464 232V168V108Q464 78 465 68T468 55T477 49Q498 46 526 46H542V0H534L510 1Q487 2 460 2T422 3Q319 3 310 0H302V46H318Q379 46 379 62Q380 64 380 200Q379 335 378 343Q372 371 358 385T334 402T308 404Q263 404 229 370Q202 343 195 315T187 232V168V108Q187 78 188 68T191 55T200 49Q221 46 249 46H265V0H257L234 1Q210 2 183 2T145 3Q42 3 33 0H25V46H41Z" transform="translate(556, 0)"></path></g><g data-mml-node="TeXAtom" transform="translate(0, -609.6) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mo" transform="translate(361, 0)"><path data-c="2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path></g><g data-mml-node="mi" transform="translate(1361, 0)"><path data-c="221E" d="M55 217Q55 305 111 373T254 442Q342 442 419 381Q457 350 493 303L507 284L514 294Q618 442 747 442Q833 442 888 374T944 214Q944 128 889 59T743 -11Q657 -11 580 50Q542 81 506 128L492 147L485 137Q381 -11 252 -11Q166 -11 111 57T55 217ZM907 217Q907 285 869 341T761 397Q740 397 720 392T682 378T648 359T619 335T594 310T574 285T559 263T548 246L543 238L574 198Q605 158 622 138T664 94T714 61T765 51Q827 51 867 100T907 217ZM92 214Q92 145 131 89T239 33Q357 33 456 193L425 233Q364 312 334 337Q285 380 233 380Q171 380 132 331T92 214Z"></path></g></g></g><g data-mml-node="mfrac" transform="translate(5398.3, 0)"><g data-mml-node="mi" transform="translate(400.5, 676)"><path data-c="64" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mrow" transform="translate(220, -686)"><g data-mml-node="mi"><path data-c="64" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z"></path></g><g data-mml-node="mi" transform="translate(520, 0)"><path data-c="74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g></g><rect width="1081" height="60" x="120" y="220"></rect></g><g data-mml-node="mrow" transform="translate(6719.3, 0)"><g data-mml-node="mo"><path data-c="27E8" d="M112 244V258L473 1130Q482 1150 498 1150Q511 1150 517 1142T523 1125V1118L344 685Q304 587 257 473T187 305L165 251L344 -184L523 -616V-623Q524 -634 517 -641T499 -649Q484 -649 473 -629L112 244Z"></path></g><g data-mml-node="msup" transform="translate(611, 0)"><g data-mml-node="mrow"><g data-mml-node="mo"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g><g data-mml-node="msubsup" transform="translate(278, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="72" d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, 413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, -247) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="mo" transform="translate(1108.2, 0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mi" transform="translate(1497.2, 0)"><path data-c="74" d="M26 385Q19 392 19 395Q19 399 22 411T27 425Q29 430 36 430T87 431H140L159 511Q162 522 166 540T173 566T179 586T187 603T197 615T211 624T229 626Q247 625 254 615T261 596Q261 589 252 549T232 470L222 433Q222 431 272 431H323Q330 424 330 420Q330 398 317 385H210L174 240Q135 80 135 68Q135 26 162 26Q197 26 230 60T283 144Q285 150 288 151T303 153H307Q322 153 322 145Q322 142 319 133Q314 117 301 95T267 48T216 6T155 -11Q125 -11 98 4T59 56Q57 64 57 83V101L92 241Q127 382 128 383Q128 385 77 385H26Z"></path></g><g data-mml-node="mo" transform="translate(1858.2, 0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(2469.4, 0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z"></path></g><g data-mml-node="msubsup" transform="translate(3469.6, 0)"><g data-mml-node="TeXAtom" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="72" d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, 413) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="63" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(474, -247) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mi"><path data-c="69" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z"></path></g></g></g><g data-mml-node="mo" transform="translate(4299.8, 0)"><path data-c="28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path></g><g data-mml-node="mn" transform="translate(4688.8, 0)"><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z"></path></g><g data-mml-node="mo" transform="translate(5188.8, 0)"><path data-c="29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></g><g data-mml-node="mo" transform="translate(5577.8, 0)"><path data-c="7C" d="M139 -249H137Q125 -249 119 -235V251L120 737Q130 750 139 750Q152 750 159 735V-235Q151 -249 141 -249H139Z"></path></g></g><g data-mml-node="TeXAtom" transform="translate(5855.8, 477.1) scale(0.707)" data-mjx-texclass="ORD"><g data-mml-node="mn"><path data-c="32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path></g></g></g><g data-mml-node="mo" transform="translate(6870.4, 0)"><path data-c="27E9" d="M112 -649Q103 -649 95 -642T87 -623V-616L266 -184L445 251Q445 252 356 466T178 898T86 1123Q85 1134 93 1142T110 1150Q126 1150 133 1137Q134 1136 317 695L498 258V244L317 -194Q134 -635 133 -636Q126 -649 112 -649Z"></path></g></g></g></g></svg></li>
<li>不同扩散模式下粒子的均方位移MSD与时间t的关系很不一样.</li>
<li>静态模式 Stationary mode:粒子基本不运动, 扩散系数接近零.</li>
<li>简单(或布朗)扩散模式 Simple diffusion mode:粒子做简单的布朗扩散运动</li>
<li>定向扩散(或传输)模式 Directed diffusion mode (transport mode):粒子在做随机扩散的同时沿某一方向以恒定的速度漂移</li>
<li>限制扩散模式 Restricted diffusion mode:粒子在做布朗扩散时, 其运动空间被限制在某一范围内</li>
<li>受障模式 Obstacle-impeded diffusion mode:粒子进行自由扩散时受障碍物限制, 障碍物可以是固定的, 或者有一定的移动能力. 在这种情况下, 长程扩散会减弱但仍大于零</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>简单扩散模式对应的扩散系数<br><strong>大多数情况下MD研究的是简单扩散模式，在此假定下求扩散系数的步骤是先算MSD, 然后拟合MSD线性部分的斜率, 再除以6(二维体系除以4)就是扩散系数</strong></li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>参考链接：</li>
<li>[1] <a href="http://blog.sciencenet.cn/blog-548663-1052601.html">http://blog.sciencenet.cn/blog-548663-1052601.html</a></li>
<li>[2] <a href="https://www.fermitech.com.cn/wiki/doku.php?id=adf:diffussionofthanol">https://www.fermitech.com.cn/wiki/doku.php?id=adf:diffussionofthanol</a></li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2021</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
        <tag>2021-09</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2022-秋</title>
    <url>/MyWiki/wiki/2022/06/01/notes/PaperReadNote202206/</url>
    <content><![CDATA[<p>[toc]</p>
<h2 id="Paper-Notes-2022"><a href="#Paper-Notes-2022" class="headerlink" title="Paper Notes 2022"></a>Paper Notes 2022</h2><h3 id="2022-12"><a href="#2022-12" class="headerlink" title="2022-12"></a>2022-12</h3><h4 id="English-phrases"><a href="#English-phrases" class="headerlink" title="English phrases"></a>English phrases</h4><ul>
<li>Lecithin [生化] 卵磷脂；蛋黄素</li>
<li>Free radical [物化] 自由基；[物化] 游离基</li>
<li>Polymerization 聚合；[高分子] 聚合作用</li>
<li>Intriguingly, adv. 有趣地；有魅力地</li>
<li>steric hindrance 位阻</li>
<li>prevent the blockage of oil and gas pipelines 防止油气管道堵塞</li>
<li>prolong v. 拉长，拖长（感觉或活动）；&lt;罕&gt;延长</li>
<li>posed a great threat 构成了巨大的威胁</li>
<li>environmental hazards 环境公害</li>
<li>the injection of chemical additives is supposed to be the most promising and effective method to solve this problem</li>
<li>acutely adv. 剧烈地，尖锐地</li>
<li>glycol ether compounds  乙二醇醚类化合物</li>
<li>joint inhibitory effect 联合抑制效应</li>
<li>Periodic boundary conditions were <mark>imposed</mark> in all three directions of the simulation box.</li>
<li>rebound effect 反弹效应</li>
<li>further in-depth simulation analysis is carried out to reveal the internal mechanism</li>
<li>sustained growth 持续增长</li>
<li>In terms of the number of cages</li>
<li>Fig. 4(a) was amplified in the time interval of0e50 ns</li>
<li>the environmental condition<mark> is conducive to</mark> the formation and stable survival of these cages.<blockquote>
<p> is conducive to 有利于</p>
</blockquote>
</li>
<li>partial <mark>extinction</mark> n. 灭绝，消亡；（债务的）偿清；消光</li>
<li>skeleton n. 骨骼，骨架；</li>
<li>takes shape<blockquote>
<p>the first stable 512 cage takes shape at 22 ns, </p>
</blockquote>
</li>
<li>accelerate the follow-up formation of new methane hydrate clathrates 加快后续形成新的甲烷水合物包合物</li>
<li>thus paving the way for the rapid formation of large cages later. 从而为后来快速形成大型网箱铺平了道路。</li>
<li><mark>serves as</mark> the nucleus for subsequent hydrate growth 作为后续水合物生长的核心</li>
<li>it can be concluded that 可以断定的是……</li>
<li>For clarity 为清楚起见</li>
<li>in the vicinity of PVP-A 在PVP-A附近</li>
<li><mark>dwindle </mark>v. （逐渐）减少，变小；使缩小，使减少</li>
<li>stochastic motion 随机运动</li>
<li><mark>instantaneous</mark> decrease adj. 瞬间发生的，瞬间完成的</li>
<li><mark>Neither</mark> high <mark>nor</mark> low temperature is conducive to continuous growth of hydrates 高温和低温都不利于水合物的持续生长<blockquote>
<p><mark>neither</mark> too high <mark>nor</mark> too low MPD concentrations are favorable for the growth of sH hydrate MPD浓度过高或过低均不利于sH水合物的生长</p>
</blockquote>
</li>
<li>ice-like non-<mark>stoichiometric</mark> crystalline compounds<blockquote>
<p>adj. 化学计量的；化学计算的</p>
</blockquote>
</li>
<li>Different from sI and sII hydrates 不同于sI和sII水合物</li>
<li>To achieve this target,</li>
<li>Of all the guests explored 在所有的客人中</li>
<li><mark>isomer</mark> n. [化学] 同分异构物；[核] 同质异能素</li>
<li>an understanding of the growth mechanism of sH hydrate <mark>is of great importance</mark></li>
<li>during the entire simulation</li>
<li></li>
</ul>
<h4 id="判定水合物分解的时间"><a href="#判定水合物分解的时间" class="headerlink" title="判定水合物分解的时间"></a>判定水合物分解的时间</h4><ul>
<li>由于分子动力学模拟初始分布条件等不同，可能水合物分解的时间也不同，因此可采用<mark>角序参数</mark>达到0.8所需时间作为参考时间：</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote2022-b.md/52400523227535.png"></li>
</ul>
<h4 id="水分子力场"><a href="#水分子力场" class="headerlink" title="水分子力场"></a>水分子力场</h4><ul>
<li>水分子力场分为精细化力场，原子力场和粗粒化力场三种。<ul>
<li><blockquote>
<p>水分子的精细化力场指的是力场体系中的位点数多于水分子中的原子数，即大于3，这样可以更加细致的描述水分子间的相互作用，比如存在质荷电荷分离的情况。还有一个原因就是水分子存在氢键，为了更好的描述水分子的氢键，往往引入虚拟的点电荷。</p>
</blockquote>
</li>
<li><blockquote>
<p>原子力场指的是对水分子的描述为原子级别，如果三个位点的话则为全原子力场，若将三个位点看作一个点则为联合原子力场。</p>
</blockquote>
</li>
<li><blockquote>
<p>粗粒化力场则是将数个水分子看作一个点，是更为简化的模型，常用于粗粒化模拟中。</p>
</blockquote>
</li>
</ul>
</li>
<li>对水分子的抽象化越高，则计算速度越快，但对于细节的描述就越少，因此二者之间的平衡需要模拟者自己衡量。</li>
</ul>
<h4 id="天然气水合物"><a href="#天然气水合物" class="headerlink" title="天然气水合物"></a>天然气水合物</h4><h5 id="稳定性"><a href="#稳定性" class="headerlink" title="稳定性"></a>稳定性</h5><ul>
<li>空的水笼子，可以看作为一种特殊的冰，一般不稳定，客体分子的作用之一可以分子之间范德华作用力稳定水笼子；</li>
<li>sI结构天然气水合物更稳定，因此自然界以sI型水合物为主；</li>
<li>甲烷的在水中的溶解度不高；</li>
<li>甲烷水合物的形成需要三个条件，即低温、高压和充足的甲烷气源，天然气管道天然的满足这三个条件，因此甲烷水合物在天然气管道中极易形成。</li>
</ul>
<h5 id="储能"><a href="#储能" class="headerlink" title="储能"></a>储能</h5><ul>
<li>天然气水合物约为传统化石能源的2倍</li>
<li>1m^3的天然气水合物可以分解为标准压力室温下164m^3的天然气和0.8m³的液态水，储能密度非常高，可以用于储能和输运。</li>
</ul>
<h5 id="水合物抑制剂探索"><a href="#水合物抑制剂探索" class="headerlink" title="水合物抑制剂探索"></a>水合物抑制剂探索</h5><ul>
<li><mark>乙醇、氯化钠，</mark>在高压条件下氯化钠的抑制效果优于乙醇；</li>
<li><mark>草酸对天然气水合物分解有中度抑制作用</mark>，而丁二酸和天冬氨酸对天然气水合物分解有促进作用；</li>
<li>甲醇的存在对水合物的分解速率有促进的影响</li>
<li>氨基酸对甲烷水合物形成均有抑制作用</li>
</ul>
<h5 id="水合物助剂"><a href="#水合物助剂" class="headerlink" title="水合物助剂"></a>水合物助剂</h5><ul>
<li>热力学助剂：热力学助剂主要是通过改变水合物的相图来影响水合物的稳定性，可以让水合物在温度更高或压强更低的条件下存在，或者在温度更低或者压强更高的情况下能够分解；</li>
<li>动力学助剂：</li>
<li>防聚剂：</li>
</ul>
<h4 id="范德华与Lennard-Jones"><a href="#范德华与Lennard-Jones" class="headerlink" title="范德华与Lennard Jones"></a>范德华与Lennard Jones</h4><ul>
<li>范德华力是一种分子间弱作用力，包括色散力、诱导力、取向力<ul>
<li><blockquote>
<p>色散力（dispersion force 也称“伦敦力”）所有分子或原子间都存在。是分子的瞬时偶极间的作用力，即由于电子的运动，瞬间电子的位置对原子核是不对称的，也就是说正电荷重心和负电荷重心发生瞬时的不重合，从而产生瞬时偶极。</p>
</blockquote>
</li>
<li><blockquote>
<p>诱导力（induction force）在极性分子和非极性分子之间以及极性分子和极性分子之间都存在诱导力。由于极性分子偶极所产生的电场对非极性分子发生影响，使非极性分子电子云变形(即电子云被吸向极性分子偶极的正电的一极)，结果使非极性分子的电子云与原子核发生相对位移，本来非极性分子中的正、负电荷重心是重合的，相对位移后就不再重合，使非极性分子产生了偶极。这种电荷重心的相对位移叫做“变形”，因变形而产生的偶极，叫做诱导偶极，以区别于极性分子中原有的固有偶极。诱导偶极和固有偶极就相互吸引，这种由于诱导偶极而产生的作用力，叫做诱导力。在极性分子和极性分子之间，除了取向力外，由于极性分子的相互影响，每个分子也会发生变形，产生诱导偶极。其结果使分子的偶极距增大，既具有取向力又具有诱导力。在阳离子和阴离子之间也会出现诱导力。</p>
</blockquote>
</li>
<li><blockquote>
<p>取向力（orientation force 也称dipole-dipole force）取向力发生在极性分子与极性分子之间。由于极性分子的电性分布不均匀，一端带正电，一端带负电，形成偶极。因此，当两个极性分子相互接近时，由于它们偶极的同极相斥，异极相吸，两个分子必将发生相对转动。这种偶极子的互相转动，就使偶极子的相反的极相对，叫做“取向”。这时由于相反的极相距较近，同极相距较远，结果引力大于斥力，两个分子靠近，当接近到一定距离之后，斥力与引力达到相对平衡。这种由于极性分子的取向而产生的分子间的作用力，叫做取向力。</p>
</blockquote>
</li>
<li><blockquote>
<p>极性分子与极性分子之间，取向力、诱导力、色散力都存在；极性分子与非极性分子之间，则存在诱导力和色散力；非极性分子与非极性分子之间，则只存在色散力。这三种类型的力的比例大小，决定于相互作用分子的极性和变形性。极性越大，取向力的作用越重要；变形性越大，色散力就越重要；诱导力则与这两种因素都有关。但对大多数分子来说，色散力是主要的。实验证明，对大多数分子来说，色散力是主要的；只有偶极矩很大的分子(如水)，取向力才是主要的；而诱导力通常是很小的。极化率α反映分子中的电子云是否容易变形。虽然范德华力只有0.4—4.0kJ&#x2F;mol，但是在大量大分子间的相互作用则会变得十分稳固。比如C—H 在苯中范德华力有7 kJ&#x2F;mol，而在溶菌酶和糖结合底物范德华力却有60kJ&#x2F;mol，范德华力具有加和性。</p>
</blockquote>
</li>
</ul>
</li>
<li>范德华力定义的模糊是有历史原因的，因为它本身不是一个从底层理论推导出的力，而是从实验中发现归纳出的现象。</li>
<li>限定了只有中性分子（或基团）间的相互作用才能叫范德华力（离子-离子、离子-中性分子被排除在外）</li>
<li>按照IUPAC定义，氢键是否是范德华力要看它是否是中性分子间的作用。如果是在气相水分子间的氢键的情况，此时它是一种偶极 - 偶极相互作用，符合范德华力的定义 。</li>
<li>范德华力最早被认为是由London等人研究稀有气体相互作用能时发现的（亦即现在所说的伦敦色散力），源自偶极间静电作用的二阶微扰（second-order perturbation theory applied to the electrostatic interaction between two dipoles）</li>
<li>当原子间距离近时则会有强烈排斥作用，当然这不包含在伦敦力中，属于Pauli交换互斥力，两种力加和得到的就是我们所熟知的Lennard-Jones potential</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote2022-b.md/249953110221242.png"></li>
<li>随着科学的发展，后来人们对分子间作用力认识的不断加深，现在看来London力只算是范德华力的一种，亦即色散力。</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote2022-b.md/189185510239668.png"></li>
<li>其中前一项为L-J势，是用来模拟两个电中性的分子或原子间相互作用势能的一个比较简单的数学模型。L-J势从物理意义上讲，12次幂项可认为是对应于两体在近距离时以互相排斥为主的作用（交换互斥作用），6次幂项对应两体在远距离以互相吸引为主的作用（色散吸引），而此六次方项也的确可以使用以电子-原子核的电偶极矩摄动展开得到。后一项为静电作用项，原子电荷信息可以使用量子化学计算在RESP拟合得到，或者使用更粗略但快速的AM1-BCC电荷。</li>
</ul>
<h3 id="2022-11"><a href="#2022-11" class="headerlink" title="2022-11"></a>2022-11</h3><h4 id="English-phrases-1"><a href="#English-phrases-1" class="headerlink" title="English phrases"></a>English phrases</h4><ul>
<li>Akin to the common crystal formation processes<blockquote>
<p>Akin adj. 相似的，类似的；有血缘关系的</p>
</blockquote>
</li>
<li>embryo n. 胚，胚胎；萌芽期，初期；萌芽状态的事物，发展初期的事物 adj. 胚胎的；初期的</li>
<li><ul>
<li>incipient adj. 初期的；初始的；起初的；发端的</li>
</ul>
</li>
<li>stochastically adv. 偶估地；推测地；随机地</li>
<li>In this scenario 在这种情况下</li>
<li>simultaneous existence 共存</li>
<li>was proportional to  与。。。。成正比<blockquote>
<p>was inversely proportional to  与。。。。成反比</p>
</blockquote>
</li>
<li>different uptake rates 不同的吸收率</li>
<li>More fundamentally, 更重要的是,</li>
<li>Even though significant knowledge has been gained over the<br>past several years,</li>
<li>the present understanding of the clathrate hydrate formation mechanism still represents just the tip of the iceberg 目前对笼状水合物形成机制的了解还只是冰山一角</li>
<li>It is worthwhile noting that </li>
<li>From this point of view</li>
<li>As such, 同样地；本身；就其本身而论</li>
<li>In terms of occupancy of cages, 在笼子的占用率方面，</li>
<li>a stochastic event 一个随机事件</li>
<li>surpass this challenge 超越这个挑战</li>
<li>plugging of the oil and gas flowlines 油气管道的堵塞</li>
<li>mitigate hydrate interparticle interactions 减少水合物颗粒间相互作用</li>
</ul>
<h4 id="天然气水合物开采方法："><a href="#天然气水合物开采方法：" class="headerlink" title="天然气水合物开采方法："></a>天然气水合物开采方法：</h4><ul>
<li>降压法、热激法、注入化学剂法</li>
<li>参考：TOUGH+HYDRATE水合物模型参数敏感性分析</li>
</ul>
<h4 id="天然气水合物特点："><a href="#天然气水合物特点：" class="headerlink" title="天然气水合物特点："></a>天然气水合物特点：</h4><h2 id="参考：doi-10-31035-x2F-cg2022017-Natural-gas-hydrates-NGHs-are-crystalline-compounds-stable-at-low-temperature-and-high-pressure-conditions-（T-lt-10℃，P-gt-7MPa-）-由5种基本的笼子构成三种水合物有结构-天然气水合物广泛分布于多年冻土、陆坡和海区，还可能存在于油气生产过程中，被认为是一种潜在的能源资源-gt-Clathrate-hydrates-of-gas-known-as-gas-hydrates-typically-form-when-water-and-gas-come-into-contact-under-low-temperatures-and-high-pressures-They-are-widely-found-in-the-Earth’s-natural-environments-like-oceanic-sediments-and-permafrost-as-well-as-man-made-environments-like-inside-oil-and-gas-production-flowlines-（Cryst-Growth-Des-2021-21-960−973）-它们与压缩气体的能量密度大致相同-天然气水合物的总有机碳含量几乎是所有其他已证实的化石燃料的两倍-gas-hydrate-formation-might-block-offshore-oilgas-pipelines-As-a-major-component-of-NGHs-and-a-greenhouse-gas-methane-released-from-NGHs-decomposition-from-submarine-might-exacerbate-the-greenhouse-effect-在开采过程中，水合物的二次生成可能会堵塞油井-水合物结构的形成主要依赖于气体分子的尺寸和形状-gt-Different-clathrate-hydrate-crystal-structures-can-be-formed-mainly-depending-on-the-size-and-the-shape-of-guest-molecules-that-are-enclosed-in-the-cages-（Cryst-Growth-Des-2021-21-960−973）"><a href="#参考：doi-10-31035-x2F-cg2022017-Natural-gas-hydrates-NGHs-are-crystalline-compounds-stable-at-low-temperature-and-high-pressure-conditions-（T-lt-10℃，P-gt-7MPa-）-由5种基本的笼子构成三种水合物有结构-天然气水合物广泛分布于多年冻土、陆坡和海区，还可能存在于油气生产过程中，被认为是一种潜在的能源资源-gt-Clathrate-hydrates-of-gas-known-as-gas-hydrates-typically-form-when-water-and-gas-come-into-contact-under-low-temperatures-and-high-pressures-They-are-widely-found-in-the-Earth’s-natural-environments-like-oceanic-sediments-and-permafrost-as-well-as-man-made-environments-like-inside-oil-and-gas-production-flowlines-（Cryst-Growth-Des-2021-21-960−973）-它们与压缩气体的能量密度大致相同-天然气水合物的总有机碳含量几乎是所有其他已证实的化石燃料的两倍-gas-hydrate-formation-might-block-offshore-oilgas-pipelines-As-a-major-component-of-NGHs-and-a-greenhouse-gas-methane-released-from-NGHs-decomposition-from-submarine-might-exacerbate-the-greenhouse-effect-在开采过程中，水合物的二次生成可能会堵塞油井-水合物结构的形成主要依赖于气体分子的尺寸和形状-gt-Different-clathrate-hydrate-crystal-structures-can-be-formed-mainly-depending-on-the-size-and-the-shape-of-guest-molecules-that-are-enclosed-in-the-cages-（Cryst-Growth-Des-2021-21-960−973）" class="headerlink" title="- 参考：doi:10.31035&#x2F;cg2022017- Natural gas hydrates (NGHs) are crystalline compounds- stable at low temperature and high pressure conditions （T&lt;10℃，P&gt;7MPa ）- 由5种基本的笼子构成三种水合物有结构- 天然气水合物广泛分布于多年冻土、陆坡和海区，还可能存在于油气生产过程中，被认为是一种潜在的能源资源;    &gt; Clathrate hydrates of gas, known as gas hydrates, typically form when water and gas come into contact under low temperatures and high pressures. They are widely found in the Earth’s natural environments like oceanic sediments and permafrost, as well as man-made environments like inside oil and gas production flowlines.（Cryst. Growth Des. 2021, 21, 960−973）- 它们与压缩气体的能量密度大致相同- 天然气水合物的总有机碳含量几乎是所有其他已证实的化石燃料的两倍- gas hydrate formation might block offshore oilgas pipelines- As a major component of NGHs and a greenhouse gas, methane released from NGHs decomposition from submarine might exacerbate the greenhouse effect- 在开采过程中，水合物的二次生成可能会堵塞油井- 水合物结构的形成主要依赖于气体分子的尺寸和形状    &gt; Different clathrate hydrate crystal structures can be formed, mainly depending on the size and the shape of guest molecules that are enclosed in the cages. （Cryst. Growth Des. 2021, 21, 960−973）"></a><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/248935918221142.png"><br>- 参考：doi:10.31035&#x2F;cg2022017<br>- Natural gas hydrates (NGHs) are crystalline compounds<br>- stable at low temperature and high pressure conditions （T&lt;10℃，P&gt;7MPa ）<br>- 由5种基本的笼子构成三种水合物有结构<br>- 天然气水合物广泛分布于多年冻土、陆坡和海区，还可能存在于油气生产过程中，被认为是一种潜在的能源资源;<br>    &gt; Clathrate hydrates of gas, known as gas hydrates, typically form when water and gas come into contact under low temperatures and high pressures. They are widely found in the Earth’s natural environments like oceanic sediments and permafrost, as well as man-made environments like inside oil and gas production flowlines.（Cryst. Growth Des. 2021, 21, 960−973）<br>- 它们与压缩气体的能量密度大致相同<br>- 天然气水合物的总有机碳含量几乎是所有其他已证实的化石燃料的两倍<br>- gas hydrate formation might block offshore oilgas pipelines<br>- As a major component of NGHs and a greenhouse gas, methane released from NGHs decomposition from submarine might exacerbate the greenhouse effect<br>- 在开采过程中，水合物的二次生成可能会堵塞油井<br>- 水合物结构的形成主要依赖于气体分子的尺寸和形状<br>    &gt; Different clathrate hydrate crystal structures can be formed, mainly depending on the size and the shape of guest molecules that are enclosed in the cages. （Cryst. Growth Des. 2021, 21, 960−973）</h2><h4 id="分子动力学在水合物的应用潜力"><a href="#分子动力学在水合物的应用潜力" class="headerlink" title="分子动力学在水合物的应用潜力"></a>分子动力学在水合物的应用潜力</h4><ul>
<li><p>科学问题、促进科技</p>
</li>
<li><p>水合物开发、</p>
</li>
<li><p>水合物最初在海底沉积物中是在哪里形成的?</p>
<blockquote>
<p>矿物影响（粘土、石英、碳酸钙）；<br>矿物孔隙、孔隙尺寸、矿物成分的影响；</p>
</blockquote>
</li>
<li><p>天然气水合物在孔隙空间中展现出两种类型：</p>
<blockquote>
<p>pore-filing occurrence<br>grain-displacing occurrence
  </p>
</blockquote>
</li>
<li><p>为了防止开采中水合物的二次生成</p>
<blockquote>
<p>use hydrate inhibitors in drilling fluid to prevent hydrate formation.<br>The second is to add modified nanoparticles into drilling fluid, which can both prevent the invasion of drilling fluid into Natural Gas Hydrorates deposits and prevent hydrate formation</p>
</blockquote>
</li>
</ul>
<h3 id="2022-10"><a href="#2022-10" class="headerlink" title="2022-10"></a>2022-10</h3><h4 id="English-phrases-2"><a href="#English-phrases-2" class="headerlink" title="English phrases"></a>English phrases</h4><ul>
<li><p>As another auxiliary tool 作为另一个辅助工具</p>
</li>
<li><p>it is time-consuming and demanding to 这既耗时又费力</p>
</li>
<li><p>amphiphilic adj. 两亲的，两亲性质的；两性分子团的</p>
</li>
<li><p>substantial studies  大量的研究</p>
</li>
<li><p>is still controversial 仍然是有争议的</p>
</li>
<li><p>seldom</p>
<blockquote>
<p>not often 不常；很少；难得</p>
</blockquote>
</li>
<li><p>graft  n. 枝接纤维</p>
</li>
<li><p>halve v. （使）减半；把……分成两半，对半分；均摊；（高尔夫）与对手以相同杆数打完（一穴或一场比赛）；半嵌接，槽舌接，合缺接（两块木料）</p>
</li>
<li><p>feasible 可行的</p>
<blockquote>
<p>infeasible 不可行的
  </p>
</blockquote>
</li>
<li><p>retain v. 保持，保留</p>
</li>
<li><p>For the sake of clarity in describing the ﬁeld mapping process 为了清晰地描述字段映射过程</p>
</li>
</ul>
<h4 id="泊肃叶流动（Poiseuille-flow）"><a href="#泊肃叶流动（Poiseuille-flow）" class="headerlink" title="泊肃叶流动（Poiseuille flow）"></a>泊肃叶流动（Poiseuille flow）</h4><ul>
<li>泊肃叶和哈根的经验定律是G.G.斯托克斯于1845年建立的关于粘性流体运动基本理论的重要实验证明。<strong>现在流体力学中常把粘性流体在圆管道中的流动称为泊肃叶流动。</strong></li>
</ul>
<h4 id="格子玻尔兹曼LBM模拟"><a href="#格子玻尔兹曼LBM模拟" class="headerlink" title="格子玻尔兹曼LBM模拟"></a>格子玻尔兹曼LBM模拟</h4><h4 id="数字岩心建模"><a href="#数字岩心建模" class="headerlink" title="数字岩心建模"></a>数字岩心建模</h4><h5 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h5><ul>
<li>基于二维扫描电镜图像或三维CT 扫描图像，运用计算机图像处理技术，通过一定的算法完成数字岩心重构；</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/374380919221053.png" alt="数字岩心"><blockquote>
<p><strong>物理实验法：</strong> 是指利用实验仪器( 如高倍光学显微镜或X射线CT 扫描仪等) 对岩心样品拍摄或扫描以获取大量的岩心二维图片，然后通过建模程序或软件把二维图片叠加重构成三维数字岩心，主要包括序列切片成像法、激光扫描共聚焦显微镜法和X 射线CT 扫描法；<br><strong>数值重建法</strong>是以少量的二维薄片图像为基础，利用二维图片中包含的信息，通过随机模拟法或沉积岩的过程模拟法来重建三维数字岩心的方法。<br><strong>混合法</strong></p>
</blockquote>
</li>
</ul>
<h5 id="建模"><a href="#建模" class="headerlink" title="建模"></a>建模</h5><ul>
<li>三维数字重构数字岩心以及后续数值实验（仿真计算），需要如下几个步骤：<blockquote>
<p>数据获取、图像导入——降噪滤波、图像处理——体&#x2F;面网格划分——模型导出、仿真计算<br>Simpleware软件已能完美解决，它致力于为CAD、CAE以及3D打印领域提供世界领先的三维图像处理、分析以及建模和服务。</p>
</blockquote>
</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/2164113221055.png"></li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/576134513239481.png"></li>
</ul>
<h4 id="SDBS活性剂优点"><a href="#SDBS活性剂优点" class="headerlink" title="SDBS活性剂优点"></a>SDBS活性剂优点</h4><ul>
<li>Alkylbenzene sulfonates are inexpensive anionic surfactants <a href="https://doi.org/10.1016/j.petrol.2021.109856">j.petrol.2021.109856</a></li>
<li>The adsorption of surfactant molecules at the interface resulted in an increase in the hydrophilic surface area of the oil droplet.<a href="http://10.0.3.253/acs.energyfuels.8b03258">acs.energyfuels.8b03258</a></li>
<li>It is believed that the appropriate surfactant can change the hydrophilic properties of the crude oil&#x2F;water interface, causing a change of viscosity of the crude oil. <a href="http://10.0.3.253/acs.energyfuels.8b03258">acs.energyfuels.8b03258</a></li>
<li>chemical EOR has been widely used in oilfields with demonstrated high efficiency of oil displacement and low operational costs. </li>
<li>improve sweep efficiency and oil displacement.</li>
<li>Recent studies have reported various types of nanoparticles (NPs) for improving oil recovery either alone or in combination with surfactants.</li>
</ul>
<h3 id="2022-09"><a href="#2022-09" class="headerlink" title="2022-09"></a>2022-09</h3><h4 id="English-phrases-3"><a href="#English-phrases-3" class="headerlink" title="English phrases"></a>English phrases</h4><ul>
<li>in various burgeoning fields 在各种新兴领域</li>
<li>foam n. 泡沫，气泡；泡沫橡胶，海绵橡胶；泡沫剂，泡沫产品；唾液，汗沫 v. 起泡沫，有泡沫</li>
<li>endow 赋予</li>
<li>To compound the confusion, 更让人困惑的是，</li>
<li>A number of experimental techniques have been invented to measure the absolute rate of phase change, such as evaporation and condensation rates, <mark>but there remain many technical problems</mark></li>
<li>imperative adj. 极重要的，必要的；命令的，强制的；祈使的</li>
<li>the distance between two adjacent <mark>crests</mark> 两个相邻<mark>波峰</mark>之间的距离</li>
<li>With the proposed analysis 根据提出的分析</li>
<li>For the first time 首次；第一次</li>
<li>On addressing the challenges, 在应对挑战时，</li>
<li>It is well accepted that 人们普遍认为</li>
<li>For the sake of simplicity  为了简单起见</li>
<li>In recent times, 在当代</li>
<li>It is concluded that…… 结论是<br>-<mark> mitigate</mark> its greenhouse effect <mark>减轻</mark>温室效应</li>
<li>In the area of medicine 在医学领域</li>
<li>from a molecular point of view.</li>
<li>divalent ions 二价离子</li>
<li>blending n. 混合；调配；混和物 adj. 混合的 v. 混合；协调（blend 的 ing 形式</li>
</ul>
<h4 id="nanochannel毛细力计算"><a href="#nanochannel毛细力计算" class="headerlink" title="nanochannel毛细力计算"></a>nanochannel毛细力计算</h4><ul>
<li><p>Fuel 261 (2020) 116443</p>
</li>
<li><p>pore’s capillary pressure (Pc):</p>
<blockquote>
<p>$P_c &#x3D;\frac {2\sigma} w$, where interfacial tension $\sigma$ &#x3D; 59.83 mN&#x2F;m, pore Width $w$&#x3D; 10.8614 nm, so, the $P_c$ &#x3D; 2*59.83&#x2F;10.8614 &#x3D; 11.017 MPa</p>
</blockquote>
</li>
<li><p>units are converted as follows:</p>
<blockquote>
<p>interface tension : mN&#x2F;m,<br>width : nm<br>there, $\frac {mN&#x2F;m} {nm} &#x3D;\frac {mN} {m^2} 10^9 &#x3D;\frac {MN} {m^2} 10^9*10^{-9} &#x3D;\frac {MN} {m^2} &#x3D;MPa$<br>MPa to kcal&#x2F;mol-Angstrom,<br>1 kcal&#x2F;mol-Angstrom &#x3D; 6.9477×10−11 J&#x2F;m or N</p>
</blockquote>
</li>
</ul>
<figure class="highlight py"><table><tr><td class="code"><pre><span class="line"><span class="comment"># MPa to kcal/mol-Angstrom</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">unitconvert</span>(<span class="params">MPa</span>):</span><br><span class="line">	kmA2N = <span class="number">6.9477e-11</span></span><br><span class="line">	area = <span class="number">21</span>*<span class="number">120</span>  <span class="comment"># Angstrom^2</span></span><br><span class="line">	area = area*<span class="number">1e-20</span> <span class="comment"># m^2</span></span><br><span class="line">	MN = MPa*area</span><br><span class="line">	N = MN*<span class="number">1e6</span></span><br><span class="line">	kmA = N/kmA2N</span><br><span class="line">	<span class="built_in">print</span>(kmA,<span class="string">&quot;kcal/mol-Angstrom&quot;</span>)</span><br><span class="line">	<span class="keyword">return</span> </span><br><span class="line">MPa = <span class="number">40</span></span><br><span class="line">unitconvert(MPa)</span><br></pre></td></tr></table></figure>



<h4 id="水合物Hydrates"><a href="#水合物Hydrates" class="headerlink" title="水合物Hydrates"></a>水合物Hydrates</h4><ul>
<li>根据水分子的排列Hydrates一般有三种结构<blockquote>
<p>sI cubic structure<br>sI cubic structure<br>sH hexagonal structure<br><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/564101718220968.png"></p>
</blockquote>
</li>
<li>占据水笼子空腔的气体分子不能太大也不能太小，才能产生稳定的水合物</li>
<li>建模：<a href="https://www.sohu.com/a/386255501_100089004">甲烷水合物建模</a></li>
</ul>
<h4 id="Capillary-number"><a href="#Capillary-number" class="headerlink" title="Capillary number"></a>Capillary number</h4><ul>
<li>毛细管数（Capillary number，Ca），亦称界面张力数，是一个无量纲量，最初由Taylor于1934年提出。<strong>毛细管数定义为流体粘性力和界面张力的比值</strong>。在流体力学中，常用毛细管数和两相粘度比来表征预测两相流体中分散相液滴的形变和破裂发生的程度和可能性。<br><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/36384613220961.png"></li>
</ul>
<h4 id="Nanofluids-flooding优点"><a href="#Nanofluids-flooding优点" class="headerlink" title="Nanofluids flooding优点"></a>Nanofluids flooding优点</h4><ul>
<li>Their small size allows them to be transported into formation pores not accessible by larger materials without being trapped.</li>
<li>Their high surface energy and reactivity can change fluid and rock properties to improve oil displacement. </li>
<li>Also, they can be modified to incorporate several functionalities.</li>
<li>NPs with magnetic properties can benefit from application of an external electric or magnetic field for mobility control.</li>
</ul>
<h4 id="TraPPE-UA力场怎么用？"><a href="#TraPPE-UA力场怎么用？" class="headerlink" title="TraPPE-UA力场怎么用？"></a>TraPPE-UA力场怎么用？</h4><ul>
<li>使用Moltemplate可以实现。</li>
</ul>
<h4 id="Monoatomic-water模型怎么用？"><a href="#Monoatomic-water模型怎么用？" class="headerlink" title="Monoatomic water模型怎么用？"></a>Monoatomic water模型怎么用？</h4><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/519531414220957.png" alt="图1 常见的水分子模型。其中(a)为全原子模型，(b)~(d)为精细化模型，(e)为联合原子模型"></p>
<blockquote>
<p>在凝聚态水的模拟中，有一种联合原子的mW模型可供选择。在这种模型中，一个水分子被简化成一个位点，水分子间的相互作用通过Stillinger－Weber势进行描述，势函数可表示为分子构型如图1(e)。Stillinger－Weber势包括一个两体作用和一个三体作用：两体作用类似于Lennard－Jones势，用于表现水分子的van der Waals作用；而三体作用与三个水分子位点的角度有关，可以表现水分子排列的方向性，从而模拟出氢键的四面体序。在LAMMPS中，多体势需要借助力场文件进行读入，因此，使用mW水模型前要编写一个mW.sw力场文件，文件内容如下。</p>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># The parameters are in &quot;metal&quot; units: epsilon=eV; sigma=Angstroms; others=unitless</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment">#         epsilon sigma  a  lambda gamma  cos(theta)    A             B       p   q   tol</span></span><br><span class="line"><span class="attribute">mW</span> mW mW <span class="number">0</span>.<span class="number">2692</span> <span class="number">2</span>.<span class="number">3925</span> <span class="number">1</span>.<span class="number">8</span> <span class="number">23</span>.<span class="number">15</span> <span class="number">1</span>.<span class="number">2</span> -<span class="number">0</span>.<span class="number">333313247568</span> <span class="number">7</span>.<span class="number">049556277</span> <span class="number">0</span>.<span class="number">6022245584</span> <span class="number">4</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">0</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>需要注意的是，在LAMMPS中调用.sw力场需指定单位制为metal单位制；并且由于该力场为多体势，pair_coeff命令不能再按照两体作用的方式指定原子类型，而是统一使用* *，然后按原子类型编号顺序依次对使用该力场的原子类型进行映射。mW模型由于只有短程作用，因此具有很高的计算效率，且由于该模型忽略了H原子的运动，使得模拟的积分步长也可大幅放宽。</p>
<ul>
<li>使用Moltemplate可以实现。</li>
</ul>
</blockquote>
<h4 id="页岩、页岩油、页岩气成分"><a href="#页岩、页岩油、页岩气成分" class="headerlink" title="页岩、页岩油、页岩气成分"></a>页岩、页岩油、页岩气成分</h4><ul>
<li>页岩<blockquote>
<p>有机质（主要是干酪根）、无机矿物（如石英、方解石、白云石、粘土等）<br>有机质一般小于20 wt%, 而石英占到65%</p>
</blockquote>
</li>
<li>页岩油<blockquote>
<p> aliphatic hydrocarbons, aromatic hydrocarbons, resins, and asphaltenes<br>主要是 aliphatic hydrocarbons, 短链</p>
</blockquote>
</li>
</ul>
<h5 id="页岩油模拟中的一些细节或知识"><a href="#页岩油模拟中的一些细节或知识" class="headerlink" title="页岩油模拟中的一些细节或知识"></a>页岩油模拟中的一些细节或知识</h5><ul>
<li>纳米孔中页岩油气分子模拟流动的时候，在计算页岩油气温度的时候，不包括页岩油气流动的速度引起的温度。<ul>
<li>参考：<a href="https://doi.org/10.1016/j.fuel.2015.12.071">Molecular dynamics simulations of oil transport through inorganic nanopores in shale</a></li>
</ul>
</li>
<li>页岩油中烷烃的密度峰值震荡宽度一般为0.4~0.5nm, 更像是烷烃的宽度而不是链长或者直径<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/155903115220950.png"></li>
<li>参考：<a href="https://doi.org/10.1063/1.453196">参考文献</a></li>
</ul>
</li>
<li>一般链越短油水界面越宽。</li>
<li>计算下分子转向：$S(\theta)&#x3D;\frac 1 2*(3cos^2\theta-1)$, 其中, $\theta$为分子方向与z方向的角度。<blockquote>
<p>分子转向为-1时说明其与界面是平行的，为1时代表其垂直于界面，为0时表明其是转向不明确。<br>界面处分子转向平行于界面会导致界面厚度降低，而分子链越长分子转向就越平行于界面，所以一般链越短油水界面越宽。<br>因此，小分子链的存在会导致界面宽度增加。</p>
</blockquote>
</li>
</ul>
<h4 id="分子动力学怎么研究相变"><a href="#分子动力学怎么研究相变" class="headerlink" title="分子动力学怎么研究相变"></a>分子动力学怎么研究相变</h4><ul>
<li><p><a href="https://doi.org/10.1016/S0378-3812(97)00274-4">Molecular dynamics of fluid phase change</a></p>
<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/314201313220949.png">
  </p>
</blockquote>
</li>
<li><p>当体系发生相变时, 相变材料的 Cp 也会发生突变. 因此, 分子动力学模拟的 Cp 发生变化可用来判断相变材料相变行为的发生.</p>
</li>
</ul>
<h4 id="怎么构建COF-1和COF-5"><a href="#怎么构建COF-1和COF-5" class="headerlink" title="怎么构建COF-1和COF-5"></a>怎么构建COF-1和COF-5</h4><ul>
<li>实验合成：SCIENCE<br>18 Nov 2005<br>Vol 310, Issue 5751<br>pp. 1166-1170<br>DOI: 10.1126&#x2F;science.1120411<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/261403311239374.png" alt="合成方法"><br><a href="https://github.com/numat/RASPA2/tree/master/structures/mofs/cif">一些COF结构</a></p>
</blockquote>
</li>
</ul>
<h4 id="COF-1和COF-5的区别"><a href="#COF-1和COF-5的区别" class="headerlink" title="COF-1和COF-5的区别"></a>COF-1和COF-5的区别</h4><ul>
<li>A:COF-1, AB staking;  B:COF-5, AA stacking<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/237072811220948.png" alt="A:COF-1, AB staking;  B:COF-5, AA stacking"></p>
</blockquote>
</li>
</ul>
<h3 id="2022-08"><a href="#2022-08" class="headerlink" title="2022-08"></a>2022-08</h3><h4 id="English-phrases-4"><a href="#English-phrases-4" class="headerlink" title="English phrases"></a>English phrases</h4><ul>
<li>for climate change and carbon neutrality goals, carbon capture, utilization, and storage (CCUS) technology has worldwide received increasing attention.</li>
<li>CO2-EOR is more efficient and environmentally friendly</li>
<li>permanently adv. 永久地；（问题或困难）不断发生地，一直存在地</li>
<li>Based on MD-obtained results, </li>
<li>we <mark>unveiled</mark> the pore-size effects on the replacement efficiency.<blockquote>
<p>unveil v. （首次）公开，揭示；  </p>
</blockquote>
</li>
<li>piston 活塞</li>
<li>sterically 空间<blockquote>
<p>sterical adj. 立体的，空间的，立体化学的<br>steric adj. 位的（副词 sterically, 异体字 sterical）；（原子的）空间（排列）的</p>
<p>ster n. 灭菌，绝育；消毒器，杀菌器</p>
</blockquote>
</li>
<li>ligand  n. [化学]配体<blockquote>
<p>LigParGen server</p>
</blockquote>
</li>
<li>are not amenable to many important solvents<blockquote>
<p>amenable adj. 有责任的：顺从的，服从的；有义务的；经得起检验的</p>
</blockquote>
</li>
<li>zeolite 沸石</li>
<li><mark>a host of </mark>unique physical properties <blockquote>
<p>a host of…… 许多，一大群；众多，大量</p>
</blockquote>
</li>
<li>laminar nanopores 层状多孔</li>
<li>aforementioned adj. 上述的；前面提及的</li>
<li>the lack of general consensus 缺乏普遍共识</li>
<li>shrouds the understanding of various mechanisms<blockquote>
<p>shroud v. 覆盖，隐藏；隐瞒，保密；用布裹（尸体）n. 裹尸布，寿衣</p>
</blockquote>
</li>
<li>we seek to understand these mechanisms in detail</li>
<li>which further solidifies our claim that 这进一步巩固了我们的断言</li>
<li>a concomitant increase 相应增加<blockquote>
<p>concomitan tadj. 相伴的；共存的；附随的 n. 伴随物</p>
</blockquote>
</li>
<li>As discussed above</li>
</ul>
<h4 id="氢键"><a href="#氢键" class="headerlink" title="氢键"></a>氢键</h4><ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/571443017220865.png"></li>
<li>氢键是分子体系中重要的非共价结构力(本质上主要是静电)。</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2022/papernote202206.md/585953217239291.png"></li>
<li>当一个氢原子有效地在重原子(氢键供体)和另一个重原子(氢键受体)之间共享时，它们就形成了氢键。</li>
<li>供体原子和受体原子都具有典型的电负性。</li>
<li>判断原子是否能形成氢键的一般经验法则是“氢键是FON”，即氢键与F、O和N原子结合可以被捐赠，F、O和N原子可以是受体(尽管也有例外)。</li>
<li>氢键的确定使用简单的几何标准:供体与受体的重原子距离，以及可选的供体-氢-受体角。</li>
<li>请注意，在自然界中，氢键的强度由距离和角度决定(与分子轨道的最佳重叠有关)。</li>
<li>然而，在大多数成对的附加力场中(如Amber, Charmm)，氢键相互作用只产生于非键项，因此它们的强度不依赖于角度。</li>
</ul>
<h4 id="一二三次采油"><a href="#一二三次采油" class="headerlink" title="一二三次采油"></a>一二三次采油</h4><ul>
<li>采油初期只能依靠各种自然能量，例如岩石膨胀、边水驱动、重力以及天然气膨胀等能量，所以通常被称为<mark>一次采油</mark>，此时采收率仅为5%~10%；</li>
<li>通过注水或注气补充地层能量来增加油层压力的采油方法称为<mark>二次采油</mark>，该阶段的原油采出程度可以达到 30%~40%；</li>
<li>通过注入流体或热量改变原油黏度，或改变原油与地层中其他介质之间的界面张力，替代油层中不连续和难以开采的原油的物理和化学方法称为<mark>三次采油</mark>。</li>
</ul>
<h3 id="2022-07"><a href="#2022-07" class="headerlink" title="2022-07"></a>2022-07</h3><h4 id="English-phrases-5"><a href="#English-phrases-5" class="headerlink" title="English phrases"></a>English phrases</h4><ol>
<li>laminar 层流 </li>
<li>moist air 湿空气</li>
<li>capillary pressure 毛细管（血）压</li>
<li>only a fraction of <mark>the void space</mark> is occupied by the gas phase. 只有一小部分的<mark>空隙空间</mark>被气相所占据。</li>
<li>Oil extraction mechanism 采油机理<blockquote>
<p>extraction n. 取出，提炼；血统</p>
</blockquote>
</li>
<li>miscible adj. [化学] 易混合的；可溶混的；能混溶的</li>
<li>tight oil 页岩油; 致密油</li>
<li>In fact, the complicated interface of tight oil reservoirs results in a significant number of hydrocarbons confined in intricate microscale or nanoscale pores<blockquote>
<p>intricate adj. 错综复杂的；难理解的，难学会的</p>
</blockquote>
</li>
<li>nevertheless, Nonetheless, adv. 然而，不过 adv. 然而，尽管如此</li>
<li>dead-end micro- and nanoscale channels are ubiquitous in nature 在自然界中，微型和纳米级通道是无处不在的<blockquote>
<p>ubiquitous adj. 普遍存在的，无所不在的</p>
</blockquote>
</li>
<li>dead-end pores 油藏盲端?死胡同孔？<blockquote>
<p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/2022/papernote202206.md/337431517220756.png" alt="dead-end pore"><br>a large amount of residual oil is still trapped in dead-end pores<br>the deadend nanoslit</p>
</blockquote>
</li>
<li><strong>controversy arising from</strong> the experimental result and field test data</li>
<li>it is disappointing in …令人失望的是……</li>
<li>condensation n. 冷凝</li>
<li>Based on this introduction 基于以上介绍<blockquote>
<p>On the basis of the oil reservoir conditions 根据油层条件</p>
</blockquote>
</li>
<li>In Section 4, the concluding remarks were summarized.</li>
<li>rectangular grooves 矩形凹槽</li>
<li>To mimic the dynamic process of CO2 injection<blockquote>
<p>mimic v. 模仿，模拟; n. 善于模仿的人；会模拟的动物（或植物）; adj. 模拟的，演习的.</p>
</blockquote>
</li>
<li>As expected, 不出所料；正如预期的</li>
<li>adsorption affinity 吸附力<blockquote>
<p>affinity n. 喜好，喜爱；类同，密切关系；亲近感，亲和；适应性，匹配度；（与血缘关系相对的）姻亲关系；<mark>亲和力，亲和性</mark></p>
</blockquote>
</li>
<li>as presented in Fig. 3(b).</li>
<li>the main peaks 主峰</li>
<li>as shown in the inset image of Fig. 3(b)</li>
<li>obvious fault appeared in the transition zone.<blockquote>
<p>fault n. 错误；责任，过错；缺点，故障；<mark>断层</mark>；发球失误 v. 挑剔，指责；发球失误；<mark>产生断层；</mark></p>
</blockquote>
</li>
<li>However, contrary to expectations, 然而，与预期相反，</li>
<li>CTAB was firmly adsorbed on the surface</li>
<li>not only bring more <mark>mutual solubility</mark> to the CO2 and the oil phase, but also make a significant improvement in the extraction efficiency. <blockquote>
<p>mutual solubility 互溶性</p>
</blockquote>
</li>
<li>It is noteworthy that  值得注意的是</li>
<li>a clockwise vortex 一个顺时针漩涡</li>
<li>The function eventually presented an oscillating shape,这个函数最终呈现出一个振荡的形状，</li>
<li>It can be revealed that ……</li>
<li>As a ubiquitous phenomenon in the process of CO2 flooding,<blockquote>
<p>ubiquitous adj. 普遍存在的，无所不在的</p>
</blockquote>
</li>
<li>In the process of CO2 flooding,</li>
<li>Steric hindrance [化学] 位阻，位阻现象</li>
<li>It was also pointed that </li>
<li>a concave-type meniscus 凹型曲线<blockquote>
<p><mark>concave</mark>, adj. 凹的，凹面的<br><mark>meniscus,</mark> n. [解剖] 半月板；弯月面；新月形物<br>a convex-type meniscus<br>convex, adj. 凸面的，凸出的；凸多边形的, n. 凸面，凸出部分</p>
</blockquote>
</li>
<li>The study could help understand the fluidsolid interactions at the molecular level and be beneficial to more sustainable exploitation of oil.</li>
<li></li>
</ol>
<h4 id="the-potentials-of-mean-force-PMFs"><a href="#the-potentials-of-mean-force-PMFs" class="headerlink" title="the potentials of mean force (PMFs)"></a>the potentials of mean force (PMFs)</h4><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/2022/papernote202206.md/167731715239188.png"></p>
<ul>
<li>ref. 1: doi:  10.1016&#x2F;j.apsusc.2019.07.190</li>
<li>ref. 2: doi:  <a href="https://doi.org/10.1021/jp709845u">https://doi.org/10.1021/jp709845u</a></li>
</ul>
<h4 id="界面形成能-interface-formation-energy"><a href="#界面形成能-interface-formation-energy" class="headerlink" title="界面形成能 (interface formation energy)"></a>界面形成能 (interface formation energy)</h4><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/2022/papernote202206.md/137100520220760.png"></p>
<blockquote>
<p>界面形成能，跟相互作用能有些不一样；<br>常用于计算<strong>添加活性剂的油水界面</strong></p>
</blockquote>
<h4 id="粗糙度怎么计算？"><a href="#粗糙度怎么计算？" class="headerlink" title="粗糙度怎么计算？"></a>粗糙度怎么计算？</h4><p><img src="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/2022/papernote202206.md/321734919220759.png"></p>
<h4 id="原子受力与注入压力之间的关系"><a href="#原子受力与注入压力之间的关系" class="headerlink" title="原子受力与注入压力之间的关系"></a>原子受力与注入压力之间的关系</h4><p>![](<a href="https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/2022/papernote202206.md/322381920239185.png">https://raw.githubusercontent.com/eastsheng/PicGoImg/main/worknotes/2022/papernote202206.md/322381920239185.png</a> &#x3D;855x)</p>
<ul>
<li>研究驱油过程中，注入气体压力与气体分子所受力之间的关系。</li>
</ul>
<h4 id="CO-2-驱油"><a href="#CO-2-驱油" class="headerlink" title="$CO_2$驱油"></a>$CO_2$驱油</h4><ul>
<li>$CO_2$-EOR对环境是有益的，可以安全的隔离$CO_2$;</li>
<li>$CO_2$：可溶于原油改善原油移动性，强扩散</li>
<li>传统的 $CO_2$-EOR大多关注于 $CO_2$&#x2F;原油的混合态的形成和动用的改善。</li>
<li>$CO_2$混相驱采收率可达90% ~ 100% doi: 10.1016&#x2F;j.apsusc.2019.07.190</li>
<li></li>
</ul>
<h4 id="强化采油"><a href="#强化采油" class="headerlink" title="强化采油"></a>强化采油</h4><ul>
<li><strong>提高石油采收率技术</strong>（Enhanced Oil Recovery，简称EOR）是指向油藏中注入驱油剂或调剖剂，改善油藏及油藏流体的物理化学特性、提高<strong>宏观波及效率</strong>和<strong>微观驱油效率</strong>的采油方法，统称为提高石油采收率技术，或称<strong>“强化采油技术”</strong>。</li>
<li>提高原油采收率也被称为三级采油（与一级采油和二级采油相反）。</li>
<li>据美国能源部称，EOR有三种主要技术：热注入，气体注入和化学品注入。</li>
<li>有时四级采收（quaternary recovery）术语被用于指更先进的，推测性的EOR技术。</li>
<li>使用EOR，可以提取30%至60%或更多的油藏里原本的石油，而使用一级的和二级的采收率为20%至40%。</li>
<li>驱油方法<blockquote>
<p>化学驱（Chemical flooding）<br>气驱（Gas flooding）<br>热力采油（Thermal recovery）<br>微生物采油（Microbial Enhanced Oil Recovery，简称MEOR）</p>
</blockquote>
</li>
<li>多孔介质内纳米流体驱替实验与微观机理</li>
</ul>
<h4 id="达西定律（Darcy’s-law）"><a href="#达西定律（Darcy’s-law）" class="headerlink" title="达西定律（Darcy’s law）"></a>达西定律（Darcy’s law）</h4><ul>
<li><p>描述饱和土中水的渗流速度与水力坡降之间的线性关系的规律，又称线性渗流定律；是流体渗流的基本定律；</p>
</li>
<li><p>适用于<mark>单相和多相</mark>渗流；</p>
</li>
<li><p>适用于松散砂柱、胶结砂岩及其它多孔介质中流体渗流；</p>
</li>
<li><p><img src="https://img.wendangwang.com/pic/ffe4a50968fd14227c0142ba/1-810-jpg_6-1080-0-0-1080.jpg"></p>
</li>
<li><p>1852-1855年，达西进行了水通过饱和砂的实验研究，发现了渗流量$Q$与上下游水头差$(h2- h1)$和垂直于水流方向的截面积$A$成正比，而与渗流长度$L$成反比：</p>
</li>
<li><blockquote>
<p>$Q&#x3D;\frac {KA(h_2-h_1)} L$- 式中$Q$为单位时间渗流量（$cm^3&#x2F;s$），</p>
</blockquote>
</li>
<li><blockquote>
<p>$A$为水流方向的截面积， $h$为总水头损失， $L$为渗流路径长度， $I&#x3D;h&#x2F;L$为水力坡度，</p>
</blockquote>
</li>
<li><blockquote>
<p>$K$为渗透系数，只与多孔介质结构有关，而与流体性质无关，称其为多孔介质的渗透率。单位：$D$（达西）、$mD, 1D&#x3D;1000mD$ （毫达西）</p>
</blockquote>
</li>
<li><p>$Q&#x3D;\frac {KA \bigtriangleup p} {\mu L}$</p>
</li>
<li><blockquote>
<p>$\bigtriangleup p$：多孔介质两端压力差（$MPa$），$\mu$：流体粘度（$mPa.s(cP)$）</p>
</blockquote>
</li>
<li><p>水头（能量单位）：任意断面处单位重量水的能量，等于比能(单位质量水的能量)除以重力加速度。含位置水头、压力水头和速度水头。单位为$m$</p>
</li>
</ul>
<h3 id="2022-06"><a href="#2022-06" class="headerlink" title="2022-06"></a>2022-06</h3><h4 id="Nice-phrases"><a href="#Nice-phrases" class="headerlink" title="Nice phrases"></a>Nice phrases</h4><ul>
<li>in-situ thermal processes <strong>suffer from</strong> different issues such as <mark>an environmental footprint</mark>, <mark>expensive production</mark>, and <mark>heat loss</mark> to neighboring reservoir layers</li>
</ul>
<h4 id="bubbling-point：泡点"><a href="#bubbling-point：泡点" class="headerlink" title="bubbling point：泡点"></a>bubbling point：泡点</h4><blockquote>
<ul>
<li>就是从液相中分离出第一批气泡的温度的临界点。</li>
<li>在温度一定的情况下，液相中分离出的第一批气泡的压力，或是在压力一定的情况下，液相中分离出的第一批气泡的温度。液体混合物处于某压力下开始沸腾的温度，称为在这压力下的泡点。</li>
</ul>
</blockquote>
<blockquote>
<ul>
<li><a href="https://www.sciencedirect.com/topics/engineering/bubble-point-curve#:~:text=Dew%20Point%20Curve%20%E2%80%94the%20curve%20that%20separates%20the,droplet%20is%20formed%20out%20of%20the%20gas%20phase.">Bubble-Point Curve</a></li>
<li>Phase diagram</li>
<li><img src="/MyWiki/vx_images/68945017220669.jpg" alt="Phase diagram"></li>
<li><mark>Bubble Point Curve: </mark>分离纯液体(油)相与两相(天然气和石油)区域的曲线。这意味着在给定的温度下，当压力下降并低于泡点曲线时，气体将从液相释放到两相区域。</li>
<li><mark>Dew Point Curve: </mark>纯气相与两相区分离的曲线。它是压力和温度的连接点，在那里第一个液滴从气相中形成。</li>
<li><mark>Critical Point:</mark> 气泡点曲线与露点曲线相交的相位包络线上的点。在给定压力和温度下，气体的性质与液体的性质是相同的。临界点处的压力和温度分别称为临界压力和临界温度。</li>
<li><mark>Cricondentherm (临界凝结温度):</mark> 液体和蒸汽可以共存的最高温度。这意味着当温度大于Cricondentherm时，无论压力如何，混合物都是气体。</li>
<li><mark>Cricondenbar(临界凝析压力):</mark> 液体和蒸汽可以共存的最高压力。</li>
<li>Clearly, the natural gas phase envelope can be very different depending on its source.</li>
</ul>
</blockquote>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2022</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2023-夏</title>
    <url>/MyWiki/wiki/2023/04/01/notes/PaperReadNote2023_B/</url>
    <content><![CDATA[<h2 id="Paper-Notes-2023"><a href="#Paper-Notes-2023" class="headerlink" title="Paper Notes 2023"></a>Paper Notes 2023</h2><h3 id="2023-4月-5月-6月"><a href="#2023-4月-5月-6月" class="headerlink" title="2023-4月@5月@6月"></a>2023-4月@5月@6月</h3><h4 id="Some-phrases"><a href="#Some-phrases" class="headerlink" title="Some phrases"></a>Some phrases</h4><ul>
<li><p><strong>complimentary</strong> to its thermo effect</p>
</li>
<li><p><strong>mitigates</strong> the kinetic nucleation of gas hydrate.</p>
<ul>
<li><strong>mitigates</strong> v. &lt;正式&gt;减轻，缓和</li>
</ul>
</li>
<li><p>The growth morphology of hydrates <strong>against with</strong> simulation time is shown in Fig. 2A</p>
</li>
<li><p>This seems to contradict to the fact that …</p>
</li>
<li><p>play crucial roles.</p>
</li>
<li><p>play the <strong>auxiliary</strong> roles</p>
<ul>
<li><strong>auxiliary</strong> adj. 辅助的；备用的，后备的</li>
</ul>
</li>
<li><p>On the basis of these analyzations, </p>
</li>
<li><p>it is suggested the hydrate inhibition efficiency of $CH_3OH$ can be regulated by changing its H-bond formation ability with waters, which is furtherly verified by MD simulations.</p>
</li>
<li><p>have made intensive studies to evaluate the value</p>
</li>
<li><p>temporal and spatial </p>
</li>
<li><p>This is because the dissociation of MH into gas and water is an endothermic process (436.8 $kJ .kg^{−1}$) that is controlled by heat supply <em>via</em> conduction and advection.</p>
</li>
<li><p>yielded much thermodynamic information</p>
</li>
<li><p>It is undeniable that the 不可否认，</p>
</li>
<li><p>This evidence undoubtedly indicates that 这一证据无疑表明</p>
</li>
<li><p>tertiary recovery 三次开采；强化采油</p>
</li>
<li><p>simulations under realistic conditions and environments are not available yet. 现实条件和环境下的模拟还无法实现。</p>
</li>
<li><p><strong>with the aim to</strong> simulate the system behaviour using classical Molecular Dynamics with the direct coexistence technique. <strong>目的是……</strong></p>
<ul>
<li>With the aim to study the three phase equilibria, 为了研究三相平衡，</li>
</ul>
</li>
<li><p><strong>interfere</strong> with crystallization process. <strong>v. 干涉</strong></p>
</li>
<li><p><strong>at least</strong> three different crystalline structures,<strong>至少</strong>有三种不同的晶体结构，</p>
</li>
<li><p>ranging from microscopic molecular scale to macroscopic geological perspectives</p>
</li>
<li><p>has been the option used. </p>
</li>
<li><p><strong>albeit</strong> very simplified, 虽然非常简单，</p>
<ul>
<li><blockquote>
<p>albeit, conj. 虽然，尽管</p>
</blockquote>
</li>
</ul>
</li>
<li><p>were truncated at 11 Å 被截断到11 Å</p>
<ul>
<li><blockquote>
<p>truncate  v. 截断，删节；把……截成平面</p>
<p>cut off</p>
</blockquote>
</li>
</ul>
</li>
<li><p>This means that,  这就是说 &#x2F;这意味着 &#x2F;这就意味着</p>
</li>
<li><p>tentative tests 初步测试</p>
</li>
<li><p>in either freshwater and real seawater.  无论是淡水还是真正的海水。</p>
</li>
<li><p>The results obtained for system ‘B’ are plotted in Fig. 5 against experimental results. </p>
</li>
<li><p>triphasic system 三相的系统</p>
</li>
<li><p>This fact is to be underlined</p>
</li>
<li><p>the subtle difference 细微的差别</p>
</li>
<li><p>As final remark</p>
</li>
<li><p>useful precursor of the hydrate dissociation</p>
</li>
<li><p>Whilst highly calorific</p>
<ul>
<li>Whilst ， conj. &lt;英，正式&gt;当……的时候；与…同时；然而，但是；虽然，尽管；</li>
</ul>
</li>
<li><p>The results of the present work are in excellent agreement with the expected values 本研究的结果与预期值非常吻合</p>
</li>
<li><p>This result is not in agreement with the conclusions of Conde</p>
</li>
<li><p>we observed hydrate growth at temperature values <strong>well above</strong> the experimental T 我们观察到水合物在<strong>远高于</strong>实验温度的温度下生长</p>
</li>
<li><p>it is worthwhile mentioning that </p>
</li>
<li><p>In that particular case,</p>
</li>
<li><p>Limited by the low spatial and temporal resolution,</p>
</li>
<li><p>the hydrate cluster acts as a large gas source</p>
</li>
<li><p>they are ubiquitous  它们无处不在</p>
</li>
<li><p>$CH_4$ in the form of hydrate can be used for at least 300 years of global energy consumption.</p>
</li>
<li><p>in the incipient stage 在初始阶段</p>
</li>
<li><p>in the vicinity of the hydrate&#x2F;liquid interface 在水合物&#x2F;液体界面附近</p>
</li>
<li><p>hydrolytic power 水解能力</p>
</li>
<li><p>These problems and concerns have <strong>spurred</strong> on a great interest in KHIs that are able to delay the formation of hydrate</p>
<ul>
<li><strong>spur</strong> v. 激励，鼓励；促进，加速，刺激</li>
</ul>
</li>
<li><p>harsh subsea conditions 恶劣的海底条件</p>
</li>
<li><p>to select more suitable hydrate inhibitors and building a better composite inhibitor system which is based on an understanding of the mechanisms of inhibitors is a key to be solved. </p>
</li>
<li><p>variation patterns  变异规律，变异模式，变化规律</p>
</li>
<li><p>at intervals 间隔地，间歇地</p>
</li>
<li><p>replenish methane 补充甲烷</p>
</li>
<li><p>non-toxic 无毒的</p>
</li>
<li><p>trial-and-error method 试错法：一种解决问题的方法，通过不断尝试和改正错误来找到正确的答案。</p>
</li>
<li><p>5-fold higher than that of …</p>
</li>
<li><p>an easy-to-use tool</p>
</li>
<li><p>is considered the most feasible 被认为是最可行的</p>
</li>
</ul>
<h4 id="水合物分解速率与距离有关？"><a href="#水合物分解速率与距离有关？" class="headerlink" title="水合物分解速率与距离有关？"></a>水合物分解速率与距离有关？</h4><ul>
<li><a href="https://doi.org/10.1002/2016GC006521">Yang</a> et al. observed the depressurization dissociation process of xenon (Xe) hydrate using synchrotron X-ray CT and found that the dissociation of hydrate is <strong>heterogeneous</strong> and that the <strong>dissociation rates</strong> depend on the <strong>distance between the hydrate surface and the gas phase</strong>.</li>
</ul>
<h4 id="海洋水合物沉积物实验观察方法"><a href="#海洋水合物沉积物实验观察方法" class="headerlink" title="海洋水合物沉积物实验观察方法"></a>海洋水合物沉积物实验观察方法</h4><ul>
<li>X-ray computed tomography (CT)</li>
<li>microfocus X-ray CT 微聚</li>
<li>synchrotron X-ray CT 同步加速</li>
<li></li>
</ul>
<h4 id="激活函数"><a href="#激活函数" class="headerlink" title="激活函数"></a>激活函数</h4><ul>
<li><p>神经网络中的一种函数，用于引入非线性性质，使得神经网络可以学习和表示更加复杂的函数关系；</p>
</li>
<li><p>在神经网络中，每个神经元接收来自前一层神经元的输入，并通过激活函数对输入进行非线性变换后输出；</p>
</li>
<li><p>激活函数通常应用于神经网络的隐藏层和输出层，而输入层通常不需要激活函数；</p>
</li>
<li><p>常见的激活函数包括：</p>
<ul>
<li>Sigmoid函数：将输入值映射到0到1之间的连续输出，常用于二分类问题或将输出解释为概率。</li>
<li>ReLU函数（Rectified Linear Unit）：将负值设为零，正值保持不变，能够解决梯度消失问题，并且计算效率高。</li>
<li>Leaky ReLU函数：在负值部分引入一个小的斜率，解决ReLU函数负值部分出现的死亡神经元问题。</li>
<li>Tanh函数：将输入值映射到-1到1之间的连续输出，比Sigmoid函数具有更大的梯度。</li>
<li>Softmax函数：常用于多分类问题，在输出层将多个神经元的输出归一化为概率分布。</li>
</ul>
</li>
<li><blockquote>
<p>不同的激活函数适用于不同的问题和网络结构，选择合适的激活函数能够提高模型的性能和训练效果。在设计神经网络时，通常需要根据具体任务和网络结构选择适合的激活函数。</p>
<p>ChatGPT May 24 Version</p>
</blockquote>
</li>
</ul>
<h4 id="kernel-function核函数"><a href="#kernel-function核函数" class="headerlink" title="kernel function核函数"></a>kernel function核函数</h4><ul>
<li><p>是机器学习中一种常用的数学函数，它用于<mark><strong>衡量两个输入样本之间的相似性或距离</strong></mark>；</p>
</li>
<li><p>在很多机器学习算法中，例如支持向量机（SVM）和核方法，核函数起着至关重要的作用；</p>
</li>
<li><p>核函数可以<strong>将输入样本从原始的特征空间映射到一个更高维的特征空间</strong>，从而<strong>使得在原始空间中线性不可分的问题变得线性可分</strong>，这种映射可以有效地<strong>将非线性问题转化为线性问题</strong>，从而提高模型的表达能力和性能。</p>
</li>
<li><p>常见的核函数包括：</p>
<ol>
<li>线性核函数（Linear Kernel）：直接计算输入样本之间的内积，即 $K(x, y) &#x3D; x^T y$。</li>
<li>多项式核函数（Polynomial Kernel）：通过将输入样本映射到更高维的多项式特征空间，计算两个样本之间的多项式函数值。</li>
<li>高斯径向基函数（Gaussian Radial Basis Function，RBF）：将输入样本映射到无穷维的特征空间，计算两个样本之间的高斯相似度。</li>
<li>sigmoid核函数（Sigmoid Kernel）：通过计算两个样本之间的双曲正切函数值，将输入样本映射到一个非线性特征空间。</li>
</ol>
</li>
<li><p>核函数的选择取决于数据的特点和所使用的机器学习算法。不同的核函数对应不同的特征映射方式，因此在实际应用中需要根据问题的性质和数据的分布选择适合的核函数。</p>
<ul>
<li><blockquote>
<p>ChatGPT May 24 Version</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="M5-Rules"><a href="#M5-Rules" class="headerlink" title="M5 Rules"></a><a href="https://smarie.github.io/python-m5p/">M5 Rules</a></h4><ul>
<li><p>基于separateand-conquer 算法</p>
</li>
<li><p>separateand-conquer：将一个问题分解为多个相同或相关类的子问题，直到这些问题变得足够简单，可以直接解决。</p>
</li>
<li><p>这是一种类似于CART的回归树算法，它进行了额外的修剪，使得叶子可以包含线性模型而不是常数值。这个想法是为了得到更流畅和更简单的模型。</p>
</li>
</ul>
<h4 id="Lipinski描述符"><a href="#Lipinski描述符" class="headerlink" title="Lipinski描述符"></a>Lipinski描述符</h4><ul>
<li><p>Lipinski描述符，也称为Lipinski规则或Lipinski’s Rule of Five，是一组用于评估化合物药物性质和药物可行性的规则。这些规则由药物化学家Christopher A. Lipinski在1997年提出，旨在筛选潜在的药物分子，以判断其可能的口服生物利用度和药物性能。</p>
<p><strong>Lipinski描述符包括以下四个规则：</strong></p>
<ol>
<li><strong>分子的分子量（Molecular Weight）应小于500 Dalton。</strong></li>
<li><strong>分子的脂水分配系数（LogP）应小于5（或者脂溶性指数（logD）应小于5）。</strong></li>
<li><strong>分子的氢键受体数（Hydrogen Bond Acceptors）应小于10。</strong></li>
<li><strong>分子的氢键供体数（Hydrogen Bond Donors）应小于5。</strong></li>
</ol>
</li>
<li><p>这些规则是基于统计分析和结构-活性关系模型得出的，并被认为是描述药物分子性质和可行性的基本指标。通过应用Lipinski描述符，可以快速筛选出具有潜在药物活性的化合物，并在早期药物发现阶段进行初步评估和筛选。</p>
</li>
<li><p>需要注意的是，Lipinski描述符仅提供了一种粗略的筛选方法，不能代表药物的所有性质和活性。在药物设计和开发过程中，通常还需要考虑其他因素和更精确的计算方法来评估化合物的潜在药物性能。</p>
</li>
</ul>
<h4 id="热力学水合物抑制剂工业用量"><a href="#热力学水合物抑制剂工业用量" class="headerlink" title="热力学水合物抑制剂工业用量"></a>热力学水合物抑制剂工业用量</h4><ul>
<li><p>In the current industrial application, it is a safe but conservative practice that THI are often injected at the maximum mass concentration <mark>(up to 60%)</mark> to prevent hydrate formation to the largest degree </p>
<ul>
<li><blockquote>
<p><em>Journal of Molecular Liquids 370 (2023) 120952</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="氨基酸作为绿色热力学抑制剂"><a href="#氨基酸作为绿色热力学抑制剂" class="headerlink" title="氨基酸作为绿色热力学抑制剂"></a>氨基酸作为绿色热力学抑制剂</h4><ul>
<li><p>There are growing interest to employ amino acids as green THI, because they are natural compounds without toxicity and biodegradability issues and they are less expensive.</p>
<ul>
<li>使用好处</li>
</ul>
</li>
<li><p>Previous studies demonstrated that some amino acids coul thermodynamically inhibit hydrate information but some others could promote the kinetics of hydrate formation</p>
<ul>
<li><p>存在争议</p>
</li>
<li><blockquote>
<p><em>Journal of Molecular Liquids 370 (2023) 120952</em></p>
</blockquote>
</li>
</ul>
</li>
<li><p>It was observed that the inhibition or promotion effects depended on a variety of factors such as the composition of natural gas and the concentration and hydrophobicity of amino acid. </p>
<ul>
<li>矛盾的抑制和促进作用与很多因素有关</li>
</ul>
</li>
<li></li>
</ul>
<h4 id="sII比sI甲烷水合物更稳定"><a href="#sII比sI甲烷水合物更稳定" class="headerlink" title="sII比sI甲烷水合物更稳定"></a>sII比sI甲烷水合物更稳定</h4><ul>
<li>sII gas hydrate is more stable than sI gas hydrate, in other words, sII gas hydrate can endure higher temperature than sI hydrate at the same water depth <a href="https://www.sciencedirect.com/science/article/pii/S0264817218303064">[1]</a></li>
</ul>
<h4 id="曲率"><a href="#曲率" class="headerlink" title="曲率"></a>曲率</h4><ul>
<li><p>曲率是描述曲线在某一点的弯曲程度的物理量。计算曲率需要使用微积分。具体来说，如果曲线可以表示为参数方程 $x&#x3D;f(t)$, $y&#x3D;g(t)$，那么曲线在点 $(x_0, y_0)$ 处的曲率为：</p>
<p>$$\kappa &#x3D; \frac{|x’(t) y’’(t) - y’(t) x’’(t)|}{[x’(t)^2+y’(t)^2]^{3&#x2F;2}}$$</p>
</li>
<li><p>其中，$x’(t)$ 和 $y’(t)$ 分别表示曲线在点 $(x_0, y_0)$ 处的切线在 $x$ 和 $y$ 方向的分量，$x’’(t)$ 和 $y’’(t)$ 分别表示曲线在点 $(x_0, y_0)$ 处的二阶导数在 $x$ 和 $y$ 方向的分量。</p>
</li>
<li><p>另外，如果曲线可以表示为 $y&#x3D;f(x)$ 的函数形式，那么曲线在点 $(x_0, y_0)$ 处的曲率为：</p>
<p>$$ \kappa &#x3D; \frac{|f’’(x)|}{[1+f’(x)^2]^\frac{3}{2}} $$</p>
</li>
<li><p>需要注意的是，曲率通常是一个标量，但在某些情况下，为了描述曲线的弯曲方向，可以引入曲率的正负号。</p>
</li>
<li><p>当曲线向左弯曲时，曲率为负；当曲线向右弯曲时，曲率为正。</p>
</li>
</ul>
<h4 id="化学势（chemical-potential-）"><a href="#化学势（chemical-potential-）" class="headerlink" title="化学势（chemical potential ）"></a><a href="https://zh.wikipedia.org/wiki/%E5%8C%96%E5%AD%A6%E5%8A%BF">化学势</a>（chemical potential ）</h4><ul>
<li><p>在<a href="https://zh.wikipedia.org/wiki/%E7%83%AD%E5%8A%9B%E5%AD%A6">热力学</a>中，某种物质的<strong>化学势</strong>指的是，在化学反应或者相变中，此物质的粒子数发生改变时所吸收或放出的能量。</p>
</li>
<li><p>在混合物中的某种物质的化学势定义为此热力学系统的<a href="https://zh.wikipedia.org/wiki/%E5%90%89%E5%B8%83%E6%96%AF%E8%87%AA%E7%94%B1%E8%83%BD">吉布斯自由能</a>对此物质粒子数的变化率，即偏导数（其他物质的粒子数及其他系统参数保持不变）。</p>
</li>
<li><p>当温度和压强固定时，化学势也被称作<a href="https://zh.wikipedia.org/wiki/%E5%81%8F%E8%8E%AB%E8%80%B3%E6%80%A7%E8%B3%AA">偏摩尔吉布斯自由能</a>，或者摩尔化学势[<a href="https://zh.wikipedia.org/wiki/%E5%8C%96%E5%AD%A6%E5%8A%BF#cite_note-1">1]</a>。在化学平衡或相平衡状态下，自由能处于极小值，各种物质的化学势与化学计量系数乘积之和为零。</p>
</li>
<li><p>粒子总是趋向于从高化学势流向低化学势，因而，化学势可视为物理中“<a href="https://zh.wikipedia.org/wiki/%E5%8A%BF%E8%83%BD">势能</a>”概念的推广。</p>
</li>
<li><p>ChatGPT:</p>
<ul>
<li><p>化学势代表的是物质在化学反应或物理过程中能够转化为其他物质的能力。</p>
</li>
<li><p>化学势是一种能量，它与物质的浓度、压力和温度等状态参量有关。</p>
</li>
<li><p>对于单一成分的理想气体，在一个稳定状态下，其化学势与其摩尔浓度成正比。</p>
</li>
<li><p>在化学反应中，化学势是判断反应方向和反应速率的一个重要参数。</p>
</li>
</ul>
</li>
</ul>
<h4 id="Simple-free-energy-calculation"><a href="#Simple-free-energy-calculation" class="headerlink" title="Simple free energy calculation"></a><a href="https://lammpstutorials.github.io/sphinx/build/html/tutorials/umbrella-sampling.html">Simple free energy calculation</a></h4><h4 id="分子模拟控压-x2F-控温"><a href="#分子模拟控压-x2F-控温" class="headerlink" title="分子模拟控压&#x2F;控温"></a>分子模拟控压&#x2F;控温</h4><ul>
<li><p><a href="https://computecanada.github.io/molmodsim-md-theory-lesson-novice/08-barostats/index.html">Controlling Pressure</a></p>
</li>
<li><p><a href="https://nanohub.org/courses/MSE697/MSE697/asset/9088">Molecular dynamics: thermostats &amp; barostats</a></p>
</li>
<li><p><a href="https://www.lammps.org/workshops/Feb10/Aidan_Thompson/Triclinic_LAMMPS_2010.pdf">Parrinello-Rahman MD - lammps</a></p>
<ul>
<li>Triclinic (Parrinello-Rahman)</li>
</ul>
</li>
<li><p><a href="https://www.sciencedirect.com/science/article/pii/S0167732222016555">Effects of thermostats&#x2F;barostats on physical properties of liquids by molecular dynamics simulations</a></p>
<ul>
<li>Overall, <strong>Nosé-Hoover&#x2F;V-rescale thermostat,</strong> and <strong>Parrinello-Rahman barostat</strong> with moderate coupling strength are recommended for common <em>NVT</em>&#x2F;<em>NPT</em> production simulations.</li>
</ul>
</li>
</ul>
<h4 id="Arrhenius-plot"><a href="#Arrhenius-plot" class="headerlink" title="Arrhenius plot"></a><a href="https://en.wikipedia.org/wiki/Arrhenius_plot">Arrhenius plot</a></h4><ul>
<li><p><img src="https://i0.hdslb.com/bfs/article/f3099733e649bedd215f505693f796acd99dc168.png@942w_719h_progressive.webp"></p>
</li>
<li><p>Arrhenius plot是用于研究化学反应速率和温度之间关系的常用图形方法。该方法用于表征化学反应速率随温度的变化规律，并通过考察反应速率常数的指数形式分析反应机理的温度依赖性，进而了解反应的活化能和反应路径等信息。</p>
</li>
<li><p>Arrhenius方程式通常用于反应速率常数（$k$）随温度（$T$）的函数关系描述$ln k &#x3D;-Ea&#x2F;R*1&#x2F;T + lnA$</p>
</li>
<li><p>其中，$Ea$是激活能，$A$是反应因子或振动频率，$R$是气体常量。对该方程进行自然对数变换后，对于反应速率常数$ln k$，可以得到一个关于$1&#x2F;T$的线性方程式，即: $ln k &#x3D; -Ea&#x2F;R*1&#x2F;T + lnA$，这就是Arrhenius方程式在Arrhenius plot中的表现形式,可以用线性回归的技术对展示线性方程式。在Arrhenius plot中，常数浓度下温度和反应速率常数$1&#x2F;T$作为横纵轴的图形。将实验数据通过自然对数进行转换，可得到一个关于$1&#x2F;T$的线性函数，其斜率是由反应激活能Ea和R得出的，而其截距是由反应因子或振动频率A得出的。</p>
</li>
<li><p>Arrhenius plot可用于研究很多与温度有关的化学反应、物理过程的速率变化规律，是一个在实验化学中常用的分析手段。</p>
</li>
<li><p><a href="https://www.bilibili.com/read/cv6428531/">Arrhenius 图的绘制</a></p>
</li>
</ul>
<h4 id="为什么水合物分解都是一层一层分解？"><a href="#为什么水合物分解都是一层一层分解？" class="headerlink" title="为什么水合物分解都是一层一层分解？"></a>为什么水合物分解都是一层一层分解？</h4><ul>
<li><p>水合物内部在水合物表面分解之前无法分解。</p>
</li>
<li><p>这一现象背后的原因是：</p>
<ul>
<li><p>未释放的甲烷分子可以稳定水分子氢键形成的水合物笼；</p>
</li>
<li><p>对于水合物表面笼，如果有少量水分子从完整的氢键笼网中逸出，则气体分子很容易从不完整的笼中扩散出来，有利于分解过程；</p>
</li>
<li><p>因此，水合物的分解过程是不均匀的；</p>
</li>
<li><p>水合物从外表面到内表面依次分解；</p>
</li>
<li><p>但是，如果表面传质有限，系统加热迅速，水合物分解过程可以以均匀的方式发生</p>
</li>
<li><blockquote>
<p><em>Fuel 345 (2023) 128230</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="晶体水合物在水相中分解"><a href="#晶体水合物在水相中分解" class="headerlink" title="晶体水合物在水相中分解"></a>晶体水合物在水相中分解</h4><ul>
<li><p>如果一个水合物立方体结构在水溶液中分解，会从方形结构，逐渐分解为圆形，主要是由于[Gibbs–Thomson](<a href="https://www.sciencedirect.com/science/article/abs/pii/0039602865900245">Generalization of the Gibbs-Thomson equation - ScienceDirect</a>)效应</p>
<ul>
<li><p><strong>Gibbs-Thomson效应，</strong>也被称为<strong>Kelvin效应</strong>，是指在纳米尺度下，<strong>曲率对材料的相变温度或熔点的影响</strong>。该效应描述了纳米尺度下曲率引起的相变温度或熔点的升高或降低现象。</p>
</li>
<li><p>Gibbs-Thomson效应的原理基于表面自由能和曲率之间的相互作用。根据Gibbs公式，材料的化学势与温度、压力和表面自由能有关。在曲率存在的情况下，材料的表面自由能会发生变化，导致相变温度或熔点发生偏移。</p>
</li>
<li><p>具体而言，对于曲率半径为$r$的纳米尺度材料颗粒，Gibbs-Thomson效应可以用以下公式描述：</p>
<p>$ΔT &#x3D; (2γV_m)&#x2F;(rρ_mΔH_f)$</p>
<p>其中，$ΔT$是相变温度或熔点的变化，$γ$是材料的表面自由能，$V_m$是摩尔体积，$ρ_m$是摩尔密度，$ΔH_f$是相变的摩尔热。公式表明，当曲率半径减小时，$ΔT$将增加，即相变温度或熔点将升高。</p>
</li>
<li><p>这种效应的原理是，曲率会引起材料表面原子或分子的排列紧凑程度的变化，从而改变表面自由能。</p>
</li>
<li><p>当曲率半径较小时，表面自由能的增加导致了相变温度或熔点的升高。这是因为在小曲率下，表面自由能的增加更为显著，相应地需要更高的温度或能量才能克服这种增加而发生相变。</p>
</li>
<li><p>Gibbs-Thomson效应在纳米颗粒、纳米线和其他纳米结构中具有重要的应用和影响，特别是在研究和控制纳米材料的相变行为和熔化过程中。</p>
</li>
<li><blockquote>
<p>ChatGPT3.5</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="关于TIP4P水分子中键角系数"><a href="#关于TIP4P水分子中键角系数" class="headerlink" title="关于TIP4P水分子中键角系数"></a>关于TIP4P水分子中键角系数</h4><ul>
<li>TIP4P是一个刚性水势。因此，力常数是无关紧要的，因为几何体必须通过固定震动或震动或刚性来保持刚性<ul>
<li><em><a href="https://matsci.org/t/regarding-bond-coefficient-parameters-of-tip4p-water-model/25976">Regarding bond coefficient parameters of TIP4P water model</a></em></li>
</ul>
</li>
</ul>
<h4 id="水合物分解后产生纳米气泡"><a href="#水合物分解后产生纳米气泡" class="headerlink" title="水合物分解后产生纳米气泡"></a>水合物分解后产生纳米气泡</h4><blockquote>
<p><em>Fuel 345 (2023) 128230</em></p>
</blockquote>
<ul>
<li><p>已经通过使用透射电子显微镜TEM观察到纳米气泡：</p>
<ul>
<li><a href="https://link.springer.com/journal/11814">Korean Journal of Chemical Engineering</a> <strong>volume 33</strong>, pages1749–1755 (2016)</li>
</ul>
</li>
<li><p>纳米气泡特点：</p>
<ul>
<li>体积小，在水中的上升速度可以忽略不计，以及极高的内压。</li>
</ul>
</li>
<li><p>气泡可能会促进残余水合物的分解，但是也有研究发现相反的影响：</p>
<ul>
<li>当气泡在水合物界面处时，由于热阻影响，显著降低水合物分解率，可见热输运在水合物中分解是十分重要的；<ul>
<li><em>Chem A Eur J 2014;118(11):1971–88.</em></li>
</ul>
</li>
<li>English等提出一个水合物分解过程中，耦合质量和热量传输的简单模型，<ul>
<li><em>J. Chem. Phys.</em> 131, 074704 (2009)</li>
</ul>
</li>
<li>宏观实验上也证明了，气泡、泡沫的存在会减少水合物分解速率<ul>
<li><em>Chem Eng J 2021;425:130633.</em></li>
</ul>
</li>
</ul>
</li>
<li><p>The combination of gas supersaturation and diffusion controls the formation of nanobubbles during hydrate dissociation, which strongly depends on temperature.</p>
<ul>
<li><em>Fuel 345 (2023) 128230</em></li>
</ul>
</li>
<li><p>In nature, hydrate sources often occur in systems with porous media. 固体和受限空间会影响传质和纳米气泡的形成，因此，在真实的水合物储层环境中存在体相和表面纳米气泡。在TEM实验上已经观察到这两种气泡。</p>
</li>
<li><p>Thermodynamic inhibitors, such as methanol ($CH_3OH$) and sodium chloride (NaCl), enhance the hydrate dissociation process by facilitating nanobubble formation by different mechanisms.</p>
</li>
<li><p>在水合物表面附近，纳米气泡可以在不同距离和任何时间随机形成。因此，纳米气泡的形成是不可预测的。</p>
<ul>
<li><em>Fuel 345 (2023) 128230</em></li>
</ul>
</li>
<li></li>
</ul>
<h4 id="sI型水合物中-CH-4-与-H-2O-的比例："><a href="#sI型水合物中-CH-4-与-H-2O-的比例：" class="headerlink" title="sI型水合物中$CH_4$与$H_2O$的比例："></a>sI型水合物中$CH_4$与$H_2O$的比例：</h4><ul>
<li>The methane to water ratio reaches 1:5.75 in the sI methane hydrate<ul>
<li><em>Clathrate Hydrates of Natural Gases. Crc Press. 2007.</em></li>
</ul>
</li>
</ul>
<h4 id="抑制水合物分解的钻井液工艺"><a href="#抑制水合物分解的钻井液工艺" class="headerlink" title="抑制水合物分解的钻井液工艺"></a>抑制水合物分解的钻井液工艺</h4><ul>
<li><p><strong>1. 增加井底压力</strong>：在一定温度下，只要保证水合物层处的井内液柱压力比此温度下天然气水合物的相平衡压力高，就可以保证水合物不分解。</p>
<ul>
<li><blockquote>
<p>优点：对于设备的要求很少，且操作简便，是一种应用非常广泛的控制水合物分解的方法，并且可以有效防止井涌井喷等事故的发生；</p>
</blockquote>
</li>
<li><p>但是，钻井作业是一个完全动态的过程，欲抑制天然气水合物的分解，仅靠压力控制是不够的。井筒内部压力时刻在变化，且受到多种外部因素的影响，就简单以停钻换钻头为例，起钻后会造成压力波动；</p>
</li>
<li><p>如不改变钻井液密度，井内液柱压力很有可能降低至平衡压力以下，此时水合物就可能发生不受控分解；</p>
</li>
<li><p>而如果每次井下施工作业都需要调整钻井液密度以配合施工时的压力变化，势必造成工序的复杂化；</p>
</li>
<li><p>如果仅仅是继续增大钻井液密度以满足停钻或起钻时的压力需求，那么在正常钻进过程中或者下钻过程中就有可能使井下压力过高造成井漏。</p>
</li>
</ul>
</li>
<li><p><strong>2. 温度控制与压力控制协同作用：</strong>从相平衡的两个方面（即温度和压力）同时着手，再增加钻井液液柱压力的同时通过冷却设备在不影响钻井液性能的前提下将钻井液温度降低；</p>
<ul>
<li><blockquote>
<p>优点：此类方法较单纯的压力控制法具有更广泛的压力适应范围；</p>
</blockquote>
</li>
<li><blockquote>
<p>缺点：海洋钻井作业一般是在钻井平台或者钻井船上完成，空间非常有限，钻井液冷却设备上船或上平台无疑会大幅增加钻井成本；</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>3. 化学方法稳定地层水合物：</strong> 传统的物理学方法抑制地层中天然气水合物的分解存在一定的局限性。<a href="https://kns.cnki.net/kcms2/article/abstract?v=3uoqIhG8C44YLTlOAiTRKgchrJ08w1e7eWoVfj7plMyU4Om__YNRcY9BspFK_oiCMOtg0BAvvcyIxlSHIeRKJMZ7SRMelIGH&uniplatform=NZKPT">陈卫东等</a>通过测定Lecithin 存在条件下钻井液的水合物热力学平衡条件及动力学条件，得出Lecithin 不会影响试验中的钻井也体系的热力学平衡条件，且如果控制在一定浓度范围内，也并不会对水合物的动力学特性造成影响</p>
</li>
<li><p>Tips:</p>
<blockquote>
<ul>
<li>为了保证能在井底提供足够高的压力，钻井液密度也需要达到一定水平;</li>
<li>当井底的条件已经非常适合水合物的生成时，就需要考虑水合物在钻井液中生成的问题，就需要加入一定的水合物生成抑制剂;</li>
<li>常见的情况是加入一定量的热力学抑制剂（NaCl、乙二醇等）并配合少量的动力学抑制剂（PVP、PVCap 等）</li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="海洋钻井液特点与性能要求"><a href="#海洋钻井液特点与性能要求" class="headerlink" title="海洋钻井液特点与性能要求"></a>海洋钻井液特点与性能要求</h4><ul>
<li><p><strong>耐盐性、时效性、耐低温、天然气水合物生成与分解的抑制性能</strong></p>
</li>
<li><p>天然气水合物层钻井过程势必会引起一部分天然气水合物分解；</p>
</li>
<li><blockquote>
<p> 分解出的水和天然气进入井筒，在低温高压环境中极易重新生成水合物，会对钻井液性能造成不良影响；</p>
</blockquote>
</li>
<li><blockquote>
<p>此外天然气水合物地层钻井过程中还需尽量减少地层中水合物的分解，否则可能造成井壁失稳等严重问题。</p>
</blockquote>
</li>
</ul>
<h4 id="深水钻井液在水合物开发中的应用"><a href="#深水钻井液在水合物开发中的应用" class="headerlink" title="深水钻井液在水合物开发中的应用"></a>深水钻井液在水合物开发中的应用</h4><ul>
<li><p>对于水合物储层来说</p>
</li>
<li><table>
<thead>
<tr>
<th>类型</th>
<th>优点</th>
<th>缺点</th>
<th>现状</th>
</tr>
</thead>
<tbody><tr>
<td>油基钻井液</td>
<td>低含水量，抑制水合物生成</td>
<td>不环保、使用非常繁琐</td>
<td>不少国家已禁止在海洋钻井中使用</td>
</tr>
<tr>
<td>水基钻井液：高盐&#x2F;聚合物钻井液</td>
<td>NaCl等热力学抑制剂降低相平衡温度，抑制钻井液中水合物生成，具有生物降解速度快、生物毒性低等特点</td>
<td>高盐度无法获得低密度钻井液、无机盐溶解度的限制使其性能维护繁琐</td>
<td>盐度可达20%NaCl</td>
</tr>
<tr>
<td>水基钻井液：氨基聚合物水基钻井液</td>
<td>由包被剂、页岩抑制剂、降滤失剂和防聚剂组成的高性能水基钻井液体系，能够有有效提高钻速、减少钻头泥包、抑制泥页岩水化膨胀，具有较好的储层保护效果</td>
<td>~</td>
<td>~</td>
</tr>
</tbody></table>
</li>
</ul>
<h4 id="水合物抑制剂抑制与分解的矛盾问题"><a href="#水合物抑制剂抑制与分解的矛盾问题" class="headerlink" title="水合物抑制剂抑制与分解的矛盾问题"></a>水合物抑制剂抑制与分解的矛盾问题</h4><ul>
<li><p><strong>针对钻井过程中井筒稳定性：</strong></p>
<ul>
<li><strong>一方面要防止天然气水合物在井筒中生成；</strong></li>
<li><strong>一方面也应该从化学手段中寻求减缓水合物分解的方法</strong></li>
</ul>
</li>
<li><p>卵磷脂（Lecithin）可以抑制水合物分解；</p>
<ul>
<li><blockquote>
<p><span style="color:red">此时抑制剂的作用是抑制水合物的分解</span></p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>钻井过程中的钻井液性质变化：</strong></p>
<ul>
<li><p>由于初始应力状态被打破、外来流体冲刷、钻头与地层之间的摩擦等原因，地层中的天然气水合物不可避免的会部分分解；</p>
</li>
<li><p>分解出的水和甲烷气体都会进入钻井液中；</p>
</li>
<li><p>而此时的外部环境其实还是处于一个低温高压的状态；</p>
</li>
<li><p>如果钻井液抑制性能不足，则可能在井筒中形成天然气水合物，对钻井液体系性能造成严重影响。</p>
</li>
<li><blockquote>
<p><span style="color:red">此时抑制剂的作用是抑制钻井液中的水合物的形成</span></p>
</blockquote>
</li>
</ul>
</li>
<li><p>例：钻井液中Lecithin卵磷脂浓度过高（&gt;0.5%），可能会加速钻井液中水合物生成；而钻井液内加入卵磷脂是为了抑制井壁水合物的分解</p>
</li>
</ul>
<h4 id="Direct-phase-coexistence-methodology"><a href="#Direct-phase-coexistence-methodology" class="headerlink" title="Direct phase coexistence methodology"></a>Direct phase coexistence methodology</h4><ul>
<li><p>In the direct phase coexistence methodology,<span style="color:red"> <strong>different phases including a solid hydrate, liquid water and gas methane are brought in contact</strong>；</span></p>
</li>
<li><p>and <span style="color:red"><strong>through MD NPT simulations</strong></span>, the system is allowed to evolve to the equilibrium state that corresponds to the given condition；</p>
</li>
<li><p><span style="color:red"><strong>By scanning the temperature for a given pressure, it is possible to determine the coexistence temperature.</strong></span></p>
</li>
<li><p><img src="https://aipp.silverchair-cdn.com/aipp/content_public/journal/jcp/142/4/10.1063_1.4905572/3/m_044501_1_f1.jpeg?Expires=1687847271&Signature=goNE2QUyJLtAfZ6KY9Py3YEothqMUH6KTfjcxOBLyWkOyJO8CHg0qD8YqUlBercAJ4LgZhZ5RKUYVm9~wPiAmbTRnjrmRayXuYgm2gfQn0kZ3~sNqylqn1xAL9XkajdE9KgWrIjRAIUw-T2qO-yUCT8PPABWCs-gKb6MEb6wRGR7Ef2z-2GUCG62ZFfla7Wg-u2SJSHREg0474ZaKL~y9JsioveHsf8toC7J23M8fKX67jxx~55gR0iuxoKUZCo5cXTjvUHUjP5gA7Ul~AxTGx49zBv6qvzcoQBgsF~1Qd8qBR~GdtZdEke1FPfFIZPEZzdUNATOAyC0mdufFvLHPQ__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA" alt="水合物三相共存模型（a初始、b 600ns、c 1500 ns）"></p>
</li>
<li><p>具体模拟细节：</p>
<blockquote>
<ul>
<li>全部在NPT系综下模拟；</li>
<li>NPT系综1ps；</li>
<li>采用aniso各向异性进行控压，使每个方向可压缩；</li>
<li>timestep&#x3D;2 fs、leap-frog integrator;</li>
<li>总模拟时间取决于压力和温度条件，通常在1000-4000 ns;</li>
<li>cutoff distance&#x3D;1.1 nm;</li>
<li>多次独立运行系综平均；</li>
<li>一般以预期的三相共存温度为中心，以2K为间隔；</li>
<li>一般预期的$T_{3,预期}&#x3D;T_{3,实验}-3.15$K;</li>
</ul>
</blockquote>
</li>
<li><p>初步模拟设计：</p>
<blockquote>
<ul>
<li>构建“<strong>甲烷-水-水合物-水-甲烷</strong>”模型（为了后期研究孔隙内的情况）；</li>
<li>结构优化；</li>
<li>2 ps NPT；(4, 14, 24, 40 MPa)，各向异性（aniso），温度可以先进行大的温度步长进行搜索，比如10K缩小范围，然后为2K，确定共存温度。</li>
<li>200 ns tp equilibration, dt&#x3D;2 fs</li>
<li>继续1500 ns甚至2000 ns去确定三相共存点</li>
</ul>
</blockquote>
</li>
<li><p>水合物在MD模拟过程中存在的细节：</p>
<blockquote>
<ul>
<li>直接相共存法固有的随机性影响在三相平衡条件下更为明显;</li>
<li>在三相共存平衡压力温度下，水合物即可能分解也可能生长；</li>
<li>稍微不同的初始速度加上温度和压力耦合所施加的波动可以导致不同的最终状态(即生长、分解)，这种行为在平衡温度附近的几K内持续存在；<strong>那么实验上有没有这种现象呢？</strong></li>
<li>类似，水合物的分解率在不同的独立运行之间是不同的；</li>
<li>如果只使用一次运行，这种随机行为会给共存温度的确定带来严重的问题；</li>
<li>因此，由水合物生长和分解过程的随机性引起的另一个含义是，为了对系统的最终状态得出明确结论所需的模拟时间在不同的运行之间差别很大；</li>
<li>压力越高，所需时间越短，但是在接近三相共存温度时却不适用；</li>
<li>其次，水合物的生长速率随着温度的降低而增加，这对所有被测试的压力都成立；</li>
<li><em>J. Chem. Phys. 142, 044501 (2015)</em></li>
</ul>
</blockquote>
</li>
</ul>
<h4 id="甲烷过饱和到底在自然界水合物储层常见不常见？"><a href="#甲烷过饱和到底在自然界水合物储层常见不常见？" class="headerlink" title="甲烷过饱和到底在自然界水合物储层常见不常见？"></a>甲烷过饱和到底在自然界水合物储层常见不常见？</h4><ul>
<li><p><strong>Supersaturated conditions are not commonly encountered in nature</strong>, while on the other hand, methane concentration that corresponds to the solubility limit is believed to offer improved accuracy.</p>
<ul>
<li><blockquote>
<p><em>J. Chem. Phys. 142, 044501 (2015)</em></p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>Another characteristic of methane hydrates in the ocean is the presence of an excess of methane.</strong> </p>
<ul>
<li><blockquote>
<p><em>Journal ofMolecular Liquids 274 (2019) 426–433</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="为什么水合物MD模拟中生成要比分解慢的多"><a href="#为什么水合物MD模拟中生成要比分解慢的多" class="headerlink" title="为什么水合物MD模拟中生成要比分解慢的多"></a>为什么水合物MD模拟中生成要比分解慢的多</h4><ul>
<li><p>It must be noted that the process of growing the methane hydrate crystalline structure presents a much slower kinetic than the process of dissociation.</p>
<ul>
<li><blockquote>
<p><em>Journal ofMolecular Liquids 274 (2019) 426–433</em></p>
</blockquote>
</li>
</ul>
</li>
<li><p>it is explained that methane molecules are transported from the water (L) –methane(G) to the hydrate (S) –water(L) interphase by a methane concentration gradient. This process is considered to be the most important step, because it is the slowest mass transfer process present, and thus it controls the hydrate growth.</p>
<ul>
<li><blockquote>
<p><em>Clathrate Hydrates of Natural Gases, , 3rd Edition ed., CRC Press. 2008.</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="占有率对水合物分解速率"><a href="#占有率对水合物分解速率" class="headerlink" title="占有率对水合物分解速率"></a>占有率对水合物分解速率</h4><ul>
<li><p>English等人采用MD表明在80%-100%的范围内，甲烷占据水合物相对解离率的影响不大。</p>
<ul>
<li><blockquote>
<p><em>Chem. Phys. 123 (24) (2005) 244503.</em></p>
</blockquote>
</li>
</ul>
</li>
<li><p>一些MD研究表明，当笼子占有率大于85%时，甲烷水合物的分解点不会改变</p>
<ul>
<li><blockquote>
<p><em>Journal ofMolecular Liquids 274 (2019) 426–433</em></p>
</blockquote>
</li>
</ul>
</li>
<li><p>此外，Kvenvolden表示大多数天然甲烷水合物的占有率在98%左右。</p>
<ul>
<li><blockquote>
<p><em>Rev. of Geophys. 31 (2) (1993) 173–187.</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h4 id="在水合物分子模拟的三相共存研究时截断半径选择"><a href="#在水合物分子模拟的三相共存研究时截断半径选择" class="headerlink" title="在水合物分子模拟的三相共存研究时截断半径选择"></a>在水合物分子模拟的三相共存研究时截断半径选择</h4><ul>
<li><p>设置为盒子的一半左右，先前的研究都要小于该值；</p>
</li>
<li><p>但是，it has been shown that this value has a relevant influence in the determination of properties of coexisting phases using Molecular Simulation</p>
</li>
<li><p>Thus, it is advisable to use a value approaching the upper limiting value which is <strong>half the simulation box size</strong>, and for this reason <strong>this 11Å value</strong> has been fixed in this case.</p>
<ul>
<li><blockquote>
<p><em>J. Chem. Phys.</em> 138, 034707 (2013)</p>
</blockquote>
</li>
</ul>
</li>
<li><p>甲烷浓度对水合物相平衡存在影响；</p>
</li>
<li></li>
</ul>
<h4 id="什么是Grand-Canonical？"><a href="#什么是Grand-Canonical？" class="headerlink" title="什么是Grand Canonical？"></a>什么是Grand Canonical？</h4><ul>
<li><p>Grand Canonical（广义巨正则）是统计力学中的一个系综，<strong>用于描述具有可变粒子数、能量和体积的开放系统。</strong>Grand Canonical系综适用于研究与热平衡的大型储备系统相互作用的系统，其中粒子可以通过与储备系统的交换而进入或离开系统。</p>
</li>
<li><p><strong>Grand Canonical系综中，系统的能量、粒子数和体积不是固定的</strong>，而是在一定的约束条件下可以变化。系统与一个大型储备系统（例如热浴）保持热平衡，并且可以通过粒子的进出调整粒子数。这个储备系统的粒子数和能量与系统之间可以发生交换。</p>
</li>
<li><p><strong>在Grand Canonical系综中，系统的状态由三个变量决定：化学势（μ），温度（T）和体积（V）。</strong>化学势是描述粒子进出系统的趋势的参数，温度则决定系统与储备系统之间的热平衡，而体积是系统的几何约束。</p>
</li>
<li><p>Grand Canonical系综的基本假设是系统和储备系统之间的<strong>粒子交换是自由的</strong>，<strong>即系统可以自由地吸收或释放粒子，以使其化学势与储备系统的化学势保持平衡</strong>。这种交换可以通过粒子数的涨落来描述。</p>
</li>
<li><p>通过应用Grand Canonical系综，<strong>可以计算系统中粒子的平均数、能量的平均值以及其他与系统的热力学性质相关的量</strong>。它是研究具有可变粒子数的开放系统的重要工具，并在各种领域的研究中得到广泛应用，包括凝聚态物理、统计力学和物理化学等。</p>
</li>
<li><blockquote>
<p>ChatGPT May 24 Version</p>
</blockquote>
</li>
</ul>
<h4 id="MD测定水合物的相平衡曲线"><a href="#MD测定水合物的相平衡曲线" class="headerlink" title="MD测定水合物的相平衡曲线"></a>MD测定水合物的相平衡曲线</h4><ul>
<li><p>the direct coexistence technique to estimate the three phase equilibrium curve for methane hydrate</p>
</li>
<li><p>This relatively straightforward but quite efficient technique uses a simulation box where all coexisting phases at given thermodynamic conditions are placed in contact. </p>
</li>
<li><p>A scan in pressure and temperature allows to determine the phase boundaries by locating the stability limits of the present phases.</p>
</li>
<li><blockquote>
<p><em>Journal ofMolecular Liquids 274 (2019) 426–433</em></p>
</blockquote>
</li>
</ul>
<h4 id="水合物模拟时间、尺寸范围："><a href="#水合物模拟时间、尺寸范围：" class="headerlink" title="水合物模拟时间、尺寸范围："></a>水合物模拟时间、尺寸范围：</h4><ul>
<li><p>The range of methods used go, ordered bottom-up for the time and distance scales involved, from <strong>ab initio quantum mechanics</strong> atomic calculations, <strong>classical molecular simulations (both Molecular Dynamics and Monte Carlo)</strong> to <strong>continuum thermodynamic models as equations of state.</strong></p>
</li>
<li><blockquote>
<p><em>Journal ofMolecular Liquids 274 (2019) 426–433</em></p>
</blockquote>
</li>
</ul>
<h4 id="为什么有的水合物分解模拟，分解温度设置会很高330K"><a href="#为什么有的水合物分解模拟，分解温度设置会很高330K" class="headerlink" title="为什么有的水合物分解模拟，分解温度设置会很高330K"></a>为什么有的水合物分解模拟，分解温度设置会很高330K</h4><ul>
<li><p>Next, dissociation temperature (300 or 325 K), which is higher than equilibrium temperature (~286 K), was used to investigate hydrate decomposition to shorten the simulation time.</p>
</li>
<li><p>Such a high thermodynamic nucleation condition is selected for hydrate formation to overcome the rare event of natural nucleation and accelerate hydrate nucleation and growth</p>
</li>
<li><p>为了缩短模拟时间</p>
</li>
<li><blockquote>
<p> <em>Journal of Molecular Liquids 363 (2022) 119831</em></p>
</blockquote>
</li>
</ul>
<h4 id="以下是水合物抑制剂抑制水合物分解的高通量搜索步骤的一般示例："><a href="#以下是水合物抑制剂抑制水合物分解的高通量搜索步骤的一般示例：" class="headerlink" title="以下是水合物抑制剂抑制水合物分解的高通量搜索步骤的一般示例："></a>以下是水合物抑制剂抑制水合物分解的高通量搜索步骤的一般示例：</h4><ol>
<li>确定研究目标：明确希望通过高通量搜索找到具有水合物抑制效果的化合物或物质。</li>
<li>构建化合物库：收集一系列潜在的水合物抑制剂候选物质，并建立一个化合物库。这可以包括已知的抑制剂、天然产物、合成化合物、药物库中的化合物等。</li>
<li>设计实验方案：确定实验条件和参数，如温度、压力、水合物样品类型等。设计实验方案时要考虑使用高通量方法进行大规模筛选和评估。</li>
<li>高通量筛选：使用自动化设备和高通量筛选平台，将化合物库中的候选物质逐一进行筛选。可以通过各种高通量技术，如微孔板筛选、流式细胞术、荧光筛选等，进行快速而高效的样品处理和评估。</li>
<li>抑制效果评估：使用合适的评估方法，对筛选后的化合物进行水合物抑制效果的评估。这可能包括水合物稳定性测试、分解速率测量、热导率测量等，以确定化合物对水合物分解的抑制效果。</li>
<li>数据处理和分析：对获得的大量数据进行处理和分析。可以使用统计分析、机器学习算法等方法，筛选出具有良好抑制效果的候选物质，并进一步优化筛选结果。</li>
<li>优化和验证：根据筛选结果，进一步优化和验证具有潜在抑制性能的化合物。这可能涉及合成改进、药物化学修饰等方法，以提高抑制剂的活性和选择性。</li>
<li>验证和应用：对筛选和优化后的抑制剂进行验证和应用。这可能包括在实验室条件下进行更详细的研究、进一步的性能评估、模拟计算等，以验证其在实际应用中的效果和潜力。</li>
</ol>
<p>请注意，具体的高通量搜索步骤可能因研究目标、实验条件和设备可用性而有所不同。因此，在实际应用中，根据具体情况进行调整和优化是必要的。</p>
<h4 id="Modeling-Two-Phase-Flow-Caused-by-Hydrate-Dissociation-in-a-Reservoir-on-the-Concept-of-Global-Pressure"><a href="#Modeling-Two-Phase-Flow-Caused-by-Hydrate-Dissociation-in-a-Reservoir-on-the-Concept-of-Global-Pressure" class="headerlink" title="Modeling Two-Phase Flow Caused by Hydrate Dissociation in a Reservoir on the Concept of Global Pressure"></a><a href="https://onepetro.org/SJ/article/28/01/80/494333">Modeling Two-Phase Flow Caused by Hydrate Dissociation in a Reservoir on the Concept of Global Pressure</a></h4><h4 id="采用注入抑制剂的方法并不是进行水合物藏开采的首选方案"><a href="#采用注入抑制剂的方法并不是进行水合物藏开采的首选方案" class="headerlink" title="采用注入抑制剂的方法并不是进行水合物藏开采的首选方案"></a>采用注入抑制剂的方法并不是进行水合物藏开采的首选方案</h4><ul>
<li><p>主要有以下几个原因：</p>
<ol>
<li>技术可行性：注入抑制剂需要将抑制剂物质输送到水合物储层中，以抑制水合物的形成或分解。这要求具备高效的注入设备和工艺，并能够确保抑制剂能够均匀地分布到整个储层中。由于水合物储层通常位于深水或深地层中，注入过程面临着较高的技术挑战。</li>
<li>经济可行性：注入抑制剂的成本较高，包括抑制剂物质的采购、储存和输送成本，以及注入设备和操作的成本。此外，注入抑制剂也需要额外的时间和资源来实施和管理，这可能增加开采成本并降低经济效益。</li>
<li>环境影响：注入抑制剂可能对环境产生一定的影响。抑制剂的选择和使用需要考虑其对环境的可持续性和生态影响，以及可能的排放和废弃物处理问题。这需要进行详细的环境评估和监测，增加了开采过程的复杂性和成本。</li>
<li>风险与不确定性：注入抑制剂可能存在一定的风险和不确定性。例如，注入过程可能引起地层的压力变化和渗透性的变化，导致地质灾害风险的增加。此外，抑制剂的效果和持续性可能受到地质条件、水合物性质和开采操作等因素的影响，存在一定的不确定性。</li>
</ol>
<p>综上所述，尽管注入抑制剂是一种用于水合物储层开采的方法，但其技术、经济、环境和风险方面的限制使得其并不是首选方案。在实际应用中，研究人员和工程师们通常会综合考虑各种因素，选择适合特定水合物储层开采的最佳方案和技术组合。</p>
</li>
</ul>
<h4 id="含水合物沉积物孔隙结构特征与微观渗流模拟研究"><a href="#含水合物沉积物孔隙结构特征与微观渗流模拟研究" class="headerlink" title="含水合物沉积物孔隙结构特征与微观渗流模拟研究"></a><a href="http://www.jhyqy.com.cn/fileHYDZQY/journal/article/hydzqy/2020/9/PDF/1.pdf">含水合物沉积物孔隙结构特征与微观渗流模拟研究</a></h4><h4 id="裸眼砾石充填防砂完井"><a href="#裸眼砾石充填防砂完井" class="headerlink" title="裸眼砾石充填防砂完井"></a>裸眼砾石充填防砂完井</h4><ul>
<li><a href="https://max.book118.com/html/2020/0909/5043242301002342.shtm">裸眼砾石充填防砂完井</a></li>
</ul>
<h4 id="单位"><a href="#单位" class="headerlink" title="单位"></a>单位</h4><ul>
<li>$J &#x3D; kg.m^2&#x2F;s^2$ , $ke &#x3D; \frac 1 2 {mc^2}$</li>
</ul>
<h4 id="热力学性质（chatGPT-3-5）"><a href="#热力学性质（chatGPT-3-5）" class="headerlink" title="热力学性质（chatGPT-3.5）"></a>热力学性质（chatGPT-3.5）</h4><ul>
<li>热力学性质是指物质在不同热力学条件下的物理性质，包括热力学参量、热力学函数和热力学关系等。以下是一些常见的热力学性质：</li>
</ul>
<ol>
<li>热力学参量：包括温度、压力、体积、摩尔数等，这些参数可以用来描述物质的状态。</li>
<li>热力学函数：包括内能、焓、自由能、熵等，这些函数描述了物质在热力学过程中的能量转移和熵的变化。</li>
<li>热力学关系：包括热力学基本方程、吉布斯-亥姆霍兹方程、麦克斯韦关系等，这些关系可以用来描述物质在不同热力学条件下的相互关系和变化。</li>
</ol>
<ul>
<li>除了上述常见的热力学性质，还有许多其他的性质，例如热容、热传导系数、热膨胀系数、热导率等等，这些性质对于理解和描述物质在热力学过程中的行为和变化都非常重要。</li>
</ul>
<h4 id="钻井液需要高黏度还是低粘度？（chatGPT-3-5）"><a href="#钻井液需要高黏度还是低粘度？（chatGPT-3-5）" class="headerlink" title="钻井液需要高黏度还是低粘度？（chatGPT-3.5）"></a>钻井液需要高黏度还是低粘度？（chatGPT-3.5）</h4><ul>
<li>钻井液的黏度需求取决于多个因素，包括地质条件、钻头类型、孔隙度、流体性质等等。一般来说，在特定的钻井条件下，钻井液需要具有适当的黏度以实现最佳的钻进效果。</li>
<li><strong>对于一些粘土含量较高的地层，需要使用高黏度的钻井液以防止地层塌陷和漏失等问题。而在一些比较致密的地层，使用低黏度的钻井液可以提高钻进速度并减少钻头磨损，同时也有利于清除岩屑和防止井眼塞积。</strong></li>
<li>此外，不同类型的钻头也需要不同黏度的钻井液来实现最佳的钻进效果。例如，PDC（聚晶金刚石）钻头适用于低黏度的钻井液，而三刃钻头适用于高黏度的钻井液。</li>
<li>因此，需要根据具体的钻井条件选择适当的钻井液黏度，以实现最佳的钻进效果。</li>
</ul>
<h4 id="Strain-rate"><a href="#Strain-rate" class="headerlink" title="Strain rate"></a><a href="https://www.dynasupport.com/howtos/general/strain-rate">Strain rate</a></h4><ul>
<li>change in length &#x3D; deltaL &#x3D; r * time</li>
<li>engineering strain &#x3D; deltaL&#x2F;L &#x3D; r * time&#x2F;L</li>
<li>engineering strain rate &#x3D; strain per time &#x3D; r&#x2F;L</li>
<li>true strain &#x3D; ln(1+ engineering strain) &#x3D; ln(1+ r*time&#x2F;L)</li>
<li>true (effective) strain rate varies with time  &#x3D; d(true strain)&#x2F;dt</li>
</ul>
<p>​                                         								   &#x3D; [ln(1+r<em>time2&#x2F;L) - ln(1+r</em>time1&#x2F;L)]&#x2F;(time2-time1)</p>
<ul>
<li>L &#x3D; length of specimen in loaded direction; r &#x3D; rate of loading</li>
</ul>
<h4 id="涨落耗散理论（chatGPT-3-5）"><a href="#涨落耗散理论（chatGPT-3-5）" class="headerlink" title="涨落耗散理论（chatGPT-3.5）"></a>涨落耗散理论（chatGPT-3.5）</h4><ul>
<li><p>涨落耗散理论（Fluctuation-dissipation theory，FDT）是一种物理学理论框架，用于处理非平衡态统计物理系统中的现象。<strong>在一个非平衡态系统中，系统中的碰撞、耗散和随机激励等因素都会导致各种涨落和噪声行为。</strong>涨落耗散理论描述了这些涨落和噪声如何受系统中宏观力的影响。</p>
</li>
<li><p>涨落耗散理论中的<strong>“涨落”指的是系统中各个部分由于热或其他原因的随机运动，</strong>而<strong>“耗散”则是指系统通过与环境的相互作用而损失的能量</strong>。理论中的<strong>“耦合”则是描述系统中的各个部分如何相互作用，</strong>以及在基于测量得到的数据的情况下如何估算这些部分之间的耦合。</p>
</li>
<li><p>涨落耗散理论总结了<strong>被内部或外部因素引起的涨落和噪声与系统的响应之间的关系</strong>，以及如何从系统的噪声光谱和响应光谱中提取信息。应用于很多物理领域，如凝聚态物理、高能物理、统计物理等。</p>
</li>
<li><p>Green-Kubo公式是描述液体或气体粘性特性的重要公式，其基本思想是将物理量的时间积分转化为相关函数的积分，从而求得粘度或热导率等宏观性质。</p>
</li>
<li><p>涨落耗散理论和Green-Kubo公式之间的联系在于涨落耗散定理：在平衡态系统中，由于涨落与耗散的关系，系统的某一宏观数量（如粘度、热传导率等）可以通过涨落的自相关函数计算得到。因此，Green-Kubo公式可以被视为涨落耗散理论的一种直接应用。</p>
</li>
<li><p>具体地说，Green-Kubo公式将宏观物理量的时间积分表示为一个二阶自相关函数的积分。涨落耗散定理导出了该自相关函数的解析表达式，从而给出了该物理量的具体计算方式。</p>
</li>
<li><p>总之，涨落耗散理论的涨落-耗散定理为Green-Kubo公式提供了理论基础，从而使得Green-Kubo公式成为计算特定宏观性质的重要工具。</p>
</li>
<li><blockquote>
<p>ChatGPT-model: gpt-3.5-turbo生成</p>
</blockquote>
</li>
</ul>
<h4 id="水合物出砂"><a href="#水合物出砂" class="headerlink" title="水合物出砂"></a>水合物出砂</h4><ul>
<li><p>水合物开采过程中的出砂是指：水合物由固态分解为气液两相并流入井筒的过程中，在各地质、工程因素综合作用下地层骨架结构破坏，泥砂颗粒由原始地层骨架剥落并被流体携带进入井筒的现象</p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/papernote2023-b.md/340712421230452.png"></p>
</li>
<li><p>从世界范围内已进行的水合物试采项目来看，出砂问题严重制约着水合物安全高效开采</p>
<ol>
<li>从技术的角度，出砂会导致井筒内沉砂、量增加，砂颗粒随流体在管道内运移会引起管道堵塞以及电潜泵等井下设施损坏；</li>
<li>从经济的角度出砂导致的生产故障会延长生产周期，甚至导致停产，对产出的砂液混合物也要进行处理；</li>
<li>从安全的角度出砂会使储层结构破坏、强度降低，增加地质灾害发生的风险。</li>
</ol>
</li>
<li><p><img src="https://ars.els-cdn.com/content/image/1-s2.0-S0920410521001650-gr5_lrg.jpg"></p>
<ul>
<li><strong>在降压过程中，当温度曲线下降（水合物分解吸热），认为水合物开始分解；当温度曲线降到最低点并不再降低时，认为水合物分解基本完成。</strong></li>
</ul>
</li>
<li><p><img src="https://ars.els-cdn.com/content/image/1-s2.0-S0920410521001650-gr18_lrg.jpg"></p>
<ul>
<li>（a）水合物开采之前，海域水合物储层通常是未固结或弱固结的，储层为砂颗粒骨架-水合物-孔隙水体系，水合物稳定带的上、下边界附近也存在游离气和溶解的甲烷气，水合物以孔隙填充、接触胶结、骨架颗粒支撑等模式赋存于储层中</li>
<li>（b）水合物分解前的降压阶段，孔隙水与游离气流入井筒中，随着上覆有效应力的不断增大，储层发生缓慢的沉降。此时储层处于稳定状态，产气量、产水量以及沉降量较小。孔隙水的流动对骨架砂有一定的剥蚀作用，部分细小的砂颗粒从地层骨架中脱落形成自由砂颗粒，在流体的驱动力作用下进入井筒</li>
<li>（c）当水合物开始大量分解时，水合物对储层的固结与胶结作用消失，储层力学性质下降，稳定性降低。许多骨架砂颗粒变成可移动的自由砂颗粒，储<br>层在上覆有效应力作用下迅速下沉。在这一阶段产气量与产水量都明显增加。流体运移尤其是水的流动为自由砂颗粒的运动提供动力，各种粒径自由砂颗粒随流体进入井筒中</li>
<li>（d）水合物分解后产气速率与产水速率下降，在较大上覆有效应力作用下，储层重新发生固结，沉降速率减慢。然而，储层的固结需要一定的时间，此时储层内仍有大量的可以移动的自由砂颗粒。在较大的有效应力挤压和流体携带的共同作用下，仍有自由砂颗粒往出砂口运移并进入井筒中</li>
</ul>
</li>
<li><p><em>Journal of Petroleum Science and Engineering 201 (2021) 108506</em></p>
</li>
</ul>
<h4 id="arbitrary-units"><a href="#arbitrary-units" class="headerlink" title="arbitrary units"></a>arbitrary units</h4><ul>
<li>“(ab. units)”表示的是 “arbitrary units”，即任意单位。在论文中，有时候为了便于表示数据，可以采用无量纲单位或者自定义的单位，这时就使用 “arbitrary units” 来表示。这种单位通常只是用来表示相对大小而不是具体数值，因此不能用于进行具体的数值计算。</li>
</ul>
<h4 id="水合物试采示意图"><a href="#水合物试采示意图" class="headerlink" title="水合物试采示意图"></a>水合物试采示意图</h4><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/papernote2023-b.md/278503216248873.png"></p>
<h4 id="水合物抑制剂"><a href="#水合物抑制剂" class="headerlink" title="水合物抑制剂"></a>水合物抑制剂</h4><pre class="mermaid">graph TD;
  抑制剂-->LDHIs(低剂量水合物抑制剂);
  抑制剂-->T((热力学抑制剂));
  LDHIs-->K((动力学抑制剂));
  LDHIs-->AAs(抗凝聚剂);
  K-->PVP;
  K-->VC-713;
  K-->PVcap(聚己内酰胺);
  K-->AFP(I型抗冻蛋白);
  PVP(聚乙烯吡咯烷酮PVP)-->PVP-ME
  PVP-->PVP-EE
  PVP-->PVP-PE
  PVP-->PVP-A
  PVP-->PVP-BN
  

  T-->M(甲醇/CH3OH);
  T-->Nacl;
  T-->CaCl2;
  T-->MEG(乙二醇);
  T-->AminoAcids(氨基酸);
  M-->增加Hydrate相平衡压力-->YK(也具有动力学作用);
  M-->降低Hydrate相平衡温度-->YK(也具有动力学作用);
  YK-->如甲醇中OH基团能够与水合层中水分子形成氢键-->高浓度的甲醇甚至能够把水和层中水全部替换导致水合物-->但是水和层丰富的水是水合物成核的必要条件</pre>



<h5 id="低剂量抑制剂"><a href="#低剂量抑制剂" class="headerlink" title="低剂量抑制剂"></a>低剂量抑制剂</h5><ul>
<li>Although LDHI are new and promising chemicals, they have limitations and the efficacy remains unstable. For example, they can only decrease the nucleation and growth rate of hydrate crystals or prevent to some extent the agglomeration of hydrate crystals, but cannot prevent hydrate formation. [6]</li>
</ul>
<h4 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h4><ul>
<li>[1] High efficient development of green kinetic hydrate inhibitors via combined molecular dynamic simulation and experimental test approach</li>
<li>[2] Molecular dynamics simulation to explore the synergistic inhibition effect of kinetic and thermodynamic hydrate inhibitors</li>
<li>[3] Microscopic insights into synergism effect of different hydrate inhibitors on methane hydrate formation: Experiments and molecular dynamics simulations</li>
<li>[4] Experimental and molecular dynamics studies of zwitterionic inhibitors of methane hydrate dissociation</li>
<li>[5] Role of chemical cementation and hydration inhibition on wellbore stability in hydrate bearing sediment: Experimental and molecular dynamics simulation studies</li>
<li>[6] Machine learning models for fast selection of amino acids as green thermodynamic inhibitors for natural gas hydrate</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>论文笔记2023-冬</title>
    <url>/MyWiki/wiki/2023/10/01/notes/PaperReadNote2023_D/</url>
    <content><![CDATA[<p><img src="https://cdn.pixabay.com/photo/2018/08/18/18/42/emotions-3615255_1280.jpg"></p>
<h2 id="Paper-Notes-2023"><a href="#Paper-Notes-2023" class="headerlink" title="Paper Notes 2023"></a>Paper Notes 2023</h2><h2 id="2023-10月-11月-12月"><a href="#2023-10月-11月-12月" class="headerlink" title="2023-10月@11月@12月"></a>2023-10月@11月@12月</h2><h3 id="Some-phrases"><a href="#Some-phrases" class="headerlink" title="Some phrases"></a>Some phrases</h3><ul>
<li><p>Inspired by nature, where methane hydrates are grown in pores and voids of natural sediments, we propose</p>
</li>
<li><p>Based on these premises, we propose a novel strategy for efficient synthesis of H2 clathrate hydrates avoiding traditional technological obstacles.</p>
</li>
<li><p>With the continuous maturity of technology， 随着技术的不断成熟，</p>
</li>
<li><p>controversial memory effect 有争议的记忆效应</p>
</li>
<li><p>The magnitude of the memory effect varied substantially among the sample cells used</p>
</li>
<li><p>There are a few outstanding scientific puzzles in the properties of gas hydrates</p>
</li>
<li><p>It is conservatively estimated that 据保守估计</p>
</li>
<li><p>Although $CH_4$ and $CO_2$ are the traditional guests found in natural systems, incorporating smaller molecules (e.g., $H_2$) is challenging due to the need to apply higher pressures to stabilize the hydrogen-bonded network</p>
</li>
<li><p>giving rise to void spaces or cages</p>
</li>
<li><p>Despite their abundance</p>
</li>
<li><p>hydrogen molecules can be enclathrated in the cages of hydrogen-bonded water molecules with an sII crystalline structure</p>
</li>
<li><p>there were two critical obstacles to be solved for a potential application of the clathrate hydrates in a hydrogenbased economy</p>
</li>
<li><p>we take advantage of the percolation paths 我们利用了渗透路径</p>
</li>
<li><p>Based on these premises, 基于这些前提，</p>
</li>
<li><p>Inspired by nature 受自然启发：指从自然界中汲取灵感，通常用于描述艺术、设计或创意等方面的作品。</p>
</li>
<li><p>Taking advantage of the nanoconfinement effects,</p>
</li>
<li><p>This development could be the breakthrough that will make hydrogen clathrates a viable hydrogen storage technology.</p>
<ul>
<li><blockquote>
<p>This development could be the breakthrough that will make xxx a viable  xxx technology</p>
</blockquote>
</li>
</ul>
</li>
<li><p>the textural and morphological characteristics 纹理和形态特征</p>
</li>
<li><p>It is essential to highlight that 必须强调这一点</p>
</li>
<li><p>The INS differ depending on , INS的不同取决于,</p>
</li>
<li><p>above attributed unambiguously to the formation of hydrogen hydrates.</p>
</li>
<li><p>This contribution is present in xxx, 该贡献存在于xxx，</p>
</li>
<li><p>coalescence n. 合并；联合；接合</p>
</li>
<li><p>inclusion  包含，包括；包含物，包括的人；认同感，归属感</p>
</li>
<li><p>In all instances, </p>
</li>
<li><p>(i.e. hydrate inhibitors and promoters)</p>
</li>
<li><p>such <strong>nominal</strong> classification is not always true </p>
<ul>
<li>adj. 名义上的，有名无实的；（金额）微不足道的，象征性的；名词的，名词性的；</li>
</ul>
</li>
<li><p>Outside those ranges, hydrate additives may display extraordinary behaviors opposing to their typical effects.</p>
</li>
<li><p>Such <strong>astounding</strong> dual nature of hydrate additives</p>
</li>
<li><p>adj. 令人震惊的；令人惊骇的</p>
</li>
<li><p>a trace amount of methanol 微量的甲醇</p>
</li>
<li><p>in light of water availability 考虑到水的可用性，</p>
<ul>
<li>in light of 基于某种情况或信息，考虑到某事或在某种情况下</li>
</ul>
</li>
<li><p>In an early study, 在一项早期研究中</p>
</li>
<li><p>beneath the premafrost region 永久冻土下面</p>
<ul>
<li>beneath：prep. 在……下方；在……表面之下，隐藏在……之下；</li>
</ul>
</li>
<li><p>This unstable adsorption mechanism may <strong>shed light on</strong> the development of novel efficient KHIs.</p>
</li>
<li><p>One of the foremost reasons is that the understanding of KHIs (PVP, PVCap and other traditional vinyl lactam KHIs) is still far from satisfactory,</p>
</li>
<li><p>According to conservative estimates 据保守估计，</p>
</li>
</ul>
<h3 id="欧拉多面体定律"><a href="#欧拉多面体定律" class="headerlink" title="欧拉多面体定律"></a>欧拉多面体定律</h3><ul>
<li><p>欧拉多面体定律（Euler’s polyhedron formula）是数学中描述立体图（多面体）的一个基本关系式，由瑞士数学家欧拉（Leonhard Euler）于18世纪首次提出。</p>
</li>
<li><p>欧拉多面体定律的表述如下：$V-E+F&#x3D;2$</p>
<p>其中：</p>
<ul>
<li><em>V</em> 表示多面体的顶点数（vertices），</li>
<li><em>E</em> 表示多面体的边数（edges），</li>
<li><em>F</em> 表示多面体的面数（faces）。</li>
</ul>
<blockquote>
<p>这个公式表达了立体图中顶点、边和面的数量之间的关系。对于任何一个凸多面体，满足欧拉多面体定律。</p>
<p>注意，这个定律仅适用于凸多面体。对于非凸多面体，例如某些星形多面体，可能需要考虑其他条件。欧拉多面体定律在数学和计算几何中有着广泛的应用，它揭示了几何结构的基本性质。</p>
</blockquote>
</li>
</ul>
<h3 id="加速水合物形成促进剂"><a href="#加速水合物形成促进剂" class="headerlink" title="加速水合物形成促进剂"></a>加速水合物形成促进剂</h3><blockquote>
<p>Nature Communications | (2023) 14:8068</p>
</blockquote>
<ul>
<li>像表面活性剂这样的动力学促进剂，例如十二烷基硫酸钠（SDS），是目前已知的加速水合物形成最有效的方法之一。</li>
<li>最近备受关注的另一类动力学促进剂是氨基酸。</li>
<li>到目前为止，报道的在动力学促进剂存在下的最快水合物形成可以在11分钟内完成，水转化率超过80%。</li>
<li>尽管动力学促进剂加速水合物形成的性能显著，但通过使用动力学促进剂扩大水合物生产可能会遇到三个主要挑战：<ul>
<li>加速的水合物形成来自于由动力学促进剂诱导的气体水合物向上和附壁生长模式，这被称为壁爬效应。这种效应通过将水溶液吸附到反应器壁上并为水合物形成提供更大的接触面积来加速水合物形成。由于这种水合物生长模式，水合物形成速率与反应器中的溶液负荷密切相关；在相同的反应器配置和类似的热力学条件下，总体水合物形成速率随着溶液负荷的增加而减少，这对于工艺的扩大是不利的。</li>
<li>第二个阻碍扩大规模的挑战是由于形成过程的放热特性而导致的温度升高；由于水合物形成过程中释放出大量热量（例如，水合物形成水或水溶液时释放出约9.07千焦耳&#x2F;摩尔的热量，甲烷水合物释放出54.44千焦耳&#x2F;摩尔21），液体的温度在形成过程中的0.5<del>2.7小时内可能会升高4</del>8开尔文。工业水合物生产所需的更快水合物形成过程将进一步提高温度，从而阻碍水合物的形成。</li>
<li>第三个挑战是反应器空间利用不足；为了避免气体进出口堵塞，需要足够的气体空间来支撑上升生长；因此，存在表面活性剂的气体水合物形成通常在反应器中使用65% ~ 90%的气体体积。</li>
</ul>
</li>
<li>除了三个主要挑战外，具有壁爬效应形成的水合物22的中空外观可能降低明显的气体储存密度；与此同时，水合物解离过程中严重的气泡和泡沫生成也对工业气体水合物生产有害。</li>
<li>使用一种通过分解SDS溶液形成的初级气体水合物产生的活性冰来形成甲烷水合物，水合物形成通常在5分钟内完成，在272.65K时气体吸收量超过170Vg Vw-1。</li>
<li>除了快速形成的速率外，活性冰表现出多重优势，例如良好的可重复性、可回收性、可压缩性、简单的存储条件和低热量生成。</li>
<li>表征结果显示，活性冰是多孔的，并含有未冰冻的SDS溶液层。在温度略低于冰点的这个溶液层中形成天然气水合物，产生了一种冰融化-水合物形成-冰融化的良性循环，从而显著加快了天然气水合物的形成。</li>
<li>具有未冰冻表面活性剂溶液层的冰似乎被激活用于天然气水合物，因此它是一种活性冰。</li>
<li>受此启发，他们改进了活性冰的制备过程，而不损害其在天然气水合物形成中的性能。</li>
<li>凭借多重优势，活性冰方法能够克服工业目的的天然气水合物形成过程的障碍。</li>
</ul>
<h3 id="需要更大的压力才能让小分子例如H2形成水合物"><a href="#需要更大的压力才能让小分子例如H2形成水合物" class="headerlink" title="需要更大的压力才能让小分子例如H2形成水合物"></a>需要更大的压力才能让小分子例如H2形成水合物</h3><blockquote>
<p>Nature Communications | (2022) 13:5953</p>
</blockquote>
<ul>
<li>Although CH4 and CO2 are the traditional guests found in natural systems, incorporating smaller molecules (e.g., H2) is challenging due to the need to apply higher pressures to stabilize the hydrogen-bonded network. Another critical limitation ofhydrates is the slow nucleation and growth kinetics.</li>
</ul>
<h3 id="为什么有向无环图（DAG）能确保只找凸环而忽略凹环"><a href="#为什么有向无环图（DAG）能确保只找凸环而忽略凹环" class="headerlink" title="为什么有向无环图（DAG）能确保只找凸环而忽略凹环"></a>为什么有向无环图（DAG）能确保只找凸环而忽略凹环</h3><ul>
<li><p>在有向无环图（DAG）中，每条边都有一个方向，且图中不存在环。</p>
</li>
<li><p>这个性质决定了在有向图中，每个顶点都有一个唯一的拓扑排序。</p>
<blockquote>
<p>拓扑排序是一种将图的节点排列成线性序列的方式，使得每条有向边都从序列的前部指向后部。</p>
</blockquote>
</li>
<li><p>在一个DAG中，由于不存在环，任何节点的拓扑排序都是唯一的。</p>
</li>
<li><p>这个特性使得在DAG中，我们可以按照节点的拓扑排序顺序进行处理，从而确保在找环的时候只找到凸环而忽略凹环。</p>
</li>
<li><p>具体来说，从DAG中选择一个没有入边的节点开始，将它从图中移除，并重复这个过程，每次选择没有入边的节点，直到所有节点都被移除。这样的节点序列就是拓扑排序。在这个过程中，任何时刻都不可能选择已经在当前处理中的节点的后继节点，因为这样会形成一个环。</p>
</li>
<li><p>如果DAG中存在环，那么一定存在至少一个节点在处理的过程中无法被选择，因此无法得到完整的拓扑排序。</p>
</li>
<li><p>因此，DAG的拓扑排序序列的存在性与图中是否存在环是等价的。  因此，通过利用DAG的拓扑排序特性，我们可以保证在找环的过程中只找到凸环而忽略凹环。</p>
</li>
</ul>
<h3 id="什么是无环图，什么是有向无环图"><a href="#什么是无环图，什么是有向无环图" class="headerlink" title="什么是无环图，什么是有向无环图"></a>什么是无环图，什么是有向无环图</h3><ul>
<li><p>一个<strong>无环图</strong>（Undirected Acyclic Graph，简称UAG）是一个没有任何环（回路）的图。在无环图中，不存在一条路径可以从一个顶点出发，经过若干条边，最后回到起始顶点。在无环图中，边没有方向。</p>
</li>
<li><p>一个<strong>有向无环图</strong>（Directed Acyclic Graph，简称DAG）也是一个没有任何环的图，但与无环图不同的是，有向无环图中每条边都有一个方向。具体来说，不存在一条路径可以从一个顶点出发，经过若干条有向边，最后回到起始顶点。有向无环图在计算机科学和数学中经常被用于建模依赖关系、任务调度等问题。</p>
</li>
<li><p>主要区别在于边的方向性：</p>
<ol>
<li><strong>无向图（无环图）</strong>：图中的边没有方向，即边 <code>(A, B)</code> 与 <code>(B, A)</code> 视为相同，代表点 A 和点 B 之间的连接关系。</li>
<li><strong>有向图（有向无环图）</strong>：图中的边有方向，即 <code>(A, B)</code> 与 <code>(B, A)</code> 视为不同，代表从点 A 到点 B 的有向边。</li>
</ol>
<blockquote>
<p>有向无环图的应用包括任务调度、依赖关系图、推荐系统、流程图等。在这些应用中，有向无环图通常用来表示一个事件或任务的先后顺序，保证不会形成循环依赖，从而避免死锁等问题。</p>
</blockquote>
</li>
</ul>
<h3 id="HTR（hierarchical-topology-ring-）算法细节"><a href="#HTR（hierarchical-topology-ring-）算法细节" class="headerlink" title="HTR（hierarchical topology ring ）算法细节"></a>HTR（hierarchical topology ring ）算法细节</h3><ul>
<li><p>HTR retains all deformed rings when calculating cages to ensure the accuracy of identifying unconventional cages；</p>
</li>
<li><p>According to the current general judgment conditions for hydrogen bond formation, HTR uses a cutoff of 3.5 Å ($R_{OO}$) and ∠HOO at 45° ($\phi$) as the hydrogen bond formation conditions. </p>
<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202312111412236.png"></li>
</ul>
</li>
<li><p>The cage identification is based on the MD simulations with coarse-grained model of water, where the bond length is determined only by the distance.</p>
</li>
<li><p>the hydrate cage studied mainly contains two characteristics, one of which is that the cage only contains four-, five-,and six-membered rings, and the other is that the cage is surface saturated.</p>
</li>
<li><p>The process of HTR recognition of cages can be mainly divided into two parts:</p>
<ul>
<li>(i) the recognition of the cupshaped half-cage structure;</li>
<li>(ii) the topology of rings.</li>
</ul>
<blockquote>
<p>defined a cup as a half-cage composed of five-membered and six-membered rings sharing some hydrogen bonds. Since the HTR algorithm needs to identify all types of cages, the four-membered ring is also included in the definition of the cup.</p>
</blockquote>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202312111411918.jpeg"></p>
</li>
<li><p>HTR divides the system into mul-tiple blocks, identifies the cage structures separately, and hence greatly improves the recognition efficiency.  However, it should be noticed that the segmentation will destroy the completeness of the cages at the cut surface, which will cause the cages at the incision to not be accurately identified.</p>
</li>
</ul>
<h3 id="水合物笼子识别算法"><a href="#水合物笼子识别算法" class="headerlink" title="水合物笼子识别算法"></a>水合物笼子识别算法</h3><ul>
<li><p>Jacobson et al. connected particles by identifying rings by treating water as vertices in an undirected graph. After determining the relationship between rings, the algorithm searches a five-element ring, which connects five other pentagonal rings at each edge. This structure is a half dodecahedral cage, which is called a “cup.” Acomplete dodecahedral cage was obtained by merging these cups.</p>
<blockquote>
<p>J Phys Chem B. 2009;113:10298–307</p>
</blockquote>
</li>
<li><p>Guo et al.  designed an algorithm called face-saturated incomplete cage analysis (FSICA) and identified 1,258 complete cages and 7,015 face-saturated incomplete cages (FSICs). The recognition accuracy of FSICA is quite high, and FSICA can recognize the surface-unsaturated cage, which cannot be achieved by other algorithms.</p>
<blockquote>
<p>J Chem Phys. 2008;128:194504.</p>
<p>Phys Chem Chem Phys. 2011;13:12048–57.</p>
</blockquote>
</li>
<li><p>Nguyen and Molinero designed the CHILL + algorithm that uses staggered and overlapping water bond numbers to identify water molecules in ice and clathrate hydrates.</p>
<blockquote>
<p>J Phys Chem B. 2015;119:9369–76.</p>
</blockquote>
</li>
<li><p>Mahmoudinobar and Dias presented the <a href="https://github.com/farbod-nobar/GRADE">GRADE</a> algorithm to identify the hydrates of the $5^{12}$ and $5^{12}6^{2}$ cage structures through the combination of the upper and lower cup-shaped half cages or the combination of four cupshaped cages to identify the $5^{12}6^4$ structure.</p>
<blockquote>
<p>Comput Phys Commun. 2019;244:385–91.</p>
</blockquote>
</li>
<li><p>Hao et al. proposed the iterative cup overlap (ICO) algorithm, which can identify hydrate cages by combining multiple semicage structures. However, it still remains deficiencies for these algorithms yet, such as fewer types of recognizable cages, low recognition efficiency, and inability to accurately recognize deformed cages.</p>
<blockquote>
<p>J Phys Chem B. 2021;125:1282–92.</p>
</blockquote>
</li>
<li><p>an efficient, accurate, and multifunctional hierarchical topology ring (HTR) algorithm is introduced for the recognition of clathrate cages in a hydrate-based system. HTR is based on ring topology to identify cage structures, and the efficiency of cage recognition by HTR is innovatively improved via the splitting method, leading to the recognition time–the system size relationship changing from exponential to linear one. As a result, HTR can be effectively used for cage recognition of large-scale systems. HTR avoids overidentification of clathrate cages, and the accuracy and efficiency of cage identification by HTR were verified with other popular algorithms. Uniquely, HTR is able to identify multiple guests@cages and topological isomer structures of clathratecages,aswellasclathrate cagessubjected to mechanical loads. The presented HTR algorithm is accessible for extracting helpful insights into the information of clathrate cages in a large-scale system of MD simulations.</p>
<blockquote>
<p>Nanotechnology Reviews 2022; 11: 699–711</p>
</blockquote>
</li>
</ul>
<h3 id="水合物自发成核"><a href="#水合物自发成核" class="headerlink" title="水合物自发成核"></a>水合物自发成核</h3><ul>
<li><p>Debenedetti and Sarupria realized the spontaneous nucleation of hydrates by MD</p>
<ul>
<li><blockquote>
<p>Debenedetti PG, Sarupria S. Chemistry. Hydrate molecular ballet. Science. 2009;326:1070–1.</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="Z方向AOP，不同水的区分以及水合物界面的确定"><a href="#Z方向AOP，不同水的区分以及水合物界面的确定" class="headerlink" title="Z方向AOP，不同水的区分以及水合物界面的确定"></a>Z方向AOP，不同水的区分以及水合物界面的确定</h3><blockquote>
<p>Phys. Chem. Chem. Phys., 2018, 20, 8326–8332</p>
</blockquote>
<ul>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202312062104461.png" alt="image-20231206210426376"></p>
</li>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202312062103328.png" alt="image-20231206210306218"></p>
</li>
</ul>
<h3 id="动力学抑制剂KHIs抑制机理"><a href="#动力学抑制剂KHIs抑制机理" class="headerlink" title="动力学抑制剂KHIs抑制机理"></a>动力学抑制剂KHIs抑制机理</h3><blockquote>
<p>Phys. Chem. Chem. Phys., 2018, 20, 8326–8332 </p>
</blockquote>
<ul>
<li><p>早期的模拟研究只关注KHIs在水合物界面的吸附行为；</p>
</li>
<li><p>高效KHIs是含有疏水烃链和酰胺基团的聚合物；</p>
</li>
<li><p>关于KHIs的吸附，传统观点认为KHIs的吸附亲和力取决于水合物表面酰胺基团与水分子之间氢键的形成；</p>
</li>
<li><p>有研究表明：酰胺氢键对吸附亲和没有贡献，疏水部分(如pvcap的碳环)被填充在水合物表面开放的大空腔中以实现熵稳定；</p>
<blockquote>
<p>J. Am. Chem. Soc., 2015, 137, 12079.</p>
</blockquote>
</li>
<li><p>发现pvcap向水合物界面移动，说明pvcap在水合物界面处的扩散具有较低的能垒;</p>
</li>
<li><p>pvcap与水合物形成氢键的能力较弱，容易与液态水结合。</p>
</li>
<li><p>对于乙烯基官能团来说，它们比杂环离水合物界面远得多，因此对pvcap的吸附影响很小。</p>
</li>
<li><p>pvcap的杂环倾向于填充水合物笼；</p>
</li>
<li><p>通过对水合物表面和甲烷分布的观察，我们发现笼形物笼的形成和解离是由pvcap的旋转运动引起的</p>
</li>
</ul>
<h3 id="处理周期性密度"><a href="#处理周期性密度" class="headerlink" title="处理周期性密度"></a>处理周期性密度</h3><ol>
<li><p><strong>生成周期性高斯核：</strong> 你可以生成一个周期性的高斯核，使得核在边界处无缝连接。</p>
</li>
<li><p><strong>使用周期性高斯核进行卷积：</strong> 将这个周期性高斯核应用于你的密度图，以实现周期性边界的高斯滤波。</p>
</li>
<li><p>以下是一个示例代码，演示如何实现这一过程</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> scipy.signal <span class="keyword">import</span> convolve2d</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成示例数据，假设是一个二维密度图</span></span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">y = np.linspace(<span class="number">0</span>, <span class="number">10</span>, <span class="number">100</span>)</span><br><span class="line">X, Y = np.meshgrid(x, y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设二维密度函数，这里用正弦和余弦的组合表示</span></span><br><span class="line">density = np.sin(X) + np.cos(Y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示原始密度图</span></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>, <span class="number">6</span>))</span><br><span class="line">plt.imshow(density, cmap=<span class="string">&#x27;viridis&#x27;</span>, extent=(x.<span class="built_in">min</span>(), x.<span class="built_in">max</span>(), y.<span class="built_in">min</span>(), y.<span class="built_in">max</span>()), origin=<span class="string">&#x27;lower&#x27;</span>, aspect=<span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;原始二维密度图&#x27;</span>)</span><br><span class="line">plt.colorbar()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成周期性高斯核</span></span><br><span class="line">sigma = <span class="number">2.0</span></span><br><span class="line">kernel_size = <span class="built_in">int</span>(<span class="number">6</span> * sigma)</span><br><span class="line"></span><br><span class="line">x_kernel = np.linspace(-<span class="number">3</span> * sigma, <span class="number">3</span> * sigma, kernel_size)</span><br><span class="line">y_kernel = np.linspace(-<span class="number">3</span> * sigma, <span class="number">3</span> * sigma, kernel_size)</span><br><span class="line">X_kernel, Y_kernel = np.meshgrid(x_kernel, y_kernel)</span><br><span class="line"></span><br><span class="line">gaussian_kernel = np.exp(-(X_kernel**<span class="number">2</span> + Y_kernel**<span class="number">2</span>) / (<span class="number">2</span> * sigma**<span class="number">2</span>))</span><br><span class="line">gaussian_kernel /= np.<span class="built_in">sum</span>(gaussian_kernel)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用周期性高斯核进行卷积</span></span><br><span class="line">filtered_density = convolve2d(density, gaussian_kernel, mode=<span class="string">&#x27;same&#x27;</span>, boundary=<span class="string">&#x27;wrap&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示高斯滤波后的密度图</span></span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>, <span class="number">6</span>))</span><br><span class="line">plt.imshow(filtered_density, cmap=<span class="string">&#x27;viridis&#x27;</span>, extent=(x.<span class="built_in">min</span>(), x.<span class="built_in">max</span>(), y.<span class="built_in">min</span>(), y.<span class="built_in">max</span>()), origin=<span class="string">&#x27;lower&#x27;</span>, aspect=<span class="string">&#x27;auto&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;高斯滤波后的二维密度图（周期性边界处理）&#x27;</span>)</span><br><span class="line">plt.colorbar()</span><br><span class="line">plt.show()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在这个示例中，<code>boundary=&#39;wrap&#39;</code> 参数使卷积在边界处实现周期性，从而避免了在边界处出现不连续的情况。请根据你的实际需求调整高斯核的大小和标准差。</p>
</li>
</ol>
<h3 id="batch-size"><a href="#batch-size" class="headerlink" title="batch_size"></a>batch_size</h3><ul>
<li><p>选择合适的 <code>batch_size</code> 可以影响模型的训练效果和训练速度。<code>batch_size</code> 是指每次训练时，模型从训练集中选择的样本数目。以下是一些关于选择合适 <code>batch_size</code> 的一些建议：</p>
</li>
<li><p><strong>小 <code>batch_size</code>：</strong></p>
<ul>
<li>优点：<ul>
<li>更多次的参数更新，有助于模型更快地收敛。</li>
<li>可以更好地利用 GPU 的并行计算能力。</li>
</ul>
</li>
<li>缺点：<ul>
<li>较小的 <code>batch_size</code> 可能引入更多的随机性，使训练过程中的收敛曲线更不稳定。</li>
<li>对于某些硬件和框架，小 <code>batch_size</code> 的性能可能不如大 <code>batch_size</code>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>大 <code>batch_size</code>：</strong></p>
<ul>
<li>优点：<ul>
<li>训练过程相对稳定，收敛曲线更平滑。</li>
<li>大 <code>batch_size</code> 可能更适合在某些硬件上实现高效的并行计算。</li>
</ul>
</li>
<li>缺点：<ul>
<li>更新参数的频率较低，可能导致训练过程收敛较慢。</li>
<li>对于内存要求较高，可能需要更大的 GPU 内存。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>中等大小的 <code>batch_size</code>：</strong></p>
<ul>
<li>综合了小和大 <code>batch_size</code> 的优点，通常是一个不错的折中选择。</li>
</ul>
</li>
<li><p>选择 <code>batch_size</code> 时，可以考虑以下几点：</p>
<ul>
<li><p><strong>硬件资源：</strong> 如果你的 GPU 内存较小，可能需要选择较小的 <code>batch_size</code> 以适应内存要求。如果 GPU 内存足够大，可以考虑使用更大的 <code>batch_size</code>。</p>
</li>
<li><p><strong>数据集大小：</strong> 如果数据集较小，可以尝试使用较大的 <code>batch_size</code>。对于大型数据集，可以选择适中大小的 <code>batch_size</code>。</p>
</li>
<li><p><strong>模型架构：</strong> 某些模型对 <code>batch_size</code> 的敏感性较高。在实际应用中，可以通过尝试不同的 <code>batch_size</code> 并监测训练效果来找到最佳值。</p>
</li>
</ul>
</li>
</ul>
<h3 id="损失函数"><a href="#损失函数" class="headerlink" title="损失函数"></a>损失函数</h3><ul>
<li>在深度学习中，训练神经网络时通常会使用一个损失函数（loss function）来<strong>度量模型预测与实际标签之间的差异</strong>。</li>
<li>在训练期间，<strong>损失函数的值被最小化，以使模型能够更好地适应训练数据</strong>。同时，为了评估模型的性能，<strong>还会使用验证集（validation set）进行验证，计算验证损失（validation loss）</strong>。</li>
<li>在训练过程中，模型的训练历史（training history）通常被记录下来，包括每个训练步骤（epoch）的训练损失和验证损失。这些历史数据有助于分析模型的训练进展和性能。</li>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311292022049.png" alt="image-20231129202217764"></li>
<li>两个变量：<ul>
<li><strong>Model.history[‘loss’]：</strong><ul>
<li>这是模型在每个训练步骤（epoch）结束时记录的训练损失。训练损失表示模型在训练数据上的性能，它是模型对训练集中的样本进行预测的误差。</li>
</ul>
</li>
<li><strong>Model.history[‘val_loss’]：</strong><ul>
<li>这是模型在每个训练步骤结束时记录的验证损失。验证损失表示模型在验证集上的性能，即模型对于没有在训练中见过的数据的预测误差。验证损失的监测有助于评估模型的泛化能力。</li>
</ul>
</li>
</ul>
</li>
<li>在训练过程中，你可以通过观察这两个损失值的变化来了解模型的训练情况。理想情况下，随着训练的进行，训练损失应该逐渐减小，而验证损失在一定程度上也应该减小，表示模型不仅在训练集上学习了，而且能够泛化到未见过的数据。</li>
</ul>
<h3 id="链式法则"><a href="#链式法则" class="headerlink" title="链式法则"></a>链式法则</h3><ul>
<li><p>链式法则（Chain Rule）是微积分中的一条基本规则，它描述了复合函数的导数如何计算。在深度学习中，链式法则被广泛应用于计算复杂函数的梯度。</p>
</li>
<li><p>通过链式法则，可以逐层计算梯度，从而在反向传播过程中更新模型参数。这使得深度学习模型可以通过梯度下降等优化算法学习并适应复杂的数据模式。</p>
</li>
</ul>
<h3 id="学习率（learning-rate）"><a href="#学习率（learning-rate）" class="headerlink" title="学习率（learning rate）"></a>学习率（learning rate）</h3><blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
<ul>
<li>学习率（learning rate）是深度学习模型中的一个重要超参数，它决定了模型在每一次参数更新中沿着梯度方向移动的步长大小。学习率的选择对于模型的性能和训练的收敛速度都具有重要影响。<ul>
<li><strong>学习率的选择：</strong> 学习率的选择通常是一项挑战，过大或过小的学习率都可能导致训练不稳定或难以收敛。一般而言，可以从一个较小的学习率开始，然后根据模型的表现逐渐进行调整。</li>
<li><strong>学习率过大：</strong> 如果学习率设置得过大，模型可能会在梯度下降的过程中跳过最优点，导致训练不稳定，甚至发散。</li>
<li><strong>学习率过小：</strong> 如果学习率设置得过小，模型的更新步长较小，可能导致训练收敛速度很慢，甚至在训练初期就陷入局部最小值。</li>
<li><strong>学习率调度：</strong> 一种常见的做法是使用学习率调度（learning rate schedule），即在训练的不同阶段动态调整学习率。例如，可以在每个 epoch 结束时或当验证误差不再减小时减小学习率。</li>
<li><strong>自适应学习率算法：</strong> 一些自适应学习率算法，如 AdaGrad、RMSprop 和 Adam，能够根据参数的梯度自动调整学习率。这些算法通常在实践中表现得比固定学习率更好。</li>
</ul>
</li>
<li>在实际应用中，对学习率进行调试是很常见的步骤。通过观察模型的训练和验证性能，可以根据问题的特性选择最佳的学习率。</li>
</ul>
<h3 id="正向传播"><a href="#正向传播" class="headerlink" title="正向传播"></a>正向传播</h3><ul>
<li><p>正向传播（Forward Propagation）是神经网络中的一种过程，通过该过程，输入数据从输入层传递到输出层，最终产生网络的预测值。以下是正向传播的基本步骤：</p>
<ul>
<li><strong>输入层（Input Layer）：</strong> 将输入数据传递到网络的第一层，即输入层。每个输入节点对应输入数据的一个特征。</li>
<li><strong>权重传递（Weighted Sum）：</strong> 在每个神经元中，输入与对应的权重相乘，并将这些加权的输入求和。这个步骤产生了一个加权和，称为带权输入（weighted input）。</li>
<li><strong>激活函数（Activation Function）：</strong> 将带权输入传递给激活函数，以产生神经元的输出。激活函数引入了非线性性质，允许网络学习非线性映射。</li>
<li><strong>传递到下一层：</strong> 将激活函数的输出传递到下一层，成为下一层的输入。这个过程重复进行，直到达到输出层。</li>
<li><strong>输出层（Output Layer）：</strong> 在输出层中，经过一系列的加权求和和激活函数处理后，产生最终的网络输出。</li>
</ul>
</li>
<li><p>整个正向传播过程实际上是<strong>将输入数据通过网络的各层，最终生成网络的预测结果</strong>。正向传播只是前向推断的一部分，用于产生预测结果而不涉及梯度计算。在训练中，正向传播通常会与反向传播结合，通过计算损失函数，反向传播梯度，最终调整网络参数以提高模型的性能。</p>
</li>
</ul>
<h3 id="反向传播"><a href="#反向传播" class="headerlink" title="反向传播"></a>反向传播</h3><ul>
<li><p>反向传播（Backpropagation，缩写为Backprop）是深度学习中用于训练神经网络的一种优化算法。它基于梯度下降方法，通过计算损失函数对网络参数的梯度，并沿着梯度的反方向更新参数，从而最小化损失函数。</p>
</li>
<li><p>以下是反向传播的基本步骤：</p>
<ul>
<li><strong>前向传播（Forward Propagation）：</strong> 首先，通过输入数据在神经网络中进行前向传播，计算模型的输出值。这包括将输入通过每一层的权重和激活函数传递，最终得到网络的预测输出。</li>
<li><strong>计算损失函数（Compute Loss）：</strong> 将网络的预测输出与实际标签进行比较，计算损失函数。损失函数是衡量模型预测与实际情况之间差异的指标。</li>
<li><strong>反向传播梯度（Backward Pass）：</strong> <strong>从损失函数开始，通过使用链式法则计算每个参数对损失的梯度。</strong>这是反向传播的核心步骤。梯度表示损失函数对于每个参数的变化率，即参数更新的方向。</li>
<li><strong>参数更新（Update Parameters）：</strong> 使用梯度下降或其他优化算法，沿着梯度的反方向更新网络中的参数。这使得损失函数逐渐减小，模型逐渐收敛到最优解。</li>
<li><strong>重复过程：</strong> 重复执行前向传播、计算损失、反向传播和参数更新的过程，直到达到停止条件（如固定次数的迭代或损失函数收敛到一个阈值）。</li>
</ul>
</li>
<li><p>反向传播通过<strong>有效地利用链式法则，将损失在整个网络中传播回去，使每个参数都得到了合适的更新</strong>。这使得神经网络能够学习从输入到输出的复杂映射关系，以适应给定任务的要求。</p>
</li>
</ul>
<h3 id="正向传播和反向传播比较"><a href="#正向传播和反向传播比较" class="headerlink" title="正向传播和反向传播比较"></a>正向传播和反向传播比较</h3><ul>
<li>正向传播和反向传播是深度学习中训练神经网络时的两个关键步骤，它们分别执行前向推断和梯度计算。</li>
</ul>
<table>
<thead>
<tr>
<th>正&#x2F;反</th>
<th>正向传播</th>
<th>反向传播</th>
</tr>
</thead>
<tbody><tr>
<td><strong>任务</strong></td>
<td>用于生成模型的预测结果。</td>
<td>用于计算损失函数对于模型参数的梯度，以便进行参数更新。</td>
</tr>
<tr>
<td><strong>过程</strong></td>
<td>输入数据从输入层传递到输出层，通过一系列加权和激活函数的计算，最终产生模型的输出。</td>
<td>根据损失函数计算的误差，通过链式法则，沿着网络的逆序计算梯度。这使得可以知道每个参数对于损失的贡献有多大。</td>
</tr>
<tr>
<td><strong>特点</strong></td>
<td>正向传播是用来进行前向推断的过程，它没有涉及模型参数的调整。在训练和测试阶段都会执行正向传播。</td>
<td>反向传播是用来进行梯度计算和参数更新的过程。通过计算梯度，可以使用梯度下降等优化算法来更新网络参数，以减小损失函数。</td>
</tr>
</tbody></table>
<ul>
<li>总体而言，正向传播是用于生成预测结果的过程，而反向传播是用于根据模型的误差来更新模型参数的过程。在训练期间，这两个步骤交替执行，通过反复迭代，使得模型能够逐渐学习并提高性能。</li>
</ul>
<h3 id="RNN"><a href="#RNN" class="headerlink" title="RNN"></a>RNN</h3><blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
<ul>
<li><p>循环神经网络（Recurrent Neural Network，RNN）是一类深度学习模型，主要用于处理序列数据。与传统神经网络不同，RNN 具有循环结构，允许信息在网络中进行传递并保持记忆。</p>
</li>
<li><p>RNN 的主要特点是可以接受任意长度的序列作为输入，因此非常适用于处理时间序列数据、自然语言处理（NLP）以及其他具有序列结构的任务。然而，传统的 RNN 存在梯度消失和梯度爆炸等问题，导致难以捕捉长期依赖关系。</p>
</li>
<li><p>为了克服这些问题，出现了一些改进型的循环神经网络，包括长短时记忆网络（LSTM，Long Short-Term Memory）和门控循环单元（GRU，Gated Recurrent Unit）。这些模型通过引入门控机制，有效地处理了长期依赖问题，并在实际应用中取得了显著的成功。</p>
</li>
<li><p>RNN 的基本结构如下：</p>
<ul>
<li><strong>输入层（Input Layer）：</strong> 接收序列数据的输入。</li>
<li><strong>隐藏层（Hidden Layer）：</strong> 包含循环结构，使网络能够保持记忆并处理序列信息。</li>
<li><strong>输出层（Output Layer）：</strong> 生成网络的输出。</li>
</ul>
</li>
<li><p>RNN 的训练过程通常涉及到时刻的展开，将序列展开成一个时间步一步的结构，然后通过<strong>反向传播算</strong>法进行优化。</p>
</li>
<li><p>总体而言，RNN 是一种强大的工具，但在处理长序列时存在一些挑战。在某些情况下，更先进的模型如 Transformer 已经开始替代 RNN 在自然语言处理等领域的应用。</p>
</li>
</ul>
<h3 id="CNN"><a href="#CNN" class="headerlink" title="CNN"></a>CNN</h3><blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
<ul>
<li><p>CNN，即卷积神经网络（Convolutional Neural Network），是一类专门用于处理具有网格状结构数据，如图像和视频的深度学习模型。CNN 在计算机视觉领域取得了巨大成功，广泛应用于图像识别、物体检测、图像生成等任务。</p>
</li>
<li><p>以下是 CNN 的一些基本概念和组成部分：</p>
<ul>
<li><p><strong>卷积层（Convolutional Layer）：</strong> 卷积是 CNN 的核心操作。卷积层通过使用卷积核（或滤波器）在输入图像上进行滑动操作，提取图像的局部特征。这有助于网络捕捉到输入数据中的空间层次结构。</p>
</li>
<li><p><strong>池化层（Pooling Layer）：</strong> 池化层用于降采样，减小数据量和计算负担。常见的池化操作是最大池化，取邻域中的最大值。</p>
<blockquote>
<ul>
<li><p>通俗地理解，可以将池化层比喻为图像的缩小镜。假设你正在查看一张大海报，但你只关心其中的一些主要特征，比如颜色和形状。你不需要仔细观察每个像素，而是通过观察一小块区域的平均颜色和形状来获取大致印象。这样的缩小镜就可以看作是一种对图像进行池化的操作。</p>
</li>
<li><p>在 CNN 中，池化操作通常是在每个卷积层之后进行的。最常见的池化操作是最大池化（Max Pooling），它取每个区域的最大值作为代表性特征。还有平均池化（Average Pooling），它取每个区域的平均值。这些池化操作通过将每个小区域内的信息合并，减少了特征图的尺寸，同时保留了主要的特征。</p>
</li>
</ul>
</blockquote>
</li>
<li><p><strong>激活函数（Activation Function）：</strong> 用于引入非线性性，使网络能够学习更复杂的映射关系。常见的激活函数包括 ReLU（Rectified Linear Unit）、Sigmoid 和 Tanh。</p>
</li>
<li><p><strong>全连接层（Fully Connected Layer）：</strong> 在卷积层和全连接层之间，通常会添加一个或多个全连接层，用于整合卷积层的输出并生成最终的分类结果。</p>
</li>
<li><p><strong>损失函数（Loss Function）：</strong> 用于衡量网络输出与真实标签之间的差异。在分类任务中，常用的损失函数包括交叉熵损失。</p>
</li>
<li><p><strong>优化器（Optimizer）：</strong> 用于调整网络权重以最小化损失函数。常见的优化算法包括梯度下降、Adam 等。</p>
</li>
</ul>
</li>
<li><p>CNN 的训练过程包括前向传播和反向传播。前向传播是通过网络计算输出，反向传播是根据损失函数计算梯度，然后使用优化器来更新网络参数。</p>
</li>
<li><p>CNN 的设计灵感来自生物学中视觉皮层的工作方式，通过层级的卷积和池化操作来提取图像的抽象特征。这种结构使得 CNN 对于图像数据的处理能力非常强大。</p>
</li>
</ul>
<h3 id="哈希值"><a href="#哈希值" class="headerlink" title="哈希值"></a>哈希值</h3><blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
<ul>
<li><p>哈希值是通过哈希函数计算得到的输出结果，通常是一串固定长度的数字和字母的组合。这个值也被称为哈希码、散列值或摘要。哈希值具有以下特点：</p>
<ul>
<li><strong>唯一性：</strong> 理论上，不同的输入数据应该映射为不同的哈希值。然而，由于哈希函数输出空间的有限性，可能存在两个不同的输入产生相同的哈希值，这种情况被称为哈希碰撞（collision）。好的哈希函数应该具有很高的抗碰撞性。</li>
<li><strong>固定长度：</strong> 哈希值的长度是固定的，与输入数据的长度无关。这使得哈希值在表示和存储时更加方便。</li>
<li><strong>不可逆性：</strong> 理论上，哈希值不能被逆向还原为原始的输入数据。这是因为哈希函数是一个单向函数，且具有信息丢失的性质。</li>
<li><strong>散列性：</strong> 好的哈希函数应该表现出良好的散列性，即使输入数据的微小变化也会导致输出哈希值的较大变化。</li>
</ul>
</li>
<li><p>哈希值在计算机科学和密码学中有广泛的应用。它常用于数据完整性检查、数字签名、密码哈希存储、数据索引等场景。例如，通过比较两个文件的哈希值，可以检查文件的完整性；在密码存储中，存储哈希值而不是明文密码可以提高安全性，因为哈希函数是不可逆的。</p>
</li>
</ul>
<h3 id="Morgan-fingerprint"><a href="#Morgan-fingerprint" class="headerlink" title="Morgan fingerprint"></a>Morgan fingerprint</h3><blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
<ul>
<li>Morgan 指纹是一种分子指纹（molecular fingerprint）的类型，用于表示分子的结构信息。分子指纹是一种将分子结构映射为二进制或整数向量的方法，以便在计算机上进行比较和分析。</li>
<li>Morgan 指纹主要用于化学信息学和分子描述。它是基于 ECFP（Extended-Connectivity Fingerprints）的改进版本，由 Andrew Dalke 和 Marc Svensen 在2008年提出。Morgan 指纹通过考虑化合物的分子结构，特别是原子之间的相对排列，来生成一个表示该分子的二进制或整数数组。</li>
<li>Morgan 指纹的生成过程包括以下步骤：<ul>
<li><strong>选择参考原子：</strong> 选择一个中心原子作为起点。</li>
<li><strong>确定半径：</strong> 定义一个半径，表示从参考原子出发，考虑到多少层原子。这个半径是生成指纹的一个关键参数。</li>
<li><strong>获取邻居原子：</strong> 在给定的半径内找到所有与参考原子相连的原子。</li>
<li><strong>排序邻居原子：</strong> 按照一定的规则对邻居原子进行排序，通常按照它们的连接顺序。</li>
<li><strong>生成哈希值：</strong> 使用<strong>哈希函数</strong>将排序后的邻居原子表示为一个独特的哈希值。</li>
<li><strong>重复：</strong> 对每个原子都重复上述步骤，直到所有原子都被考虑到。</li>
<li><strong>组合哈希值：</strong> 将所有原子的哈希值组合成一个向量，形成最终的 Morgan 指纹。</li>
</ul>
</li>
<li>Morgan 指纹的生成考虑了分子的全局和局部结构，使得相似的分子在 Morgan 指纹中有较高的相似性。这种指纹在化学信息学中常用于虚拟筛选、药物设计以及分子相似性比较等应用。</li>
</ul>
<h3 id="PVCap存在下水合物分解过程中"><a href="#PVCap存在下水合物分解过程中" class="headerlink" title="PVCap存在下水合物分解过程中"></a>PVCap存在下水合物分解过程中</h3><ul>
<li><p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311282143725.png" alt="image-20231128214122124"></p>
</li>
<li><p>气体甲烷拉曼峰很少观察到；</p>
</li>
<li><p>可以归因于缓慢的水合物分解和由此导致的PVCap溶液中CH4气泡形成的可能性降低，这使得局部CH4浓度不太可能超过饱和水平。</p>
<blockquote>
<p>Energy 283 (2023) 128522</p>
</blockquote>
</li>
</ul>
<h3 id="Gibbs-Thomson-effect"><a href="#Gibbs-Thomson-effect" class="headerlink" title="Gibbs-Thomson effect"></a>Gibbs-Thomson effect</h3><blockquote>
<p>ChatGPT can make mistakes. Consider checking important information.</p>
</blockquote>
<ul>
<li><p>Gibbs-Thomson effect，也称为Gibbs-Thomson 管理效应（或Gibbs-Thomson 粒径效应），是一个描述在小尺度下物质性质发生变化的现象。</p>
</li>
<li><p>在纳米尺度下，粒子的表面能（表面自由能）与其体积成反比。这就是Gibbs-Thomson效应的基本思想。具体而言，如果你考虑一个尺寸非常小的粒子，表面能占据了相对较大的比例。对于小粒子而言，表面效应比体积效应更为显著。</p>
</li>
<li><p>Gibbs-Thomson效应的一个具体应用是在纳米颗粒的熔点上。根据这个效应，小尺寸的颗粒相对于大尺寸的颗粒，其熔点会更低。这是因为颗粒的表面原子相对于内部原子数目更多，导致表面能对颗粒整体的热力学性质有更显著的影响。</p>
</li>
<li><p>在材料科学和纳米技术领域，理解Gibbs-Thomson效应对于设计和控制纳米颗粒的性质是非常重要的。这个效应对纳米颗粒的相变、熔点降低、溶解行为等方面都有重要的影响。</p>
</li>
</ul>
<h3 id="水合物分解过程中的纳米气泡"><a href="#水合物分解过程中的纳米气泡" class="headerlink" title="水合物分解过程中的纳米气泡"></a>水合物分解过程中的纳米气泡</h3><blockquote>
<p>Fuel 341 (2023) 127650</p>
</blockquote>
<ul>
<li><p>长时间存在：</p>
<ul>
<li>Nanobubbles have an unusually long lifetime and can exist for several days.</li>
<li>Because of their long lifetime, nanobubbles can exist during the overall hydrate dissociation process, which conventional theories cannot explain, and thus research interest in nanobubbles continues to grow</li>
</ul>
</li>
<li><p>实验证明了存在三种纳米气泡：</p>
<ul>
<li>bulk nanobubble, </li>
<li>surface nanobubble,</li>
<li>micro-pancakes</li>
</ul>
</li>
<li><p>然而，通过实验方法捕捉纳米气泡形成的瞬间仍然很困难</p>
</li>
<li><p><strong>Bulk nanobubbles are the main species formed during hydrate dissociatio</strong>n, and their long-term existence may be one of the causes of the “memory effect.”</p>
</li>
<li><p>溶液中的NaCl 离子使溶解甲烷分子分布高度不均匀，从而增强了甲烷分子间的疏水相互作用。</p>
</li>
<li><p>另一方面，甲醇由于其两亲性，有助于纳米气泡的形成。</p>
</li>
<li><p>研究发现，随着时间的推移，解离率逐渐降低，直至形成纳米气泡，之后解离率逐渐升高</p>
</li>
<li><p>研究还表明，在没有纳米气泡的情况下，甲烷水合物可以以亚稳态过热固体的形式存在</p>
</li>
<li><p>甲烷分子不断地释放到液态水中。然而，液态水不能无限制地容纳甲烷分子。当水中甲烷分子浓度达到过饱和状态时，水合物分解过程达到一个阶段极限，停止。</p>
</li>
<li><p>The supersaturation condition of methane in water results in low diffusion capacity from hydrate to liquid water, which stabilizes the hydrate structure.</p>
</li>
<li><p>释放的甲烷首先聚集在水合物&#x2F;水界面附近，然后均匀分布在液态水中</p>
</li>
<li></li>
</ul>
<h3 id="甲烷水合物热性质重要性"><a href="#甲烷水合物热性质重要性" class="headerlink" title="甲烷水合物热性质重要性"></a>甲烷水合物热性质重要性</h3><ul>
<li><p>在14.4℃下，压力依赖性在31.5 ~ 102 MPa之间，仅观察到弱温度和压力依赖性。甲烷水合物的热导率与水的热导率相差不到10%，太小，无法提供水饱和系统中水合物含量的敏感测量。</p>
</li>
<li><p>甲烷水合物的热扩散系数是水的两倍多，比热约为水的一半。因此，当钻井进入或穿过富含水合物的沉积物时，来自井眼的热量可以比地层孔隙空间仅含水时提高20%以上的地层温度。在含水合物沉积物的安全性和经济性评价中，应考虑甲烷水合物的热性质。</p>
<blockquote>
<p>Simultaneous determination of thermal conductivity, thermal diffusivity and specific heat in sI methane hydrate, <em>2007</em> <em>Geophysical Journal International</em></p>
</blockquote>
</li>
</ul>
<h3 id="盐析效应"><a href="#盐析效应" class="headerlink" title="盐析效应"></a>盐析效应</h3><ul>
<li>一般来说，盐析（salting-out）是指非电解质化合物在水中的溶解度随着盐浓度的增加而降低的现象。</li>
</ul>
<h3 id="水合物抑制剂的反常双重性：抑制-vs-促进"><a href="#水合物抑制剂的反常双重性：抑制-vs-促进" class="headerlink" title="水合物抑制剂的反常双重性：抑制 vs 促进"></a>水合物抑制剂的反常双重性：抑制 vs 促进</h3><blockquote>
<p><em>Chemical Engineering Journal 475 (2023) 146362</em></p>
</blockquote>
<ul>
<li>水合物添加剂的抑制剂和促进剂分类一直是水合物研究和应用的基础。</li>
<li>然而，最近的研究越来越多地表明，这种名义分类并不总是正确的。</li>
<li>水合物添加剂的实际作用相当复杂，并取决于其浓度。</li>
<li>对水合物促进剂和抑制剂的传统认识只适用于一定的浓度范围。</li>
<li>在这些范围之外，水合物添加剂可能会表现出与其典型效果相反的特殊行为。</li>
</ul>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311032003030.jpeg" alt="img"></p>
<ul>
<li>最近的研究表明，<strong>当浓度改变，最著名的水合物促进剂可以作为水合物抑制剂，反之亦然</strong>。</li>
<li>水合物添加剂的这种惊人的双重性具有重要的科学意义和应用价值；</li>
<li>这些令人费解的观察结果表明，水合物添加剂具有<strong>反常的双重性质</strong>。可以利用离子特异性、软离子疏水性、疏水性效应和主客体相互作用等概念理解。</li>
<li>通常，添加剂分为两大类，即水合物促进剂和水合物抑制剂；<ul>
<li>水合物促进剂包括任何能够加速天然气水合物形成的实体，水合物抑制剂亦然；</li>
<li>根据水合物促进剂的作用机理：<ul>
<li>水合物促进剂又分为热力学水合物促进剂(THPs)和动力学水合物促进剂(KHPs)；</li>
<li>水合物抑制剂也分为热力学水合物抑制剂(THIs)和动力学水合物抑制剂(KHIs)。</li>
</ul>
</li>
<li>这些分类广泛应用于科学研究和工业实践。</li>
<li>然而，最近的研究越来越多地表明，这种分类并不总是正确的，因为水合物添加剂的实际行为更加复杂，并且依赖于它们的浓度：<ul>
<li>在典型的浓度范围之外，水合物添加剂可能改变其性质并逆转其对天然气水合物形成的影响。</li>
<li>当浓度改变时，名义上的水合物抑制剂可能变成水合物促进剂，反之亦然。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="无机盐"><a href="#无机盐" class="headerlink" title="无机盐"></a>无机盐</h4><ul>
<li><p>无机盐(也称为盐离子或离子)被广泛认为是天然气水合物形成的热力学抑制剂。然而，最近的研究表明，许多离子在低浓度状态下表现出水合促进能力</p>
<ul>
<li><p>Sowa等人使用高压自动滞后时间仪(HP-ALTA)研究了各种单价盐对混合丙烷&#x2F;甲烷水合物形成的影响。他们发现一些盐起到了动力水合物促进剂的作用。此外，在盐溶液中水合物成核的随机性比在纯水中更小。</p>
<blockquote>
<p><em>Energy Fuels</em> 2014, 28, 11, 6877–6888</p>
</blockquote>
</li>
<li><p>Nguyen等人报道了卤化物钠对甲烷水合物形成的双重性质的定量证据，表明当卤化物盐在50 mM的低浓度下使用时，卤化物盐可以作为有效的水合物促进剂。卤化钠作为水合物促进剂的能力依次为NaF &lt; NaCl &lt; NaBr &lt; NaI。</p>
<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311032044186.jpeg" alt="img"></p>
</blockquote>
<blockquote>
<p>Fuel 156 (2015) 87–95</p>
</blockquote>
</li>
<li><p>Kumar等人报道，海水有助于THF&#x2F;甲烷混合水合物的成核和形成 (conventional reactor vessels)</p>
<blockquote>
<p><em>J. Phys. Chem. C</em> 2021, 125, 30, 16435–16443</p>
</blockquote>
</li>
<li><p>这种双重性质与设备配置、盐的纯度无关</p>
</li>
<li><p>Farhang et al.发现卤化钠对CO2水合物的形成具有双重作用。最强的促进作用观察到75mM。</p>
<blockquote>
<p>Energy Fuels, 28 (2) (2014), pp. 1220-1229</p>
</blockquote>
</li>
<li><p>Asadi et al. 发现NaI和SDS在促进甲烷水合物形成中的协同作用。在稀释的SDS溶液中加入NaI显著缩短了水合物成核的诱导时间(即促进了水合物成核)，但降低了水合物的生长速度。</p>
<blockquote>
<p>Energy Fuels, 34 (8) (2020), pp. 9971-9977</p>
</blockquote>
</li>
<li><p>Ren et al. 发现低浓度NaCl (50 mM)和阴离子表面活性剂显著提高了水-水合物转化率和水合物成核率。</p>
<blockquote>
<p>J. Nat. Gas Sci. Eng., 83 (2020), Article 103622</p>
</blockquote>
</li>
<li><p>Zhang et al.发现卤化钠和活性炭对天然气水合物的形成具有协同作用。在ion-AC体系中观察到促进和抑制作用，0.05 wt% KI诱导时间极短。0.1 wt% NaCl提高了甲烷的储存能力。</p>
<blockquote>
<p>Chem. Eng. J., 467 (2023), Article 143471</p>
</blockquote>
</li>
<li><p>Kumar et al.在海水环境温度下观察到不寻常的快速水合物形成。</p>
<blockquote>
<p>J. Phys. Chem. C, 125 (30) (2021), pp. 16435-16443</p>
</blockquote>
</li>
<li><p>Wu et al.发现1 wt% 的氯化钠可缩短甲烷水合物形成的诱导时间；超过 1 wt%，NaCl 会导致甲烷水合物成核延迟，高浓度氯化钠通过扰动四面体水结构延迟甲烷水合物成核</p>
<blockquote>
<p>Chem. Phys., 551 (2021), Article 111323</p>
</blockquote>
</li>
<li><p>Wu et al.发现盐离子对散装水和孔隙中水合物形成的影响相反。这些离子可能促进孔隙中受限水合物的形成，但会阻碍开放水域中大块水合物的形成。作者指出了盐析作用对水合物形成的重要性</p>
<blockquote>
<p>Energy Fuels, 32 (12) (2018), pp. 12486-12494</p>
</blockquote>
</li>
</ul>
</li>
<li><p>这些基于实验和理论研究的观察结果为某些盐作为水合物促进剂在低浓度状态下的异常行为提供了确凿的证据。然而，某些盐类异常促进天然气水合物形成的机理尚不清楚。</p>
</li>
</ul>
<h4 id="醇类"><a href="#醇类" class="headerlink" title="醇类"></a>醇类</h4><ul>
<li><p>醇是众所周知的气体水合物形成的热力学抑制剂；特别是甲醇(MeOH)和乙二醇(EG)是石油和天然气工业中作为水合物抑制剂使用最多的醇类。然而，即使是这些最著名的抑制剂，在低浓度条件下也表现出强烈的促进天然气水合物形成的能力。</p>
</li>
<li><p>在现场实验中观察到，在甲醇和乙二醇剂量不足的情况下，天然气水合物堵塞的形成比在没有抑制剂的系统中更稳定；(<a href="https://www.osti.gov/biblio/347863)%E3%80%82">https://www.osti.gov/biblio/347863)。</a></p>
</li>
<li><p>这一意想不到的现场观察结果之后，进行了实验室研究，以检查低浓度醇对天然气水合物形成的影响。</p>
</li>
<li><p>Yousif等人进行了一项早期研究，他们报告说，剂量不足的甲醇和乙二醇(剂量在1%至5%之间)是天然气水合物形成的有效促进剂。低浓度甲醇和乙二醇均能显著提高天然气水合物的生成速率，缩短诱导时间;</p>
<ul>
<li>特别是，乙二醇在2 wt%时，气体吸收量急剧增加，同时反应器温度急剧上升，这表明反应器内形成了密集的天然气水合物</li>
</ul>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311032248085.jpeg" alt="img"></p>
<blockquote>
<p>SPE Prod. Facil., 13 (1998), pp. 184-189</p>
</blockquote>
</li>
<li><p>Abay等人研究了超低浓度甲醇对甲烷水合物形成的影响，包括气体吸收、成核速率和成核事件的概率分布; 他们发现，水溶液中超低浓度甲醇(1.5 - 20ppm重量)的存在对甲烷水合物的形成产生了双重影响(促进和抑制)</p>
<blockquote>
<p>Energy Fuels, 24 (2) (2010), pp. 752-757</p>
</blockquote>
</li>
<li><p>同样，Dubey等人得出结论，与基线相比，浓度在0.1%至10%之间的低剂量乙二醇造成水合物堵塞的风险更高</p>
<blockquote>
<p>Energy Fuels, 37 (9) (2023), pp. 6533-6544</p>
</blockquote>
</li>
<li><p>不仅在液相中，在醇掺杂冰相中也观察到类似的促进作用。Bobev等人研究了在200至250 K的温度和高达7 MPa的压力下氘化冰形成甲烷和二氧化碳水合物的过程; 与不含氘化甲醇的基准体系相比，在含有掺有氘化甲醇的冰的体系中(高达20 wt%)观察到的水合物形成速率要高几个数量级</p>
<blockquote>
<p>Am. Mineral., 89 (8–9) (2004), pp. 1208-1214</p>
</blockquote>
</li>
<li><p>同样，mclurin等人也表明，在12.5 MPa的压力和253 K的温度下，将掺甲醇的冰(甲醇的比例在0.6 - 10 wt%之间)暴露在甲烷气体中，甲烷水合物以高产量快速形成; 作者指出，冰到水合物的转化是完全的，转化率比在没有甲醇的基线实验中观察到的转化率高两个数量级</p>
<blockquote>
<p>Angew. Chem. Int. Ed., 53 (39) (2014), pp. 10429-10433</p>
</blockquote>
</li>
<li><p>除了对醇在冷凝(液体或冰)相中的研究外，Chen等人最近发现，乙醇掺杂气相对冰粉形成甲烷水合物也有类似的促进作用</p>
<blockquote>
<p>Sci. Rep., 9 (1) (2019), p. 12345</p>
</blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311041826276.jpeg" alt="img"></p>
</li>
</ul>
<h4 id="表面活性剂和有机离子"><a href="#表面活性剂和有机离子" class="headerlink" title="表面活性剂和有机离子"></a>表面活性剂和有机离子</h4><ul>
<li><p>表面活性剂是众所周知的天然气水合物形成的动力学促进剂</p>
</li>
<li><p>十二烷基硫酸钠(SDS)是作为水合物促进剂研究最多的表面活性剂之一</p>
</li>
<li><p>在早期的研究中，Zhong等人报道了溶液中284 ppm的SDS导致甲烷水合物形成速率增加了700倍</p>
<blockquote>
<p>Chem. Eng. Sci., 55 (19) (2000), pp. 4175-4187</p>
</blockquote>
</li>
<li><p>有趣的是，最近的研究表明，表面活性剂在低浓度使用时，通常在每升几毫摩尔或更低的剂量下，对天然气水合物的形成表现出异常的抑制作用</p>
</li>
<li><p>Sowa等人进行了一项早期研究，报告了表面活性剂的双重功能，他们使用HP-ALTA设备检查了SDS溶液中模型天然气水合物的成核，其浓度范围从1 mM到100 mM，覆盖了临界胶束浓度(CMC)以下和之上的两个区域。他们发现SDS在低浓度下使用时，会阻碍天然气水合物的形成，而在使用最高浓度时，只会促进天然气水合物的形成</p>
<blockquote>
<p>Energy Fuels, 29 (9) (2015), pp. 5692-5700</p>
</blockquote>
</li>
<li><p>Nguyen等人进一步证实了表面活性剂的双重功能，他们报道了0.3 mM浓度的SDS对甲烷水合物形成的强烈抑制作用。在0.3 mM下，SDS的诱导时间比纯水中的水合物形成时间增加了三倍。当溶液浓度达到5 mM以上时，SDS转变为强大的水合物促进剂</p>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/202311041902726.jpeg" alt="img"></p>
<blockquote>
<p>Fuel, 197 (2017), pp. 488-496</p>
</blockquote>
</li>
<li><p>同样，TBAB在&#x3D; 3.6 mM处显示出意想不到的强烈抑制CO2水合物形成，尽管这种添加剂是一种众所周知的热力学水合物促进剂</p>
<blockquote>
<p>Fuel, 185 (2016), pp. 517-523</p>
</blockquote>
</li>
<li><p>近年来的研究日益证实了表面活性剂在影响天然气水合物形成方面的双重作用，</p>
<blockquote>
<p>Can. J. Chem. Eng., 96 (7) (2018), pp. 1620-1626;  Energy Fuels, 32 (9) (2018), pp. 9683-9691</p>
</blockquote>
</li>
<li><p>有趣的是，在添加固体的情况下，表面活性剂仍然表现出双重作用</p>
<blockquote>
<p>J. Mol. Liq., 333 (2021), Article 116020</p>
</blockquote>
</li>
</ul>
<h4 id="聚合物"><a href="#聚合物" class="headerlink" title="聚合物"></a>聚合物</h4><ul>
<li><p>聚合物以低剂量水合物抑制剂(LDHIs)的形式用于天然气水合物研究和工程。</p>
</li>
<li><p>与传统的THIs相比，LDHIs的竞争优势在于，LDHIs需要较低的操作剂量，通常小于1wt %，以提供令人满意的性能</p>
</li>
<li><p>根据作用机理，LDHIs可分为动力学水合物抑制剂(KHIs)和抗团聚剂(AAs)。KHIs作为反成核剂的作用是延缓天然气水合物的成核，而AAs的主要作用是阻碍水合物核的聚集而不是抑制水合物核的发生</p>
</li>
</ul>
<blockquote>
<p>许多水合物添加剂表现出双重性质，在低浓度下表现出反常的行为，而在高浓度下则表现出典型的效果。当浓度改变时，最著名的水合物促进剂可以作为水合物抑制剂，反之亦然。</p>
<p>深入了解水合物添加剂的反常双重性质不仅对科学理解而且对应用都至关重要。</p>
<p>科学地说，水合物添加剂所观察到的双重性质确定了需要重新考虑促进和抑制天然气水合物形成的起源。</p>
<p>由此推断，添加剂与水结构之间的相互作用比添加剂的化学性质更具有决定性。这意味着具有不同化学性质但对水结构产生相似影响的添加剂对天然气水合物形成的影响相似。相反，化学性质相似但对水结构影响不同的添加剂(如氟化物和碘化物)对天然气水合物形成的影响不同。</p>
<p>因此，对水合物添加剂的双重性质的新认识有助于了解控制添加剂对天然气水合物形成影响的实际因素。</p>
<p>在应用方面，了解水合物添加剂的双重功能有助于改善对天然气水合物形成和解离的控制。</p>
<p>首先，值得注意的是，由于水的固有杂质和相关过程中使用的化学品，自然和工业系统通常含有少量的各种化学成分。这些杂质作为低浓度水合物添加剂，影响天然气水合物解离的形成。因此，在预测水合物的形成和解离时，需要对它们的影响进行量化和考虑。</p>
<p>原油就是一个特别的例子。在地质构造中，原油与岩石、生物质和地质水等各种自然物质接触。因此，原油中不仅含有碳氢化合物，还含有各种其他物质，如水和溶解离子、天然表面活性剂、硫化物化合物等。溶解的离子和其他杂质中的天然表面活性剂作为低剂量的添加剂，改变了天然气水合物形成的动力学。</p>
<p>另一个例子是海洋环境中各种有机化合物的存在，它们影响自然界中天然气水合物的形成和解离。</p>
<p>一般来说，在天然和应用天然气水合物体系中不可避免地存在天然存在的低剂量添加剂，这确定了对其作用的透彻理解的必要性，因为这需要准确预测与流动保证和天然气水合物矿床稳定性相关的天然气水合物形成条件。</p>
<p>否则，对低浓度添加剂影响的普遍忽视可能会导致低估天然气水合物在自然和工业系统中的相关风险，进而导致操作失败、事故和环境灾难。</p>
<p>最重要的是，对水合物添加剂的双重性质的洞察可以确定添加剂提供可靠性能的最佳浓度范围。这对于动力学水合物添加剂(如LDHIs)至关重要，LDHIs对天然气水合物形成的影响已被证明对其剂量敏感。最后但并非最不重要的一点是，更好地了解低浓度下水合物添加剂的功能，可以在不可能使用典型水合物添加剂的系统中使用低剂量添加剂作为掺杂剂来改变气体水合物形成和解离的动力学。例如，在CO2气流中掺入汽化的甲醇或乙醇可能会对天然气水合物晶格中CO2&#x2F;CH4交换动力学产生强烈影响，从而使天然气水合物沉积物中的CH4迅速被CO2取代，从而达到提取甲烷和封存CO2的双重目的。</p>
</blockquote>
<h3 id="水合物生成过程中诱导时间和气体消耗率模拟"><a href="#水合物生成过程中诱导时间和气体消耗率模拟" class="headerlink" title="水合物生成过程中诱导时间和气体消耗率模拟"></a>水合物生成过程中诱导时间和气体消耗率模拟</h3><blockquote>
<p><em>Petroleum Science (2021) 18:495–508</em></p>
</blockquote>
<ul>
<li>气体消耗率可通过以下步骤确定：<br>  <img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/paperreadnote2023_d.md/292773710231067.png"></li>
</ul>
<h3 id="浓度单位"><a href="#浓度单位" class="headerlink" title="浓度单位"></a>浓度单位</h3><h4 id="Parts-Per-Million-PPM-to-Weight-Percent-Converter"><a href="#Parts-Per-Million-PPM-to-Weight-Percent-Converter" class="headerlink" title="Parts Per Million (PPM) to Weight Percent (%) Converter"></a>Parts Per Million (PPM) to Weight Percent (%) Converter</h4><figure class="highlight abnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">WP</span> <span class="operator">=</span> PPM ÷ <span class="number">10000</span></span><br></pre></td></tr></table></figure>

<h4 id="M"><a href="#M" class="headerlink" title="M"></a>M</h4><ul>
<li><p><a href="https://zh.wikipedia.org/zh-hans/%E9%AB%94%E7%A9%8D%E8%8E%AB%E8%80%B3%E6%BF%83%E5%BA%A6">体积摩尔浓度</a>：（英语：molarity，通常以大写M表示）是化学的一种通用浓度单位。</p>
<p><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/b2008328a614f219ec2b9227b34dc36952eaafd5"></p>
<blockquote>
<p>构成溶液的某组分$i$的物质的量$n_i$除以溶液的体积$V$</p>
</blockquote>
</li>
<li><p>国际单位制中，单位是mol&#x2F;m3。但是mol&#x2F;L是更为常用的单位。1mol&#x2F;L的体积摩尔浓度也能写作1 molar或1M。</p>
<ul>
<li>$1 mol&#x2F;L &#x3D; 1 mol&#x2F;dm^3 &#x3D; 1 mol dm^{−3} &#x3D; 1 M &#x3D; 1000 mol&#x2F;m^{3}$</li>
</ul>
</li>
</ul>
<h4 id="PPM-to-Molarity-Formula"><a href="#PPM-to-Molarity-Formula" class="headerlink" title="PPM to Molarity Formula"></a>PPM to Molarity Formula</h4><ul>
<li>To calculate molarity from ppm, <strong>divide the PPM by the molar mas (g&#x2F;mol), then divide the result by 1000</strong>.</li>
</ul>
<h3 id="诱导时间Induction-time"><a href="#诱导时间Induction-time" class="headerlink" title="诱导时间Induction time"></a>诱导时间Induction time</h3><ul>
<li><p>我们可以把诱导时间定义为达到水合物形成条件和发生水合物形成之间的一段时间</p>
<p><img src="https://media.springernature.com/lw685/springer-static/image/art%3A10.1007%2Fs12182-020-00515-0/MediaObjects/12182_2020_515_Fig2_HTML.png?as=webp"></p>
<blockquote>
<p><em><em>Pet. Sci.</em> <strong>18</strong>, 495–508 (2021).</em></p>
</blockquote>
</li>
</ul>
<h3 id="热力学THIs与动力学抑制剂KHIs"><a href="#热力学THIs与动力学抑制剂KHIs" class="headerlink" title="热力学THIs与动力学抑制剂KHIs"></a>热力学THIs与动力学抑制剂KHIs</h3><blockquote>
<p><em><em>Pet. Sci.</em> <strong>18</strong>, 495–508 (2021).</em></p>
</blockquote>
<ul>
<li><p>天然气水合物在管道中形成会造成堵塞和突然压降，造成巨大的经济损失</p>
</li>
<li><p>加热、减压、除水和向管道注入某些抑制剂是避免天然气水合物形成的一些推荐方法</p>
</li>
<li><p>在上述方法中，注入水合物抑制剂是一种更可行、更容易使用的方法</p>
</li>
<li><p>在传统形式下，两种类型的水合物抑制剂用于工业应用:</p>
<ul>
<li><p>热力学水合物抑制剂(THIs)倾向于降低水活度，使水合物相平衡曲线向低温高压偏移。这类抑制剂有甲醇、乙醇、单乙二醇(MEG)、氯化钠(NaCl)等。</p>
<blockquote>
<p>通常大量使用，甚至高达50wt%，但在某些特定情况下，大量注入THIs对天然气水合物形成的影响不足，因为条件非常有利于天然气水合物的形成。如前所述，在这些情况下，KHIs 可以用来延迟天然气水合物的形成</p>
</blockquote>
</li>
<li><p>另一方面，动力学水合物抑制剂(KHIs)的作用不同。它们增加了水合物形成诱导时间，降低了水合物成核速率和晶体生长速率。众所周知的KHIs是聚乙烯吡咯烷酮(PVP)和聚乙烯己内酰胺(PVCap)。</p>
</li>
</ul>
</li>
<li><p>在过去的十年中，科学研究的重点是一类新的抑制剂，如某些离子液体(ILs)，它们不仅使水合物相平衡曲线向低温高压区域移动，而且增加了水合物形成的诱导时间。这些化合物称为双重功能抑制剂(DFIs)</p>
<ul>
<li>他们的结论是，由于强大的静电荷和氢键，所使用的ILs不仅使水合物平衡曲线&#x2F;水合物解离条件向更低的温度和更高的压力移动，而且还减慢了水合物的成核和生长速度</li>
</ul>
</li>
</ul>
<h3 id="水合物成核时，PVP浓度"><a href="#水合物成核时，PVP浓度" class="headerlink" title="水合物成核时，PVP浓度"></a>水合物成核时，PVP浓度</h3><ul>
<li><p>PVP使用的最高浓度为0.07 wt%，因为超过这个浓度，由于生长和热释放极其有限，成核点变得难以区分。</p>
<ul>
<li><blockquote>
<p><em>Chemical Engineering Science, 2015, 126: 91-98.</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="demulsification：解乳化"><a href="#demulsification：解乳化" class="headerlink" title="demulsification：解乳化"></a>demulsification：解乳化</h3><ul>
<li><p>油水混合物中的分离是指将油和水分开的过程。<strong>解乳是指从乳状液中分离油的过程</strong>，<strong>乳状液是指微小的油滴悬浮在水中形成的稳定混合物</strong>。<strong>因此，解乳就是把油滴从乳状液中分离出来，使其与水彻底分离。</strong></p>
</li>
<li><p>在工业和环境领域，解乳是一个重要的过程，用于处理油水混合物，例如废水处理、石油开采废水处理、燃油分离等。解乳的方法包括物理方法和化学方法。</p>
</li>
<li><p>物理解乳方法包括离心分离、重力沉降、过滤、膜分离等，这些方法利用油水混合物中的密度差、大小差异、流动性质等来实现油的分离。</p>
</li>
<li><p><strong>化学解乳方法则是添加一些化学剂或表面活性剂，这些物质可以使乳状液中的油滴凝结聚集，形成较大的油滴，从而便于物理分离。</strong></p>
</li>
<li><p>解乳的目的是减少油水混合物中的油含量，以满足环境排放标准或回收油和水资源。</p>
<blockquote>
<p>ChatGPT-3.5学术版</p>
</blockquote>
</li>
</ul>
<h3 id="Inelastic-neutron-scattering"><a href="#Inelastic-neutron-scattering" class="headerlink" title="Inelastic neutron scattering"></a>Inelastic neutron scattering</h3><ul>
<li>非弹性中子散射：一种用于研究物质结构和动力学的实验技术，通过测量中子与物质相互作用后的能量和动量变化来获取信息。<ul>
<li><img src=https://www.researchgate.net/profile/Shuo_Chen15/publication/286590827/figure/download/fig5/AS:669993389789185@1536750280084/6-Inelastic-neutron-scattering.png width="500"></li>
</ul>
</li>
</ul>
<h3 id="质量过小会引起量子效应？"><a href="#质量过小会引起量子效应？" class="headerlink" title="质量过小会引起量子效应？"></a>质量过小会引起量子效应？</h3><ul>
<li><p>当物体的质量足够小时，它可能会表现出量子效应，这是因为量子力学规定了微观领域中的物质行为。量子效应指的是在极小尺度下，物质的特性和行为受到量子力学的显著影响，而不再遵循经典物理学的规律。</p>
<ul>
<li><blockquote>
<p><em><a href="https://help.openai.com/en/articles/6825453-chatgpt-release-notes">ChatGPT September 25 Version</a></em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="促进水合物成核"><a href="#促进水合物成核" class="headerlink" title="促进水合物成核"></a>促进水合物成核</h3><ul>
<li><p>特别设计的<mark>活性炭</mark>材料可以通过作为纳米反应器促进$H_2$水合物的成核和生长;</p>
</li>
<li><p>内腔的约束效应促进了氢水合物在中等温度下的大量生长，使用纯水，具有极快的动力学和比体系统低得多的压力。</p>
</li>
<li><p>由于需要通过晶内非键相互作用来稳定3D氢键网络，因此水合物的形成被认为仅限于0.33-0.36nm以上的分子。</p>
<ul>
<li><blockquote>
<p><em>Nature Communications | ( 2022) 13:5953</em></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<h3 id="水合物的记忆效应"><a href="#水合物的记忆效应" class="headerlink" title="水合物的记忆效应"></a>水合物的记忆效应</h3><blockquote>
<p><em>J. Phys. Chem. A 2015, 119, 10784−10790</em></p>
</blockquote>
<ul>
<li>记忆效应指的是气体水合物分解或冰融化所得到的水更容易或更快地形成天然气水合物；</li>
<li>记忆效应为形成具有较好再现性的天然气水合物提供了一种有效的方法，否则成核现象是高度随机的；</li>
<li>已知当系统的热力学平衡完全建立时，记忆效应在足够高的过热温度和&#x2F;或足够长的加热时间下消失；</li>
<li>三种假设：<ol>
<li>在水相中存在着某种残余的水合物结构；</li>
<li>在气体水合物分解后形成的水中，客体气体的扩散受到阻碍。这种缓慢的气体扩散导致客体气体分子在水相中过饱和；</li>
<li>杂质或容器壁在第一次天然气水合物形成后受到某种程度的制约，因此它们成为第二次和随后的水合物形成的更有效的非均相成核位点。</li>
</ol>
</li>
</ul>
<h3 id="为什么不同的初始速度水合物分解的时间却有不同？"><a href="#为什么不同的初始速度水合物分解的时间却有不同？" class="headerlink" title="为什么不同的初始速度水合物分解的时间却有不同？"></a>为什么不同的初始速度水合物分解的时间却有不同？</h3><h4 id="水合物成核具有随机性"><a href="#水合物成核具有随机性" class="headerlink" title="水合物成核具有随机性"></a>水合物成核具有随机性</h4><ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2023/paperreadnote2023_d.md/499660612249474.png"><ul>
<li><p><a href="https://doi.org/10.1063/1.4905572">J. Chem. Phys. 142, 044501 (2015)</a>指出，五个不同运行的“正常”增长率是不相等的，正如势能的不同斜率所表明的那样，这一事实必须归因于水合物生长的随机性。</p>
<ul>
<li>这一事实的一个直接结果是，对于通过MD模拟计算增长率，应该在足够数量的运行中使用平均值。</li>
<li>此外，在不同的runs之间，气泡形成的“诱导”时间是不相等的。</li>
</ul>
</li>
<li><p>在实验上<a href="https://doi.org/10.1016/j.jngse.2015.03.030">Journal of Natural Gas Science and Engineering 24 (2015) 357e364</a>通过反应条件控制可以消除水合物形成的随机性：粒径较大的多孔介质可以控制诱导时间，减少诱导时间的随机性。</p>
</li>
<li><p>水合物的形成不受热力学定律的支配，而是相当随机的<a href="https://www.sciencedirect.com/science/article/pii/S0016236113009459"> Fuel 117 (2014) 442–449</a></p>
</li>
<li><p>水合物成核的随机性随着解离温度的降低而减弱；<a href="https://doi.org/10.1016/j.fuel.2020.120103">Fuel 291 (2021) 120103</a> 定量表征记忆效应的“量”或“强度”是困难和耗时的，因为水合物成核是一个随机过程，成核的随机性意味着需要大量的重复测量来产生统计上可用的数据，以理解记忆效应的机制；</p>
</li>
<li><p><a href="https://doi.org/10.1016/j.fuel.2020.120103">Fuel 291 (2021) 120103</a> 在较短的离解时间间隔内，随着分解时间的延长，水合物成核的随机性降低。</p>
</li>
<li><p><a href="https://doi.org/10.1016/j.molliq.2021.117880">Journal of Molecular Liquids 344 (2021) 117880</a>氨基酸能够降低水合物成核诱导时间的随机性</p>
</li>
<li><p>由于水合物成核和生长受冷却速率、水史、冰粒、晶核等因素的影响，其随机性和亚稳态相对于水化分解过程更强；虽然在水合物分解过程中加热过快会产生亚稳态或异常的自我保护效应，但亚稳态通常较弱。<a href="https://doi.org/10.1016/j.ngib.2022.04.003">Thermophysical properties of natural gas hydrates: A review</a></p>
</li>
</ul>
</li>
</ul>
<h4 id="水合物分解是否也具有随机性？"><a href="#水合物分解是否也具有随机性？" class="headerlink" title="水合物分解是否也具有随机性？"></a>水合物分解是否也具有随机性？</h4><ul>
<li><p>水合物（Hydrates）分解也可以具有一定的随机性，具体取决于分子模拟的参数设置、初始条件以及系统本身的特性。以下是影响水合物分解随机性的一些因素：</p>
<ol>
<li><strong>初始条件的随机性：</strong> 分子模拟通常使用随机生成的初始速度和位置来模拟系统。因此，不同模拟运行的初始条件可以是随机的，这导致了模拟结果的随机性。</li>
<li><strong>分子动力学噪声：</strong> 分子动力学模拟中引入了一些随机性，称为Brownian运动或热噪声，模拟粒子受到来自周围分子的随机碰撞力。这种噪声对于系统的行为和相变过程具有影响。</li>
<li><strong>系统大小：</strong> 模拟系统的大小也会影响随机性。在小系统中，由于分子数量有限，随机性更为显著。在大系统中，随机性相对较小，因为有更多的分子相互作用来平均化随机效应。</li>
<li><strong>温度和压力：</strong> 温度和压力对分子模拟中的随机性也有影响。较高的温度和较低的压力通常会增加分子的热运动，从而增加随机性。</li>
<li><strong>模拟时间：</strong> 模拟时间的长度也会影响随机性。在较短的时间内，系统可能不会达到平衡状态，因此随机性可能更显著。在较长的时间模拟中，系统可能会趋于平稳，随机性逐渐减小。</li>
</ol>
<p>因此，水合物分解的分子模拟通常包括一些随机性元素，这使得不同模拟运行可能会产生略有不同的结果。为了获得可靠的模拟结果，通常需要进行多次独立的模拟，并对结果进行统计分析，以确定平均行为和关键趋势。这有助于减小随机性的影响，使模拟结果更具可信度。</p>
</li>
<li><p>水合物在现实中的分解也具有一定的随机性，但它的随机性受到多种因素的影响，包括温度、压力、水合物的化学成分、物理性质以及水合物的微观结构等。以下是影响水合物分解随机性的一些因素：</p>
<ol>
<li><strong>温度和压力：</strong> 温度和压力是主要影响水合物分解的因素之一。在不同的温度和压力条件下，水合物的分解速率和行为会有所不同。高温和低压通常促进水合物的分解，但分解速率和程度仍然受到温度和压力梯度的影响，这些梯度在水合物储层中可能会有一定程度的随机性。</li>
<li><strong>水合物的化学成分：</strong> 不同类型的水合物（如甲烷水合物、二氧化碳水合物等）具有不同的分解特性。它们的分解温度和压力条件也会不同，这增加了水合物分解的随机性。</li>
<li><strong>微观结构：</strong> 水合物的微观结构可以影响其分解特性。微观结构受到水合物形成条件的影响，而这些条件可能在不同地点或不同时间具有一定的随机性。</li>
<li><strong>环境因素：</strong> 水合物储层的环境条件，如地下水流动、盐度变化等，也可能影响水合物的分解行为。这些环境因素的变化可以导致水合物分解的随机性。</li>
<li><strong>地质差异：</strong> 不同地点的水合物储层地质条件各不相同，包括岩石类型、渗透率、孔隙度等。这些差异会影响水合物分解的方式和速率，从而引入了地质随机性。</li>
</ol>
<p>总之，水合物的分解在现实中受多种因素的影响，因此具有一定的随机性。在水合物资源勘探和开发中，需要考虑这些随机性因素，并使用数值模拟、实验研究等方法来更好地理解水合物分解的行为，以便有效地开发和利用这一资源。</p>
</li>
<li><blockquote>
<p><a href="https://help.openai.com/en/articles/6825453-chatgpt-release-notes">ChatGPT September 25 Version</a></p>
<p>文献中，找不到关于水合物分解过程中的随机性，大都是关于水合物成核诱导时间的随机性。</p>
</blockquote>
</li>
<li><p>找到一个<a href="https://doi.org/10.1002/apj.1919">水合物分解的随机性的文献</a>，但是不是不同系综的随机性，而是水合物&#x2F;水界面处气体分子再次进入不完全笼子的随机性。</p>
<ul>
<li><p><img src="https://onlinelibrary.wiley.com/cms/asset/56ec7ba7-e151-47ce-8c00-24fed9928ccb/apj1919-fig-0005-m.jpg"></p>
</li>
<li><p><img src="https://onlinelibrary.wiley.com/cms/asset/d8516a4b-8c4b-4fc7-ba91-0df1702ffa65/apj1919-fig-0006-m.jpg"></p>
</li>
<li><p>理由是：通过在甲烷-水体系中进行约束分子动力学模拟，<a href="https://doi.org/10.1039/B913898F">2009年，Guo等</a>首次成功地计算了十二面体水笼（DWC）与溶解甲烷之间的平均力势（PMF）。作为 DWC 与甲烷之间距离的函数，其特征是在∼6.2 Å处有一个深井，在∼10.2 Å处有一个浅井，两井之间在∼8.8 Å处有一个势垒。最重要的发现是，DWC 本身能强烈吸附甲烷，而且吸附作用与客体无关。</p>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>论文笔记</category>
        <category>2023</category>
      </categories>
      <tags>
        <tag>Paper Notes</tag>
      </tags>
  </entry>
  <entry>
    <title>LaTex：安装使用</title>
    <url>/MyWiki/wiki/2021/11/06/codes/latex/LaTex_study_01/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="安装包"><a href="#安装包" class="headerlink" title="安装包"></a>安装包</h3><ul>
<li>最流行的两个 TeX 发行：<a href="https://www.tug.org/texlive/">TeX Live</a> 和 <a href="https://miktex.org/%EF%BC%89">MiKTeX</a></li>
</ul>
<h3 id="编辑器"><a href="#编辑器" class="headerlink" title="编辑器"></a>编辑器</h3><ul>
<li><p>自带的TeXworks</p>
<ul>
<li><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202408241302029.png" alt="image-20240824130212938"></li>
</ul>
</li>
<li><p><a href="https://www.xm1math.net/texmaker/">TeXmaker</a></p>
<ul>
<li><img src="https://www.xm1math.net/texmaker/assets/img/texmaker_top_bg.png"></li>
</ul>
</li>
<li><p><a href="https://www.texstudio.org/">TeXstudio</a>、<a href="https://www.winedt.com/%E3%80%81**[TeXmacs](https://www.texmacs.org/tmweb/download/windows.en.html">WinEdt</a>**等;</p>
</li>
<li><p>或者直接使用<a href="https://www.overleaf.com/">Overleaf</a>在线编辑</p>
</li>
</ul>
<h3 id="排版工具"><a href="#排版工具" class="headerlink" title="排版工具"></a>排版工具</h3><ul>
<li>TeXworks 预设了若干排版工具：pdfTeX, pdfLaTeX, XeTeX, XeLaTeX 等；</li>
<li>XeLaTeX ，适用于中文；</li>
</ul>
<h3 id="简单例子"><a href="#简单例子" class="headerlink" title="简单例子"></a><a href="https://github.com/eastsheng/CodeYears/tree/main/2024/08/Latex/test">简单例子</a></h3><figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="keyword">\documentclass</span>[UTF8]&#123;ctexart&#125;</span><br><span class="line"><span class="comment">% 导言区，设置页面大小、页眉页脚样式、章节标题样式等等</span></span><br><span class="line"><span class="keyword">\title</span>&#123;LaTex测试&#125; <span class="comment">% 定义了标题</span></span><br><span class="line"><span class="keyword">\author</span>&#123;CDS&#125; <span class="comment">% 作者</span></span><br><span class="line"><span class="keyword">\date</span>&#123;<span class="keyword">\today</span>&#125; <span class="comment">% 日期</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;fancyhdr&#125; <span class="comment">% 设置页眉页脚</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;amsmath&#125; <span class="comment">% AMS-LaTeX 提供的数学功能，为了编写数学公式</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;graphicx&#125; <span class="comment">% 插入图片</span></span><br><span class="line"><span class="keyword">\usepackage</span>&#123;geometry&#125;</span><br><span class="line"><span class="keyword">\usepackage</span>&#123;setspace&#125; <span class="comment">% 行距设置</span></span><br><span class="line"><span class="keyword">\onehalfspacing</span> <span class="comment">% 将行距设置为字号的 1.5 倍</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\addtolength</span>&#123;<span class="keyword">\parskip</span>&#125;&#123;.4em&#125; <span class="comment">% 调整段间距</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\geometry</span>&#123;papersize=&#123;15cm,20cm&#125;&#125; <span class="comment">% 纸张的长度设置为 15cm、宽度设置为 20cm</span></span><br><span class="line"><span class="keyword">\geometry</span>&#123;left=1.5cm,right=1.5cm,top=3cm,bottom=2cm&#125; <span class="comment">% 左边距 1.5cm、右边距 1.5cm、上边距 3cm、下边距 2cm</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%\pagestyle&#123;fancy&#125;</span></span><br><span class="line"><span class="comment">%\lhead&#123;\author&#125;</span></span><br><span class="line"><span class="comment">%\chead&#123;\date&#125;</span></span><br><span class="line"><span class="comment">%\lfoot&#123;&#125;</span></span><br><span class="line"><span class="comment">%\cfoot&#123;\thepage&#125;</span></span><br><span class="line"><span class="comment">%\rfoot&#123;&#125;</span></span><br><span class="line"><span class="comment">%\renewcommand&#123;\headrulewidth&#125;&#123;0.4pt&#125;</span></span><br><span class="line"><span class="comment">%\renewcommand&#123;\headwidth&#125;&#123;\textwidth&#125;</span></span><br><span class="line"><span class="comment">%\renewcommand&#123;\footrulewidth&#125;&#123;0pt&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;document&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\tableofcontents</span> <span class="comment">% 定义了目录</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% ---------------- 以上是导言区</span></span><br><span class="line"><span class="keyword">\maketitle</span> <span class="comment">% 将在导言区中定义的标题、作者、日期按照预定的格式展现出来</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">\section</span>&#123;第一部分：基础&#125;</span><br><span class="line">第一峰是珠穆朗玛峰。</span><br><span class="line"></span><br><span class="line"><span class="keyword">\subsection</span>&#123;第1.1部分&#125;</span><br><span class="line">第一峰是珠穆朗玛峰。。</span><br><span class="line"><span class="keyword">\subsubsection</span>&#123;第1.1.1部分&#125;</span><br><span class="line">第一峰是珠穆朗玛峰。。</span><br><span class="line"><span class="keyword">\paragraph</span>&#123;青藏高原&#125;</span><br><span class="line"><span class="keyword">\subparagraph</span>&#123;西在藏&#125;</span><br><span class="line">西藏铁路</span><br><span class="line"><span class="keyword">\subsection</span>&#123;西藏大学&#125;</span><br><span class="line"><span class="keyword">\paragraph</span>&#123;新疆大学&#125; 在新疆</span><br><span class="line"></span><br><span class="line">Hello, world!</span><br><span class="line">你好</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">\section</span>&#123;第二部分：公式&#125;</span><br><span class="line"><span class="keyword">\subsection</span>&#123;数学公式&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\[</span>E=mc<span class="built_in">^</span>2.<span class="keyword">\]</span> <span class="comment">% 使用 \[ ... \] 可以插入行间公式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 如果需要对行间公式进行编号，则可以使用 equation 环境</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;equation&#125;</span><br><span class="line">E= mc<span class="built_in">^</span>2.</span><br><span class="line"><span class="keyword">\end</span>&#123;equation&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;equation&#125;</span><br><span class="line">z = r<span class="keyword">\cdot</span> e<span class="built_in">^</span>&#123;2<span class="keyword">\pi</span> i&#125;. </span><br><span class="line"><span class="keyword">\end</span>&#123;equation&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">$</span><span class="keyword">\sqrt</span>&#123;x&#125;<span class="built_in">$</span>, <span class="built_in">$</span><span class="keyword">\frac</span>&#123;1&#125;&#123;2&#125;<span class="built_in">$</span>. <span class="comment">% 使用 $ ... $ 可以插入行内公式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\sqrt</span>&#123;x&#125;, <span class="keyword">\]</span> <span class="comment">% 根式用 \sqrt&#123;·&#125; 来表示</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\frac</span>&#123;1&#125;&#123;2&#125;. <span class="keyword">\]</span> <span class="comment">% 分式用 \frac&#123;·&#125;&#123;·&#125; 来表示</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">$</span> <span class="keyword">\sum</span><span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>n i<span class="keyword">\quad</span> <span class="keyword">\prod</span><span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>n <span class="built_in">$</span></span><br><span class="line"><span class="built_in">$</span> <span class="keyword">\sum</span><span class="keyword">\limits</span> <span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>n i<span class="keyword">\quad</span> <span class="keyword">\prod</span><span class="keyword">\limits</span> <span class="built_in">_</span>&#123;i=1&#125;<span class="built_in">^</span>n <span class="built_in">$</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\lim</span><span class="built_in">_</span>&#123;x<span class="keyword">\to</span>0&#125;x<span class="built_in">^</span>2 <span class="keyword">\quad</span> <span class="keyword">\int</span><span class="built_in">_</span>a<span class="built_in">^</span>b x<span class="built_in">^</span>2 dx <span class="keyword">\]</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\lim</span><span class="keyword">\nolimits</span> <span class="built_in">_</span>&#123;x<span class="keyword">\to</span>0&#125;x<span class="built_in">^</span>2<span class="keyword">\quad</span> <span class="keyword">\int</span><span class="keyword">\nolimits</span><span class="built_in">_</span>a<span class="built_in">^</span>b x<span class="built_in">^</span>2 dx <span class="keyword">\]</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\iint</span><span class="keyword">\quad</span> <span class="keyword">\iiint</span><span class="keyword">\quad</span> <span class="keyword">\iiiint</span><span class="keyword">\quad</span> <span class="keyword">\idotsint</span> <span class="keyword">\]</span> <span class="comment">% 多重积分</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% 定界符（括号等）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\Biggl</span>(<span class="keyword">\biggl</span>(<span class="keyword">\Bigl</span>(<span class="keyword">\bigl</span>((x)<span class="keyword">\bigr</span>)<span class="keyword">\Bigr</span>)<span class="keyword">\biggr</span>)<span class="keyword">\Biggr</span>) <span class="keyword">\]</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\Biggl</span>[<span class="keyword">\biggl</span>[<span class="keyword">\Bigl</span>[<span class="keyword">\bigl</span>[[x]<span class="keyword">\bigr</span>]<span class="keyword">\Bigr</span>]<span class="keyword">\biggr</span>]<span class="keyword">\Biggr</span>] <span class="keyword">\]</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\Biggl</span> <span class="keyword">\&#123;</span><span class="keyword">\biggl</span> <span class="keyword">\&#123;</span><span class="keyword">\Bigl</span> <span class="keyword">\&#123;</span><span class="keyword">\bigl</span> <span class="keyword">\&#123;</span><span class="keyword">\&#123;</span>x<span class="keyword">\&#125;</span><span class="keyword">\bigr</span> <span class="keyword">\&#125;</span><span class="keyword">\Bigr</span> <span class="keyword">\&#125;</span><span class="keyword">\biggr</span> <span class="keyword">\&#125;</span><span class="keyword">\Biggr</span><span class="keyword">\&#125;</span> <span class="keyword">\]</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\Biggl</span><span class="keyword">\langle</span><span class="keyword">\biggl</span><span class="keyword">\langle</span><span class="keyword">\Bigl</span><span class="keyword">\langle</span><span class="keyword">\bigl</span><span class="keyword">\langle</span><span class="keyword">\langle</span> x</span><br><span class="line"><span class="keyword">\rangle</span><span class="keyword">\bigr</span><span class="keyword">\rangle</span><span class="keyword">\Bigr</span><span class="keyword">\rangle</span><span class="keyword">\biggr</span><span class="keyword">\rangle</span><span class="keyword">\Biggr</span><span class="keyword">\rangle</span> <span class="keyword">\]</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\Biggl</span><span class="keyword">\lvert</span><span class="keyword">\biggl</span><span class="keyword">\lvert</span><span class="keyword">\Bigl</span><span class="keyword">\lvert</span><span class="keyword">\bigl</span><span class="keyword">\lvert</span><span class="keyword">\lvert</span> x</span><br><span class="line"><span class="keyword">\rvert</span><span class="keyword">\bigr</span><span class="keyword">\rvert</span><span class="keyword">\Bigr</span><span class="keyword">\rvert</span><span class="keyword">\biggr</span><span class="keyword">\rvert</span><span class="keyword">\Biggr</span><span class="keyword">\rvert</span> <span class="keyword">\]</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\Biggl</span><span class="keyword">\lVert</span><span class="keyword">\biggl</span><span class="keyword">\lVert</span><span class="keyword">\Bigl</span><span class="keyword">\lVert</span><span class="keyword">\bigl</span><span class="keyword">\lVert</span><span class="keyword">\lVert</span> x</span><br><span class="line"><span class="keyword">\rVert</span><span class="keyword">\bigr</span><span class="keyword">\rVert</span><span class="keyword">\Bigr</span><span class="keyword">\rVert</span><span class="keyword">\biggr</span><span class="keyword">\rVert</span><span class="keyword">\Biggr</span><span class="keyword">\rVert</span> <span class="keyword">\]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 省略号</span></span><br><span class="line"><span class="keyword">\[</span> x<span class="built_in">_</span>1,x<span class="built_in">_</span>2,<span class="keyword">\dots</span> ,x<span class="built_in">_</span>n<span class="keyword">\quad</span> 1,2,<span class="keyword">\cdots</span> ,n<span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\vdots</span><span class="keyword">\quad</span> <span class="keyword">\ddots</span> <span class="keyword">\]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 矩阵</span></span><br><span class="line"><span class="keyword">\[</span> <span class="keyword">\begin</span>&#123;pmatrix&#125; a<span class="built_in">&amp;</span>b<span class="keyword">\\</span>c<span class="built_in">&amp;</span>d <span class="keyword">\end</span>&#123;pmatrix&#125; <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;bmatrix&#125; a<span class="built_in">&amp;</span>b<span class="keyword">\\</span>c<span class="built_in">&amp;</span>d <span class="keyword">\end</span>&#123;bmatrix&#125; <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;Bmatrix&#125; a<span class="built_in">&amp;</span>b<span class="keyword">\\</span>c<span class="built_in">&amp;</span>d <span class="keyword">\end</span>&#123;Bmatrix&#125; <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;vmatrix&#125; a<span class="built_in">&amp;</span>b<span class="keyword">\\</span>c<span class="built_in">&amp;</span>d <span class="keyword">\end</span>&#123;vmatrix&#125; <span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;Vmatrix&#125; a<span class="built_in">&amp;</span>b<span class="keyword">\\</span>c<span class="built_in">&amp;</span>d <span class="keyword">\end</span>&#123;Vmatrix&#125; <span class="keyword">\]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% 使用 smallmatrix 环境，生成行内公式的小矩阵。</span></span><br><span class="line">Marry has a little matrix <span class="built_in">$</span> ( <span class="keyword">\begin</span>&#123;smallmatrix&#125; a<span class="built_in">&amp;</span>b<span class="keyword">\\</span>c<span class="built_in">&amp;</span>d <span class="keyword">\end</span>&#123;smallmatrix&#125; ) <span class="built_in">$</span>.</span><br><span class="line"></span><br><span class="line"><span class="comment">% 公式组</span></span><br><span class="line"><span class="keyword">\begin</span>&#123;gather&#125;</span><br><span class="line">a = b+c+d <span class="keyword">\\</span></span><br><span class="line">x = y+z</span><br><span class="line"><span class="keyword">\end</span>&#123;gather&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;align&#125;</span><br><span class="line">a <span class="built_in">&amp;</span>= b+c+d <span class="keyword">\\</span></span><br><span class="line">x <span class="built_in">&amp;</span>= y+z</span><br><span class="line"><span class="keyword">\end</span>&#123;align&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">% 分段函数</span></span><br><span class="line"><span class="keyword">\[</span> y= <span class="keyword">\begin</span>&#123;cases&#125;</span><br><span class="line">-x,<span class="keyword">\quad</span> x<span class="keyword">\leq</span> 0 <span class="keyword">\\</span></span><br><span class="line">x,<span class="keyword">\quad</span> x&gt;0</span><br><span class="line"><span class="keyword">\end</span>&#123;cases&#125; <span class="keyword">\]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">\section</span>&#123;第三部分：图片&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\includegraphics</span>&#123;imgs/12.png&#125; <span class="comment">% 正常插入图片</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">\includegraphics</span>[width = .8<span class="keyword">\textwidth</span>]&#123;imgs/12.png&#125; <span class="comment">% 控制图片大小</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;figure&#125;[htbp] <span class="comment">% htbp 选项用来指定插图的理想位置，这几个字母分别代表 here, top, bottom, float page，也就是就这里、页顶、页尾、浮动页（专门放浮动体的单独页面或分栏）</span></span><br><span class="line"><span class="keyword">\centering</span> <span class="comment">% 插图居中</span></span><br><span class="line"><span class="keyword">\includegraphics</span>[width = .8<span class="keyword">\textwidth</span>]&#123;imgs/12.png&#125;</span><br><span class="line"><span class="keyword">\caption</span>&#123;大分子&#125; <span class="comment">% 命令设置插图标题 LaTeX 会自动给浮动体的标题加上编号</span></span><br><span class="line"><span class="keyword">\label</span>&#123;fig:myphoto&#125;<span class="comment">% 注意 \label 应该放在标题命令之后。</span></span><br><span class="line"><span class="keyword">\end</span>&#123;figure&#125;</span><br><span class="line"><span class="keyword">\vspace</span>&#123;1.25em&#125;</span><br><span class="line"><span class="keyword">\section</span>&#123;第四部分：表格&#125;</span><br><span class="line"><span class="keyword">\begin</span>&#123;itemize&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\item</span> tabular 环境提供了最简单的表格功能</span><br><span class="line"><span class="comment">%\item 它用 \hline 命令表示横线，在列格式中用 | 表示竖线</span></span><br><span class="line"><span class="comment">%\item 用 &amp; 来分列，用 \\ 来换行</span></span><br><span class="line"><span class="keyword">\item</span> 每列可以采用居左、居中、居右等横向对齐方式，分别用 l、c、r 来表示。</span><br><span class="line"></span><br><span class="line"><span class="keyword">\end</span>&#123;itemize&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>&#123;tabular&#125;&#123;|l|c|r|&#125;</span><br><span class="line"> <span class="keyword">\hline</span></span><br><span class="line">操作系统<span class="built_in">&amp;</span> 发行版<span class="built_in">&amp;</span> 编辑器<span class="keyword">\\</span></span><br><span class="line"> <span class="keyword">\hline</span></span><br><span class="line">Windows <span class="built_in">&amp;</span> MikTeX <span class="built_in">&amp;</span> TexMakerX <span class="keyword">\\</span></span><br><span class="line"> <span class="keyword">\hline</span></span><br><span class="line">Unix/Linux <span class="built_in">&amp;</span> teTeX <span class="built_in">&amp;</span> Kile <span class="keyword">\\</span></span><br><span class="line"> <span class="keyword">\hline</span></span><br><span class="line">Mac OS <span class="built_in">&amp;</span> MacTeX <span class="built_in">&amp;</span> TeXShop <span class="keyword">\\</span></span><br><span class="line"> <span class="keyword">\hline</span></span><br><span class="line">通用<span class="built_in">&amp;</span> TeX Live <span class="built_in">&amp;</span> TeXworks <span class="keyword">\\</span></span><br><span class="line"> <span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\end</span>&#123;tabular&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">\end</span>&#123;document&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://liam.page/2014/09/08/latex-introduction/">[1] 一份其实很短的 LaTeX 入门文档</a></li>
<li><a href="https://zilutian.github.io/latex-tutorial-chinese/">[2] LATEX 教程</a></li>
</ul>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>LaTex</category>
      </categories>
      <tags>
        <tag>LaTex</tag>
      </tags>
  </entry>
  <entry>
    <title>LaTex：符号</title>
    <url>/MyWiki/wiki/2021/11/07/codes/latex/LaTex_study_02/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="LaTex基本"><a href="#LaTex基本" class="headerlink" title="LaTex基本"></a>LaTex基本</h3><ul>
<li>行内公式，并编号：$f(x)&#x3D;ax+b \tag{1.1}$</li>
</ul>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="built_in">$</span>f(x)=ax+b <span class="keyword">\tag</span>&#123;1.1&#125;<span class="built_in">$</span></span><br></pre></td></tr></table></figure>
<ul>
<li>行间公式，并编号：$$f(x)&#x3D;ax+b \tag{1.2}$$</li>
</ul>
<figure class="highlight latex"><table><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span>f(x)=ax+b <span class="keyword">\tag</span>&#123;1.2&#125;<span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></table></figure>

<ul>
<li><p>四则运算$$f(x,y)&#x3D;x+a-b*y&#x2F;c \cdot{d}$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>f(x,y)=x+a-b*y/c \cdot&#123;d&#125;<span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>运算符号$$f(x,y)&#x3D; \neq x \equiv {x} \bmod y$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>f(x,y)= \neq x \equiv &#123;x&#125; \bmod y<span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>上下标与上下标记（水平线&#x2F;大括号）：$$\underbrace{\overline {f(x,y)}}<em>{xy}&#x3D;\overbrace{\underline {x</em>{12}^2}+f’(x)}^{x}$$</p>
<figure class="highlight fsharp"><table><tr><td class="code"><pre><span class="line"><span class="operator">$</span><span class="operator">$</span>\<span class="keyword">underbrace</span>&#123;\<span class="keyword">overline</span> &#123;f(x,y)&#125;&#125;<span class="keyword">_</span>&#123;xy&#125;<span class="operator">=</span>\<span class="keyword">overbrace</span>&#123;\<span class="keyword">underline</span> &#123;<span class="keyword">x_</span>&#123;<span class="number">12</span>&#125;<span class="operator">^</span><span class="number">2</span>&#125;<span class="operator">+</span>f&#x27;(x)&#125;<span class="operator">^</span>&#123;x&#125;<span class="operator">$</span><span class="operator">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>根号：$$\sqrt{x+y}+\sqrt[10]{x+y}$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>\<span class="built_in">sqrt</span>&#123;x+y&#125;+\<span class="built_in">sqrt</span>[<span class="number">10</span>]&#123;x+y&#125;<span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>分式：$$\frac {\sqrt{x+y}} {\sqrt[10]{x+y}}$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>\<span class="built_in">frac</span> &#123;\<span class="built_in">sqrt</span>&#123;x+y&#125;&#125; &#123;\<span class="built_in">sqrt</span>[<span class="number">10</span>]&#123;x+y&#125;&#125;<span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure></li>
<li><p>向量符号：$$\vec{x}+\overrightarrow{xy}+\overleftarrow{yz}$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>\vec&#123;x&#125;+\overrightarrow&#123;xy&#125;+\overleftarrow&#123;yz&#125;<span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>积分符号：$$f(x)&#x3D;\int_{0}^{1}x^2$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>f(x)=\int_&#123;<span class="number">0</span>&#125;^&#123;<span class="number">1</span>&#125;x^<span class="number">2</span><span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>求和符号：$$f(x)&#x3D;\sum_{n&#x3D;0}^{n}nx^2$$</p>
</li>
<li><figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>f(x)=\sum_&#123;n=<span class="number">0</span>&#125;^&#123;n&#125;nx^<span class="number">2</span><span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>求极限符号：$$f(x,y)&#x3D;\lim_{x \to 0} \lim_{y \to \infty} x+y$$</p>
<figure class="highlight livescript"><table><tr><td class="code"><pre><span class="line">$$f(x,y)=<span class="string">\lim_&#123;x</span> <span class="string">\to</span> <span class="number">0</span>&#125; <span class="string">\lim_&#123;y</span> <span class="string">\to</span> <span class="string">\infty&#125;</span> x+y$$</span><br></pre></td></tr></table></figure>
</li>
<li><p>乘积符号：$$f(x)&#x3D;\prod_{n&#x3D;0}^{n+1} nx^6$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>f(x)=\prod_&#123;n=<span class="number">0</span>&#125;^&#123;n+<span class="number">1</span>&#125; nx^<span class="number">6</span><span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>省略号：$$x&#x3D;1,2,3,\ldots,100,\cdots,200,\vdots,300,\ddots,n,n+1$$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span><span class="symbol">$</span>x=<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,\ldots,<span class="number">100</span>,\cdots,<span class="number">200</span>,\vdots,<span class="number">300</span>,\ddots,n,n+<span class="number">1</span><span class="symbol">$</span><span class="symbol">$</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>取平均：$\bar{x}$</p>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="symbol">$</span>\bar&#123;x&#125;<span class="symbol">$</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="LaTex符号"><a href="#LaTex符号" class="headerlink" title="LaTex符号"></a>LaTex符号</h3><h4 id="希腊字母"><a href="#希腊字母" class="headerlink" title="希腊字母"></a>希腊字母</h4><p><img src="https://cdn.jsdelivr.net/gh/eastsheng/PicGoImg/Figures/MyWiki/Notes/latex_1.jpg"></p>
<h4 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h4><table>
<thead>
<tr>
<th align="center">Symbol</th>
<th align="center">Command</th>
<th align="center">Symbol</th>
<th align="center">Command</th>
<th align="center">Symbol</th>
<th align="center">Command</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$\pm$</td>
<td align="center">\pm</td>
<td align="center">$\mp$</td>
<td align="center">\mp</td>
<td align="center">$\times$</td>
<td align="center">\times</td>
</tr>
<tr>
<td align="center">$\div$</td>
<td align="center">\div</td>
<td align="center">$\cdot$</td>
<td align="center">\cdot</td>
<td align="center">$\ast$</td>
<td align="center">\ast</td>
</tr>
<tr>
<td align="center">$\star$</td>
<td align="center">\star</td>
<td align="center">$\dagger$</td>
<td align="center">\dagger</td>
<td align="center">$\ddagger$</td>
<td align="center">\ddagger</td>
</tr>
<tr>
<td align="center">$\amalg$</td>
<td align="center">\amalg</td>
<td align="center">$\cap$</td>
<td align="center">\cap</td>
<td align="center">$\cup$</td>
<td align="center">\cup</td>
</tr>
<tr>
<td align="center">$\uplus$</td>
<td align="center">\uplus</td>
<td align="center">$\sqcap$</td>
<td align="center">\sqcap</td>
<td align="center">$\sqcup$</td>
<td align="center">\sqcup</td>
</tr>
<tr>
<td align="center">$\vee$</td>
<td align="center">\vee</td>
<td align="center">$\wedge$</td>
<td align="center">\wedge</td>
<td align="center">$\oplus$</td>
<td align="center">\oplus</td>
</tr>
<tr>
<td align="center">$\ominus$</td>
<td align="center">\ominus</td>
<td align="center">$\otimes$</td>
<td align="center">\otimes</td>
<td align="center">$\circ$</td>
<td align="center">\circ</td>
</tr>
<tr>
<td align="center">$\bullet$</td>
<td align="center">\bullet</td>
<td align="center">$\diamond$</td>
<td align="center">\diamond</td>
<td align="center">$\lhd$</td>
<td align="center">\lhd</td>
</tr>
<tr>
<td align="center">$\rhd$</td>
<td align="center">\rhd</td>
<td align="center">$\unlhd$</td>
<td align="center">\unlhd</td>
<td align="center">$\unrhd$</td>
<td align="center">\unrhd</td>
</tr>
<tr>
<td align="center">$\oslash$</td>
<td align="center">\oslash</td>
<td align="center">$\odot$</td>
<td align="center">\odot</td>
<td align="center">$\bigcirc$</td>
<td align="center">\bigcirc</td>
</tr>
<tr>
<td align="center">$\triangleleft$</td>
<td align="center">\triangleleft</td>
<td align="center">$\Diamond$</td>
<td align="center">\Diamond</td>
<td align="center">$\bigtriangleup$</td>
<td align="center">\bigtriangleup</td>
</tr>
<tr>
<td align="center">$\bigtriangledown$</td>
<td align="center">\bigtriangledown</td>
<td align="center">$\Box$</td>
<td align="center">\Box</td>
<td align="center">$\triangleright$</td>
<td align="center">\triangleright</td>
</tr>
<tr>
<td align="center">$\setminus$</td>
<td align="center">\setminus</td>
<td align="center">$\wr$</td>
<td align="center">\wr</td>
<td align="center">$\sqrt{x}$</td>
<td align="center">\sqrt{x}</td>
</tr>
<tr>
<td align="center">$x^{\circ}$</td>
<td align="center">x^{\circ}</td>
<td align="center">$\triangledown$</td>
<td align="center">\triangledown</td>
<td align="center">$\sqrt[n]{x}$</td>
<td align="center">\sqrt[n]{x}</td>
</tr>
<tr>
<td align="center">$a^x$</td>
<td align="center">a^x</td>
<td align="center">$a^{xyz}$</td>
<td align="center">a^{xyz}</td>
<td align="center">$\nabla$</td>
<td align="center">\nabla</td>
</tr>
<tr>
<td align="center">$\infty$</td>
<td align="center">\infty</td>
<td align="center">$\surd$</td>
<td align="center">\surd</td>
<td align="center">$\forall$</td>
<td align="center">\forall</td>
</tr>
</tbody></table>
<h4 id="关系符"><a href="#关系符" class="headerlink" title="关系符"></a>关系符</h4><table>
<thead>
<tr>
<th align="center">Symbol</th>
<th align="center">Command</th>
<th align="center">Symbol</th>
<th align="center">Command</th>
<th align="center">Symbol</th>
<th align="center">Command</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$\le$</td>
<td align="center">\le</td>
<td align="center">$\ge$</td>
<td align="center">\ge</td>
<td align="center">$\neq$</td>
<td align="center">\neq</td>
</tr>
<tr>
<td align="center">$\sim$</td>
<td align="center">\sim</td>
<td align="center">$\ll$</td>
<td align="center">\ll</td>
<td align="center">$\gg$</td>
<td align="center">\gg</td>
</tr>
<tr>
<td align="center">$\doteq$</td>
<td align="center">\doteq</td>
<td align="center">$\simeq$</td>
<td align="center">\simeq</td>
<td align="center">$\subset$</td>
<td align="center">\subset</td>
</tr>
<tr>
<td align="center">$\supset$</td>
<td align="center">\supset</td>
<td align="center">$\approx$</td>
<td align="center">\approx</td>
<td align="center">$\asymp$</td>
<td align="center">\asymp</td>
</tr>
<tr>
<td align="center">$\subseteq$</td>
<td align="center">\subseteq</td>
<td align="center">$\supseteq$</td>
<td align="center">\supseteq</td>
<td align="center">$\cong$</td>
<td align="center">\cong</td>
</tr>
<tr>
<td align="center">$\smile$</td>
<td align="center">\smile</td>
<td align="center">$\sqsubset$</td>
<td align="center">\sqsubset</td>
<td align="center">$\sqsupset$</td>
<td align="center">\sqsupset</td>
</tr>
<tr>
<td align="center">$\equiv$</td>
<td align="center">\equiv</td>
<td align="center">$\frown$</td>
<td align="center">\frown</td>
<td align="center">$\sqsubseteq$</td>
<td align="center">\sqsubseteq</td>
</tr>
<tr>
<td align="center">$\sqsupseteq$</td>
<td align="center">\sqsupseteq</td>
<td align="center">$\propto$</td>
<td align="center">\propto</td>
<td align="center">$\bowtie$</td>
<td align="center">\bowtie</td>
</tr>
<tr>
<td align="center">$\in$</td>
<td align="center">\in</td>
<td align="center">$\ni$</td>
<td align="center">\ni</td>
<td align="center">$\prec$</td>
<td align="center">\prec</td>
</tr>
<tr>
<td align="center">$\succ$</td>
<td align="center">\succ</td>
<td align="center">$\vdash$</td>
<td align="center">\vdash</td>
<td align="center">$\dashv$</td>
<td align="center">\dashv</td>
</tr>
<tr>
<td align="center">$\preceq$</td>
<td align="center">\preceq</td>
<td align="center">$\succeq$</td>
<td align="center">\succeq</td>
<td align="center">$\models$</td>
<td align="center">\models</td>
</tr>
<tr>
<td align="center">$\perp$</td>
<td align="center">\perp</td>
<td align="center">$\parallel$</td>
<td align="center">\parallel</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center">$\mid$</td>
<td align="center">\mid</td>
<td align="center">$\bumpeq$</td>
<td align="center">\bumpeq</td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<h4 id="箭头"><a href="#箭头" class="headerlink" title="箭头"></a>箭头</h4><table>
<thead>
<tr>
<th align="center">Symbol</th>
<th align="center">Command</th>
<th align="center">Symbol</th>
<th align="center">Command</th>
<th align="center">Symbol</th>
<th align="center">Command</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$\uparrow$</td>
<td align="center">\uparrow</td>
<td align="center">$\leftrightarrow$</td>
<td align="center">\leftrightarrow</td>
<td align="center">$\leftharpoonup$</td>
<td align="center">\leftharpoonup</td>
</tr>
<tr>
<td align="center">$\downarrow$</td>
<td align="center">\downarrow</td>
<td align="center">$\Leftrightarrow$</td>
<td align="center">\Leftrightarrow</td>
<td align="center">$\rightharpoonup$</td>
<td align="center">\rightharpoonup</td>
</tr>
<tr>
<td align="center">$\Uparrow$</td>
<td align="center">\Uparrow</td>
<td align="center">$\longrightarrow$</td>
<td align="center">\longrightarrow</td>
<td align="center">$\leftharpoondown$</td>
<td align="center">\leftharpoondown</td>
</tr>
<tr>
<td align="center">$\Downarrow$</td>
<td align="center">\Downarrow</td>
<td align="center">$\longleftarrow$</td>
<td align="center">\longleftarrow</td>
<td align="center">$\rightharpoondown$</td>
<td align="center">\rightharpoondown</td>
</tr>
<tr>
<td align="center">$\updownarrow$</td>
<td align="center">\updownarrow</td>
<td align="center">$\Longrightarrow$</td>
<td align="center">\Longrightarrow</td>
<td align="center">$\rightleftharpoons$</td>
<td align="center">\rightleftharpoons</td>
</tr>
<tr>
<td align="center">$\Updownarrow$</td>
<td align="center">\Updownarrow</td>
<td align="center">$\Longleftarrow$</td>
<td align="center">\Longleftarrow</td>
<td align="center">$\leadsto$</td>
<td align="center">\leadsto</td>
</tr>
<tr>
<td align="center">$\rightarrow$</td>
<td align="center">\rightarrow</td>
<td align="center">$\mapsto$</td>
<td align="center">\mapsto</td>
<td align="center">$\nearrow$</td>
<td align="center">\nearrow</td>
</tr>
<tr>
<td align="center">$\leftarrow$</td>
<td align="center">\leftarrow</td>
<td align="center">$\longmapsto$</td>
<td align="center">\longmapsto</td>
<td align="center">$\searrow$</td>
<td align="center">\searrow</td>
</tr>
<tr>
<td align="center">$\Rightarrow$</td>
<td align="center">\Rightarrow</td>
<td align="center">$\hookleftarrow$</td>
<td align="center">\hookleftarrow</td>
<td align="center">$\swarrow$</td>
<td align="center">\swarrow</td>
</tr>
<tr>
<td align="center">$\Leftarrow$</td>
<td align="center">\Leftarrow</td>
<td align="center">$\hookrightarrow$</td>
<td align="center">\hookrightarrow</td>
<td align="center">$\nwarrow$</td>
<td align="center">\nwarrow</td>
</tr>
<tr>
<td align="center">$\nleftarrow$</td>
<td align="center">\nleftarrow</td>
<td align="center">$\nrightarrow$</td>
<td align="center">\nrightarrow</td>
<td align="center">$\nLeftarrow$</td>
<td align="center">\nLeftarrow</td>
</tr>
<tr>
<td align="center">$\nRightarrow$</td>
<td align="center">\nRightarrow</td>
<td align="center">$\nleftrightarrow$</td>
<td align="center">\nleftrightarrow</td>
<td align="center">$\nLeftrightarrow$</td>
<td align="center">\nLeftrightarrow</td>
</tr>
<tr>
<td align="center">$\dashrightarrow$</td>
<td align="center">\dashrightarrow</td>
<td align="center">$\dashleftarrow$</td>
<td align="center">\dashleftarrow</td>
<td align="center">$\leftleftarrows$</td>
<td align="center">\leftleftarrows</td>
</tr>
<tr>
<td align="center">$\leftrightarrows$</td>
<td align="center">\leftrightarrows</td>
<td align="center">$\Lleftarrow$</td>
<td align="center">\Lleftarrow</td>
<td align="center">$\twoheadleftarrow$</td>
<td align="center">\twoheadleftarrow</td>
</tr>
<tr>
<td align="center">$\leftarrowtail$</td>
<td align="center">\leftarrowtail</td>
<td align="center">$\looparrowleft$</td>
<td align="center">\looparrowleft</td>
<td align="center">$\leftrightharpoons$</td>
<td align="center">\leftrightharpoons</td>
</tr>
<tr>
<td align="center">$\curvearrowleft$</td>
<td align="center">\curvearrowleft</td>
<td align="center">$\circlearrowleft$</td>
<td align="center">\circlearrowleft</td>
<td align="center">$\Lsh$</td>
<td align="center">\Lsh</td>
</tr>
<tr>
<td align="center">$\upharpoonleft$</td>
<td align="center">\upharpoonleft</td>
<td align="center">$\downharpoonleft$</td>
<td align="center">\downharpoonleft</td>
<td align="center">$\upuparrows$</td>
<td align="center">\upuparrows</td>
</tr>
<tr>
<td align="center">$\multimap$</td>
<td align="center">\multimap</td>
<td align="center">$\leftrightsquigarrow$</td>
<td align="center">\leftrightsquigarrow</td>
<td align="center">$\rightrightarrows$</td>
<td align="center">\rightrightarrows</td>
</tr>
<tr>
<td align="center">$\rightleftarrows$</td>
<td align="center">\rightleftarrows</td>
<td align="center">$\twoheadrightarrow$</td>
<td align="center">\twoheadrightarrow</td>
<td align="center">$\rightarrowtail$</td>
<td align="center">\rightarrowtail</td>
</tr>
<tr>
<td align="center">$\looparrowright$</td>
<td align="center">\looparrowright</td>
<td align="center">$\rightleftharpoons$</td>
<td align="center">\rightleftharpoons</td>
<td align="center">$\curvearrowright$</td>
<td align="center">\curvearrowright</td>
</tr>
<tr>
<td align="center">$\circlearrowright$</td>
<td align="center">\circlearrowright</td>
<td align="center">$\Rsh$</td>
<td align="center">\Rsh</td>
<td align="center">$\downdownarrows$</td>
<td align="center">\downdownarrows</td>
</tr>
<tr>
<td align="center">$\upharpoonright$</td>
<td align="center">\upharpoonright</td>
<td align="center">$\downharpoonright$</td>
<td align="center">\downharpoonright</td>
<td align="center">$\rightsquigarrow$</td>
<td align="center">\rightsquigarrow</td>
</tr>
<tr>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
<td align="center"></td>
</tr>
</tbody></table>
<p><strong>在箭头上面写字</strong><br>$$X\stackrel{F}{\longrightarrow}Y$$</p>
<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>[1] <a href="https://zhuanlan.zhihu.com/p/110756681">https://zhuanlan.zhihu.com/p/110756681</a><br>[2] <a href="https://blog.csdn.net/LCCFlccf/article/details/89643585">https://blog.csdn.net/LCCFlccf/article/details/89643585</a><br>[3] <a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols">https://artofproblemsolving.com/wiki/index.php/LaTeX:Symbols</a><br>[4] <a href="https://artofproblemsolving.com/wiki/index.php/LaTeX:Commands">https://artofproblemsolving.com/wiki/index.php/LaTeX:Commands</a><br>[5] <a href="https://blog.csdn.net/Artoria_QZH/article/details/103310704">https://blog.csdn.net/Artoria_QZH/article/details/103310704</a></p>
]]></content>
      <categories>
        <category>程序学习</category>
        <category>LaTex</category>
      </categories>
      <tags>
        <tag>LaTex</tag>
      </tags>
  </entry>
  <entry>
    <title>GBDT 和 GBR 的区别</title>
    <url>/MyWiki/wiki/2024/09/12/notes/MachineLearning/MLPython-4/</url>
    <content><![CDATA[<p>[toc]</p>
<p><strong>GBDT（Gradient Boosting Decision Tree）</strong>和<strong>GBR（Gradient Boosting Regression）</strong> 都属于<strong>梯度提升（Gradient Boosting）</strong>框架，但它们之间的区别主要体现在应用场景和具体模型结构上。以下是详细的对比分析：</p>
<h2 id="1-GBDT-与-GBR-的相同点"><a href="#1-GBDT-与-GBR-的相同点" class="headerlink" title="1. GBDT 与 GBR 的相同点"></a>1. GBDT 与 GBR 的相同点</h2><h3 id="1-1-集成学习框架"><a href="#1-1-集成学习框架" class="headerlink" title="1.1 集成学习框架"></a>1.1 集成学习框架</h3><p>GBDT 和 GBR 都属于<strong>梯度提升（Gradient Boosting）</strong>方法的一部分，利用了<strong>集成学习</strong>的思想来构建多个弱学习器的组合模型，通过多轮迭代逐步减少误差，从而提高整体预测的准确性。</p>
<h3 id="1-2-梯度下降的思想"><a href="#1-2-梯度下降的思想" class="headerlink" title="1.2 梯度下降的思想"></a>1.2 梯度下降的思想</h3><p>两者都使用<strong>梯度下降</strong>的思想来优化模型。每一轮的模型都是基于上一轮的残差来训练新模型，逐步逼近真实目标。</p>
<h3 id="1-3-残差学习"><a href="#1-3-残差学习" class="headerlink" title="1.3 残差学习"></a>1.3 残差学习</h3><p>GBDT 和 GBR 都基于残差学习的思想，在每一轮迭代中，训练一个新的弱学习器来拟合当前模型的残差。</p>
<h2 id="2-GBDT-与-GBR-的不同点"><a href="#2-GBDT-与-GBR-的不同点" class="headerlink" title="2. GBDT 与 GBR 的不同点"></a>2. GBDT 与 GBR 的不同点</h2><h3 id="2-1-应用场景不同"><a href="#2-1-应用场景不同" class="headerlink" title="2.1 应用场景不同"></a>2.1 应用场景不同</h3><ul>
<li><strong>GBDT</strong>：用于<strong>分类</strong>和<strong>回归</strong>任务。全称是<strong>Gradient Boosting Decision Trees</strong>，是基于<strong>决策树</strong>的梯度提升方法。适用于分类任务中的对数损失或回归任务中的平方误差损失。</li>
<li><strong>GBR</strong>：用于<strong>回归</strong>任务，是梯度提升回归框架的实现。常用于最小化平方误差的回归问题。</li>
</ul>
<h3 id="2-2-模型选择不同"><a href="#2-2-模型选择不同" class="headerlink" title="2.2 模型选择不同"></a>2.2 模型选择不同</h3><ul>
<li><strong>GBDT</strong>：弱学习器是<strong>决策树</strong>（通常是 CART 决策树）。</li>
<li><strong>GBR</strong>：弱学习器可以是多种回归模型，通常也是<strong>决策树</strong>。</li>
</ul>
<h3 id="2-3-分类与回归任务的处理"><a href="#2-3-分类与回归任务的处理" class="headerlink" title="2.3 分类与回归任务的处理"></a>2.3 分类与回归任务的处理</h3><ul>
<li><strong>GBDT</strong>：可以处理<strong>分类任务</strong>，在分类任务中使用对数损失或指数损失作为损失函数。</li>
<li><strong>GBR</strong>：只处理<strong>回归任务</strong>，使用平方损失或绝对误差损失。</li>
</ul>
<h3 id="2-4-预测输出不同"><a href="#2-4-预测输出不同" class="headerlink" title="2.4 预测输出不同"></a>2.4 预测输出不同</h3><ul>
<li><strong>GBDT</strong>：在分类任务中输出分类标签或概率分布；在回归任务中输出连续值。</li>
<li><strong>GBR</strong>：输出为<strong>连续值</strong>，用于回归任务的预测。</li>
</ul>
<h3 id="2-5-损失函数的选择不同"><a href="#2-5-损失函数的选择不同" class="headerlink" title="2.5 损失函数的选择不同"></a>2.5 损失函数的选择不同</h3><ul>
<li><strong>GBDT</strong>：在分类任务中使用对数损失或指数损失，在回归任务中使用平方误差损失。</li>
<li><strong>GBR</strong>：主要使用平方误差、绝对误差等<strong>回归损失函数</strong>。</li>
</ul>
<h2 id="3-简要对比"><a href="#3-简要对比" class="headerlink" title="3. 简要对比"></a>3. 简要对比</h2><table>
<thead>
<tr>
<th><strong>特性</strong></th>
<th><strong>GBDT</strong></th>
<th><strong>GBR</strong></th>
</tr>
</thead>
<tbody><tr>
<td><strong>应用场景</strong></td>
<td>分类和回归</td>
<td>仅限回归</td>
</tr>
<tr>
<td><strong>弱学习器</strong></td>
<td>决策树（CART）</td>
<td>多种回归模型（通常为决策树）</td>
</tr>
<tr>
<td><strong>输出类型</strong></td>
<td>分类标签或概率（分类）；连续值（回归）</td>
<td>连续值</td>
</tr>
<tr>
<td><strong>损失函数</strong></td>
<td>对数损失（分类），平方误差（回归）</td>
<td>平方误差、绝对误差等回归损失函数</td>
</tr>
<tr>
<td><strong>分类任务处理</strong></td>
<td>支持分类任务</td>
<td>不支持分类任务</td>
</tr>
<tr>
<td><strong>主要区别</strong></td>
<td>处理分类和回归任务，输出类别或回归值</td>
<td>仅用于回归任务，输出回归值</td>
</tr>
</tbody></table>
<h2 id="4-示例代码"><a href="#4-示例代码" class="headerlink" title="4. 示例代码"></a>4. 示例代码</h2><h3 id="1-GBDT（Gradient-Boosting-Decision-Tree）"><a href="#1-GBDT（Gradient-Boosting-Decision-Tree）" class="headerlink" title="1. GBDT（Gradient Boosting Decision Tree）"></a>1. <strong>GBDT（Gradient Boosting Decision Tree）</strong></h3><p>在 <code>sklearn</code> 中，GBDT 的回归模型可以通过 <code>GradientBoostingRegressor</code> 来调用，而分类模型可以通过 <code>GradientBoostingClassifier</code> 来调用。</p>
<h4 id="示例代码（回归任务-GBDT）"><a href="#示例代码（回归任务-GBDT）" class="headerlink" title="示例代码（回归任务 - GBDT）"></a>示例代码（回归任务 - GBDT）</h4><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble import GradientBoostingRegressor</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection import train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics import mean_squared_error, r2_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设有一个数据集 X, y</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, <span class="attribute">test_size</span>=0.2, <span class="attribute">random_state</span>=42)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化 GBDT 回归模型</span></span><br><span class="line">gbdt = GradientBoostingRegressor(<span class="attribute">n_estimators</span>=100, <span class="attribute">learning_rate</span>=0.1, <span class="attribute">max_depth</span>=3, <span class="attribute">random_state</span>=42)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">gbdt.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">y_pred = gbdt.predict(X_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 评估模型</span></span><br><span class="line">r2 = r2_score(y_test, y_pred)</span><br><span class="line">rmse = mean_squared_error(y_test, y_pred, <span class="attribute">squared</span>=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(f<span class="string">&#x27;R^2: &#123;r2&#125;, RMSE: &#123;rmse&#125;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="示例代码（分类任务-GBDT）"><a href="#示例代码（分类任务-GBDT）" class="headerlink" title="示例代码（分类任务 - GBDT）"></a>示例代码（分类任务 - GBDT）</h4><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble import GradientBoostingClassifier</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection import train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics import accuracy_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设有一个分类数据集 X, y</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, <span class="attribute">test_size</span>=0.2, <span class="attribute">random_state</span>=42)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化 GBDT 分类模型</span></span><br><span class="line">gbdt_classifier = GradientBoostingClassifier(<span class="attribute">n_estimators</span>=100, <span class="attribute">learning_rate</span>=0.1, <span class="attribute">max_depth</span>=3, <span class="attribute">random_state</span>=42)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">gbdt_classifier.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">y_pred = gbdt_classifier.predict(X_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 评估模型</span></span><br><span class="line">accuracy = accuracy_score(y_test, y_pred)</span><br><span class="line"><span class="built_in">print</span>(f<span class="string">&#x27;Accuracy: &#123;accuracy&#125;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="2-GBR（Gradient-Boosting-Regression）"><a href="#2-GBR（Gradient-Boosting-Regression）" class="headerlink" title="2. GBR（Gradient Boosting Regression）"></a>2. <strong>GBR（Gradient Boosting Regression）</strong></h3><p>在 <code>sklearn</code> 中，GBR 也是通过 <code>GradientBoostingRegressor</code> 来实现的。这种方法通常专注于回归任务。</p>
<h4 id="示例代码（回归任务-GBR）"><a href="#示例代码（回归任务-GBR）" class="headerlink" title="示例代码（回归任务 - GBR）"></a>示例代码（回归任务 - GBR）</h4><figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.ensemble import GradientBoostingRegressor</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection import train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics import mean_squared_error, r2_score</span><br><span class="line"></span><br><span class="line"><span class="comment"># 假设有一个回归数据集 X, y</span></span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, <span class="attribute">test_size</span>=0.2, <span class="attribute">random_state</span>=42)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 初始化 GBR 模型</span></span><br><span class="line">gbr = GradientBoostingRegressor(<span class="attribute">n_estimators</span>=100, <span class="attribute">learning_rate</span>=0.1, <span class="attribute">max_depth</span>=3, <span class="attribute">random_state</span>=42)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 训练模型</span></span><br><span class="line">gbr.fit(X_train, y_train)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 预测</span></span><br><span class="line">y_pred = gbr.predict(X_test)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 评估模型</span></span><br><span class="line">r2 = r2_score(y_test, y_pred)</span><br><span class="line">rmse = mean_squared_error(y_test, y_pred, <span class="attribute">squared</span>=<span class="literal">False</span>)</span><br><span class="line"><span class="built_in">print</span>(f<span class="string">&#x27;R^2: &#123;r2&#125;, RMSE: &#123;rmse&#125;&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="3-总结"><a href="#3-总结" class="headerlink" title="3. 总结"></a>3. <strong>总结</strong></h3><ul>
<li>对于<strong>回归任务</strong>，无论是 GBDT 还是 GBR，都可以通过 <code>GradientBoostingRegressor</code> 进行调用。</li>
<li>对于<strong>分类任务</strong>，GBDT 使用 <code>GradientBoostingClassifier</code>。</li>
</ul>
<p>这些模型都可以通过调整超参数（如 <code>n_estimators</code>, <code>learning_rate</code>, <code>max_depth</code> 等）进行优化，以获得更好的预测效果。</p>
<h2 id="5-总结"><a href="#5-总结" class="headerlink" title="5. 总结"></a>5. 总结</h2><ul>
<li><strong>GBDT</strong> 是一个更加通用的框架，既可以用于分类任务，也可以用于回归任务，主要使用决策树作为基础模型，通过逐步改进分类或回归的误差来提升模型性能。</li>
<li><strong>GBR</strong> 则主要用于回归问题，虽然通常也采用决策树作为弱学习器，但它更专注于回归任务，损失函数和输出都是围绕回归展开的。</li>
</ul>
<p>尽管两者在回归任务中的实现方式非常相似，都是通过梯度提升来优化决策树的组合，但<strong>GBDT 可以处理分类任务</strong>，这是其与 GBR 的主要区别之一。如果仅考虑回归任务，GBR 和 GBDT 基本可以看作是同一种方法。</p>
]]></content>
      <categories>
        <category>学习笔记</category>
        <category>机器学习</category>
      </categories>
      <tags>
        <tag>机器学习</tag>
      </tags>
  </entry>
  <entry>
    <title>DeepMD 快速上手</title>
    <url>/MyWiki/wiki/2024/09/24/softwares/deepmd/DeepMD_1/</url>
    <content><![CDATA[<p>[toc]</p>
<blockquote>
<p>将以气态甲烷分子为例，详细介绍Deep Potential (DP)模型的训练和应用。</p>
</blockquote>
<h3 id="手动安装cpu版"><a href="#手动安装cpu版" class="headerlink" title="手动安装cpu版"></a>手动安装cpu版</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://github.com/deepmodeling/deepmd-kit/releases/download/v3.0.0b3/deepmd-kit-3.0.0b3-cpu-Linux-x86_64.sh</span><br><span class="line">bash deepmd-kit-3.0.0b3-cpu-Linux-x86_64.sh</span><br><span class="line">conda activate /home/xxx/softwares/deepmd-kit</span><br></pre></td></tr></table></figure>

<blockquote>
<p>安装过程中可以自定义路径 &#x2F;home&#x2F;xxx&#x2F;softwares&#x2F;miniconda&#x2F;miniconda3&#x2F;envs&#x2F;deepmd-kit</p>
<p>激活环境</p>
</blockquote>
<h3 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">wget https://bohrium-api.dp.tech/ds-dl/DeePMD-kit-Tutorial-a8z5-v1.zip</span><br><span class="line">unzip DeePMD-kit-Tutorial-a8z5-v1.zip</span><br><span class="line"><span class="built_in">cd</span> DeePMD-kit_Tutorial</span><br><span class="line">tree -L 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>.<br>├── 00.data : 存储训练和测试数据<br>├── 01.train：包含使用DeePMD-kit训练模型的示例脚本<br>├── 01.train.finished：包括训练过程的完整结果<br>├── 02.lmp：包含使用LAMMPS进行分子动力学模拟的示例脚本<br>└── 02.lmp.finished</p>
<p>5 directories, 0 files</p>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">tree</span> <span class="number">00</span>.data/ -L <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>00.data&#x2F;<br>├── abacus_md：包含通过ABACUS从头分子动力学(AIMD)模拟获得的数据<br>├── training_data<br>└── validation_data</p>
<p>3 directories, 0 files</p>
<p>DeePMD-kit的训练数据来源于第一性原理计算数据，包括atomic types, simulation cells, atomic coordinates, atomic forces, system energies, and virials.</p>
<p><img src="https://ars.els-cdn.com/content/image/1-s2.0-S0010465518300882-gr1_lrg.jpg"></p>
</blockquote>
<p>采用”dpdata”工具划分数据：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip install dpdata</span><br><span class="line">python split_data.py</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># split_data.py</span></span><br><span class="line"><span class="keyword">import</span> dpdata</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># load data of abacus/md format</span></span><br><span class="line">data = dpdata.LabeledSystem(<span class="string">&quot;../DeePMD-kit_Tutorial/00.data/abacus_md&quot;</span>, fmt=<span class="string">&quot;abacus/md&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;# the data contains %d frames&quot;</span> % <span class="built_in">len</span>(data))</span><br><span class="line"></span><br><span class="line"><span class="comment"># random choose 40 index for validation_data</span></span><br><span class="line">rng = np.random.default_rng()</span><br><span class="line">index_validation = rng.choice(<span class="number">201</span>, size=<span class="number">40</span>, replace=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># other indexes are training_data</span></span><br><span class="line">index_training = <span class="built_in">list</span>(<span class="built_in">set</span>(<span class="built_in">range</span>(<span class="number">201</span>)) - <span class="built_in">set</span>(index_validation))</span><br><span class="line">data_training = data.sub_system(index_training)</span><br><span class="line">data_validation = data.sub_system(index_validation)</span><br><span class="line"></span><br><span class="line"><span class="comment"># all training data put into directory:&quot;training_data&quot;</span></span><br><span class="line">data_training.to_deepmd_npy(<span class="string">&quot;../DeePMD-kit_Tutorial/00.data/training_data&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># all validation data put into directory:&quot;validation_data&quot;</span></span><br><span class="line">data_validation.to_deepmd_npy(<span class="string">&quot;../DeePMD-kit_Tutorial/00.data/validation_data&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;# the training data contains %d frames&quot;</span> % <span class="built_in">len</span>(data_training))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;# the validation data contains %d frames&quot;</span> % <span class="built_in">len</span>(data_validation))</span><br><span class="line"></span><br><span class="line"><span class="comment"># the data contains 201 frames</span></span><br><span class="line"><span class="comment"># the training data contains 161 frames</span></span><br><span class="line"><span class="comment"># the validation data contains 40 frames</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>00.data&#x2F;training_data&#x2F;<br>├── set.000：存放压缩格式数据(NumPy压缩数组)的目录<br>├── type_map.raw：它是一个包含原子类型(表示为整数)的文件<br>└── type.raw：它是一个包含原子类型名称的文件</p>
<p>1 directory, 2 files</p>
</blockquote>
<h3 id="输入脚本准备"><a href="#输入脚本准备" class="headerlink" title="输入脚本准备"></a>输入脚本准备</h3><blockquote>
<p>数据准备完成后，可以开始训练</p>
<p>现在转到training 目录。DeePMD-kit需要一个json格式的文件来指定训练参数。</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">pip show dargs || pip install --upgrade dargs</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># input_pre.py</span></span><br><span class="line"><span class="comment"># Show input.json</span></span><br><span class="line"><span class="keyword">from</span> deepmd.utils.argcheck <span class="keyword">import</span> gen_args</span><br><span class="line"><span class="keyword">from</span> dargs.notebook <span class="keyword">import</span> JSON</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&quot;../DeePMD-kit_Tutorial/01.train/input.json&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    JSON(f.read(), gen_args())</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;_comment&quot;: &quot; model parameters&quot;,</span><br><span class="line">    &quot;model&quot;: &#123;</span><br><span class="line">	&quot;type_map&quot;:	[&quot;H&quot;, &quot;C&quot;],</span><br><span class="line">	&quot;descriptor&quot; :&#123;</span><br><span class="line">	    &quot;type&quot;:		&quot;se_e2_a&quot;, # 描述符的类型</span><br><span class="line">	    &quot;sel&quot;:		&quot;auto&quot;,</span><br><span class="line">	    &quot;rcut_smth&quot;:	0.50, # 平滑开始的位置</span><br><span class="line">	    &quot;rcut&quot;:		6.00,</span><br><span class="line">	    &quot;neuron&quot;:		[25, 50, 100], # 嵌入 神经 网络 的 大小</span><br><span class="line">	    &quot;resnet_dt&quot;:	false,</span><br><span class="line">	    &quot;axis_neuron&quot;:	16, # G (嵌入 矩阵) 的 子矩阵 的 大小</span><br><span class="line">	    &quot;seed&quot;:		1,</span><br><span class="line">	    &quot;_comment&quot;:		&quot; that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;fitting_net&quot; : &#123;</span><br><span class="line">	    &quot;neuron&quot;:		[240, 240, 240], # 拟合 神经 网络 的 大小</span><br><span class="line">	    &quot;resnet_dt&quot;:	true,</span><br><span class="line">	    &quot;seed&quot;:		1,</span><br><span class="line">	    &quot;_comment&quot;:		&quot; that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;_comment&quot;:	&quot; that&#x27;s all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;learning_rate&quot; :&#123;</span><br><span class="line">	&quot;type&quot;:		&quot;exp&quot;,</span><br><span class="line">	&quot;decay_steps&quot;:	50,</span><br><span class="line">	&quot;start_lr&quot;:	0.001,	</span><br><span class="line">	&quot;stop_lr&quot;:	3.51e-8,</span><br><span class="line">	&quot;_comment&quot;:	&quot;that&#x27;s all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;loss&quot; :&#123;</span><br><span class="line">	&quot;type&quot;:		&quot;ener&quot;,</span><br><span class="line">	&quot;start_pref_e&quot;:	0.02,</span><br><span class="line">	&quot;limit_pref_e&quot;:	1,</span><br><span class="line">	&quot;start_pref_f&quot;:	1000,</span><br><span class="line">	&quot;limit_pref_f&quot;:	1,</span><br><span class="line">	&quot;start_pref_v&quot;:	0,</span><br><span class="line">	&quot;limit_pref_v&quot;:	0,</span><br><span class="line">	&quot;_comment&quot;:	&quot; that&#x27;s all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;training&quot; : &#123; # 训练参数</span><br><span class="line">	&quot;training_data&quot;: &#123;</span><br><span class="line">	    &quot;systems&quot;:     [&quot;../00.data/training_data&quot;],</span><br><span class="line">	    &quot;batch_size&quot;:  &quot;auto&quot;,</span><br><span class="line">	    &quot;_comment&quot;:	   &quot;that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;validation_data&quot;:&#123;</span><br><span class="line">	    &quot;systems&quot;:	   [&quot;../00.data/validation_data&quot;],</span><br><span class="line">	    &quot;batch_size&quot;:  &quot;auto&quot;,</span><br><span class="line">	    &quot;numb_btch&quot;:   1,</span><br><span class="line">	    &quot;_comment&quot;:	   &quot;that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;numb_steps&quot;:	10000,</span><br><span class="line">	&quot;seed&quot;:		10,</span><br><span class="line">	&quot;disp_file&quot;:	&quot;lcurve.out&quot;,</span><br><span class="line">	&quot;disp_freq&quot;:	200,</span><br><span class="line">	&quot;save_freq&quot;:	1000,</span><br><span class="line">	&quot;_comment&quot;:	&quot;that&#x27;s all&quot;</span><br><span class="line">    &#125;,    </span><br><span class="line"></span><br><span class="line">    &quot;_comment&quot;:		&quot;that&#x27;s all&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="模型训练"><a href="#模型训练" class="headerlink" title="模型训练"></a>模型训练</h3><blockquote>
<p>运行 DeePMD-kit 来开始训练</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ./01.train</span><br><span class="line">dp train input.json</span><br></pre></td></tr></table></figure>

<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line"># screen输出</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:48:59,897] DEEPMD INFO    batch       0: trn: rmse = 1.86e<span class="string">+01</span>, rmse_e = 1.35e<span class="string">-01</span>, rmse_f = 5.87e<span class="string">-01</span>, lr = 1.00e<span class="string">-03</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:48:59,897] DEEPMD INFO    batch       0: val: rmse = 1.91e<span class="string">+01</span>, rmse_e = 1.34e<span class="string">-01</span>, rmse_f = 6.05e<span class="string">-01</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:11,313] DEEPMD INFO    batch     200: trn: rmse = 4.95e<span class="string">+00</span>, rmse_e = 1.99e<span class="string">+00</span>, rmse_f = 1.59e<span class="string">-01</span>, lr = 8.15e<span class="string">-04</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:11,314] DEEPMD INFO    batch     200: val: rmse = 5.72e<span class="string">+00</span>, rmse_e = 1.99e<span class="string">+00</span>, rmse_f = 1.88e<span class="string">-01</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:11,314] DEEPMD INFO    batch     200: total wall time = 11.68 s</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:23,078] DEEPMD INFO    batch     400: trn: rmse = 4.44e<span class="string">+00</span>, rmse_e = 5.28e<span class="string">-01</span>, rmse_f = 1.70e<span class="string">-01</span>, lr = 6.63e<span class="string">-04</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:23,078] DEEPMD INFO    batch     400: val: rmse = 2.95e<span class="string">+00</span>, rmse_e = 5.24e<span class="string">-01</span>, rmse_f = 1.11e<span class="string">-01</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:23,078] DEEPMD INFO    batch     400: total wall time = 11.76 s</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:36,968] DEEPMD INFO    batch     600: trn: rmse = 2.00e<span class="string">+00</span>, rmse_e = 1.01e<span class="string">-01</span>, rmse_f = 8.59e<span class="string">-02</span>, lr = 5.40e<span class="string">-04</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:36,968] DEEPMD INFO    batch     600: val: rmse = 2.70e<span class="string">+00</span>, rmse_e = 1.03e<span class="string">-01</span>, rmse_f = 1.16e<span class="string">-01</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:36,968] DEEPMD INFO    batch     600: total wall time = 13.89 s</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:48,904] DEEPMD INFO    batch     800: trn: rmse = 1.25e<span class="string">+00</span>, rmse_e = 4.03e<span class="string">-02</span>, rmse_f = 5.93e<span class="string">-02</span>, lr = 4.40e<span class="string">-04</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:48,904] DEEPMD INFO    batch     800: val: rmse = 1.85e<span class="string">+00</span>, rmse_e = 4.16e<span class="string">-02</span>, rmse_f = 8.83e<span class="string">-02</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:49:48,904] DEEPMD INFO    batch     800: total wall time = 11.94 s</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:50:01,073] DEEPMD INFO    batch    1000: trn: rmse = 1.62e<span class="string">+00</span>, rmse_e = 1.60e<span class="string">-02</span>, rmse_f = 8.56e<span class="string">-02</span>, lr = 3.59e<span class="string">-04</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:50:01,074] DEEPMD INFO    batch    1000: val: rmse = 1.56e<span class="string">+00</span>, rmse_e = 1.57e<span class="string">-02</span>, rmse_f = 8.23e<span class="string">-02</span></span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:50:01,074] DEEPMD INFO    batch    1000: total wall time = 12.17 s</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:50:01,347] DEEPMD INFO    saved checkpoint model.ckpt</span><br><span class="line">...</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:59:24,280] DEEPMD INFO    batch   10000: total wall time = 15.22 s</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:59:24,565] DEEPMD INFO    saved checkpoint model.ckpt</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:59:24,565] DEEPMD INFO    average training time: 0.0616 s/batch (exclude first 200 batches)</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:59:24,565] DEEPMD INFO    finished training</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 12:59:24,565] DEEPMD INFO    wall time: 625.217 s</span><br><span class="line">WARNING:tensorflow:disable_mixed_precision_graph_rewrite() called when mixed precision is already disabled.</span><br></pre></td></tr></table></figure>

<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 输出lcurve.out文件</span></span><br><span class="line"><span class="comment">#  step      rmse_val    rmse_trn    rmse_e_val  rmse_e_trn    rmse_f_val  rmse_f_trn         lr</span></span><br><span class="line"><span class="comment"># If there is no available reference data, rmse_*_&#123;val,trn&#125; will print nan</span></span><br><span class="line">      <span class="attribute">0</span>      <span class="number">1</span>.<span class="number">91</span>e+<span class="number">01</span>    <span class="number">1</span>.<span class="number">86</span>e+<span class="number">01</span>      <span class="number">1</span>.<span class="number">34</span>e-<span class="number">01</span>    <span class="number">1</span>.<span class="number">35</span>e-<span class="number">01</span>      <span class="number">6</span>.<span class="number">05</span>e-<span class="number">01</span>    <span class="number">5</span>.<span class="number">87</span>e-<span class="number">01</span>    <span class="number">1</span>.<span class="number">0</span>e-<span class="number">03</span></span><br><span class="line">    <span class="attribute">200</span>      <span class="number">5</span>.<span class="number">72</span>e+<span class="number">00</span>    <span class="number">4</span>.<span class="number">95</span>e+<span class="number">00</span>      <span class="number">1</span>.<span class="number">99</span>e+<span class="number">00</span>    <span class="number">1</span>.<span class="number">99</span>e+<span class="number">00</span>      <span class="number">1</span>.<span class="number">88</span>e-<span class="number">01</span>    <span class="number">1</span>.<span class="number">59</span>e-<span class="number">01</span>    <span class="number">8</span>.<span class="number">1</span>e-<span class="number">04</span></span><br><span class="line">    <span class="attribute">400</span>      <span class="number">2</span>.<span class="number">95</span>e+<span class="number">00</span>    <span class="number">4</span>.<span class="number">44</span>e+<span class="number">00</span>      <span class="number">5</span>.<span class="number">24</span>e-<span class="number">01</span>    <span class="number">5</span>.<span class="number">28</span>e-<span class="number">01</span>      <span class="number">1</span>.<span class="number">11</span>e-<span class="number">01</span>    <span class="number">1</span>.<span class="number">70</span>e-<span class="number">01</span>    <span class="number">6</span>.<span class="number">6</span>e-<span class="number">04</span></span><br><span class="line">    <span class="attribute">600</span>      <span class="number">2</span>.<span class="number">70</span>e+<span class="number">00</span>    <span class="number">2</span>.<span class="number">00</span>e+<span class="number">00</span>      <span class="number">1</span>.<span class="number">03</span>e-<span class="number">01</span>    <span class="number">1</span>.<span class="number">01</span>e-<span class="number">01</span>      <span class="number">1</span>.<span class="number">16</span>e-<span class="number">01</span>    <span class="number">8</span>.<span class="number">59</span>e-<span class="number">02</span>    <span class="number">5</span>.<span class="number">4</span>e-<span class="number">04</span></span><br><span class="line">    <span class="attribute">800</span>      <span class="number">1</span>.<span class="number">85</span>e+<span class="number">00</span>    <span class="number">1</span>.<span class="number">25</span>e+<span class="number">00</span>      <span class="number">4</span>.<span class="number">16</span>e-<span class="number">02</span>    <span class="number">4</span>.<span class="number">03</span>e-<span class="number">02</span>      <span class="number">8</span>.<span class="number">83</span>e-<span class="number">02</span>    <span class="number">5</span>.<span class="number">93</span>e-<span class="number">02</span>    <span class="number">4</span>.<span class="number">4</span>e-<span class="number">04</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 绘图</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置Mathtext字体，可以选择合适的字体</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;mathtext.fontset&#x27;</span>] = <span class="string">&#x27;custom&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;mathtext.rm&#x27;</span>] = <span class="string">&#x27;Arial&#x27;</span>  <span class="comment"># 使用Arial字体作为Mathtext字体</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在这之后进行绘图</span></span><br><span class="line">path = <span class="string">&quot;./01.train/&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&quot;<span class="subst">&#123;path&#125;</span>lcurve.out&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    headers = f.readline().split()[<span class="number">1</span>:]</span><br><span class="line">lcurve = pd.DataFrame(np.loadtxt(<span class="string">f&quot;<span class="subst">&#123;path&#125;</span>lcurve.out&quot;</span>), columns=headers)</span><br><span class="line">legends = [<span class="string">&quot;rmse_e_val&quot;</span>, <span class="string">&quot;rmse_e_trn&quot;</span>, <span class="string">&quot;rmse_f_val&quot;</span>, <span class="string">&quot;rmse_f_trn&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> legend <span class="keyword">in</span> legends:</span><br><span class="line">    plt.loglog(lcurve[<span class="string">&quot;step&quot;</span>], lcurve[legend], label=legend)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&quot;Training steps&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Loss&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202409241259220.png" alt="Figure_1"></p>
</blockquote>
<h3 id="模型冻结"><a href="#模型冻结" class="headerlink" title="模型冻结"></a>模型冻结</h3><blockquote>
<p>在训练结束时，应该将保存在 TensorFlow 检查点文件中的模型参数冻结为一个通常以扩展名<code>.pb</code>结尾的模型文件。只需执行以下操作：</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dp freeze -o graph.pb</span><br></pre></td></tr></table></figure>

<h3 id="模型测试"><a href="#模型测试" class="headerlink" title="模型测试"></a>模型测试</h3><blockquote>
<p>检查训练模型的质量</p>
</blockquote>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">dp test -m graph.pb -s ..<span class="regexp">/00.data/</span>validation_data</span><br></pre></td></tr></table></figure>

<figure class="highlight subunit"><table><tr><td class="code"><pre><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:43,966] DEEPMD INFO    # ---------------output of dp test---------------</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:43,966] DEEPMD INFO    # testing system : ../00.data/validation_data</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,293] DEEPMD INFO    # number of test data : 40</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,293] DEEPMD INFO    Energy MAE         : 2.501408e<span class="string">-03</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,293] DEEPMD INFO    Energy RMSE        : 3.163454e<span class="string">-03</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Energy MAE/Natoms  : 5.002815e<span class="string">-04</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Energy RMSE/Natoms : 6.326908e<span class="string">-04</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Force  MAE         : 2.953246e<span class="string">-02</span> eV/A</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Force  RMSE        : 3.907943e<span class="string">-02</span> eV/A</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Virial MAE         : 3.898108e<span class="string">-02</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Virial RMSE        : 5.222230e<span class="string">-02</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Virial MAE/Natoms  : 7.796217e<span class="string">-03</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    Virial RMSE/Natoms : 1.044446e<span class="string">-02</span> eV</span><br><span class="line">[2024<span class="string">-09</span><span class="string">-24</span> 13:02:44,294] DEEPMD INFO    # -----------------------------------------------</span><br></pre></td></tr></table></figure>

<blockquote>
<p>计算预测数据和原始数据之间的相关性</p>
</blockquote>
<figure class="highlight clean"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> dpdata</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"># training_systems = dpdata.LabeledSystem(<span class="string">&quot;./00.data/training_data&quot;</span>, fmt=<span class="string">&quot;deepmd/npy&quot;</span>)</span><br><span class="line"># predict = training_systems.predict(<span class="string">&quot;./01.train/graph.pb&quot;</span>)</span><br><span class="line"></span><br><span class="line"># # print(training_systems[<span class="string">&quot;energies&quot;</span>],predict[<span class="string">&quot;energies&quot;</span>])</span><br><span class="line"># data = np.vstack((training_systems[<span class="string">&quot;energies&quot;</span>],predict[<span class="string">&quot;energies&quot;</span>])).T</span><br><span class="line"># np.savetxt(<span class="string">&quot;./train_pre.dat&quot;</span>,data)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">data = np.loadtxt(<span class="string">&quot;./train_pre.dat&quot;</span>)</span><br><span class="line">y1 = data[:,<span class="number">0</span>]</span><br><span class="line">y2 = data[:,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">print(y1.shape,y2.shape)</span><br><span class="line"></span><br><span class="line">plt.scatter(y1,y2)</span><br><span class="line"></span><br><span class="line">x_range = np.linspace(plt.xlim()[<span class="number">0</span>], plt.xlim()[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">plt.plot(x_range, x_range, <span class="string">&quot;r--&quot;</span>, linewidth=<span class="number">1</span>)</span><br><span class="line">plt.xlabel(<span class="string">&quot;Energy of DFT&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Energy predicted by deep potential&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202409241323988.png" alt="Figure_1"></p>
</blockquote>
<h3 id="在LAMMPS中执行MD模拟"><a href="#在LAMMPS中执行MD模拟" class="headerlink" title="在LAMMPS中执行MD模拟"></a>在LAMMPS中执行MD模拟</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> 02.lmp</span><br><span class="line"><span class="built_in">cp</span> ../01.train/graph.pb ./</span><br><span class="line">tree -L 1</span><br></pre></td></tr></table></figure>

<blockquote>
<p>.<br>├── ch4.dump<br>├── conf.lmp：气相甲烷分子动力学模拟的初始构型<br>├── graph.pb<br>├── in.lammps：标准的 MD 模拟 LAMMPS 输入文件，只有pair_style 和pair_style  例外<br>└── log.lammps</p>
<p>0 directories, 5 files</p>
</blockquote>
<p>在具有兼容版本的 LAMMPS 环境中，执行深度势分子动力学：</p>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">mpirun</span> -np <span class="number">8</span> lmp_mpi -i in.lammps</span><br></pre></td></tr></table></figure>

<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">Summary</span> <span class="string">of</span> <span class="string">lammps</span> <span class="string">deepmd</span> <span class="string">module</span> <span class="string">...</span></span><br><span class="line">  <span class="string">&gt;&gt;&gt;</span> <span class="attr">Info of deepmd-kit:</span></span><br><span class="line">  <span class="attr">installed to:</span>       <span class="string">/home/xxx/softwares/deepmd-kit</span></span><br><span class="line">  <span class="attr">source:</span></span><br><span class="line">  <span class="attr">source branch:</span>      <span class="string">HEAD</span></span><br><span class="line">  <span class="attr">source commit:</span>      <span class="string">cbf2de6</span></span><br><span class="line">  <span class="attr">source commit at:</span>   <span class="number">2024-07-27 05:11:58</span> <span class="string">+0000</span></span><br><span class="line">  <span class="attr">support model ver.:</span> <span class="number">1.1</span></span><br><span class="line">  <span class="attr">build variant:</span>      <span class="string">cpu</span></span><br></pre></td></tr></table></figure>



<h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><p>[1] <a href="https://docs.deepmodeling.com/projects/deepmd/en/r2/getting-started/quick_start.html">https://docs.deepmodeling.com/projects/deepmd/en/r2/getting-started/quick_start.html</a></p>
<p>[2] <a href="https://hyper.ai/tutorials/26001">https://hyper.ai/tutorials/26001</a></p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>DeepMD</category>
      </categories>
      <tags>
        <tag>DeepMD</tag>
        <tag>DPTI</tag>
      </tags>
  </entry>
  <entry>
    <title>CP2K安装与编译</title>
    <url>/MyWiki/wiki/2022/09/18/softwares/cp2k/CP2K_Installation/</url>
    <content><![CDATA[<p>[toc]</p>
<h3 id="CP2K下载与安装"><a href="#CP2K下载与安装" class="headerlink" title="CP2K下载与安装"></a>CP2K下载与安装</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">sudo apt update</span><br><span class="line">sudo apt upgrade</span><br><span class="line">sudo apt install libopenblas-dev</span><br><span class="line"></span><br><span class="line"><span class="built_in">mkdir</span> cp2k</span><br><span class="line"><span class="built_in">cd</span> cp2k</span><br><span class="line">wget https://github.com/cp2k/cp2k/archive/refs/tags/v2024.3.tar.gz</span><br><span class="line">tar -zxvf v2024.3.tar.gz</span><br><span class="line"><span class="built_in">cd</span> ./cp2k-2024.3/tools/toolchain</span><br><span class="line">./install_cp2k_toolchain.sh --with-sirius=no --with-plumed=install --with-cmake=system --with-openblas=system --with-fftw=system</span><br></pre></td></tr></table></figure>
<p>- </p>
<h3 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h3><ul>
<li><a href="https://www.cp2k.org/">https://www.cp2k.org/</a></li>
<li><a href="http://bbs.keinsci.com/thread-33640-1-1.html">http://bbs.keinsci.com/thread-33640-1-1.html</a></li>
</ul>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>CP2K</category>
      </categories>
      <tags>
        <tag>CP2K</tag>
        <tag>CP2K安装与编译</tag>
      </tags>
  </entry>
  <entry>
    <title>一个DeepMD完整例子：water</title>
    <url>/MyWiki/wiki/2024/10/10/softwares/deepmd/DeepMD_2/</url>
    <content><![CDATA[<p>[toc]</p>
<blockquote>
<p>小白，按教程写的，不一定对，但是，是一个完成的流程</p>
</blockquote>
<h2 id="数据准备"><a href="#数据准备" class="headerlink" title="数据准备"></a>数据准备</h2><h3 id="执行VASP计算获取OUTCAR"><a href="#执行VASP计算获取OUTCAR" class="headerlink" title="执行VASP计算获取OUTCAR"></a>执行VASP计算获取OUTCAR</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> 00.data</span><br><span class="line"><span class="built_in">cd</span> 00.data</span><br><span class="line"><span class="built_in">mkdir</span> VASP</span><br><span class="line"><span class="built_in">cd</span> VASP</span><br></pre></td></tr></table></figure>

<blockquote>
<p>创建VASP模拟输入数据</p>
</blockquote>
<ul>
<li><p>INCAR</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">SYSTEM = Water</span><br><span class="line"></span><br><span class="line">! ab initio</span><br><span class="line">PREC = Normal	    ! Precision level, standard precision</span><br><span class="line">ENMAX = 400      	! cutoff should be set manually</span><br><span class="line">ISMEAR =  0			! Gaussian smearing; metals:1</span><br><span class="line">SIGMA = 0.1			! Smearing value in eV; metals:0.2</span><br><span class="line"></span><br><span class="line">! MD</span><br><span class="line">IBRION =  1			! Activate MD</span><br><span class="line">NFREE = 2			! 2 independent degrees of freedom</span><br><span class="line">NSW    =  1000		! Max electronic SCF steps</span><br><span class="line">EDIFFG = -0.02   	! forces smaller 0.02 A/eV</span><br><span class="line">POTIM  =  2			! Timestep in fs</span><br><span class="line"></span><br><span class="line">MDALGO =  2			! Nosé-Hoover thermostat</span><br><span class="line">SMASS  =  0			! MD Algorithm: -3-microcanonical ensemble; 0-canonical ensemble</span><br><span class="line"></span><br><span class="line">TEBEG  =  40		! Start temperature K</span><br><span class="line">TEEND  =  400		! End temperature K</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
<li><p>KPOINTS</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Gamma-point only</span><br><span class="line"> 0</span><br><span class="line">Monkhorst Pack</span><br><span class="line"> 1 1 1</span><br><span class="line"> 0 0 0</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Gamma-point only</strong>：表示只使用伽玛点（k &#x3D; 0），即在布里渊区的中心。这通常用于小系统或简单计算，因为只考虑伽玛点可以简化计算。</p>
<p><strong>0</strong>：这是指定的 k 点数，”0” 表示只使用伽玛点，不进行额外的 k 点采样。</p>
<p><strong>Monkhorst Pack</strong>：这是定义 k 点网格的方式，Monkhorst-Pack 方法通过在布里渊区中均匀地分布 k 点来生成网格，适合周期性系统。</p>
<p><strong>1 1 1</strong>：这三位数字表示在三个方向上的 k 点数。在此例中，表示在每个方向上只使用一个 k 点（即只有伽玛点）。</p>
<p><strong>0 0 0</strong>：这是对 k 点的偏移量，通常与 Monkhorst-Pack 网格一起使用。这里的 “0 0 0” 表示不进行任何偏移，直接在伽玛点。</p>
</blockquote>
</li>
<li><p>POSCAR</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">H2O_2</span><br><span class="line">0.52918   ! scaling parameter</span><br><span class="line"> 15 0 0</span><br><span class="line"> 0 15 0</span><br><span class="line"> 0 0 15</span><br><span class="line">1 2</span><br><span class="line">select</span><br><span class="line">cart</span><br><span class="line">     0.00     0.00     0.00 F F F</span><br><span class="line">     1.10    -1.43     0.00 T T F</span><br><span class="line">     1.10     1.43     0.00 T T F</span><br></pre></td></tr></table></figure>
</li>
<li><p>POTCAR</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/softwares/VASP/PAW_PBE/O/POTCAR ~/softwares/VASP/PAW_PBE/H/POTCAR &gt;POTCAR</span><br></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">tree</span><br></pre></td></tr></table></figure>

<blockquote>
<p>├── INCAR<br>├── KPOINTS<br>├── POSCAR<br>└── POTCAR</p>
</blockquote>
<figure class="highlight node-repl"><table><tr><td class="code"><pre><span class="line">mpirun -np 16 vasp_std</span><br><span class="line"><span class="meta prompt_">...</span></span><br><span class="line">tree</span><br></pre></td></tr></table></figure>

<blockquote>
<p>.<br>├── CHG<br>├── CHGCAR<br>├── CONTCAR<br>├── DOSCAR<br>├── EIGENVAL<br>├── HILLSPOT<br>├── IBZKPT<br>├── ICONST<br>├── INCAR<br>├── KPOINTS<br>├── OSZICAR<br>├── OUTCAR<br>├── PCDAT<br>├── POSCAR<br>├── POTCAR<br>├── REPORT<br>├── vasprun.xml<br>├── WAVECAR<br>└── XDATCAR</p>
</blockquote>
<figure class="highlight gams"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="title">cp</span></span> OUTCAR ../</span><br><span class="line"><span class="function"><span class="title">cd</span></span> ..</span><br><span class="line">tree -L <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>.<br>├── OUTCAR<br>└── VASP</p>
</blockquote>
<h3 id="数据转换与划分"><a href="#数据转换与划分" class="headerlink" title="数据转换与划分"></a>数据转换与划分</h3><h4 id="普通方法"><a href="#普通方法" class="headerlink" title="普通方法"></a>普通方法</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># split.py</span></span><br><span class="line"><span class="keyword">import</span> dpdata</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">data = dpdata.LabeledSystem(<span class="string">&quot;OUTCAR&quot;</span>)</span><br><span class="line">data.to(<span class="string">&quot;deepmd/npy&quot;</span>, <span class="string">&quot;data&quot;</span>, set_size=<span class="number">3</span>)</span><br><span class="line"><span class="comment"># set_size = 3 这里数字小由于帧数不够，仅用于演示</span></span><br></pre></td></tr></table></figure>

<figure class="highlight dos"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> data</span><br><span class="line"><span class="built_in">tree</span> -L <span class="number">1</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>.<br>├── set.000<br>├── set.001<br>├── set.002<br>├── set.003<br>├── type_map.raw<br>└── type.raw</p>
</blockquote>
<blockquote>
<p>这里划分出四组数据，前三组作为训练集，最后一组作为测试集</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> train_data &amp;&amp; <span class="built_in">mkdir</span> val_data</span><br><span class="line"><span class="built_in">mkdir</span> train_data/data_0 &amp;&amp; <span class="built_in">mkdir</span> train_data/data_1 &amp;&amp; <span class="built_in">mkdir</span> train_data/data_2</span><br><span class="line"><span class="built_in">mkdir</span> val_data/data_3</span><br><span class="line"></span><br><span class="line"><span class="built_in">mv</span> set.000 ./train_data/data_0/</span><br><span class="line"><span class="built_in">mv</span> set.001 ./train_data/data_1/</span><br><span class="line"><span class="built_in">mv</span> set.002 ./train_data/data_2/</span><br><span class="line"><span class="built_in">mv</span> set.003 ./val_data/data_3/</span><br><span class="line"><span class="built_in">cp</span> type_map.raw  type.raw ./train_data/data_0/</span><br><span class="line"><span class="built_in">cp</span> type_map.raw  type.raw ./train_data/data_1/</span><br><span class="line"><span class="built_in">cp</span> type_map.raw  type.raw ./train_data/data_2/</span><br><span class="line"><span class="built_in">mv</span> type_map.raw  type.raw ./val_data/data_3/</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里是需要手动把训练集和测试集分配好</p>
</blockquote>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">tree</span> -L <span class="number">3</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>.<br>├── train_data<br>│   ├── data_0<br>│   │   ├── set.000<br>│   │   ├── type_map.raw<br>│   │   └── type.raw<br>│   ├── data_1<br>│   │   ├── set.001<br>│   │   ├── type_map.raw<br>│   │   └── type.raw<br>│   └── data_2<br>│       ├── set.002<br>│       ├── type_map.raw<br>│       └── type.raw<br>└── val_data<br>    └── data_3<br>        ├── set.003<br>        ├── type_map.raw<br>        └── type.raw</p>
</blockquote>
<h4 id="一步完成"><a href="#一步完成" class="headerlink" title="一步完成"></a>一步完成</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># split.py</span></span><br><span class="line"><span class="keyword">import</span> dpdata</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">data = dpdata.LabeledSystem(<span class="string">&quot;OUTCAR&quot;</span>)</span><br><span class="line"><span class="comment"># data.to(&quot;deepmd/npy&quot;, &quot;data&quot;, set_size=200)</span></span><br><span class="line"></span><br><span class="line">rng = np.random.default_rng()</span><br><span class="line">index_validation = rng.choice(<span class="number">1001</span>, size=<span class="number">200</span>, replace=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># other indexes are training_data</span></span><br><span class="line">index_training = <span class="built_in">list</span>(<span class="built_in">set</span>(<span class="built_in">range</span>(<span class="number">1001</span>)) - <span class="built_in">set</span>(index_validation))</span><br><span class="line">data_training = data.sub_system(index_training)</span><br><span class="line">data_validation = data.sub_system(index_validation)</span><br><span class="line"></span><br><span class="line">data_training.to_deepmd_npy(<span class="string">&quot;./data/training_data&quot;</span>)</span><br><span class="line">data_validation.to_deepmd_npy(<span class="string">&quot;./data/validation_data&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;# the training data contains %d frames&quot;</span> % <span class="built_in">len</span>(data_training))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;# the validation data contains %d frames&quot;</span> % <span class="built_in">len</span>(data_validation))</span><br></pre></td></tr></table></figure>

<blockquote>
<p>后面training_data和validation_data数据集路径需要相应修改为：</p>
<p>“systems”:     [“..&#x2F;00.data&#x2F;data&#x2F;training_data&#x2F;“],</p>
<p>“systems”:	   [“..&#x2F;00.data&#x2F;data&#x2F;validation_data&#x2F;“],</p>
</blockquote>
<h3 id="准备input-json"><a href="#准备input-json" class="headerlink" title="准备input.json"></a>准备input.json</h3><blockquote>
<p>指定训练参数</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ../../</span><br><span class="line"><span class="built_in">mkdir</span> 01.data</span><br><span class="line"><span class="built_in">cd</span> 01.data/</span><br><span class="line"><span class="built_in">touch</span> input.json</span><br></pre></td></tr></table></figure>

<blockquote>
<p>输入下面内容，注意修改type_map，和training_data和validation_data数据集</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;_comment&quot;: &quot; model parameters&quot;,</span><br><span class="line">    &quot;model&quot;: &#123;</span><br><span class="line">	&quot;type_map&quot;:	[&quot;O&quot;,&quot;H&quot;],</span><br><span class="line">	&quot;descriptor&quot; :&#123;</span><br><span class="line">	    &quot;type&quot;:		&quot;se_e2_a&quot;,</span><br><span class="line">	    &quot;sel&quot;:		&quot;auto&quot;,</span><br><span class="line">	    &quot;rcut_smth&quot;:	0.50,</span><br><span class="line">	    &quot;rcut&quot;:		6.00,</span><br><span class="line">	    &quot;neuron&quot;:		[25, 50, 100],</span><br><span class="line">	    &quot;resnet_dt&quot;:	false,</span><br><span class="line">	    &quot;axis_neuron&quot;:	16,</span><br><span class="line">	    &quot;seed&quot;:		1,</span><br><span class="line">	    &quot;_comment&quot;:		&quot; that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;fitting_net&quot; : &#123;</span><br><span class="line">	    &quot;neuron&quot;:		[240, 240, 240],</span><br><span class="line">	    &quot;resnet_dt&quot;:	true,</span><br><span class="line">	    &quot;seed&quot;:		1,</span><br><span class="line">	    &quot;_comment&quot;:		&quot; that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;_comment&quot;:	&quot; that&#x27;s all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;learning_rate&quot; :&#123;</span><br><span class="line">	&quot;type&quot;:		&quot;exp&quot;,</span><br><span class="line">	&quot;decay_steps&quot;:	50,</span><br><span class="line">	&quot;start_lr&quot;:	0.001,	</span><br><span class="line">	&quot;stop_lr&quot;:	3.51e-8,</span><br><span class="line">	&quot;_comment&quot;:	&quot;that&#x27;s all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;loss&quot; :&#123;</span><br><span class="line">	&quot;type&quot;:		&quot;ener&quot;,</span><br><span class="line">	&quot;start_pref_e&quot;:	0.02,</span><br><span class="line">	&quot;limit_pref_e&quot;:	1,</span><br><span class="line">	&quot;start_pref_f&quot;:	1000,</span><br><span class="line">	&quot;limit_pref_f&quot;:	1,</span><br><span class="line">	&quot;start_pref_v&quot;:	0,</span><br><span class="line">	&quot;limit_pref_v&quot;:	0,</span><br><span class="line">	&quot;_comment&quot;:	&quot; that&#x27;s all&quot;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    &quot;training&quot; : &#123;</span><br><span class="line">	&quot;training_data&quot;: &#123;</span><br><span class="line">	    &quot;systems&quot;:     [&quot;../00.data/data/train_data/data_0/&quot;, &quot;../00.data/data/train_data/data_1/&quot;, &quot;../00.data/data/train_data/data_2/&quot;],</span><br><span class="line">	    &quot;batch_size&quot;:  &quot;auto&quot;,</span><br><span class="line">	    &quot;_comment&quot;:	   &quot;that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;validation_data&quot;:&#123;</span><br><span class="line">	    &quot;systems&quot;:	   [&quot;../00.data/data/val_data/data_3/&quot;],</span><br><span class="line">	    &quot;batch_size&quot;:  &quot;auto&quot;,</span><br><span class="line">	    &quot;numb_btch&quot;:   1,</span><br><span class="line">	    &quot;_comment&quot;:	   &quot;that&#x27;s all&quot;</span><br><span class="line">	&#125;,</span><br><span class="line">	&quot;numb_steps&quot;:	10000,</span><br><span class="line">	&quot;seed&quot;:		10,</span><br><span class="line">	&quot;disp_file&quot;:	&quot;lcurve.out&quot;,</span><br><span class="line">	&quot;disp_freq&quot;:	200,</span><br><span class="line">	&quot;save_freq&quot;:	1000,</span><br><span class="line">	&quot;_comment&quot;:	&quot;that&#x27;s all&quot;</span><br><span class="line">    &#125;,    </span><br><span class="line"></span><br><span class="line">    &quot;_comment&quot;:		&quot;that&#x27;s all&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="训练与测试"><a href="#训练与测试" class="headerlink" title="训练与测试"></a>训练与测试</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dp train input.json</span><br></pre></td></tr></table></figure>

<blockquote>
<p>[2024-10-10 12:30:17,515] DEEPMD INFO    batch   10000: val: rmse &#x3D; 8.50e-03, rmse_e &#x3D; 3.00e-03, rmse_f &#x3D; 6.62e-03<br>[2024-10-10 12:30:17,515] DEEPMD INFO    batch   10000: total wall time &#x3D; 12.63 s<br>[2024-10-10 12:30:17,774] DEEPMD INFO    saved checkpoint model.ckpt<br>[2024-10-10 12:30:17,774] DEEPMD INFO    average training time: 0.0600 s&#x2F;batch (exclude first 200 batches)<br>[2024-10-10 12:30:17,774] DEEPMD INFO    finished training<br>[2024-10-10 12:30:17,774] DEEPMD INFO    wall time: 610.835 s<br>WARNING:tensorflow:disable_mixed_precision_graph_rewrite() called when mixed precision is already disabled.</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置Mathtext字体，可以选择合适的字体</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;mathtext.fontset&#x27;</span>] = <span class="string">&#x27;custom&#x27;</span></span><br><span class="line">plt.rcParams[<span class="string">&#x27;mathtext.rm&#x27;</span>] = <span class="string">&#x27;Arial&#x27;</span>  <span class="comment"># 使用Arial字体作为Mathtext字体</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在这之后进行绘图</span></span><br><span class="line">path = <span class="string">&quot;./01.train/&quot;</span></span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&quot;<span class="subst">&#123;path&#125;</span>lcurve.out&quot;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    headers = f.readline().split()[<span class="number">1</span>:]</span><br><span class="line">lcurve = pd.DataFrame(np.loadtxt(<span class="string">f&quot;<span class="subst">&#123;path&#125;</span>lcurve.out&quot;</span>), columns=headers)</span><br><span class="line">legends = [<span class="string">&quot;rmse_e_val&quot;</span>, <span class="string">&quot;rmse_e_trn&quot;</span>, <span class="string">&quot;rmse_f_val&quot;</span>, <span class="string">&quot;rmse_f_trn&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> legend <span class="keyword">in</span> legends:</span><br><span class="line">    plt.loglog(lcurve[<span class="string">&quot;step&quot;</span>], lcurve[legend], label=legend)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&quot;Training steps&quot;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&quot;Loss&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202410101253458.png" alt="Figure_1"></p>
</blockquote>
<ul>
<li>预测：数据集小，仅供演示</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> dpdata</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># training_systems = dpdata.LabeledSystem(</span></span><br><span class="line"><span class="comment"># 	&quot;./00.data/data/train_data/data_0/&quot;,</span></span><br><span class="line"><span class="comment"># 	fmt=&quot;deepmd/npy&quot;)</span></span><br><span class="line"></span><br><span class="line">training_systems = dpdata.LabeledSystem(<span class="string">&quot;./00.data/OUTCAR&quot;</span>)</span><br><span class="line"></span><br><span class="line">predict = training_systems.predict(<span class="string">&quot;./01.train/graph.pb&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># print(training_systems[&quot;energies&quot;],predict[&quot;energies&quot;])</span></span><br><span class="line">data = np.vstack((training_systems[<span class="string">&quot;energies&quot;</span>],predict[<span class="string">&quot;energies&quot;</span>])).T</span><br><span class="line">np.savetxt(<span class="string">&quot;./01.train/train_pre.dat&quot;</span>,data)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> fastdataing <span class="keyword">as</span> fd</span><br><span class="line">data = np.loadtxt(<span class="string">&quot;./01.train/train_pre.dat&quot;</span>)</span><br><span class="line">y1 = data[:,<span class="number">0</span>]</span><br><span class="line">y2 = data[:,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(y1.shape,y2.shape)</span><br><span class="line">ax = fd.add_ax(fd.add_fig(figsize=(<span class="number">8</span>,<span class="number">6</span>)))</span><br><span class="line">plt.subplots_adjust(left=<span class="number">0.2</span>)</span><br><span class="line">ax.scatter(y1,y2)</span><br><span class="line"></span><br><span class="line">x_range = np.linspace(plt.xlim()[<span class="number">0</span>], plt.xlim()[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">ax.plot(x_range, x_range, <span class="string">&quot;r--&quot;</span>, linewidth=<span class="number">1</span>)</span><br><span class="line">ax.set_xlabel(<span class="string">&quot;Energy of DFT&quot;</span>)</span><br><span class="line">ax.set_ylabel(<span class="string">&quot;Energy predicted by deep potential&quot;</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<blockquote>
<p><img src="https://gitee.com/eastsheng/VnoteFigures/raw/master/worknotes/2024/202410101310023.png" alt="Figure_1"></p>
</blockquote>
<h2 id="冻结与压缩"><a href="#冻结与压缩" class="headerlink" title="冻结与压缩"></a>冻结与压缩</h2><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">dp freeze -o graph.pb</span><br><span class="line">dp compress -i graph.pb -o graph-compress.pb</span><br><span class="line"><span class="built_in">ls</span> graph*</span><br></pre></td></tr></table></figure>

<blockquote>
<p>graph-compress.pb  graph.pb</p>
</blockquote>
<h2 id="执行DeepMD模拟"><a href="#执行DeepMD模拟" class="headerlink" title="执行DeepMD模拟"></a>执行DeepMD模拟</h2><h3 id="LAMMPS输入文件准备"><a href="#LAMMPS输入文件准备" class="headerlink" title="LAMMPS输入文件准备"></a>LAMMPS输入文件准备</h3><ul>
<li>deepmd势：<code>graph.pb</code></li>
</ul>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cd</span> ..</span><br><span class="line"><span class="built_in">mkdir</span> 02.lmp &amp;&amp; <span class="built_in">cd</span> 02.lmp</span><br><span class="line"><span class="built_in">cp</span> ../01.data/graph.pb .</span><br></pre></td></tr></table></figure>

<ul>
<li>input文件：<code>in.lammps</code></li>
</ul>
<figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="comment"># liquid water</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">units</span>           metal</span><br><span class="line"><span class="attribute">boundary</span>        p p p</span><br><span class="line"><span class="attribute">atom_style</span>      full</span><br><span class="line"></span><br><span class="line"><span class="attribute">neighbor</span>        <span class="number">1</span>.<span class="number">0</span> bin</span><br><span class="line"><span class="attribute">neigh_modify</span>    every <span class="number">10</span> delay <span class="number">0</span> check no</span><br><span class="line"></span><br><span class="line"><span class="attribute">read_data</span>	system.data</span><br><span class="line"></span><br><span class="line"><span class="attribute">pair_style</span>	deepmd graph.pb</span><br><span class="line"><span class="attribute">pair_coeff</span>	* *</span><br><span class="line"></span><br><span class="line"><span class="attribute">velocity</span>        <span class="literal">all</span> create <span class="number">300</span>.<span class="number">0</span> <span class="number">23456789</span></span><br><span class="line"><span class="attribute">fix</span>             <span class="number">1</span> <span class="literal">all</span> npt temp <span class="number">300</span>.<span class="number">0</span> <span class="number">300</span>.<span class="number">0</span> <span class="number">0</span>.<span class="number">1</span> iso <span class="number">1</span>.<span class="number">0</span> <span class="number">1</span>.<span class="number">0</span> <span class="number">1</span>.<span class="number">0</span></span><br><span class="line"><span class="attribute">timestep</span>        <span class="number">0</span>.<span class="number">001</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">thermo_style</span>    custom step pe ke etotal temp press vol</span><br><span class="line"><span class="attribute">thermo</span>          <span class="number">100</span></span><br><span class="line"><span class="attribute">dump</span> 		<span class="number">1</span> <span class="literal">all</span> custom <span class="number">100</span> traj_relax.lammpstrj id type element x y z </span><br><span class="line"><span class="attribute">dump_modify</span> <span class="number">1</span> element O H</span><br><span class="line"><span class="attribute">run</span>             <span class="number">5000</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>water的lammpsdata：<code>system.data</code></p>
<blockquote>
<p>不需要键角信息</p>
</blockquote>
</li>
</ul>
<figure class="highlight dns"><table><tr><td class="code"><pre><span class="line">LAMMPS Description</span><br><span class="line"></span><br><span class="line">     <span class="number">1536</span>  atoms</span><br><span class="line"></span><br><span class="line">     <span class="number">2</span>  atom types</span><br><span class="line"></span><br><span class="line">  <span class="number">0</span>.<span class="number">0</span> <span class="number">30</span> xlo xhi</span><br><span class="line">  <span class="number">0</span>.<span class="number">0</span> <span class="number">30</span> ylo yhi</span><br><span class="line">  <span class="number">0</span>.<span class="number">0</span> <span class="number">30</span> zlo zhi</span><br><span class="line"></span><br><span class="line">Masses</span><br><span class="line"></span><br><span class="line"><span class="number">1 15.9994</span>  # O</span><br><span class="line"><span class="number">2 1.008</span>  # H</span><br><span class="line"></span><br><span class="line">Atoms  # full</span><br><span class="line"></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">1</span> -<span class="number">1.1794 0</span>.<span class="number">0 0.0 0</span>.<span class="number">0</span></span><br><span class="line"><span class="number">2 1 2 0</span>.<span class="number">5897</span> <span class="number">0.8164904</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0.577359</span></span><br><span class="line"><span class="number">3 1 2 0</span>.<span class="number">5897</span> -<span class="number">0.8164904</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">0.577359</span></span><br><span class="line"><span class="number">4</span> <span class="number">2</span> <span class="number">1</span> -<span class="number">1.1794 0</span>.<span class="number">0 0.0 3</span>.<span class="number">5</span></span><br><span class="line"><span class="number">5 2 2 0</span>.<span class="number">5897</span> <span class="number">0.8164904</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">4</span>.<span class="number">0773589999999995</span></span><br><span class="line"><span class="number">6 2 2 0</span>.<span class="number">5897</span> -<span class="number">0.8164904</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">4</span>.<span class="number">0773589999999995</span></span><br><span class="line"><span class="number">7</span> <span class="number">3</span> <span class="number">1</span> -<span class="number">1.1794 0</span>.<span class="number">0 0.0 7</span>.<span class="number">0</span></span><br><span class="line"><span class="number">8 3 2 0</span>.<span class="number">5897</span> <span class="number">0.8164904</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">7</span>.<span class="number">5773589999999995</span></span><br><span class="line"><span class="number">9 3 2 0</span>.<span class="number">5897</span> -<span class="number">0.8164904</span> <span class="number">0</span>.<span class="number">0</span> <span class="number">7</span>.<span class="number">5773589999999995</span></span><br><span class="line"><span class="number">10</span> <span class="number">4</span> <span class="number">1</span> -<span class="number">1.1794 0</span>.<span class="number">0 0.0 10</span>.<span class="number">5</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>



<h3 id="在具有兼容版本的-LAMMPS-环境中，执行深度势分子动力学："><a href="#在具有兼容版本的-LAMMPS-环境中，执行深度势分子动力学：" class="headerlink" title="在具有兼容版本的 LAMMPS 环境中，执行深度势分子动力学："></a>在具有兼容版本的 LAMMPS 环境中，执行深度势分子动力学：</h3><figure class="highlight apache"><table><tr><td class="code"><pre><span class="line"><span class="attribute">mpirun</span> -np <span class="number">8</span> lmp_mpi -i in.lammps</span><br></pre></td></tr></table></figure>

<blockquote>
<p>LAMMPS (2 Aug 2023)<br>OMP_NUM_THREADS environment is not set. Defaulting to 1 thread. (src&#x2F;comm.cpp:98)<br>  using 1 OpenMP thread(s) per MPI task<br>Loaded 1 plugins from &#x2F;home&#x2F;xxx&#x2F;softwares&#x2F;deepmd-kit&#x2F;lib&#x2F;deepmd_lmp<br>Reading data file …</p>
<blockquote>
<p>为什么感觉跑的很慢呢？</p>
</blockquote>
</blockquote>
<h2 id="所有文件保存在water-deepmd"><a href="#所有文件保存在water-deepmd" class="headerlink" title="所有文件保存在water_deepmd"></a>所有文件保存在<a href="https://github.com/eastsheng/water_deepmd">water_deepmd</a></h2><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>[1] <a href="https://docs.deepmodeling.com/projects/deepmd/en/r2/getting-started/index.html">https://docs.deepmodeling.com/projects/deepmd/en/r2/getting-started/index.html</a></p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>DeepMD</category>
      </categories>
      <tags>
        <tag>DeepMD</tag>
      </tags>
  </entry>
  <entry>
    <title>DP-GEN生成深度学习模型：methane</title>
    <url>/MyWiki/wiki/2024/10/21/softwares/deepmd/DeepMD_3/</url>
    <content><![CDATA[<p>[toc]</p>
<blockquote>
<p>DP-GEN （Deep Generator）是一个用Python编写的软件，精心设计用于生成基于原子间势能和力场的深度学习模型，依赖于DeepMD-kit。</p>
</blockquote>
<h2 id="下载并安装"><a href="#下载并安装" class="headerlink" title="下载并安装"></a>下载并安装</h2><blockquote>
<p>Python &gt;&#x3D; 3.9</p>
</blockquote>
<ul>
<li><p>pip install</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda activate base</span><br><span class="line">pip install dpgen</span><br></pre></td></tr></table></figure>
</li>
<li><p>conda install</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">conda install -c conda-forge dpgen</span><br></pre></td></tr></table></figure>
</li>
<li><p>git clone</p>
<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">git clone https:<span class="regexp">//gi</span>thub.com<span class="regexp">/deepmodeling/</span>dpgen &amp;&amp; pip install ./dpgen</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="快速上手：以甲烷力场构建为例"><a href="#快速上手：以甲烷力场构建为例" class="headerlink" title="快速上手：以甲烷力场构建为例"></a>快速上手：以甲烷力场构建为例</h2><blockquote>
<p>在本地WSL-Ubuntu 20.04运行</p>
</blockquote>
<figure class="highlight ebnf"><table><tr><td class="code"><pre><span class="line"><span class="attribute">dpgen -h</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p> DP-GEN功能多样，包括init_bulk、init_surf、run和test</p>
</blockquote>
<ul>
<li><p>DP-GEN的run工作流是由以下三步组成的循环：</p>
<p><img src="https://pic3.zhimg.com/80/v2-14982c7435a9f716663f7825ed1041c0_720w.webp"></p>
<ul>
<li><p>训练：<strong>DeePMD-kit</strong>同时训练 多条（一般是4条）参数初始化不同的势函数；</p>
</li>
<li><p>采样和筛选：基于训练得到的势函数和指定的初始结构利用<strong>LAMMPS</strong>进行classical MD，扩展构型空间。然后对MD中得到的构型依照特定指标（对某个构型用不同的势函数预测所得的原子力的标准差）进行筛选；</p>
</li>
<li><p>标记：将筛选所得的构型进行DFT-MD单点能计算（VASP&#x2F;CP2K），得到力和能量，加入训练集进行新一轮的训练。</p>
</li>
</ul>
</li>
<li><p>DP-GEN所需输入文件：</p>
<ul>
<li><p>参数设置文件<code>param.json</code>：</p>
<blockquote>
<p>三步计算中所用的参数，具体指神经网络训练的参数，lammps中MD的参数和DFT-MD计算单点能的参数。</p>
</blockquote>
</li>
<li><p>机器配置文件<code>machine.json</code></p>
<blockquote>
<p>制定上述三个步骤分别采用什么软件、CPU&#x2F;GPU、运行核数、服务器等配置。</p>
</blockquote>
</li>
<li><p>初始训练集数据（init）</p>
<blockquote>
<p>放在提交dpgen所在的服务器上，用于训练势函数，可以自己准备也可以参照<a href="https://wiki.cheng-group.net/wiki/software_usage/DeePMD-kit/">DeePMD-kit</a>中方法生成。</p>
</blockquote>
</li>
<li><p>MD采样的初始结构</p>
</li>
</ul>
</li>
</ul>
<h3 id="输入文件例子"><a href="#输入文件例子" class="headerlink" title="输入文件例子"></a>输入文件例子</h3><blockquote>
<p>param.json</p>
</blockquote>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">     <span class="string">&quot;type_map&quot;</span>: [<span class="string">&quot;H&quot;</span>,<span class="string">&quot;C&quot;</span>],</span><br><span class="line">     <span class="string">&quot;mass_map&quot;</span>: [<span class="number">1</span>,<span class="number">12</span>],</span><br><span class="line">     <span class="string">&quot;init_data_prefix&quot;</span>: <span class="string">&quot;../&quot;</span>,</span><br><span class="line">     <span class="string">&quot;init_data_sys&quot;</span>: [<span class="string">&quot;init/CH4.POSCAR.01x01x01/02.md/sys-0004-0001/deepmd&quot;</span>],</span><br><span class="line">     <span class="string">&quot;sys_configs_prefix&quot;</span>: <span class="string">&quot;../&quot;</span>,</span><br><span class="line">     <span class="string">&quot;sys_configs&quot;</span>: [</span><br><span class="line">         [<span class="string">&quot;init/CH4.POSCAR.01x01x01/01.scale_pert/sys-0004-0001/scale-1.000/00000*/POSCAR&quot;</span>],</span><br><span class="line">         [<span class="string">&quot;init/CH4.POSCAR.01x01x01/01.scale_pert/sys-0004-0001/scale-1.000/00001*/POSCAR&quot;</span>]</span><br><span class="line">     ],</span><br><span class="line">     <span class="string">&quot;_comment&quot;</span>: <span class="string">&quot; that&#x27;s all &quot;</span>,</span><br><span class="line">     <span class="string">&quot;numb_models&quot;</span>: <span class="number">4</span>,</span><br><span class="line">     <span class="string">&quot;default_training_param&quot;</span>: &#123;</span><br><span class="line">         <span class="string">&quot;model&quot;</span>: &#123;</span><br><span class="line">             <span class="string">&quot;type_map&quot;</span>: [<span class="string">&quot;H&quot;</span>,<span class="string">&quot;C&quot;</span>],</span><br><span class="line">             <span class="string">&quot;descriptor&quot;</span>: &#123;</span><br><span class="line">                 <span class="string">&quot;type&quot;</span>: <span class="string">&quot;se_a&quot;</span>,</span><br><span class="line">                 <span class="string">&quot;sel&quot;</span>: [<span class="number">16</span>,<span class="number">4</span>],</span><br><span class="line">                 <span class="string">&quot;rcut_smth&quot;</span>: <span class="number">0.5</span>,</span><br><span class="line">                 <span class="string">&quot;rcut&quot;</span>: <span class="number">5.0</span>,</span><br><span class="line">                 <span class="string">&quot;neuron&quot;</span>: [<span class="number">120</span>,<span class="number">120</span>,<span class="number">120</span>],</span><br><span class="line">                 <span class="string">&quot;resnet_dt&quot;</span>: true,</span><br><span class="line">                 <span class="string">&quot;axis_neuron&quot;</span>: <span class="number">12</span>,</span><br><span class="line">                 <span class="string">&quot;seed&quot;</span>: <span class="number">1</span></span><br><span class="line">             &#125;,</span><br><span class="line">             <span class="string">&quot;fitting_net&quot;</span>: &#123;</span><br><span class="line">                 <span class="string">&quot;neuron&quot;</span>: [<span class="number">25</span>,<span class="number">50</span>,<span class="number">100</span>],</span><br><span class="line">                 <span class="string">&quot;resnet_dt&quot;</span>: false,</span><br><span class="line">                 <span class="string">&quot;seed&quot;</span>: <span class="number">1</span></span><br><span class="line">             &#125;</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="string">&quot;learning_rate&quot;</span>: &#123;</span><br><span class="line">             <span class="string">&quot;type&quot;</span>: <span class="string">&quot;exp&quot;</span>,</span><br><span class="line">             <span class="string">&quot;start_lr&quot;</span>: <span class="number">0.001</span>,</span><br><span class="line">             <span class="string">&quot;decay_steps&quot;</span>: <span class="number">5000</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="string">&quot;loss&quot;</span>: &#123;</span><br><span class="line">             <span class="string">&quot;start_pref_e&quot;</span>: <span class="number">0.02</span>,</span><br><span class="line">             <span class="string">&quot;limit_pref_e&quot;</span>: <span class="number">2</span>,</span><br><span class="line">             <span class="string">&quot;start_pref_f&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">             <span class="string">&quot;limit_pref_f&quot;</span>: <span class="number">1</span>,</span><br><span class="line">             <span class="string">&quot;start_pref_v&quot;</span>: <span class="number">0.0</span>,</span><br><span class="line">             <span class="string">&quot;limit_pref_v&quot;</span>: <span class="number">0.0</span></span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="string">&quot;training&quot;</span>: &#123;</span><br><span class="line">             <span class="string">&quot;stop_batch&quot;</span>: <span class="number">2000</span>,</span><br><span class="line">             <span class="string">&quot;disp_file&quot;</span>: <span class="string">&quot;lcurve.out&quot;</span>,</span><br><span class="line">             <span class="string">&quot;disp_freq&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">             <span class="string">&quot;numb_test&quot;</span>: <span class="number">4</span>,</span><br><span class="line">             <span class="string">&quot;save_freq&quot;</span>: <span class="number">1000</span>,</span><br><span class="line">             <span class="string">&quot;save_ckpt&quot;</span>: <span class="string">&quot;model.ckpt&quot;</span>,</span><br><span class="line">             <span class="string">&quot;disp_training&quot;</span>: true,</span><br><span class="line">             <span class="string">&quot;time_training&quot;</span>: true,</span><br><span class="line">             <span class="string">&quot;profiling&quot;</span>: false,</span><br><span class="line">             <span class="string">&quot;profiling_file&quot;</span>: <span class="string">&quot;timeline.json&quot;</span>,</span><br><span class="line">             <span class="string">&quot;_comment&quot;</span>: <span class="string">&quot;that&#x27;s all&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line">     &#125;,</span><br><span class="line">     <span class="string">&quot;model_devi_dt&quot;</span>: <span class="number">0.002</span>,</span><br><span class="line">     <span class="string">&quot;model_devi_skip&quot;</span>: <span class="number">0</span>,</span><br><span class="line">     <span class="string">&quot;model_devi_f_trust_lo&quot;</span>: <span class="number">0.05</span>,</span><br><span class="line">     <span class="string">&quot;model_devi_f_trust_hi&quot;</span>: <span class="number">0.15</span>,</span><br><span class="line">     <span class="string">&quot;model_devi_e_trust_lo&quot;</span>: <span class="number">10000000000.0</span>,</span><br><span class="line">     <span class="string">&quot;model_devi_e_trust_hi&quot;</span>: <span class="number">10000000000.0</span>,</span><br><span class="line">     <span class="string">&quot;model_devi_clean_traj&quot;</span>: true,</span><br><span class="line">     <span class="string">&quot;model_devi_jobs&quot;</span>: [</span><br><span class="line">         &#123;<span class="string">&quot;sys_idx&quot;</span>: [<span class="number">0</span>],<span class="string">&quot;temps&quot;</span>: [<span class="number">100</span>],<span class="string">&quot;press&quot;</span>: [<span class="number">1.0</span>],<span class="string">&quot;trj_freq&quot;</span>: <span class="number">10</span>,<span class="string">&quot;nsteps&quot;</span>: <span class="number">300</span>,<span class="string">&quot;ensemble&quot;</span>: <span class="string">&quot;nvt&quot;</span>,<span class="string">&quot;_idx&quot;</span>: <span class="string">&quot;00&quot;</span>&#125;,</span><br><span class="line">         &#123;<span class="string">&quot;sys_idx&quot;</span>: [<span class="number">1</span>],<span class="string">&quot;temps&quot;</span>: [<span class="number">100</span>],<span class="string">&quot;press&quot;</span>: [<span class="number">1.0</span>],<span class="string">&quot;trj_freq&quot;</span>: <span class="number">10</span>,<span class="string">&quot;nsteps&quot;</span>: <span class="number">3000</span>,<span class="string">&quot;ensemble&quot;</span>: <span class="string">&quot;nvt&quot;</span>,<span class="string">&quot;_idx&quot;</span>: <span class="string">&quot;01&quot;</span>&#125;</span><br><span class="line">     ],</span><br><span class="line">     <span class="string">&quot;fp_style&quot;</span>: <span class="string">&quot;vasp&quot;</span>,</span><br><span class="line">     <span class="string">&quot;shuffle_poscar&quot;</span>: false,</span><br><span class="line">     <span class="string">&quot;fp_task_max&quot;</span>: <span class="number">20</span>,</span><br><span class="line">     <span class="string">&quot;fp_task_min&quot;</span>: <span class="number">5</span>,</span><br><span class="line">     <span class="string">&quot;fp_pp_path&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">     <span class="string">&quot;fp_pp_files&quot;</span>: [<span class="string">&quot;POTCAR_H&quot;</span>,<span class="string">&quot;POTCAR_C&quot;</span>],</span><br><span class="line">     <span class="string">&quot;fp_incar&quot;</span>: <span class="string">&quot;./INCAR_methane&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>machine.json</p>
</blockquote>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="string">&quot;api_version&quot;</span>: <span class="string">&quot;1.0&quot;</span>,</span><br><span class="line">	<span class="string">&quot;train&quot;</span> :[</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">&quot;command&quot;</span>: <span class="string">&quot;dp&quot;</span>,</span><br><span class="line">			<span class="string">&quot;machine&quot;</span>: &#123;</span><br><span class="line">				<span class="string">&quot;batch_type&quot;</span>: <span class="string">&quot;Shell&quot;</span>,</span><br><span class="line">				<span class="string">&quot;context_type&quot;</span>: <span class="string">&quot;local&quot;</span>,</span><br><span class="line">				<span class="string">&quot;local_root&quot;</span> : <span class="string">&quot;./&quot;</span>,</span><br><span class="line">				<span class="string">&quot;remote_root&quot;</span>: <span class="string">&quot;/home/cup/workspace/deepmd/methane/dpgen_example/run/temp&quot;</span></span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="string">&quot;resources&quot;</span>: &#123;</span><br><span class="line">				<span class="string">&quot;number_node&quot;</span>: <span class="number">1</span>,</span><br><span class="line">				<span class="string">&quot;cpu_per_node&quot;</span>: <span class="number">8</span>,</span><br><span class="line">				<span class="string">&quot;gpu_per_node&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="string">&quot;group_size&quot;</span>: <span class="number">4</span>,</span><br><span class="line">				<span class="string">&quot;source_list&quot;</span>: [<span class="string">&quot;/home/cup/softwares/deepmd-kit/bin/activate&quot;</span>]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	],</span><br><span class="line">	<span class="string">&quot;model_devi&quot;</span>:[</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">&quot;command&quot;</span>: <span class="string">&quot;mpirun -np 8 lmp_mpi -i input.lammps&quot;</span>,</span><br><span class="line">			<span class="string">&quot;machine&quot;</span>: &#123;</span><br><span class="line">				<span class="string">&quot;batch_type&quot;</span>: <span class="string">&quot;Shell&quot;</span>,</span><br><span class="line">				<span class="string">&quot;context_type&quot;</span>: <span class="string">&quot;local&quot;</span>,</span><br><span class="line">				<span class="string">&quot;local_root&quot;</span> : <span class="string">&quot;./&quot;</span>,</span><br><span class="line">				<span class="string">&quot;remote_root&quot;</span>: <span class="string">&quot;/home/cup/workspace/deepmd/methane/dpgen_example/run/temp&quot;</span></span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="string">&quot;resources&quot;</span>: &#123;</span><br><span class="line">				<span class="string">&quot;number_node&quot;</span>: <span class="number">1</span>,</span><br><span class="line">				<span class="string">&quot;cpu_per_node&quot;</span>: <span class="number">8</span>,</span><br><span class="line">				<span class="string">&quot;gpu_per_node&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="string">&quot;group_size&quot;</span>: <span class="number">5</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	],</span><br><span class="line">	<span class="string">&quot;fp&quot;</span>:[</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="string">&quot;command&quot;</span>: <span class="string">&quot;ulimit -s unlimited &amp;&amp; mpirun -np 8 vasp_std&quot;</span>,</span><br><span class="line">			<span class="string">&quot;machine&quot;</span>: &#123;</span><br><span class="line">				<span class="string">&quot;batch_type&quot;</span>: <span class="string">&quot;Shell&quot;</span>,</span><br><span class="line">				<span class="string">&quot;context_type&quot;</span>: <span class="string">&quot;local&quot;</span>,</span><br><span class="line">				<span class="string">&quot;local_root&quot;</span> : <span class="string">&quot;./&quot;</span>,</span><br><span class="line">				<span class="string">&quot;remote_root&quot;</span>: <span class="string">&quot;/home/cup/workspace/deepmd/methane/dpgen_example/run/temp&quot;</span></span><br><span class="line">			&#125;,</span><br><span class="line">			<span class="string">&quot;resources&quot;</span>: &#123;</span><br><span class="line">				<span class="string">&quot;number_node&quot;</span>: <span class="number">1</span>,</span><br><span class="line">				<span class="string">&quot;cpu_per_node&quot;</span>: <span class="number">8</span>,</span><br><span class="line">				<span class="string">&quot;gpu_per_node&quot;</span>: <span class="number">0</span>,</span><br><span class="line">				<span class="string">&quot;group_size&quot;</span>: <span class="number">4</span>,</span><br><span class="line">				<span class="string">&quot;source_list&quot;</span>: [<span class="string">&quot;/home/cup/softwares/vasp/env.sh&quot;</span>]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>初始训练集数据</p>
</blockquote>
<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">dpgen run param.json machine.json</span><br></pre></td></tr></table></figure>

<blockquote>
</blockquote>
<h3 id="结果分析"><a href="#结果分析" class="headerlink" title="结果分析"></a>结果分析</h3><ul>
<li><p><code>tree ./ -L 2</code></p>
<blockquote>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">├── dpdispatcher<span class="selector-class">.log</span></span><br><span class="line">├── dpgen<span class="selector-class">.log</span></span><br><span class="line">├── INCAR_methane</span><br><span class="line">├── iter.<span class="number">000000</span></span><br><span class="line">│   ├── <span class="number">00</span><span class="selector-class">.train</span></span><br><span class="line">│   ├── <span class="number">01</span><span class="selector-class">.model_devi</span></span><br><span class="line">│   └── <span class="number">02</span><span class="selector-class">.fp</span></span><br><span class="line">├── iter.<span class="number">000001</span></span><br><span class="line">│   ├── <span class="number">00</span><span class="selector-class">.train</span></span><br><span class="line">│   ├── <span class="number">01</span><span class="selector-class">.model_devi</span></span><br><span class="line">│   └── <span class="number">02</span><span class="selector-class">.fp</span></span><br><span class="line">├── iter.<span class="number">000002</span></span><br><span class="line">│   └── <span class="number">00</span><span class="selector-class">.train</span></span><br><span class="line">├── machine<span class="selector-class">.json</span></span><br><span class="line">├── machine_new<span class="selector-class">.json</span></span><br><span class="line">├── param<span class="selector-class">.json</span></span><br><span class="line">├── POTCAR_C</span><br><span class="line">├── POTCAR_H</span><br><span class="line">├── record<span class="selector-class">.dpgen</span></span><br><span class="line">└── temp</span><br><span class="line"></span><br><span class="line"><span class="number">11</span> directories, <span class="number">9</span> files</span><br></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p><code>head record.dpgen</code>：记录运行进程的当前阶段。</p>
<blockquote>
<p>0 0<br>0 1<br>0 2<br>0 3<br>0 4<br>0 5<br>0 6<br>0 7<br>0 8<br>1 0</p>
</blockquote>
</li>
<li><p><code>tail dpgen.log</code>：包括时间和迭代信息。</p>
<blockquote>
<p>2024-10-21 23:37:08,570 - INFO : ————————-iter.000001 task 07————————–<br>2024-10-22 00:09:21,283 - INFO : ————————-iter.000001 task 08————————–<br>2024-10-22 00:09:21,312 - INFO : failed frame:      0 in     20    0.00 %<br>2024-10-22 00:09:21,313 - INFO : failed tasks:      0 in     20    0.00 %<br>2024-10-22 00:09:21,357 - INFO : &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;iter.000002&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;<br>2024-10-22 00:09:21,357 - INFO : ————————-iter.000002 task 00————————–<br>2024-10-22 00:09:21,364 - INFO : ————————-iter.000002 task 01————————–<br>2024-10-22 00:17:52,940 - INFO : ————————-iter.000002 task 02————————–<br>2024-10-22 00:17:52,941 - INFO : ————————-iter.000002 task 03————————–<br>2024-10-22 00:17:52,941 - INFO : finished</p>
</blockquote>
</li>
</ul>
<h3 id="执行LAMMPS"><a href="#执行LAMMPS" class="headerlink" title="执行LAMMPS"></a>执行LAMMPS</h3><ul>
<li>生成的四个模型文件到底用哪个？全部都用？</li>
<li>与DeepMD一致</li>
</ul>
<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>[1] <a href="https://tutorials.deepmodeling.com/en/latest/Tutorials/DP-GEN/learnDoc/DP-GEN_handson.html">https://tutorials.deepmodeling.com/en/latest/Tutorials/DP-GEN/learnDoc/DP-GEN_handson.html</a></p>
<p>[2] <a href="https://zhuanlan.zhihu.com/p/348076838">https://zhuanlan.zhihu.com/p/348076838</a></p>
<p>[3] <a href="https://zhuanlan.zhihu.com/p/349760551">https://zhuanlan.zhihu.com/p/349760551</a></p>
<p>[4] <a href="https://wiki.cheng-group.net/wiki/software_usage/DP-GEN/">https://wiki.cheng-group.net/wiki/software_usage/DP-GEN/</a></p>
<p>[5] <a href="https://www.bilibili.com/video/BV1ZZ4y1k7d2/?spm_id_from=333.999.0.0&vd_source=2185efff299da2ddae224af51ba53bcd">https://www.bilibili.com/video/BV1ZZ4y1k7d2/?spm_id_from=333.999.0.0&amp;vd_source=2185efff299da2ddae224af51ba53bcd</a></p>
<p>[6] <a href="https://www.bilibili.com/video/BV1h94y1o72C/?spm_id_from=333.999.0.0&vd_source=2185efff299da2ddae224af51ba53bcd">https://www.bilibili.com/video/BV1h94y1o72C/?spm_id_from=333.999.0.0&amp;vd_source=2185efff299da2ddae224af51ba53bcd</a></p>
<p>[7] <a href="https://www.bilibili.com/video/BV1JZ4y1E7hp/?spm_id_from=333.999.0.0&vd_source=2185efff299da2ddae224af51ba53bcd">https://www.bilibili.com/video/BV1JZ4y1E7hp/?spm_id_from=333.999.0.0&amp;vd_source=2185efff299da2ddae224af51ba53bcd</a></p>
<p>[8] <a href="https://www.bilibili.com/video/BV1Tv4y1M72Y?spm_id_from=333.788.videopod.episodes&vd_source=2185efff299da2ddae224af51ba53bcd&p=5">https://www.bilibili.com/video/BV1Tv4y1M72Y?spm_id_from=333.788.videopod.episodes&amp;vd_source=2185efff299da2ddae224af51ba53bcd&amp;p=5</a></p>
<p>[9] <a href="https://www.bilibili.com/video/BV1Ba4y1j7He?spm_id_from=333.788.recommend_more_video.10&vd_source=2185efff299da2ddae224af51ba53bcd">https://www.bilibili.com/video/BV1Ba4y1j7He?spm_id_from=333.788.recommend_more_video.10&amp;vd_source=2185efff299da2ddae224af51ba53bcd</a></p>
<p>[10] <a href="https://licl-dp.readthedocs.io/en/latest/index.html">基于深度势模型的LiCl熔体分子动力学研究</a></p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>DeepMD</category>
      </categories>
      <tags>
        <tag>DeepMD</tag>
      </tags>
  </entry>
  <entry>
    <title>ch2lmp tool</title>
    <url>/MyWiki/wiki/2024/12/15/softwares/lammps/ch2lmp/</url>
    <content><![CDATA[<p>[toc]</p>
<blockquote>
<p>由chatGPT生成</p>
</blockquote>
<h3 id="教程：使用-CHARMM-工具生成-LAMMPS-输入文件"><a href="#教程：使用-CHARMM-工具生成-LAMMPS-输入文件" class="headerlink" title="教程：使用 CHARMM 工具生成 LAMMPS 输入文件"></a>教程：使用 CHARMM 工具生成 LAMMPS 输入文件</h3><h4 id="工具背景"><a href="#工具背景" class="headerlink" title="工具背景"></a>工具背景</h4><p><code>charmm2lammps.pl</code> 和 <code>lammps2pdb.pl</code> 是由 Pieter J. in ‘t Veld 和 Paul Crozier 创建的工具，用于将 CHARMM 力场参数转化为适用于 LAMMPS 的输入文件，或者将 LAMMPS 的输出文件转化为 PDB 文件。</p>
<h4 id="所需文件"><a href="#所需文件" class="headerlink" title="所需文件"></a>所需文件</h4><ol>
<li><strong>CHARMM 参数文件</strong> (<code>par_&lt;forcefield&gt;.prm</code>)</li>
<li><strong>CHARMM 拓扑文件</strong> (<code>top_&lt;forcefield&gt;.rtf</code>)</li>
<li><strong>CHARMM 坐标文件</strong>或 <strong>PDB 文件</strong> (<code>&lt;project&gt;.crd</code> 或 <code>&lt;project&gt;.pdb</code>)</li>
<li><strong>CHARMM PSF 文件</strong> (<code>&lt;project&gt;.psf</code>)</li>
</ol>
<h4 id="工具说明"><a href="#工具说明" class="headerlink" title="工具说明"></a>工具说明</h4><ul>
<li><strong><code>charmm2lammps.pl</code></strong>: 将 CHARMM 文件转换为 LAMMPS 数据文件。</li>
<li><strong><code>lammps2pdb.pl</code></strong>: 将 LAMMPS 输出文件转化为 PDB 格式。</li>
</ul>
<h4 id="文件结构"><a href="#文件结构" class="headerlink" title="文件结构"></a>文件结构</h4><p>该工具目录下包含以下内容：</p>
<ol>
<li>Perl 脚本 <code>charmm2lammps.pl</code></li>
<li>Perl 脚本 <code>lammps2pdb.pl</code></li>
<li>两个示例文件夹，展示工具的使用方法。</li>
<li>一个 “other” 文件夹，包含其他有用的工具。</li>
</ol>
<hr>
<h3 id="使用-charmm2lammps-pl"><a href="#使用-charmm2lammps-pl" class="headerlink" title="使用 charmm2lammps.pl"></a>使用 <code>charmm2lammps.pl</code></h3><h4 id="基本命令"><a href="#基本命令" class="headerlink" title="基本命令"></a>基本命令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl charmm2lammps.pl &lt;forcefield&gt; &lt;project&gt; [-option=value ...]</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;forcefield&gt;</code>: CHARMM 力场名称（如 <code>all22_prot</code>）。</li>
<li><code>&lt;project&gt;</code>: PSF 和 CRD 文件的通用前缀。</li>
<li>可选参数：<ul>
<li><code>-help</code>：显示可用选项。</li>
<li><code>-nohints</code>：不添加 CHARMM 类型的注释到 LAMMPS 数据文件。</li>
<li><code>-water</code>：在晶格中加入 TIP3P 水分子（默认密度为 1 g&#x2F;cm³）。</li>
<li><code>-ions</code>：添加 Na+&#x2F;Cl- 离子以中和分子电荷（默认无）。</li>
<li><code>-border</code>：添加模拟盒边界的宽度（单位 Å，默认 0）。</li>
<li><code>-cmap</code>：添加 CMAP 部分用于处理蛋白质的二面角修正。</li>
</ul>
</li>
</ul>
<h4 id="示例命令"><a href="#示例命令" class="headerlink" title="示例命令"></a>示例命令</h4><p>假设需要将 CHARMM 文件转化为 LAMMPS 文件：</p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl charmm2lammps.pl all27_na 1ac7 -border=2.0 -water -ions</span><br></pre></td></tr></table></figure>
<ul>
<li>这里的 <code>all27_na</code> 是 CHARMM 力场文件，<code>1ac7</code> 是项目名称。</li>
</ul>
<hr>
<h3 id="使用-lammps2pdb-pl"><a href="#使用-lammps2pdb-pl" class="headerlink" title="使用 lammps2pdb.pl"></a>使用 <code>lammps2pdb.pl</code></h3><h4 id="基本命令-1"><a href="#基本命令-1" class="headerlink" title="基本命令"></a>基本命令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl lammps2pdb.pl &lt;project&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><code>&lt;project&gt;</code>: LAMMPS 输出文件前缀。</li>
</ul>
<h4 id="示例命令-1"><a href="#示例命令-1" class="headerlink" title="示例命令"></a>示例命令</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl lammps2pdb.pl 1ac7</span><br></pre></td></tr></table></figure>
<p>此命令将 <code>1ac7</code> 的 LAMMPS 输出文件转化为 PDB 文件。</p>
<hr>
<h3 id="示例流程：从-CHARMM-文件到-LAMMPS-输入"><a href="#示例流程：从-CHARMM-文件到-LAMMPS-输入" class="headerlink" title="示例流程：从 CHARMM 文件到 LAMMPS 输入"></a>示例流程：从 CHARMM 文件到 LAMMPS 输入</h3><ol>
<li><p><strong>获取 PDB 文件</strong></p>
<ul>
<li>访问 <a href="http://www.rcsb.org/pdb/">RCSB PDB 数据库</a> 下载目标分子的 PDB 文件。</li>
<li>示例：下载 <code>1ac7.pdb</code>。</li>
</ul>
</li>
<li><p><strong>清理 PDB 文件</strong></p>
<ul>
<li>如果 PDB 文件包含多个模型，保留所需模型，删除其他部分。</li>
<li>保存为 <code>1ac7_pared.pdb</code>。</li>
</ul>
</li>
<li><p><strong>准备 CHARMM 力场文件</strong></p>
<ul>
<li>下载 CHARMM 力场文件，例如 <a href="http://mackerell.umaryland.edu/charmm_ff.shtml">CHARMM 官方网站</a>。</li>
<li>示例：使用 <code>all27_na</code> 力场。</li>
</ul>
</li>
<li><p><strong>生成 PSF 文件</strong></p>
<ul>
<li>使用 VMD 的 <code>psfgen</code> 工具生成 PSF 文件。</li>
<li>创建 <code>1ac7.pgn</code> 文件，内容如下：<figure class="highlight awk"><table><tr><td class="code"><pre><span class="line">package require psfgen</span><br><span class="line">topology top_all27_na.rtf</span><br><span class="line">pdbalias residue A ADE</span><br><span class="line">pdbalias residue T THY</span><br><span class="line">pdbalias residue G GUA</span><br><span class="line">pdbalias residue C CYT</span><br><span class="line">segment A &#123;pdb <span class="number">1</span>ac7_pared.pdb&#125;</span><br><span class="line">coordpdb <span class="number">1</span>ac7_pared.pdb A</span><br><span class="line">guesscoord</span><br><span class="line">writepdb <span class="number">1</span>ac7.pdb</span><br><span class="line">writepsf charmm <span class="number">1</span>ac7.psf</span><br><span class="line"><span class="keyword">exit</span></span><br></pre></td></tr></table></figure></li>
<li>运行命令：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">vmd -dispdev none -e 1ac7.pgn</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>运行 <code>charmm2lammps.pl</code> 转换文件</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl charmm2lammps.pl all27_na 1ac7 -border=2.0 -water -ions</span><br></pre></td></tr></table></figure>
<ul>
<li>该命令会生成 LAMMPS 所需的 <code>.data</code> 文件和输入脚本。</li>
</ul>
</li>
<li><p><strong>运行 LAMMPS 模拟</strong></p>
<ul>
<li>使用生成的 LAMMPS 数据文件和输入脚本：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">lmp_mpi -<span class="keyword">in</span> 1ac7.<span class="keyword">in</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong>将 LAMMPS 输出转换为 PDB 文件</strong></p>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl lammps2pdb.pl 1ac7</span><br></pre></td></tr></table></figure>
<ul>
<li>输出 <code>.pdb</code> 文件，可用于可视化。</li>
</ul>
</li>
</ol>
<hr>
<h3 id="进阶说明"><a href="#进阶说明" class="headerlink" title="进阶说明"></a>进阶说明</h3><h4 id="处理蛋白质时的-CMAP-修正"><a href="#处理蛋白质时的-CMAP-修正" class="headerlink" title="处理蛋白质时的 CMAP 修正"></a>处理蛋白质时的 CMAP 修正</h4><ul>
<li>蛋白质模拟中，需添加 CMAP 修正以处理二面角。</li>
<li>示例命令：<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl charmm2lammps.pl all36_prot 1gb1 -border=2.0 -cmap=36 -water -ions</span><br></pre></td></tr></table></figure></li>
<li>确保下载并使用与力场版本匹配的 CMAP 文件（如 <code>charmm36.cmap</code>）。</li>
</ul>
<h4 id="控制离子浓度"><a href="#控制离子浓度" class="headerlink" title="控制离子浓度"></a>控制离子浓度</h4><ul>
<li>使用 <code>-ions</code> 参数设置离子浓度。<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">perl charmm2lammps.pl all27_na 1ac7 -ions=0.5</span><br></pre></td></tr></table></figure>
<ul>
<li><code>0.5</code> 表示 0.5 mol&#x2F;L 的 Na+ 和 Cl-。</li>
</ul>
</li>
</ul>
<hr>
<h3 id="“Other”-文件夹内容"><a href="#“Other”-文件夹内容" class="headerlink" title="“Other” 文件夹内容"></a>“Other” 文件夹内容</h3><ol>
<li><strong><code>mkpdb.f</code></strong>: 使用 Fortran 将 LAMMPS dump 文件转换为 PDB 格式。</li>
<li><strong><code>mkdcd.f</code></strong>: 将 LAMMPS dump 文件转换为 CHARMM 格式的 DCD 轨迹文件。</li>
<li><strong><code>crd2pdb.pl</code></strong>: 将 CRD 文件转换为 PDB 文件。</li>
<li><strong><code>pdb_to_crd.f</code></strong>: 将 PDB 文件转换为 CRD 文件。</li>
</ol>
<hr>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>使用 <code>charmm2lammps.pl</code> 和 <code>lammps2pdb.pl</code> 工具可以方便地在 CHARMM 和 LAMMPS 之间进行文件格式转换。这些工具支持多种选项，可满足不同的模拟需求。通过示例流程可以快速掌握从 PDB 文件到 LAMMPS 输入文件的构建方法。</p>
]]></content>
      <categories>
        <category>软件学习</category>
        <category>LAMMPS</category>
      </categories>
      <tags>
        <tag>LAMMPS</tag>
        <tag>ch2lmp</tag>
      </tags>
  </entry>
</search>
